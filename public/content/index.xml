<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Readings, lectures, and videos | Data Analytics</title>
    <link>/content/</link>
      <atom:link href="/content/index.xml" rel="self" type="application/rss+xml" />
    <description>Readings, lectures, and videos</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><lastBuildDate>Tue, 01 Sep 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/social-image.png</url>
      <title>Readings, lectures, and videos</title>
      <link>/content/</link>
    </image>
    
    <item>
      <title>Applied Scraping</title>
      <link>/content/13-content/</link>
      <pubDate>Tue, 01 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/content/13-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#text-mining&#34;&gt;Text mining&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-trump-tweets&#34;&gt;Case study: Trump tweets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#text-as-data&#34;&gt;Text as data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sentiment-analysis&#34;&gt;Sentiment analysis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;text-mining&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Text mining&lt;/h1&gt;
&lt;p&gt;With the exception of labels used to represent categorical data, we have focused on numerical data. But in many applications, data starts as text. Well-known examples are spam filtering, cyber-crime prevention, counter-terrorism and sentiment analysis. In all these cases, the raw data is composed of free form text. Our task is to extract insights from these data. In this section, we learn how to generate useful numerical summaries from text data to which we can apply some of the powerful data visualization and analysis techniques we have learned.&lt;/p&gt;
&lt;div id=&#34;case-study-trump-tweets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: Trump tweets&lt;/h2&gt;
&lt;p&gt;During the 2016 US presidential election, then candidate Donald J. Trump used his twitter account as a way to communicate with potential voters. On August 6, 2016, Todd Vaziri tweeted&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; about Trump that “Every non-hyperbolic tweet is from iPhone (his staff). Every hyperbolic tweet is from Android (from him).”&lt;/p&gt;
&lt;p&gt;Data scientist David Robinson conducted an analysis&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; to determine if data supported this assertion. Here, we go through David’s analysis to learn some of the basics of text mining. To learn more about text mining in R, we recommend the Text Mining with R book&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; by Julia Silge and David Robinson.&lt;/p&gt;
&lt;p&gt;We will use the following libraries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(lubridate)
library(scales)
library(dslabs)
library(rtweet)
library(jsonlite)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In general, we can extract data directly from Twitter using the &lt;strong&gt;rtweet&lt;/strong&gt; package. However, in this case, a group has already compiled data for us and made it available at &lt;a href=&#34;http://www.trumptwitterarchive.com&#34;&gt;http://www.trumptwitterarchive.com&lt;/a&gt;. We can get the data from their JSON API using a script like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;url &amp;lt;- &amp;#39;https://www.thetrumparchive.com/latest-tweets&amp;#39;
trump_tweets &amp;lt;- map(2020:2020, ~sprintf(url, .x)) %&amp;gt;%
  map_df(jsonlite::fromJSON, simplifyDataFrame = TRUE) %&amp;gt;%
  filter(!isRetweet &amp;amp; !str_detect(text, &amp;#39;^&amp;quot;&amp;#39;)) %&amp;gt;%
  mutate(created_at = as.Date(date))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see the data frame with information about the tweets by typing&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(trump_tweets)
head(trump_tweets)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##               source     id_str
## 1 Twitter Web Client 6971079756
## 2 Twitter Web Client 6312794445
## 3 Twitter Web Client 6090839867
## 4 Twitter Web Client 5775731054
## 5 Twitter Web Client 5364614040
## 6 Twitter Web Client 5203117820
##                                                                                                                                         text
## 1       From Donald Trump: Wishing everyone a wonderful holiday &amp;amp; a happy, healthy, prosperous New Year. Let’s think like champions in 2010!
## 2 Trump International Tower in Chicago ranked 6th tallest building in world by Council on Tall Buildings &amp;amp; Urban Habitat http://bit.ly/sqvQq
## 3                                                                             Wishing you and yours a very Happy and Bountiful Thanksgiving!
## 4                       Donald Trump Partners with TV1 on New Reality Series Entitled, Omarosa&amp;#39;s Ultimate Merger: http://tinyurl.com/yk5m3lc
## 5                         --Work has begun, ahead of schedule, to build the greatest golf course in history: Trump International – Scotland.
## 6              --From Donald Trump: &amp;quot;Ivanka and Jared’s wedding was spectacular, and they make a beautiful couple. I’m a very proud father.&amp;quot;
##            created_at retweet_count in_reply_to_user_id_str favorite_count
## 1 2009-12-23 12:38:18            28                    &amp;lt;NA&amp;gt;             12
## 2 2009-12-03 14:39:09            33                    &amp;lt;NA&amp;gt;              6
## 3 2009-11-26 14:55:38            13                    &amp;lt;NA&amp;gt;             11
## 4 2009-11-16 16:06:10             5                    &amp;lt;NA&amp;gt;              3
## 5 2009-11-02 09:57:56             7                    &amp;lt;NA&amp;gt;              6
## 6 2009-10-27 10:31:48             4                    &amp;lt;NA&amp;gt;              5
##   is_retweet
## 1      FALSE
## 2      FALSE
## 3      FALSE
## 4      FALSE
## 5      FALSE
## 6      FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with the following variables included:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;names(trump_tweets)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;source&amp;quot;                  &amp;quot;id_str&amp;quot;                 
## [3] &amp;quot;text&amp;quot;                    &amp;quot;created_at&amp;quot;             
## [5] &amp;quot;retweet_count&amp;quot;           &amp;quot;in_reply_to_user_id_str&amp;quot;
## [7] &amp;quot;favorite_count&amp;quot;          &amp;quot;is_retweet&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The help file &lt;code&gt;?trump_tweets&lt;/code&gt; provides details on what each variable represents. The tweets are represented by the &lt;code&gt;text&lt;/code&gt; variable:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;trump_tweets$text[16413] %&amp;gt;% str_wrap(width = options()$width) %&amp;gt;% cat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Great to be back in Iowa! #TBT with @JerryJrFalwell joining me in Davenport-
## this past winter. #MAGA https://t.co/A5IF0QHnic&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the source variable tells us which device was used to compose and upload each tweet:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;trump_tweets %&amp;gt;% count(source) %&amp;gt;% arrange(desc(n)) %&amp;gt;% head(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                source     n
## 1  Twitter Web Client 10718
## 2 Twitter for Android  4652
## 3  Twitter for iPhone  3962
## 4           TweetDeck   468
## 5     TwitLonger Beta   288&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are interested in what happened during the campaign, so for this analysis we will focus on what was tweeted between the day Trump announced his campaign and election day. We define the following table containing just the tweets from that time period. Note that we use &lt;code&gt;extract&lt;/code&gt; to remove the &lt;code&gt;Twitter for&lt;/code&gt; part of the source and filter out retweets.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;campaign_tweets &amp;lt;- trump_tweets %&amp;gt;%
  extract(source, &amp;quot;source&amp;quot;, &amp;quot;Twitter for (.*)&amp;quot;) %&amp;gt;%
  filter(source %in% c(&amp;quot;Android&amp;quot;, &amp;quot;iPhone&amp;quot;) &amp;amp;
           created_at &amp;gt;= ymd(&amp;quot;2015-06-17&amp;quot;) &amp;amp;
           created_at &amp;lt; ymd(&amp;quot;2016-11-08&amp;quot;)) %&amp;gt;%
  filter(!is_retweet) %&amp;gt;%
  arrange(created_at)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now use data visualization to explore the possibility that two different groups were tweeting from these devices. For each tweet, we will extract the hour, East Coast time (EST), it was tweeted and then compute the proportion of tweets tweeted at each hour for each device:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ds_theme_set()
campaign_tweets %&amp;gt;%
  mutate(hour = hour(with_tz(created_at, &amp;quot;EST&amp;quot;))) %&amp;gt;%
  count(source, hour) %&amp;gt;%
  group_by(source) %&amp;gt;%
  mutate(percent = n / sum(n)) %&amp;gt;%
  ungroup %&amp;gt;%
  ggplot(aes(hour, percent, color = source)) +
  geom_line() +
  geom_point() +
  scale_y_continuous(labels = percent_format()) +
  labs(x = &amp;quot;Hour of day (EST)&amp;quot;, y = &amp;quot;% of tweets&amp;quot;, color = &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/13-content_files/figure-html/tweets-by-time-by-device-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We notice a big peak for the Android in the early hours of the morning, between 6 and 8 AM. There seems to be a clear difference in these patterns. We will therefore assume that two different entities are using these two devices.&lt;/p&gt;
&lt;p&gt;We will now study how the tweets differ when we compare Android to iPhone. To do this, we introduce the &lt;strong&gt;tidytext&lt;/strong&gt; package.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;text-as-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Text as data&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;tidytext&lt;/strong&gt; package helps us convert free form text into a tidy table. Having the data in this format greatly facilitates data visualization and the use of statistical techniques.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidytext)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The main function needed to achieve this is &lt;code&gt;unnest_tokens&lt;/code&gt;. A &lt;em&gt;token&lt;/em&gt; refers to a unit that we are considering to be a data point. The most common &lt;em&gt;token&lt;/em&gt; will be words, but they can also be single characters, ngrams, sentences, lines, or a pattern defined by a regex. The functions will take a vector of strings and extract the tokens so that each one gets a row in the new table. Here is a simple example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;poem &amp;lt;- c(&amp;quot;Roses are red,&amp;quot;, &amp;quot;Violets are blue,&amp;quot;,
          &amp;quot;Sugar is sweet,&amp;quot;, &amp;quot;And so are you.&amp;quot;)
example &amp;lt;- tibble(line = c(1, 2, 3, 4),
                      text = poem)
example&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 2
##    line text             
##   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;            
## 1     1 Roses are red,   
## 2     2 Violets are blue,
## 3     3 Sugar is sweet,  
## 4     4 And so are you.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;example %&amp;gt;% unnest_tokens(word, text)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 13 x 2
##     line word   
##    &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  
##  1     1 roses  
##  2     1 are    
##  3     1 red    
##  4     2 violets
##  5     2 are    
##  6     2 blue   
##  7     3 sugar  
##  8     3 is     
##  9     3 sweet  
## 10     4 and    
## 11     4 so     
## 12     4 are    
## 13     4 you&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now let’s look at an example from the tweets. We will look at tweet number 3008 because it will later permit us to illustrate a couple of points:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;i &amp;lt;- 3008
campaign_tweets$text[i] %&amp;gt;% str_wrap(width = 65) %&amp;gt;% cat()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Great to be back in Iowa! #TBT with @JerryJrFalwell joining me in
## Davenport- this past winter. #MAGA https://t.co/A5IF0QHnic&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;campaign_tweets[i,] %&amp;gt;%
  unnest_tokens(word, text) %&amp;gt;%
  pull(word)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;great&amp;quot;          &amp;quot;to&amp;quot;             &amp;quot;be&amp;quot;             &amp;quot;back&amp;quot;          
##  [5] &amp;quot;in&amp;quot;             &amp;quot;iowa&amp;quot;           &amp;quot;tbt&amp;quot;            &amp;quot;with&amp;quot;          
##  [9] &amp;quot;jerryjrfalwell&amp;quot; &amp;quot;joining&amp;quot;        &amp;quot;me&amp;quot;             &amp;quot;in&amp;quot;            
## [13] &amp;quot;davenport&amp;quot;      &amp;quot;this&amp;quot;           &amp;quot;past&amp;quot;           &amp;quot;winter&amp;quot;        
## [17] &amp;quot;maga&amp;quot;           &amp;quot;https&amp;quot;          &amp;quot;t.co&amp;quot;           &amp;quot;a5if0qhnic&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the function tries to convert tokens into words. To do this, however, it strips characters that are important in the context of twitter. Namely, the function removes all the &lt;code&gt;#&lt;/code&gt; and &lt;code&gt;@&lt;/code&gt;. A &lt;em&gt;token&lt;/em&gt; in the context of Twitter is not the same as in the context of spoken or written English. For this reason, instead of using the default, words, we use the &lt;code&gt;tweets&lt;/code&gt; token includes patterns that start with @ and #:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;campaign_tweets[i,] %&amp;gt;%
  unnest_tokens(word, text, token = &amp;quot;tweets&amp;quot;) %&amp;gt;%
  pull(word)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;great&amp;quot;                   &amp;quot;to&amp;quot;                     
##  [3] &amp;quot;be&amp;quot;                      &amp;quot;back&amp;quot;                   
##  [5] &amp;quot;in&amp;quot;                      &amp;quot;iowa&amp;quot;                   
##  [7] &amp;quot;#tbt&amp;quot;                    &amp;quot;with&amp;quot;                   
##  [9] &amp;quot;@jerryjrfalwell&amp;quot;         &amp;quot;joining&amp;quot;                
## [11] &amp;quot;me&amp;quot;                      &amp;quot;in&amp;quot;                     
## [13] &amp;quot;davenport&amp;quot;               &amp;quot;this&amp;quot;                   
## [15] &amp;quot;past&amp;quot;                    &amp;quot;winter&amp;quot;                 
## [17] &amp;quot;#maga&amp;quot;                   &amp;quot;https://t.co/a5if0qhnic&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another minor adjustment we want to make is to remove the links to pictures:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;links &amp;lt;- &amp;quot;https://t.co/[A-Za-z\\d]+|&amp;amp;amp;&amp;quot;
campaign_tweets[i,] %&amp;gt;%
  mutate(text = str_replace_all(text, links, &amp;quot;&amp;quot;))  %&amp;gt;%
  unnest_tokens(word, text, token = &amp;quot;tweets&amp;quot;) %&amp;gt;%
  pull(word)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;great&amp;quot;           &amp;quot;to&amp;quot;              &amp;quot;be&amp;quot;              &amp;quot;back&amp;quot;           
##  [5] &amp;quot;in&amp;quot;              &amp;quot;iowa&amp;quot;            &amp;quot;#tbt&amp;quot;            &amp;quot;with&amp;quot;           
##  [9] &amp;quot;@jerryjrfalwell&amp;quot; &amp;quot;joining&amp;quot;         &amp;quot;me&amp;quot;              &amp;quot;in&amp;quot;             
## [13] &amp;quot;davenport&amp;quot;       &amp;quot;this&amp;quot;            &amp;quot;past&amp;quot;            &amp;quot;winter&amp;quot;         
## [17] &amp;quot;#maga&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we are now ready to extract the words for all our tweets.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words &amp;lt;- campaign_tweets %&amp;gt;%
  mutate(text = str_replace_all(text, links, &amp;quot;&amp;quot;))  %&amp;gt;%
  unnest_tokens(word, text, token = &amp;quot;tweets&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can now answer questions such as “what are the most commonly used words?”:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words %&amp;gt;%
  count(word) %&amp;gt;%
  arrange(desc(n))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                                    word    n
## 1                                   the 2329
## 2                                    to 1410
## 3                                   and 1239
## 4                                    in 1185
## 5                                     i 1143
## 6                                     a 1112
## 7                                   you  999
## 8                                    of  982
## 9                                    is  942
## 10                                   on  874
## 11                                 will  843
## 12                                  for  736
## 13                                thank  712
## 14                                   be  670
## 15                                great  641
## 16                                   at  507
## 17                                 that  484
## 18                                   me  452
## 19                           #trump2016  414
## 20                              hillary  405
## 21                                 with  385
## 22                                   it  367
## 23                                   we  359
## 24                                  are  353
## 25                                 just  349
## 26                                 have  348
## 27                                   my  336
## 28                                   so  311
## 29                                  was  311
## 30                                   he  307
## 31                                  not  305
## 32                               people  303
## 33                                  all  295
## 34               #makeamericagreatagain  294
## 35                                   by  288
## 36                                  new  285
## 37                                   am  263
## 38                                  has  255
## 39                              america  254
## 40                                  out  246
## 41                                 very  238
## 42                              clinton  237
## 43                                  our  231
## 44                                 this  228
## 45                                 make  218
## 46                                 poll  217
## 47                                 from  216
## 48                                again  213
## 49                                  now  206
## 50                              crooked  205
## 51                                 they  203
## 52                                  big  200
## 53                                  get  197
## 54                                trump  195
## 55                                  who  188
## 56                                  his  179
## 57                                  she  177
## 58                                   no  176
## 59                                about  173
## 60                                   as  167
## 61                                  her  163
## 62                                 your  162
## 63                                  but  160
## 64                                 cruz  159
## 65                                 join  158
## 66                              tonight  154
## 67                                   us  154
## 68                                 many  143
## 69                                   do  140
## 70                                going  137
## 71                                 said  136
## 72                                 more  135
## 73                                 time  132
## 74                                  bad  130
## 75                                would  130
## 76                                 iowa  126
## 77                                 last  126
## 78                                today  125
## 79                             tomorrow  123
## 80                                 like  121
## 81                                 when  120
## 82                                enjoy  119
## 83                            president  117
## 84                                 much  116
## 85                                  one  116
## 86                                 what  115
## 87                                 back  114
## 88                               should  114
## 89                                 vote  113
## 90                                   if  112
## 91                                  ted  112
## 92                               debate  111
## 93                                   an  109
## 94                              amazing  108
## 95                                  can  108
## 96                                never  108
## 97                                night  108
## 98                                 @cnn  107
## 99                             @foxnews  106
## 100                                been  106
## 101                                  up  106
## 102                             country  104
## 103                               crowd  103
## 104                                  or  102
## 105                                 win  102
## 106                         interviewed  101
## 107                               media  101
## 108                                 had  100
## 109                                 why   99
## 110                               watch   98
## 111                            carolina   97
## 112                                 wow   97
## 113                            campaign   95
## 114                               their   95
## 115                                dont   93
## 116                             support   92
## 117                                 how   91
## 118                                only   91
## 119                              really   91
## 120                                than   91
## 121                                 see   90
## 122                                good   86
## 123                                them   86
## 124                                want   85
## 125                           hampshire   84
## 126                                ohio   84
## 127                               polls   84
## 128                                 job   83
## 129                             totally   83
## 130                             morning   82
## 131                                soon   82
## 132                                 him   81
## 133                                nice   81
## 134                             florida   80
## 135                               obama   80
## 136                                over   79
## 137                               rubio   79
## 138                             against   78
## 139                                jobs   77
## 140                              speech   77
## 141                               #maga   76
## 142                                 did   76
## 143                               there   76
## 144                                 way   76
## 145                                 day   75
## 146                                even   75
## 147                          republican   75
## 148                                were   74
## 149                                show   73
## 150                              bernie   72
## 151                       #americafirst   71
## 152                                 got   71
## 153                                  go   69
## 154                           dishonest   68
## 155                               total   68
## 156                               money   67
## 157                                love   66
## 158                               rally   66
## 159                                 jeb   65
## 160                                must   65
## 161                             because   64
## 162                                made   64
## 163                               south   64
## 164                      #draintheswamp   63
## 165                                down   63
## 166                             failing   63
## 167                                 won   63
## 168                               doing   60
## 169                               years   60
## 170                               being   59
## 171                                cant   59
## 172                               state   59
## 173                              better   58
## 174                                isis   58
## 175                               marco   58
## 176                                look   57
## 177                          #votetrump   56
## 178                               after   56
## 179                                bush   56
## 180                           wonderful   56
## 181                            american   55
## 182                             numbers   55
## 183                                 sad   55
## 184                                lost   54
## 185                                news   54
## 186                            together   54
## 187                            everyone   53
## 188                            national   53
## 189                               other   53
## 190                                 run   52
## 191                          #imwithyou   51
## 192                              doesnt   51
## 193                                 its   51
## 194                                 say   51
## 195                             tickets   51
## 196                                beat   50
## 197                               first   50
## 198                                 two   50
## 199                               video   50
## 200                              failed   49
## 201                              record   49
## 202                             another   48
## 203                             believe   48
## 204                                done   48
## 205                         immigration   48
## 206                            movement   48
## 207                        pennsylvania   48
## 208                             ratings   48
## 209                               wants   48
## 210                               words   48
## 211                            @nytimes   47
## 212                              saying   47
## 213                             special   47
## 214                          supporters   47
## 215                                take   47
## 216                               which   47
## 217                             illegal   46
## 218                              kasich   46
## 219                                know   46
## 220                                live   46
## 221                                 off   46
## 222                        presidential   46
## 223                            remember   46
## 224                                well   46
## 225                                does   45
## 226                                into   45
## 227                                john   45
## 228                             sanders   45
## 229                             senator   45
## 230                            virginia   45
## 231                                 ads   44
## 232                                 cnn   44
## 233                                ever   44
## 234                             looking   44
## 235                                weak   44
## 236                               didnt   43
## 237                             getting   43
## 238                               honor   43
## 239                             nothing   43
## 240                                wall   43
## 241                      @foxandfriends   42
## 242                           fantastic   42
## 243                             massive   42
## 244                               where   42
## 245                                york   42
## 246                                 guy   41
## 247                               north   41
## 248                               story   41
## 249                               think   41
## 250                                hard   40
## 251                             million   40
## 252                              nevada   40
## 253                                  pm   40
## 254                               smart   40
## 255                                deal   39
## 256                              donald   39
## 257                             evening   39
## 258                                stop   39
## 259                            terrible   39
## 260                           candidate   38
## 261                         endorsement   38
## 262                                 far   38
## 263                              making   38
## 264                                most   38
## 265                                need   38
## 266                               party   38
## 267                                safe   38
## 268                                talk   38
## 269                                 too   38
## 270                               badly   37
## 271                                bill   37
## 272                                 let   37
## 273                              little   37
## 274                               right   37
## 275                            watching   37
## 276                        @seanhannity   36
## 277                             arizona   36
## 278                            colorado   36
## 279                            election   36
## 280                         lightweight   36
## 281                               place   36
## 282                                such   36
## 283                               tough   36
## 284                               women   36
## 285                               world   36
## 286                      @oreillyfactor   35
## 287                               could   35
## 288                                 fox   35
## 289                              strong   35
## 290                                then   35
## 291                                   w   35
## 292                               while   35
## 293                              change   34
## 294                             forward   34
## 295                            governor   34
## 296                                 law   34
## 297                              mexico   34
## 298                            millions   34
## 299                              voters   34
## 300                                work   34
## 301                           yesterday   34
## 302                                also   33
## 303                              carson   33
## 304                              emails   33
## 305                               every   33
## 306                             indiana   33
## 307                                lead   33
## 308                             leaving   33
## 309                                says   33
## 310                             talking   33
## 311                              things   33
## 312                                 use   33
## 313                                 700   32
## 314                              border   32
## 315                            disaster   32
## 316                               false   32
## 317                             heading   32
## 318                           interview   32
## 319                                keep   32
## 320                            negative   32
## 321                                next   32
## 322                              person   32
## 323                                 put   32
## 324                              states   32
## 325                           wisconsin   32
## 326                                  ad   31
## 327                                best   31
## 328                               happy   31
## 329                                here   31
## 330                                  im   31
## 331                                lets   31
## 332                                lyin   31
## 333                               major   31
## 334                              rigged   31
## 335                                some   31
## 336                               spent   31
## 337                     #crookedhillary   30
## 338                               #fitn   30
## 339                          #gopdebate   30
## 340                              biased   30
## 341                              family   30
## 342                               proud   30
## 343                              romney   30
## 344                               trade   30
## 345                               worst   30
## 346                              before   29
## 347                               bring   29
## 348                                came   29
## 349                            clintons   29
## 350                                come   29
## 351                                hope   29
## 352                            michigan   29
## 353                              others   29
## 354                               phony   29
## 355                             radical   29
## 356                              thanks   29
## 357                                wont   29
## 358                               wrong   29
## 359                                zero   29
## 360                         @morningjoe   28
## 361                       #trumppence16   28
## 362                              crowds   28
## 363                                  dc   28
## 364                               event   28
## 365                                lies   28
## 366                                long   28
## 367                                same   28
## 368                               texas   28
## 369                                told   28
## 370                          washington   28
## 371                         @megynkelly   27
## 372                                both   27
## 373                          convention   27
## 374                                dumb   27
## 375                              highly   27
## 376                                 hit   27
## 377                                 low   27
## 378                             meeting   27
## 379                           obamacare   27
## 380                           political   27
## 381                               press   27
## 382                           statement   27
## 383                               truly   27
## 384                                year   27
## 385                               fight   26
## 386                                post   26
## 387                                 yet   26
## 388                                   1   25
## 389                              almost   25
## 390                          california   25
## 391                                call   25
## 392                              center   25
## 393                                 fix   25
## 394                                gave   25
## 395                           judgement   25
## 396                               order   25
## 397                              report   25
## 398                           reporting   25
## 399                               shows   25
## 400                              system   25
## 401                               times   25
## 402                                  tv   25
## 403                               chris   24
## 404                                iran   24
## 405                                mitt   24
## 406                              police   24
## 407                                race   24
## 408                            released   24
## 409                            spending   24
## 410                          television   24
## 411                                true   24
## 412                        unbelievable   24
## 413                               under   24
## 414                              united   24
## 415                                 7pm   23
## 416                             allowed   23
## 417                              always   23
## 418                                away   23
## 419                               crazy   23
## 420                               email   23
## 421                          incredible   23
## 422                            interest   23
## 423                          leadership   23
## 424                              nation   23
## 425                            politics   23
## 426                               these   23
## 427                            veterans   23
## 428                                 via   23
## 429                             watched   23
## 430                             winning   23
## 431                                @abc   22
## 432                     #bigleaguetruth   22
## 433                              attack   22
## 434                          candidates   22
## 435                              coming   22
## 436                         enforcement   22
## 437                             history   22
## 438                              nobody   22
## 439                                 old   22
## 440                                real   22
## 441                             running   22
## 442                            saturday   22
## 443                               thing   22
## 444                               those   22
## 445                          tremendous   22
## 446                              trying   22
## 447                                used   22
## 448                                week   22
## 449                             working   22
## 450                               worse   22
## 451                           #iacaucus   21
## 452                                  12   21
## 453                                 ago   21
## 454                           announced   21
## 455                             borders   21
## 456                              called   21
## 457                                 end   21
## 458                                fact   21
## 459                                fast   21
## 460                                 fun   21
## 461                            hillarys   21
## 462                            horrible   21
## 463                         interesting   21
## 464                             islamic   21
## 465                                left   21
## 466                                 lot   21
## 467                                 man   21
## 468                            officers   21
## 469                           thousands   21
## 470                               votes   21
## 471                                word   21
## 472                              #icymi   20
## 473                                1000   20
## 474                                book   20
## 475                               crime   20
## 476                                face   20
## 477                              killed   20
## 478                               knows   20
## 479                             leaders   20
## 480                             leading   20
## 481                             melania   20
## 482                              office   20
## 483                                 pay   20
## 484                         politicians   20
## 485                                read   20
## 486                                 top   20
## 487                             tuesday   20
## 488                             without   20
## 489                                 3pm   19
## 490                           afternoon   19
## 491                               asked   19
## 492                              boring   19
## 493                                dems   19
## 494                           elizabeth   19
## 495                              energy   19
## 496                                fair   19
## 497                                hear   19
## 498                               looks   19
## 499                               nasty   19
## 500                                paul   19
## 501                           questions   19
## 502                               ready   19
## 503                             results   19
## 504                              street   19
## 505                             wallace   19
## 506                                wife   19
## 507                         #trumptrain   18
## 508                               close   18
## 509                           democrats   18
## 510                              during   18
## 511                            exciting   18
## 512                              forget   18
## 513                               fraud   18
## 514                             georgia   18
## 515                            happened   18
## 516                              having   18
## 517                                isnt   18
## 518                            november   18
## 519                                paid   18
## 520                             problem   18
## 521                              repeal   18
## 522                                 tax   18
## 523                               taxes   18
## 524                           terrorism   18
## 525                              voting   18
## 526                              warren   18
## 527                                went   18
## 528                            @jebbush   17
## 529                          @mikepence   17
## 530                                 any   17
## 531                                case   17
## 532                           cleveland   17
## 533                                club   17
## 534                     congratulations   17
## 535                                days   17
## 536                           delegates   17
## 537                             despite   17
## 538                               dopey   17
## 539                                else   17
## 540                                 etc   17
## 541                                four   17
## 542                               given   17
## 543                                head   17
## 544                                help   17
## 545                                mike   17
## 546                             phoenix   17
## 547                             replace   17
## 548                            reporter   17
## 549                           respected   17
## 550                               still   17
## 551                               until   17
## 552                                 usa   17
## 553                               voter   17
## 554                                  vp   17
## 555                               waste   17
## 556                       #supertuesday   16
## 557                               agree   16
## 558                                 air   16
## 559                              chance   16
## 560                               china   16
## 561                          conference   16
## 562                             dollars   16
## 563                                give   16
## 564                               goofy   16
## 565                                 gop   16
## 566                              graham   16
## 567                           important   16
## 568                                joke   16
## 569                               loved   16
## 570                                miss   16
## 571                            pathetic   16
## 572                              please   16
## 573                             respect   16
## 574                               speak   16
## 575                                tune   16
## 576                               vegas   16
## 577                             victory   16
## 578                              @greta   15
## 579                           @karlrove   15
## 580                                @wsj   15
## 581                                 2nd   15
## 582                           americans   15
## 583                            anything   15
## 584                                 ben   15
## 585                              cannot   15
## 586                                clue   15
## 587                             correct   15
## 588                            endorsed   15
## 589                            expected   15
## 590                              friend   15
## 591                                gone   15
## 592                              growth   15
## 593                                hall   15
## 594                                high   15
## 595                           including   15
## 596                         incompetent   15
## 597                             instead   15
## 598                             killing   15
## 599                                 las   15
## 600                                 lie   15
## 601                              losing   15
## 602                                 may   15
## 603                                mess   15
## 604                                  nh   15
## 605                              packed   15
## 606                             prayers   15
## 607                               small   15
## 608                            strength   15
## 609                              taking   15
## 610                               tampa   15
## 611                             twitter   15
## 612                              wanted   15
## 613                           wednesday   15
## 614                                 800   14
## 615                                able   14
## 616                           apologize   14
## 617                           beautiful   14
## 618                              behind   14
## 619                             biggest   14
## 620                               check   14
## 621                                dead   14
## 622                              easily   14
## 623                                easy   14
## 624                           everybody   14
## 625                            families   14
## 626                                 fbi   14
## 627                             finally   14
## 628                               focus   14
## 629                             greatly   14
## 630                               group   14
## 631                              happen   14
## 632                           happening   14
## 633                            increase   14
## 634                           interests   14
## 635                                 joe   14
## 636                                kind   14
## 637                                knew   14
## 638                              leader   14
## 639                              obamas   14
## 640                                open   14
## 641                                past   14
## 642                             primary   14
## 643                             pushing   14
## 644                              russia   14
## 645                                seen   14
## 646                              senate   14
## 647                           something   14
## 648                                team   14
## 649                              unfair   14
## 650                               using   14
## 651                          @chucktodd   13
## 652                       @meetthepress   13
## 653                                 100   13
## 654                                   3   13
## 655                                 900   13
## 656                               allow   13
## 657                              anyone   13
## 658                             arrived   13
## 659                            business   13
## 660                             careful   13
## 661                                city   13
## 662                             corrupt   13
## 663                              county   13
## 664                              credit   13
## 665                              dallas   13
## 666                             debates   13
## 667                             economy   13
## 668                           editorial   13
## 669                             foreign   13
## 670                             friends   13
## 671                               front   13
## 672                              future   13
## 673                                home   13
## 674                             honored   13
## 675                            magazine   13
## 676                                 nbc   13
## 677                                noon   13
## 678                                  ny   13
## 679                                once   13
## 680                              points   13
## 681                              policy   13
## 682                                poor   13
## 683                              rather   13
## 684                            speaking   13
## 685                              spirit   13
## 686                               stage   13
## 687                              sunday   13
## 688                               taken   13
## 689                               truth   13
## 690                          university   13
## 691                                vets   13
## 692                              wonder   13
## 693                    @gstephanopoulos   12
## 694                           @politico   12
## 695                     @washingtonpost   12
## 696                           #vpdebate   12
## 697                          #wiprimary   12
## 698                                   2   12
## 699                              action   12
## 700                             alabama   12
## 701                             amnesty   12
## 702                          appreciate   12
## 703                              become   12
## 704                           beginning   12
## 705                                born   12
## 706                               build   12
## 707                              canada   12
## 708                              caught   12
## 709                              choice   12
## 710                         credibility   12
## 711                               deals   12
## 712                              defeat   12
## 713                              drudge   12
## 714                               dying   12
## 715                               final   12
## 716                             fortune   12
## 717                                free   12
## 718                              friday   12
## 719                                full   12
## 720                               house   12
## 721                             husband   12
## 722                                iraq   12
## 723                               kaine   12
## 724                               least   12
## 725                                life   12
## 726                           lobbyists   12
## 727                               loser   12
## 728                           louisiana   12
## 729                               lying   12
## 730                               maine   12
## 731                                meet   12
## 732                                 oil   12
## 733                                 own   12
## 734                               pence   12
## 735                                pick   12
## 736                              poorly   12
## 737                            problems   12
## 738                                 ran   12
## 739                              rapids   12
## 740                             release   12
## 741                            reported   12
## 742                             reuters   12
## 743                              review   12
## 744                                ryan   12
## 745                                 san   12
## 746                         selffunding   12
## 747                               since   12
## 748                                 son   12
## 749                             stamina   12
## 750                             started   12
## 751                             stories   12
## 752                              terror   12
## 753                            thoughts   12
## 754                                town   12
## 755                                 tpp   12
## 756                             treated   12
## 757                               union   12
## 758                             victims   12
## 759                                west   12
## 760                              winner   12
## 761                               10pme   11
## 762                                  13   11
## 763                                  20   11
## 764                                2016   11
## 765                                 6pm   11
## 766                               ahead   11
## 767                             already   11
## 768                             anymore   11
## 769                               arena   11
## 770                              around   11
## 771                             attacks   11
## 772                               beach   11
## 773                             between   11
## 774                             brought   11
## 775                               calls   11
## 776                              common   11
## 777                             discuss   11
## 778                                dope   11
## 779                                drug   11
## 780                             elected   11
## 781                          government   11
## 782                                   h   11
## 783                             highest   11
## 784                             himself   11
## 785                               hours   11
## 786                              israel   11
## 787                                liar   11
## 788                             lindsey   11
## 789                             members   11
## 790                             mention   11
## 791                             message   11
## 792                             mexican   11
## 793                              monday   11
## 794                              months   11
## 795                               nafta   11
## 796                                name   11
## 797                               needs   11
## 798                             outside   11
## 799                           overrated   11
## 800                             perhaps   11
## 801                                plan   11
## 802                             protect   11
## 803                             pundits   11
## 804                            received   11
## 805                         republicans   11
## 806                                 rnc   11
## 807                                   s   11
## 808                                save   11
## 809                                  sc   11
## 810                              secret   11
## 811                            security   11
## 812                                sent   11
## 813                                shot   11
## 814                              stated   11
## 815                          statements   11
## 816                           tennessee   11
## 817                               thats   11
## 818                              though   11
## 819                             thought   11
## 820                             through   11
## 821                               tower   11
## 822                           turnberry   11
## 823                                 war   11
## 824                           wikileaks   11
## 825                                wild   11
## 826                               woman   11
## 827                             wouldnt   11
## 828                            @cbsnews   10
## 829                        @ivankatrump   10
## 830                     #caucusfortrump   10
## 831                          #inprimary   10
## 832                          #obamacare   10
## 833                           #rncincle   10
## 834                                  10   10
## 835                                   4   10
## 836                                   5   10
## 837                                   8   10
## 838                               angry   10
## 839                         appreciated   10
## 840                               based   10
## 841                             beating   10
## 842                               bobby   10
## 843                              bosses   10
## 844                              bought   10
## 845                             brother   10
## 846                                care   10
## 847                              caucus   10
## 848                            comments   10
## 849                             control   10
## 850                                core   10
## 851                          corruption   10
## 852                               court   10
## 853                               david   10
## 854                          democratic   10
## 855                                drop   10
## 856                               dummy   10
## 857                          especially   10
## 858                       establishment   10
## 859                            facebook   10
## 860                            fighting   10
## 861                                find   10
## 862                              former   10
## 863                             general   10
## 864                                gets   10
## 865                                 gov   10
## 866                                guns   10
## 867                               heard   10
## 868                           hopefully   10
## 869                                 ill   10
## 870                         immediately   10
## 871                             jebbush   10
## 872                             justice   10
## 873                            kentucky   10
## 874                              landed   10
## 875                                late   10
## 876                                lied   10
## 877                                list   10
## 878                              longer   10
## 879                               maybe   10
## 880                               mayor   10
## 881                               miami   10
## 882                         mississippi   10
## 883                             network   10
## 884                              nights   10
## 885                              number   10
## 886                                  oh   10
## 887                              online   10
## 888                             orlando   10
## 889                          pocahontas   10
## 890                            policies   10
## 891                              public   10
## 892                               putin   10
## 893                             rallies   10
## 894                                rate   10
## 895                             refuses   10
## 896                              robert   10
## 897                                rock   10
## 898                                 saw   10
## 899                            speeches   10
## 900                               super   10
## 901                                sure   10
## 902                                term   10
## 903                           terrorist   10
## 904                               third   10
## 905                                took   10
## 906                                wins   10
## 907                               write   10
## 908                          @erictrump    9
## 909                         @jaketapper    9
## 910                       @melaniatrump    9
## 911                        @morningmika    9
## 912                          @todayshow    9
## 913                        #votetrumpsc    9
## 914                                   =    9
## 915                                   6    9
## 916                                 730    9
## 917                                 8pm    9
## 918                                 8th    9
## 919                              across    9
## 920                                 act    9
## 921                              brexit    9
## 922                                 cbs    9
## 923                             citizen    9
## 924                               clown    9
## 925                            continue    9
## 926                          controlled    9
## 927                           countries    9
## 928                               cover    9
## 929                              defend    9
## 930                           departing    9
## 931                           desperate    9
## 932                          disgusting    9
## 933                            disloyal    9
## 934                                 dnc    9
## 935                                 don    9
## 936                               early    9
## 937                            economic    9
## 938                        evangelicals    9
## 939                             explain    9
## 940                               favor    9
## 941                                 few    9
## 942                               fired    9
## 943                                  fl    9
## 944                               funny    9
## 945                               gives    9
## 946                               grand    9
## 947                              groups    9
## 948                              health    9
## 949                                 hes    9
## 950                                info    9
## 951                        jacksonville    9
## 952                             landing    9
## 953                              listen    9
## 954                               lives    9
## 955                                luck    9
## 956                            military    9
## 957                            missouri    9
## 958                               owned    9
## 959                                  pa    9
## 960                               paper    9
## 961                               piece    9
## 962                             playing    9
## 963                               point    9
## 964                          politician    9
## 965                                pols    9
## 966                                pres    9
## 967                            probably    9
## 968                            properly    9
## 969                            question    9
## 970                                reno    9
## 971                             reviews    9
## 972                            scotland    9
## 973                                 set    9
## 974                                  st    9
## 975                               stand    9
## 976                               start    9
## 977                                stay    9
## 978                              stupid    9
## 979                                tell    9
## 980                              thinks    9
## 981                               thugs    9
## 982                                 try    9
## 983                               unfit    9
## 984                            vigilant    9
## 985                               weeks    9
## 986                              worked    9
## 987                     @andersoncooper    8
## 988                     @donaldjtrumpjr    8
## 989                                @nbc    8
## 990                        #debatenight    8
## 991                            #debates    8
## 992                          #nyprimary    8
## 993                        #votetrumpnh    8
## 994                                 3rd    8
## 995                                   7    8
## 996                           amendment    8
## 997                              answer    8
## 998                             article    8
## 999                                 ask    8
## 1000                             broken    8
## 1001                        campaigning    8
## 1002                           canadian    8
## 1003                            charges    8
## 1004                          charlotte    8
## 1005                            chicago    8
## 1006                           children    8
## 1007                         cincinnati    8
## 1008                              coach    8
## 1009                        condolences    8
## 1010                        connecticut    8
## 1011                          continues    8
## 1012                           criminal    8
## 1013                           crippled    8
## 1014                            destroy    8
## 1015                           disgrace    8
## 1016                              doubt    8
## 1017                            dumbest    8
## 1018                             enough    8
## 1019                         enthusiasm    8
## 1020                               eric    8
## 1021                             except    8
## 1022                         experience    8
## 1023                              facts    8
## 1024                             finder    8
## 1025                               fool    8
## 1026                              forum    8
## 1027                              found    8
## 1028                            foxnews    8
## 1029                             george    8
## 1030                         healthcare    8
## 1031                     hillaryclinton    8
## 1032                           illinois    8
## 1033                             inside    8
## 1034                         irrelevant    8
## 1035                              islam    8
## 1036                             kansas    8
## 1037                               king    8
## 1038                              large    8
## 1039                               less    8
## 1040                             letter    8
## 1041                           majority    8
## 1042                           maryland    8
## 1043                             matter    8
## 1044                              means    8
## 1045                                met    8
## 1046                             middle    8
## 1047                            minutes    8
## 1048                                 mr    8
## 1049                             native    8
## 1050                          newspaper    8
## 1051                         nomination    8
## 1052                                 ok    8
## 1053                               part    8
## 1054                              plane    8
## 1055                        politically    8
## 1056                            polling    8
## 1057                            private    8
## 1058                       professional    8
## 1059                         protesters    8
## 1060                            puppets    8
## 1061                             raised    8
## 1062                                 re    8
## 1063                           refugees    8
## 1064                           register    8
## 1065                          reporters    8
## 1066                         ridiculous    8
## 1067                             second    8
## 1068                            service    8
## 1069                               shes    8
## 1070                              short    8
## 1071                             signed    8
## 1072                             silent    8
## 1073                               sold    8
## 1074                            someone    8
## 1075                            sources    8
## 1076                              spend    8
## 1077                              spoke    8
## 1078                            stevens    8
## 1079                            supreme    8
## 1080                           terrific    8
## 1081                         terrorists    8
## 1082                              tried    8
## 1083                             turned    8
## 1084                              visit    8
## 1085                              voted    8
## 1086                              whose    8
## 1087                               wish    8
## 1088                              worth    8
## 1089                              wrote    8
## 1090                         @60minutes    7
## 1091                         @glennbeck    7
## 1092                               @gma    7
## 1093                        @jdickerson    7
## 1094                       @nydailynews    7
## 1095                           @tedcruz    7
## 1096                       @unionleader    7
## 1097                         #nhprimary    7
## 1098                     #obamacarefail    7
## 1099                           $1000000    7
## 1100                                 $s    7
## 1101                               1030    7
## 1102                               10pm    7
## 1103                                 11    7
## 1104                                118    7
## 1105                                1st    7
## 1106                                 22    7
## 1107                                 33    7
## 1108                                 38    7
## 1109                              730pm    7
## 1110                          according    7
## 1111                              along    7
## 1112                            anybody    7
## 1113                            ashamed    7
## 1114                             asking    7
## 1115                            atlanta    7
## 1116                           attacked    7
## 1117                           audience    7
## 1118                                 bc    7
## 1119                           birthday    7
## 1120                             budget    7
## 1121                              chuck    7
## 1122                              class    7
## 1123                            company    7
## 1124                           complete    7
## 1125                             create    7
## 1126                            created    7
## 1127                           delaware    7
## 1128                                dem    7
## 1129                             demand    7
## 1130                                des    7
## 1131                              dirty    7
## 1132                         discussing    7
## 1133                                dog    7
## 1134                              doors    7
## 1135                        embarrassed    7
## 1136                            enjoyed    7
## 1137                                est    7
## 1138                             events    7
## 1139                         everything    7
## 1140                            failure    7
## 1141                          financial    7
## 1142                         fraudulent    7
## 1143                            freedom    7
## 1144                            funding    7
## 1145                            goldman    7
## 1146                               golf    7
## 1147                               hate    7
## 1148                             honest    7
## 1149                            hostile    7
## 1150                              hotel    7
## 1151                           illegals    7
## 1152                        ineffective    7
## 1153                                  j    7
## 1154                               jebs    7
## 1155                            joining    7
## 1156                             knight    7
## 1157                                 la    7
## 1158                              leave    7
## 1159                              legal    7
## 1160                               loan    7
## 1161                               lose    7
## 1162                              makes    7
## 1163                              megyn    7
## 1164                             moines    7
## 1165                           nebraska    7
## 1166                             notice    7
## 1167                            nuclear    7
## 1168                           official    7
## 1169                          officials    7
## 1170                           oklahoma    7
## 1171                           onesided    7
## 1172                      oreillyfactor    7
## 1173                               page    7
## 1174                               pass    7
## 1175                         pittsburgh    7
## 1176                           possible    7
## 1177                                ppp    7
## 1178                          primaries    7
## 1179                            putting    7
## 1180                            roberts    7
## 1181                           sarasota    7
## 1182                            scandal    7
## 1183                               self    7
## 1184                               sell    7
## 1185                            serious    7
## 1186                              serve    7
## 1187                            settled    7
## 1188                             showed    7
## 1189                            signing    7
## 1190                           southern    7
## 1191                              staff    7
## 1192                               star    7
## 1193                           strongly    7
## 1194                             stuart    7
## 1195                              talks    7
## 1196                             threat    7
## 1197                                tim    7
## 1198                           tonights    7
## 1199                         transcript    7
## 1200                             trumps    7
## 1201                             values    7
## 1202                          virtually    7
## 1203                           weakness    7
## 1204                            weekend    7
## 1205                   @barbarajwalters    6
## 1206                              @cnbc    6
## 1207                          @donlemon    6
## 1208                      @drudgereport    6
## 1209                       @krauthammer    6
## 1210                     @realbencarson    6
## 1211                       @thisweekabc    6
## 1212                              @time    6
## 1213                            #debate    6
## 1214                              #isis    6
## 1215                              #lesm    6
## 1216                             #potus    6
## 1217                     #votetrump2016    6
## 1218                  #votetrumppence16    6
## 1219                               1130    6
## 1220                              11816    6
## 1221                                 14    6
## 1222                                 15    6
## 1223                                200    6
## 1224                               2008    6
## 1225                                 30    6
## 1226                               7pme    6
## 1227                                830    6
## 1228                                abc    6
## 1229                         absolutely    6
## 1230                         additional    6
## 1231                           allowing    6
## 1232                             anchor    6
## 1233                       announcement    6
## 1234                         apologized    6
## 1235                            apology    6
## 1236                              banks    6
## 1237                             beaten    6
## 1238                             bigger    6
## 1239                                bob    6
## 1240                            boycott    6
## 1241                              broke    6
## 1242                           brothers    6
## 1243                                buy    6
## 1244                            calling    6
## 1245                             caused    6
## 1246                             choker    6
## 1247                              clear    6
## 1248                           columbus    6
## 1249                       conservative    6
## 1250                            couldnt    6
## 1251                          criminals    6
## 1252                               cuba    6
## 1253                              daily    6
## 1254                           daughter    6
## 1255                          decisions    6
## 1256                            deleted    6
## 1257                          delivered    6
## 1258                           democrat    6
## 1259                             denver    6
## 1260                        desperately    6
## 1261                           director    6
## 1262                         disclosure    6
## 1263                            divided    6
## 1264                             domain    6
## 1265                               each    6
## 1266                            eastern    6
## 1267                             either    6
## 1268                            eminent    6
## 1269                          endorsing    6
## 1270                               eyes    6
## 1271                           finished    6
## 1272                            fiorina    6
## 1273                               fire    6
## 1274                              folks    6
## 1275                             follow    6
## 1276                              force    6
## 1277                         foundation    6
## 1278                             france    6
## 1279                             hawaii    6
## 1280                              heart    6
## 1281                             helped    6
## 1282                            herself    6
## 1283                                 ia    6
## 1284                          immigrant    6
## 1285                        information    6
## 1286                             island    6
## 1287                                ive    6
## 1288                               jose    6
## 1289                            journal    6
## 1290                              judge    6
## 1291                           karlrove    6
## 1292                          landslide    6
## 1293                            largest    6
## 1294                          legendary    6
## 1295                            liberty    6
## 1296                              loans    6
## 1297                              loves    6
## 1298                      massachusetts    6
## 1299                             mccain    6
## 1300                         megynkelly    6
## 1301                                men    6
## 1302                            michael    6
## 1303                             missed    6
## 1304                               move    6
## 1305                            muslims    6
## 1306                             myself    6
## 1307                               nato    6
## 1308                            natural    6
## 1309                             needed    6
## 1310                              often    6
## 1311                             oregon    6
## 1312                              paris    6
## 1313                        performance    6
## 1314                            phyllis    6
## 1315                            protest    6
## 1316                             proven    6
## 1317                             puppet    6
## 1318                               puts    6
## 1319                              quote    6
## 1320                               rand    6
## 1321                              rates    6
## 1322                             rating    6
## 1323                             reason    6
## 1324                           referred    6
## 1325                            reports    6
## 1326                           response    6
## 1327                               rest    6
## 1328                            returns    6
## 1329                               rove    6
## 1330                             safety    6
## 1331                               scam    6
## 1332                          schlonged    6
## 1333                              scott    6
## 1334                            setting    6
## 1335                              shame    6
## 1336                              share    6
## 1337                            showing    6
## 1338                            smarter    6
## 1339                          sometimes    6
## 1340                              sorry    6
## 1341                            springs    6
## 1342                           standing    6
## 1343                            success    6
## 1344                             syrian    6
## 1345                        temperament    6
## 1346                              three    6
## 1347                             todays    6
## 1348                                tom    6
## 1349                           tweeting    6
## 1350                             unable    6
## 1351                               utah    6
## 1352                            various    6
## 1353                              venue    6
## 1354                               vice    6
## 1355                          violation    6
## 1356                             vision    6
## 1357                              wasnt    6
## 1358                              white    6
## 1359                             womens    6
## 1360                             writer    6
## 1361                            written    6
## 1362                              young    6
## 1363                                @ap    5
## 1364                       @billkristol    5
## 1365                       @cnnpolitics    5
## 1366                       @ericbolling    5
## 1367                     @facethenation    5
## 1368                     @fallontonight    5
## 1369                     @foxnewssunday    5
## 1370                       @jimmyfallon    5
## 1371                             @macys    5
## 1372                     @sarahpalinusa    5
## 1373                     #gopconvention    5
## 1374              #makeamericasafeagain    5
## 1375                         #scprimary    5
## 1376                        #trumprally    5
## 1377                       #votetrumpnv    5
## 1378                                  |    5
## 1379                                  $    5
## 1380                                $50    5
## 1381                           $6000000    5
## 1382                              10000    5
## 1383                               11am    5
## 1384                                 16    5
## 1385                                 18    5
## 1386                                 27    5
## 1387                                 2a    5
## 1388                              33000    5
## 1389                                 39    5
## 1390                                 43    5
## 1391                                 47    5
## 1392                               5000    5
## 1393                            account    5
## 1394                     administration    5
## 1395                              admit    5
## 1396                        advertising    5
## 1397                    africanamerican    5
## 1398                   africanamericans    5
## 1399                              alone    5
## 1400                              among    5
## 1401                           anderson    5
## 1402                           announce    5
## 1403                             arabia    5
## 1404                           arkansas    5
## 1405                          attacking    5
## 1406                              audit    5
## 1407                          available    5
## 1408                            average    5
## 1409                             ballot    5
## 1410                             begins    5
## 1411                             behalf    5
## 1412                           believes    5
## 1413                               blew    5
## 1414                               blow    5
## 1415                             bombed    5
## 1416                           bringing    5
## 1417                           brussels    5
## 1418                               card    5
## 1419                              carly    5
## 1420                              cedar    5
## 1421                           chairman    5
## 1422                           champion    5
## 1423                       championship    5
## 1424                            changed    5
## 1425                            charity    5
## 1426                            charles    5
## 1427                             chosen    5
## 1428                             church    5
## 1429                             cities    5
## 1430                         classified    5
## 1431                             closed    5
## 1432                               cnbc    5
## 1433                               coal    5
## 1434                              comes    5
## 1435                        commercials    5
## 1436                          companies    5
## 1437                           congrats    5
## 1438                           constant    5
## 1439                         constantly    5
## 1440                            council    5
## 1441                           coverage    5
## 1442                             crimea    5
## 1443                            daytona    5
## 1444                            defense    5
## 1445                        destruction    5
## 1446                              diego    5
## 1447                         difference    5
## 1448                        disgraceful    5
## 1449                                 dr    5
## 1450                            driving    5
## 1451                           dropping    5
## 1452                              drugs    5
## 1453                                due    5
## 1454                          education    5
## 1455                            endorse    5
## 1456                             entire    5
## 1457                          exclusive    5
## 1458                               fail    5
## 1459                             fairly    5
## 1460                              faith    5
## 1461                            falling    5
## 1462                             father    5
## 1463                               feel    5
## 1464                              field    5
## 1465                             figure    5
## 1466                               file    5
## 1467                            focused    5
## 1468                               fort    5
## 1469                         frankluntz    5
## 1470                               game    5
## 1471                             giving    5
## 1472                               govt    5
## 1473                             guilty    5
## 1474                             havent    5
## 1475                               held    5
## 1476                           heritage    5
## 1477                             heroes    5
## 1478                             higher    5
## 1479                           horribly    5
## 1480                            hosting    5
## 1481                               hour    5
## 1482                          hypocrite    5
## 1483                                ice    5
## 1484                          illegally    5
## 1485                            imagine    5
## 1486                         immigrants    5
## 1487                          incorrect    5
## 1488                      international    5
## 1489                      investigation    5
## 1490                              issue    5
## 1491                               june    5
## 1492                               karl    5
## 1493                              kelly    5
## 1494                              knock    5
## 1495                               koch    5
## 1496                           laughing    5
## 1497                               laws    5
## 1498                            liberal    5
## 1499                               line    5
## 1500                              lines    5
## 1501                           lobbyist    5
## 1502                               lord    5
## 1503                             losers    5
## 1504                               loss    5
## 1505                             losses    5
## 1506                            manager    5
## 1507                      manufacturing    5
## 1508                             margin    5
## 1509                            mcquaid    5
## 1510                                 mi    5
## 1511                               mort    5
## 1512                            nations    5
## 1513                                 nc    5
## 1514                        negotiators    5
## 1515                           networks    5
## 1516                            nominee    5
## 1517                                  o    5
## 1518                            opening    5
## 1519                          opponents    5
## 1520                           opposite    5
## 1521                              owner    5
## 1522                               palm    5
## 1523                             paying    5
## 1524                          pensacola    5
## 1525                              phone    5
## 1526                             places    5
## 1527                            planned    5
## 1528                              plans    5
## 1529                               play    5
## 1530                          positions    5
## 1531                              potus    5
## 1532                           powerful    5
## 1533                         presidency    5
## 1534                              prior    5
## 1535                          qualified    5
## 1536                              quick    5
## 1537                            quickly    5
## 1538                             racist    5
## 1539                              rated    5
## 1540                            receive    5
## 1541                           recently    5
## 1542                          regarding    5
## 1543                             resort    5
## 1544                           returned    5
## 1545                           richmond    5
## 1546                               rick    5
## 1547                                rid    5
## 1548                             rights    5
## 1549                            roanoke    5
## 1550                               room    5
## 1551                              sachs    5
## 1552                              saudi    5
## 1553                           schlafly    5
## 1554                             seeing    5
## 1555                                sen    5
## 1556                               send    5
## 1557                          seriously    5
## 1558                             server    5
## 1559                          shootings    5
## 1560                           shouldnt    5
## 1561                             simple    5
## 1562                             sleepy    5
## 1563                           socalled    5
## 1564                              solve    5
## 1565                           starting    5
## 1566                              stuff    5
## 1567                         successful    5
## 1568                                sue    5
## 1569                           supports    5
## 1570                              syria    5
## 1571                             talent    5
## 1572                            telling    5
## 1573                             theyre    5
## 1574                           thinking    5
## 1575                           thursday    5
## 1576                             toledo    5
## 1577                            tougher    5
## 1578                             tricks    5
## 1579                            trouble    5
## 1580                            turning    5
## 1581                            turnout    5
## 1582                              twice    5
## 1583                                  u    5
## 1584                                 uk    5
## 1585                               usag    5
## 1586                                 va    5
## 1587                           violence    5
## 1588                              wages    5
## 1589                            waiting    5
## 1590                            wasting    5
## 1591                              wayne    5
## 1592                           whatever    5
## 1593                              whole    5
## 1594                               wide    5
## 1595                         wilmington    5
## 1596                            writing    5
## 1597                          zuckerman    5
## 1598                             @ac360    4
## 1599                               @gop    4
## 1600                    @hillaryclinton    4
## 1601                    @jerryjrfalwell    4
## 1602                      @judgejeanine    4
## 1603                        @marcorubio    4
## 1604                           @nbcnews    4
## 1605                            @nbcsnl    4
## 1606                              @oann    4
## 1607                          @randpaul    4
## 1608                   @realdonaldtrump    4
## 1609                     @trumpscotland    4
## 1610                    @trumpturnberry    4
## 1611                         #cnndebate    4
## 1612                         #demdebate    4
## 1613                      #nevadacaucus    4
## 1614                     #newyorkvalues    4
## 1615                               1100    4
## 1616                            1182016    4
## 1617                              12000    4
## 1618                               1237    4
## 1619                              15000    4
## 1620                                 17    4
## 1621                               2000    4
## 1622                               2015    4
## 1623                                 24    4
## 1624                                 28    4
## 1625                                 32    4
## 1626                                 41    4
## 1627                                 45    4
## 1628                                 46    4
## 1629                                4pm    4
## 1630                                500    4
## 1631                                611    4
## 1632                               8pme    4
## 1633                                911    4
## 1634                           actually    4
## 1635                            african    4
## 1636                              agent    4
## 1637                             agents    4
## 1638                              aides    4
## 1639                           americas    4
## 1640                            anaheim    4
## 1641                              anger    4
## 1642                          answering    4
## 1643                        anticipated    4
## 1644                          antitrump    4
## 1645                              apart    4
## 1646                         apprentice    4
## 1647                              arent    4
## 1648                           atlantic    4
## 1649                             babies    4
## 1650                          baltimore    4
## 1651                                ban    4
## 1652                             bangor    4
## 1653                              baton    4
## 1654                                bay    4
## 1655                               beck    4
## 1656                            begging    4
## 1657                             beyond    4
## 1658                               bias    4
## 1659                              bible    4
## 1660                            billion    4
## 1661                              bills    4
## 1662                              black    4
## 1663                             bluffs    4
## 1664                              board    4
## 1665                               bomb    4
## 1666                              books    4
## 1667                             bottom    4
## 1668                                boy    4
## 1669                          brilliant    4
## 1670                              bushy    4
## 1671                            capitol    4
## 1672                               cash    4
## 1673                            certain    4
## 1674                        certificate    4
## 1675                           changing    4
## 1676                              chapo    4
## 1677                            charged    4
## 1678                             choked    4
## 1679                          christmas    4
## 1680                          chucktodd    4
## 1681                        citizenship    4
## 1682                         commentary    4
## 1683                          committee    4
## 1684                          community    4
## 1685                                con    4
## 1686                         concerning    4
## 1687                     constitutional    4
## 1688                            consult    4
## 1689                               cost    4
## 1690                            covered    4
## 1691                            crashed    4
## 1692                               cred    4
## 1693                         criticized    4
## 1694                           crookeds    4
## 1695                             danger    4
## 1696                              death    4
## 1697                             debbie    4
## 1698                               debt    4
## 1699                           decision    4
## 1700                         department    4
## 1701                          destroyed    4
## 1702                            detroit    4
## 1703                         devastated    4
## 1704                               died    4
## 1705                          different    4
## 1706                          donations    4
## 1707                             donors    4
## 1708                             double    4
## 1709                               east    4
## 1710                             effort    4
## 1711                                 el    4
## 1712                       enthusiastic    4
## 1713                        evangelical    4
## 1714                          exhausted    4
## 1715                          expensive    4
## 1716                            experts    4
## 1717                                  f    4
## 1718                               fame    4
## 1719                                fan    4
## 1720                             finish    4
## 1721                               flag    4
## 1722                             flunky    4
## 1723                           football    4
## 1724                             forced    4
## 1725                             forgot    4
## 1726                          forgotten    4
## 1727                              frank    4
## 1728                              games    4
## 1729                               gang    4
## 1730                                gay    4
## 1731                             geneva    4
## 1732                            germany    4
## 1733                              gifts    4
## 1734                           ginsburg    4
## 1735                                god    4
## 1736                         greensboro    4
## 1737                             ground    4
## 1738                               hand    4
## 1739                             haters    4
## 1740                              heads    4
## 1741                         helicopter    4
## 1742                               hell    4
## 1743                          hispanics    4
## 1744                               hits    4
## 1745                            holiday    4
## 1746                           horrific    4
## 1747                            houston    4
## 1748                                hrc    4
## 1749                               hurt    4
## 1750                         inaccurate    4
## 1751                        independent    4
## 1752                           involved    4
## 1753                             issued    4
## 1754                             ivanka    4
## 1755                               jail    4
## 1756                             jersey    4
## 1757                           justices    4
## 1758                               khan    4
## 1759                               kids    4
## 1760                              known    4
## 1761                             lawyer    4
## 1762                             league    4
## 1763                              learn    4
## 1764                                led    4
## 1765                              level    4
## 1766                              liked    4
## 1767                           location    4
## 1768                                  m    4
## 1769                            machine    4
## 1770                         management    4
## 1771                         manchester    4
## 1772                               mark    4
## 1773                            markets    4
## 1774                               mass    4
## 1775                           memorial    4
## 1776                            missing    4
## 1777                            mistake    4
## 1778                           mistakes    4
## 1779                                 mn    4
## 1780                              mommy    4
## 1781                         morningjoe    4
## 1782                             mostly    4
## 1783                              mosul    4
## 1784                             mother    4
## 1785                             muslim    4
## 1786                              named    4
## 1787                             naples    4
## 1788                            nervous    4
## 1789                               newt    4
## 1790                                 nj    4
## 1791                                nov    4
## 1792                                nyc    4
## 1793                                owe    4
## 1794                              panel    4
## 1795                             panels    4
## 1796                         particular    4
## 1797                                pat    4
## 1798                               path    4
## 1799                               penn    4
## 1800                              picks    4
## 1801                           pictures    4
## 1802                              plain    4
## 1803                            podesta    4
## 1804                            pouring    4
## 1805                            poverty    4
## 1806                              power    4
## 1807                           premiums    4
## 1808                           pressure    4
## 1809                              price    4
## 1810                           progress    4
## 1811                         protecting    4
## 1812                              prove    4
## 1813                               push    4
## 1814                             pushed    4
## 1815                                  q    4
## 1816                               quit    4
## 1817                                  r    4
## 1818                              radio    4
## 1819                              raise    4
## 1820                            raising    4
## 1821                          reception    4
## 1822                          referring    4
## 1823                             reform    4
## 1824                            refused    4
## 1825                                rep    4
## 1826                       representing    4
## 1827                              rhode    4
## 1828                               risk    4
## 1829                              rouge    4
## 1830                              sarah    4
## 1831                           schedule    4
## 1832                          secretary    4
## 1833                             secure    4
## 1834                            shortly    4
## 1835                               sick    4
## 1836                               sign    4
## 1837                                sit    4
## 1838                                six    4
## 1839                             skills    4
## 1840                              sleep    4
## 1841                            soundly    4
## 1842                             source    4
## 1843                        springfield    4
## 1844                           straight    4
## 1845                         strategist    4
## 1846                          stupidity    4
## 1847                              style    4
## 1848                          supported    4
## 1849                           surprise    4
## 1850                           syracuse    4
## 1851                           talented    4
## 1852                             talked    4
## 1853                               tape    4
## 1854                          therefore    4
## 1855                             theres    4
## 1856                            tiffany    4
## 1857                             timing    4
## 1858                                 tn    4
## 1859                               todd    4
## 1860                              touch    4
## 1861                              trail    4
## 1862                               turn    4
## 1863                              tweet    4
## 1864                         understand    4
## 1865                       unemployment    4
## 1866                          unethical    4
## 1867                           unfairly    4
## 1868                             unless    4
## 1869                                uss    4
## 1870                               vast    4
## 1871                            verizon    4
## 1872                            vermont    4
## 1873                            vicious    4
## 1874                          viciously    4
## 1875                            viewers    4
## 1876                              views    4
## 1877                            violent    4
## 1878                         volunteers    4
## 1879                                 vs    4
## 1880                              wacko    4
## 1881                               wait    4
## 1882                            warmest    4
## 1883                          wasserman    4
## 1884                             wealth    4
## 1885                            welcome    4
## 1886                            wichita    4
## 1887                           wireless    4
## 1888                               wise    4
## 1889                             within    4
## 1890                             worlds    4
## 1891                          worthless    4
## 1892                                wsj    4
## 1893                            @amazon    3
## 1894                       @ariannahuff    3
## 1895                    @elizabethforma    3
## 1896                    @huffingtonpost    3
## 1897                            @joenbc    3
## 1898                   @kayleighmcenany    3
## 1899                      @kimguilfoyle    3
## 1900                   @lindseygrahamsc    3
## 1901                    @mariabartiromo    3
## 1902                        @mittromney    3
## 1903                            @newday    3
## 1904                               @nra    3
## 1905                      @pennjillette    3
## 1906                          @redstate    3
## 1907                            @reince    3
## 1908                         @richlowry    3
## 1909                        @sentedcruz    3
## 1910                         @teamsters    3
## 1911                        @trumpdoral    3
## 1912                         @trumpgolf    3
## 1913                          #asktrump    3
## 1914                         #azprimary    3
## 1915                       #debates2016    3
## 1916                    #followthemoney    3
## 1917                     #meetthetrumps    3
## 1918                               #msm    3
## 1919                        #nhpolitics    3
## 1920                         #paytoplay    3
## 1921                               #tbt    3
## 1922                         #teamtrump    3
## 1923                       #votetrumpmi    3
## 1924                                 $1    3
## 1925                                $1m    3
## 1926                                $25    3
## 1927                               $430    3
## 1928                                  0    3
## 1929                            1135pme    3
## 1930                               1200    3
## 1931                               12pm    3
## 1932                                 21    3
## 1933                                25k    3
## 1934                                 29    3
## 1935                              30000    3
## 1936                                 35    3
## 1937                                 36    3
## 1938                                 40    3
## 1939                                4th    3
## 1940                                600    3
## 1941                                610    3
## 1942                                750    3
## 1943                                7am    3
## 1944                                  9    3
## 1945                            abolish    3
## 1946                             accept    3
## 1947                           accurate    3
## 1948                             acting    3
## 1949                               adam    3
## 1950                           admitted    3
## 1951                            advance    3
## 1952                          advantage    3
## 1953                             advice    3
## 1954                             agenda    3
## 1955                             agreed    3
## 1956                             agrees    3
## 1957                            airtime    3
## 1958                             albany    3
## 1959                            amounts    3
## 1960                                ann    3
## 1961                              april    3
## 1962                              armed    3
## 1963                               army    3
## 1964                        association    3
## 1965                           attended    3
## 1966                          augustine    3
## 1967                             backed    3
## 1968                            barbara    3
## 1969                           baseball    3
## 1970                              basis    3
## 1971                           becoming    3
## 1972                                bed    3
## 1973                                beg    3
## 1974                             begged    3
## 1975                           billions    3
## 1976                              blood    3
## 1977                          bloomberg    3
## 1978                               blue    3
## 1979                    bobvanderplaats    3
## 1980                             boston    3
## 1981                               bowl    3
## 1982                            brazile    3
## 1983                              brian    3
## 1984                            britain    3
## 1985                            british    3
## 1986                           building    3
## 1987                              built    3
## 1988                               bull    3
## 1989                               buzz    3
## 1990                           cadillac    3
## 1991                          cancelled    3
## 1992                             career    3
## 1993                              cares    3
## 1994                           category    3
## 1995                          certainly    3
## 1996                             charge    3
## 1997                          christian    3
## 1998                              civil    3
## 1999                              clean    3
## 2000                                 co    3
## 2001                          coalition    3
## 2002                               cold    3
## 2003                            college    3
## 2004                          columnist    3
## 2005                              comey    3
## 2006                   commanderinchief    3
## 2007                         commercial    3
## 2008                          committed    3
## 2009                         completely    3
## 2010                            complex    3
## 2011                         confidence    3
## 2012                           conflict    3
## 2013                           congress    3
## 2014                           consider    3
## 2015                       constitution    3
## 2016                       construction    3
## 2017                          continued    3
## 2018                             cooper    3
## 2019                             copies    3
## 2020                             course    3
## 2021                             covers    3
## 2022                           creating    3
## 2023                        criticizing    3
## 2024                            cutting    3
## 2025                             dayton    3
## 2026                            dealing    3
## 2027                           debating    3
## 2028                            decided    3
## 2029                         delivering    3
## 2030                        deplorables    3
## 2031                          deucecrew    3
## 2032                           directly    3
## 2033                         disastrous    3
## 2034                        discredited    3
## 2035                        donaldtrump    3
## 2036                              donna    3
## 2037                              doral    3
## 2038                            dropped    3
## 2039                             dumber    3
## 2040                            efforts    3
## 2041                              eight    3
## 2042                               ends    3
## 2043                            escaped    3
## 2044                                 et    3
## 2045                             europe    3
## 2046                           everyday    3
## 2047                         everywhere    3
## 2048                         ewerickson    3
## 2049                          executive    3
## 2050                             expect    3
## 2051                          expecting    3
## 2052                             extort    3
## 2053                      extraordinary    3
## 2054                           fabulous    3
## 2055                               fall    3
## 2056                               fans    3
## 2057                               fees    3
## 2058                               fell    3
## 2059                              fence    3
## 2060                            fiction    3
## 2061                             fields    3
## 2062                               fine    3
## 2063                                fit    3
## 2064                               five    3
## 2065                             flying    3
## 2066                          followers    3
## 2067                               ford    3
## 2068                            forever    3
## 2069                               form    3
## 2070                              forms    3
## 2071                        fortunately    3
## 2072                           fraction    3
## 2073                               fund    3
## 2074                             funded    3
## 2075                            further    3
## 2076                             global    3
## 2077                               goes    3
## 2078                             gotten    3
## 2079                                 gq    3
## 2080                           grateful    3
## 2081                            greeley    3
## 2082                                gun    3
## 2083                               guts    3
## 2084                             hacked    3
## 2085                             hammer    3
## 2086                             handle    3
## 2087                           handling    3
## 2088                             hardly    3
## 2089                              harry    3
## 2090                              havnt    3
## 2091                            helping    3
## 2092                          henderson    3
## 2093                                hey    3
## 2094                    hillaryclintons    3
## 2095                           hispanic    3
## 2096                           historic    3
## 2097                            hitting    3
## 2098                              holds    3
## 2099                               hook    3
## 2100                               host    3
## 2101                           hostages    3
## 2102                              howie    3
## 2103                               huma    3
## 2104                         humiliated    3
## 2105                              hurts    3
## 2106                         hypocrites    3
## 2107                                 id    3
## 2108                              idaho    3
## 2109                        importantly    3
## 2110                         impossible    3
## 2111                       inaccurately    3
## 2112                           informed    3
## 2113                            injured    3
## 2114                              inner    3
## 2115                            insight    3
## 2116                          instincts    3
## 2117                          insurance    3
## 2118                             issues    3
## 2119                      jessebwatters    3
## 2120                          johnstown    3
## 2121                             joined    3
## 2122                               jump    3
## 2123                              katie    3
## 2124                                key    3
## 2125                               kick    3
## 2126                             killer    3
## 2127                            killers    3
## 2128                          knowingly    3
## 2129                          knoxville    3
## 2130                               lake    3
## 2131                               lane    3
## 2132                             larger    3
## 2133                             latest    3
## 2134                            laughed    3
## 2135                              leads    3
## 2136                             legacy    3
## 2137                             levels    3
## 2138                               lift    3
## 2139                              light    3
## 2140                              likes    3
## 2141                           likewise    3
## 2142                              local    3
## 2143                              loses    3
## 2144                              louis    3
## 2145                            lowlife    3
## 2146                            lyinted    3
## 2147                              macys    3
## 2148                           managing    3
## 2149                              march    3
## 2150                            margins    3
## 2151                       markhalperin    3
## 2152                           marriage    3
## 2153                           material    3
## 2154                     mathematically    3
## 2155                           meetings    3
## 2156                          mentioned    3
## 2157                              might    3
## 2158                          mikepence    3
## 2159                               mind    3
## 2160                              minds    3
## 2161                             miners    3
## 2162                           minister    3
## 2163                       misrepresent    3
## 2164                      misrepresents    3
## 2165                         mittromney    3
## 2166                               mock    3
## 2167                           monmouth    3
## 2168                            montana    3
## 2169                                msm    3
## 2170                          narrative    3
## 2171                             nashua    3
## 2172                          nashville    3
## 2173                         nationwide    3
## 2174                               navy    3
## 2175                          necessary    3
## 2176                        negotiating    3
## 2177                           neurotic    3
## 2178                              noone    3
## 2179                             normal    3
## 2180                           numerous    3
## 2181                                 nv    3
## 2182                        opportunity    3
## 2183                            oreilly    3
## 2184                           overflow    3
## 2185                               pack    3
## 2186                        palestinian    3
## 2187                             papers    3
## 2188                             passed    3
## 2189                            pastors    3
## 2190                             patrol    3
## 2191                           peaceful    3
## 2192                              pella    3
## 2193                                per    3
## 2194                            perfect    3
## 2195                              peter    3
## 2196                                pic    3
## 2197                             picked    3
## 2198                             pledge    3
## 2199                               plus    3
## 2200                             podium    3
## 2201                                pol    3
## 2202                           portland    3
## 2203                         portsmouth    3
## 2204                           position    3
## 2205                         postdebate    3
## 2206                          potential    3
## 2207                            praying    3
## 2208                        predictions    3
## 2209                            priebus    3
## 2210                             prison    3
## 2211                          prisoners    3
## 2212                            process    3
## 2213                         productive    3
## 2214                           promised    3
## 2215                           promises    3
## 2216                             proper    3
## 2217                         protection    3
## 2218                            provide    3
## 2219                             pundit    3
## 2220                               pure    3
## 2221                            purpose    3
## 2222                          purposely    3
## 2223                              races    3
## 2224                         raisedgave    3
## 2225                            rapidly    3
## 2226                          rasmussen    3
## 2227                        rebroadcast    3
## 2228                          receiving    3
## 2229                             recent    3
## 2230                           recieved    3
## 2231                            records    3
## 2232                             refuse    3
## 2233                           religion    3
## 2234                            remarks    3
## 2235                            reminds    3
## 2236                              reset    3
## 2237                             resign    3
## 2238                            respond    3
## 2239                             result    3
## 2240                               rich    3
## 2241                            ripping    3
## 2242                             rising    3
## 2243                              rooms    3
## 2244                              rumor    3
## 2245                               rush    3
## 2246                              sadly    3
## 2247                               salt    3
## 2248                            sanford    3
## 2249                                sat    3
## 2250                              saved    3
## 2251                           scandals    3
## 2252                            schools    3
## 2253                            schultz    3
## 2254                           scranton    3
## 2255                        seanhannity    3
## 2256                             season    3
## 2257                            sending    3
## 2258                             senior    3
## 2259                              sense    3
## 2260                          sensitive    3
## 2261                             served    3
## 2262                              seven    3
## 2263                           shooting    3
## 2264                               shut    3
## 2265                              sioux    3
## 2266                              sites    3
## 2267                          situation    3
## 2268                          slaughter    3
## 2269                            smaller    3
## 2270                           somebody    3
## 2271                            speaker    3
## 2272                            spoiler    3
## 2273                             stance    3
## 2274                              steel    3
## 2275                              stock    3
## 2276                            stopped    3
## 2277                           stopping    3
## 2278                              stops    3
## 2279                              storm    3
## 2280                         straighten    3
## 2281                           strategy    3
## 2282                           stronger    3
## 2283                            subject    3
## 2284                           subjects    3
## 2285                          suffering    3
## 2286                            suffers    3
## 2287                          supporter    3
## 2288                          surprised    3
## 2289                              sweat    3
## 2290                            syrians    3
## 2291                                  t    3
## 2292                        tallahassee    3
## 2293                               tank    3
## 2294                            tedcruz    3
## 2295                               tens    3
## 2296                       thebrodyfile    3
## 2297                         themselves    3
## 2298                             ticket    3
## 2299                               tied    3
## 2300                               ties    3
## 2301                           timkaine    3
## 2302                              tired    3
## 2303                          tomorrows    3
## 2304                            tragedy    3
## 2305                              treat    3
## 2306                          treatment    3
## 2307                               trip    3
## 2308                              trust    3
## 2309                           truthful    3
## 2310                              turns    3
## 2311                            unheard    3
## 2312                              unity    3
## 2313                           universe    3
## 2314                          univision    3
## 2315                            unleash    3
## 2316                          unleashed    3
## 2317                            upstate    3
## 2318                           vacation    3
## 2319                            veteran    3
## 2320                            visited    3
## 2321                              voice    3
## 2322                            wanting    3
## 2323                               wash    3
## 2324                             wasted    3
## 2325                           waukesha    3
## 2326                                 wi    3
## 2327                         wikileakes    3
## 2328                             wishes    3
## 2329                            workers    3
## 2330                              works    3
## 2331                            worried    3
## 2332                            wounded    3
## 2333                             writes    3
## 2334                              yours    3
## 2335                              youth    3
## 2336                              zogby    3
## 2337                           @abc2020    2
## 2338                          @bensasse    2
## 2339                   @bobvanderplaats    2
## 2340                     @breitbartnews    2
## 2341                         @bretbaier    2
## 2342                          @brithume    2
## 2343                               @cbs    2
## 2344                      @cherijacobus    2
## 2345                   @colbertlateshow    2
## 2346                               @fox    2
## 2347                       @foxbusiness    2
## 2348                        @frankluntz    2
## 2349                               @img    2
## 2350                         @jeffbezos    2
## 2351                     @jessebwatters    2
## 2352                       @jimmykimmel    2
## 2353                         @joniernst    2
## 2354                      @katiepavlich    2
## 2355                        @katyturnbc    2
## 2356                      @loudobbsnews    2
## 2357                     @monteskitchen    2
## 2358                             @msnbc    2
## 2359                             @ncgop    2
## 2360                               @nro    2
## 2361                    @nytdavidbrooks    2
## 2362                        @peterose14    2
## 2363                       @piersmorgan    2
## 2364                             @potus    2
## 2365                    @quinnipiacpoll    2
## 2366                    @scottienhughes    2
## 2367                       @scottwalker    2
## 2368                            @secupp    2
## 2369                             @slate    2
## 2370                         @surveyusa    2
## 2371                        @teamcavuto    2
## 2372                         @teamtrump    2
## 2373                     @terrybranstad    2
## 2374                          @tgowdysc    2
## 2375                            @thefix    2
## 2376                      @tonyschwartz    2
## 2377                        @twitternyc    2
## 2378                         @univision    2
## 2379                          @usatoday    2
## 2380                         @uschamber    2
## 2381                        @vanityfair    2
## 2382                           #abc2020    2
## 2383                    #arizonaprimary    2
## 2384                   #crippledamerica    2
## 2385                               #fns    2
## 2386                               #fox    2
## 2387                           #foxnews    2
## 2388                           #hannity    2
## 2389                        #iapolitics    2
## 2390                            #kimmel    2
## 2391                          #laborday    2
## 2392                       #lawandorder    2
## 2393              #makeamericaworkagain    2
## 2394                      #neverhillary    2
## 2395                               #nyc    2
## 2396                       #ontherecord    2
## 2397                         #paprimary    2
## 2398                   #repealobamacare    2
## 2399                         #riprimary    2
## 2400                   #secondamendment    2
## 2401                              #sotu    2
## 2402                     #supersaturday    2
## 2403                        #trumptoday    2
## 2404                          #trumpwon    2
## 2405                       #ussyorktown    2
## 2406                        #utahcaucus    2
## 2407                          #utcaucus    2
## 2408                      #wattersworld    2
## 2409                                  +    2
## 2410                         \u274casia    2
## 2411                     \u274cbenghazi    2
## 2412                         \u274ciran    2
## 2413                         \u274ciraq    2
## 2414                        \u274clibya    2
## 2415                      \u274crussian    2
## 2416                        \u274csyria    2
## 2417                                $10    2
## 2418                               $100    2
## 2419                            $100000    2
## 2420                               $120    2
## 2421                               $150    2
## 2422                               $400    2
## 2423                           $5600000    2
## 2424                                $59    2
## 2425                              100pm    2
## 2426                             1030am    2
## 2427                               10am    2
## 2428                               10pe    2
## 2429                              11000    2
## 2430                             1130am    2
## 2431                               11pm    2
## 2432                                150    2
## 2433                              16500    2
## 2434                                 19    2
## 2435                              20000    2
## 2436                               2004    2
## 2437                               2010    2
## 2438                               2017    2
## 2439                                230    2
## 2440                              230pm    2
## 2441                              25000    2
## 2442                               25th    2
## 2443                                2pm    2
## 2444                                300    2
## 2445                             300000    2
## 2446                              300pm    2
## 2447                                 31    2
## 2448                                315    2
## 2449                              330pm    2
## 2450                                342    2
## 2451                                 37    2
## 2452                              38000    2
## 2453                               4000    2
## 2454                             400000    2
## 2455                                416    2
## 2456                                 42    2
## 2457                                 50    2
## 2458                              530pm    2
## 2459                                550    2
## 2460                                5pm    2
## 2461                                5th    2
## 2462                                 60    2
## 2463                                630    2
## 2464                                 68    2
## 2465                                702    2
## 2466                                720    2
## 2467                                 74    2
## 2468                                 75    2
## 2469                              800pm    2
## 2470                              830pm    2
## 2471                              930pm    2
## 2472                                 98    2
## 2473                                9pm    2
## 2474                            abandon    2
## 2475                      abcwashington    2
## 2476                             abedin    2
## 2477                           aberdeen    2
## 2478                            ability    2
## 2479                           absolute    2
## 2480                              ac360    2
## 2481                         acceptance    2
## 2482                           accepted    2
## 2483                             access    2
## 2484                           accounts    2
## 2485                        acknowledge    2
## 2486                           activity    2
## 2487                              added    2
## 2488                            address    2
## 2489                            adviser    2
## 2490                           advisers    2
## 2491                           affected    2
## 2492                         affordable    2
## 2493                             afraid    2
## 2494                                 ag    2
## 2495                           agreeing    2
## 2496                           airlines    2
## 2497                           airplane    2
## 2498                            airport    2
## 2499                           airports    2
## 2500                              akron    2
## 2501                        albuquerque    2
## 2502                               alex    2
## 2503                             alicia    2
## 2504                              alike    2
## 2505                             allies    2
## 2506                            alltime    2
## 2507                             amount    2
## 2508                                amy    2
## 2509                           analysis    2
## 2510                            analyst    2
## 2511                        anniversary    2
## 2512                            anthony    2
## 2513                       anticatholic    2
## 2514                             anyway    2
## 2515                          apologies    2
## 2516                             appeal    2
## 2517                              apple    2
## 2518                           approval    2
## 2519                           approved    2
## 2520                               area    2
## 2521                               arms    2
## 2522                             arnold    2
## 2523                           arrested    2
## 2524                           arriving    2
## 2525                           arrogant    2
## 2526                               asap    2
## 2527                               asia    2
## 2528                             asians    2
## 2529                             assets    2
## 2530                            attempt    2
## 2531                            audited    2
## 2532                             austin    2
## 2533                              aware    2
## 2534                                 az    2
## 2535                                  b    2
## 2536                               baby    2
## 2537                                bag    2
## 2538                           balanced    2
## 2539                            ballots    2
## 2540                             bandon    2
## 2541                               bank    2
## 2542                                bar    2
## 2543                            barrack    2
## 2544                             basket    2
## 2545                             battle    2
## 2546                               bear    2
## 2547                              beast    2
## 2548                              begin    2
## 2549                              begun    2
## 2550                           behavior    2
## 2551                             belief    2
## 2552                           belittle    2
## 2553                               belt    2
## 2554                               bend    2
## 2555                           benjamin    2
## 2556                           berglund    2
## 2557                            bernies    2
## 2558                                bet    2
## 2559                             betray    2
## 2560                           betrayed    2
## 2561                              biden    2
## 2562                        billionaire    2
## 2563                             biloxi    2
## 2564                         birmingham    2
## 2565                             blamed    2
## 2566                              blank    2
## 2567                              blaze    2
## 2568                              bless    2
## 2569                              block    2
## 2570                            blocked    2
## 2571                              blown    2
## 2572                         bodyguards    2
## 2573                            bombing    2
## 2574                          borrowing    2
## 2575                               boss    2
## 2576                             boxing    2
## 2577                              brady    2
## 2578                              brain    2
## 2579                              brand    2
## 2580                              brave    2
## 2581                           breaking    2
## 2582                             bright    2
## 2583                           brithume    2
## 2584                             brooks    2
## 2585                             brutal    2
## 2586                         burlington    2
## 2587                             burned    2
## 2588                               bust    2
## 2589                              buyer    2
## 2590                                  c    2
## 2591                            cameras    2
## 2592                               camp    2
## 2593                          campaigns    2
## 2594                             canton    2
## 2595                            capable    2
## 2596                           capacity    2
## 2597                            captain    2
## 2598                              cards    2
## 2599                           careless    2
## 2600                             carmel    2
## 2601                             carpet    2
## 2602                            cartels    2
## 2603                             carter    2
## 2604                               cast    2
## 2605                          celebrate    2
## 2606                        celebrating    2
## 2607                         challenged    2
## 2608                         challenges    2
## 2609                          champions    2
## 2610                            chances    2
## 2611                          character    2
## 2612                         charleston    2
## 2613                            cheater    2
## 2614                           cheating    2
## 2615                           checking    2
## 2616                              child    2
## 2617                          childcare    2
## 2618                            chinese    2
## 2619                         christians    2
## 2620                           christie    2
## 2621                          circuited    2
## 2622                        circulation    2
## 2623                           citizens    2
## 2624                              civic    2
## 2625                             claims    2
## 2626                            clearly    2
## 2627                            clemson    2
## 2628                       clintonkaine    2
## 2629                              clive    2
## 2630                             closes    2
## 2631                            closing    2
## 2632                           clueless    2
## 2633                              coast    2
## 2634                               code    2
## 2635                              colin    2
## 2636                           collapse    2
## 2637                          collusion    2
## 2638                             column    2
## 2639                           comeback    2
## 2640                          commander    2
## 2641                            comment    2
## 2642                         commission    2
## 2643                      communication    2
## 2644                            compete    2
## 2645                         complaints    2
## 2646                            conduct    2
## 2647                          confirmed    2
## 2648                      congressional    2
## 2649                         considered    2
## 2650                         consistent    2
## 2651                               cont    2
## 2652                              contd    2
## 2653                           contract    2
## 2654                         contribute    2
## 2655                       contribution    2
## 2656                      contributions    2
## 2657                      controversial    2
## 2658                           convince    2
## 2659                               cool    2
## 2660                               copy    2
## 2661                          corrected    2
## 2662                        correctness    2
## 2663                               cory    2
## 2664                              costs    2
## 2665                            courage    2
## 2666                           covering    2
## 2667                                cox    2
## 2668                           credible    2
## 2669                             crimes    2
## 2670                           critical    2
## 2671                          criticize    2
## 2672                             crying    2
## 2673                             curiel    2
## 2674                            current    2
## 2675                          currently    2
## 2676                             curtis    2
## 2677                                cut    2
## 2678                                  d    2
## 2679                          dangerous    2
## 2680                               data    2
## 2681                          davenport    2
## 2682                           deadline    2
## 2683                          deadlines    2
## 2684                             deaths    2
## 2685                             decide    2
## 2686                           declared    2
## 2687                            deepest    2
## 2688                           defeated    2
## 2689                          defending    2
## 2690                            deficit    2
## 2691                         definition    2
## 2692                           delegate    2
## 2693                            deliver    2
## 2694                          demanding    2
## 2695                               deny    2
## 2696                           departed    2
## 2697                          depending    2
## 2698                            deplore    2
## 2699                             deport    2
## 2700                        deportation    2
## 2701                               dept    2
## 2702                         describing    2
## 2703                            deserve    2
## 2704                            despair    2
## 2705                             detail    2
## 2706                            details    2
## 2707                            develop    2
## 2708                          dickerson    2
## 2709                          difficult    2
## 2710                             dinner    2
## 2711                       disabilities    2
## 2712                           disabled    2
## 2713                       disappointed    2
## 2714                           disarray    2
## 2715                         dishonesty    2
## 2716                       disqualified    2
## 2717                         disrespect    2
## 2718                            disrupt    2
## 2719                            distort    2
## 2720                          distorted    2
## 2721                           district    2
## 2722                              ditka    2
## 2723                                djt    2
## 2724                                doj    2
## 2725                               door    2
## 2726                              drain    2
## 2727                            drawing    2
## 2728                              dream    2
## 2729                              drive    2
## 2730                                 dt    2
## 2731                            dummies    2
## 2732                               dump    2
## 2733                             dustin    2
## 2734                           dutchess    2
## 2735                              elect    2
## 2736                          elections    2
## 2737                        electricity    2
## 2738                             eleven    2
## 2739                        eligibility    2
## 2740                           eligible    2
## 2741                         eliminated    2
## 2742                            embrace    2
## 2743                             employ    2
## 2744                              empty    2
## 2745                            enemies    2
## 2746                            enforce    2
## 2747                            england    2
## 2748                          erictrump    2
## 2749                              ethic    2
## 2750                             ethics    2
## 2751                           european    2
## 2752                         evansville    2
## 2753                                eve    2
## 2754                           evenings    2
## 2755                           evidence    2
## 2756                            exactly    2
## 2757                          excellent    2
## 2758                         excitement    2
## 2759                              execs    2
## 2760                             expand    2
## 2761                             expert    2
## 2762                            explode    2
## 2763                             expose    2
## 2764                            express    2
## 2765                             extend    2
## 2766                          extortion    2
## 2767                        fabrication    2
## 2768                             facing    2
## 2769                              fails    2
## 2770                             fallen    2
## 2771                            falsely    2
## 2772                            farmers    2
## 2773                                fat    2
## 2774                           favorite    2
## 2775                             favors    2
## 2776                            fawning    2
## 2777                           featured    2
## 2778                           february    2
## 2779                                fec    2
## 2780                            federal    2
## 2781                              feels    2
## 2782                               fest    2
## 2783                              filed    2
## 2784                            finance    2
## 2785                             firing    2
## 2786                              fixed    2
## 2787                             fixing    2
## 2788                              flags    2
## 2789                              flake    2
## 2790                               flat    2
## 2791                           fletcher    2
## 2792                           followed    2
## 2793                               food    2
## 2794                              fools    2
## 2795                            forming    2
## 2796                               foul    2
## 2797                            founder    2
## 2798                     franklingraham    2
## 2799                        frontrunner    2
## 2800                              fully    2
## 2801                        fundraisers    2
## 2802                            funeral    2
## 2803                             fusion    2
## 2804                              gangs    2
## 2805                            garbage    2
## 2806                              gates    2
## 2807                               gays    2
## 2808                         gettysburg    2
## 2809                              giant    2
## 2810                               glad    2
## 2811                              globe    2
## 2812                              glory    2
## 2813                               goal    2
## 2814                               gold    2
## 2815                             golden    2
## 2816                            gonzalo    2
## 2817                             gotcha    2
## 2818                          govkasich    2
## 2819                            graydon    2
## 2820                            greater    2
## 2821                           greatest    2
## 2822                              green    2
## 2823                         greenville    2
## 2824                          groveling    2
## 2825                    gstephanopoulos    2
## 2826                              guest    2
## 2827                               guys    2
## 2828                           haberman    2
## 2829                            happens    2
## 2830                            happily    2
## 2831                             harder    2
## 2832                            hardest    2
## 2833                        hardworking    2
## 2834                            harvard    2
## 2835                              hater    2
## 2836                              haute    2
## 2837                           headline    2
## 2838                            hearing    2
## 2839                            heavily    2
## 2840                              hedge    2
## 2841                               hero    2
## 2842                             heroin    2
## 2843                            hershey    2
## 2844                             hewitt    2
## 2845                             hilton    2
## 2846                               hold    2
## 2847                            holding    2
## 2848                               hole    2
## 2849                            honesty    2
## 2850                            hopkins    2
## 2851                         horrendous    2
## 2852                             hosted    2
## 2853                            however    2
## 2854             http://t.co/fokcasbvun    2
## 2855                               huff    2
## 2856                               huge    2
## 2857                               hugh    2
## 2858                           hundreds    2
## 2859                          hurricane    2
## 2860                            hurting    2
## 2861                               idea    2
## 2862                           ignoring    2
## 2863                             impact    2
## 2864                          impressed    2
## 2865                          incapable    2
## 2866                           incident    2
## 2867                           includes    2
## 2868                             income    2
## 2869                       incompetence    2
## 2870                        incorrectly    2
## 2871                          increased    2
## 2872                         incredibly    2
## 2873                             indeed    2
## 2874                       indianapolis    2
## 2875                           industry    2
## 2876                          influence    2
## 2877                             influx    2
## 2878                             inform    2
## 2879                           innocent    2
## 2880                         innovation    2
## 2881                             insane    2
## 2882                            insider    2
## 2883                         insightful    2
## 2884                         instructed    2
## 2885                      interruptions    2
## 2886                      interventions    2
## 2887                         interviews    2
## 2888                        introducing    2
## 2889                       introduction    2
## 2890                                 iq    2
## 2891                            ireland    2
## 2892                             ironic    2
## 2893                               isil    2
## 2894                            israeli    2
## 2895                               jack    2
## 2896                               jake    2
## 2897                           jeffress    2
## 2898                              jerry    2
## 2899                             jewish    2
## 2900                                jim    2
## 2901                              jones    2
## 2902                           judgment    2
## 2903                               july    2
## 2904                                  k    2
## 2905                         katyturnbc    2
## 2906                           kayleigh    2
## 2907                            keeping    2
## 2908                              keeps    2
## 2909                          kellyanne    2
## 2910                               kept    2
## 2911                              kevin    2
## 2912                            kidding    2
## 2913                            knocked    2
## 2914                            kristol    2
## 2915                              kurtz    2
## 2916                                 ky    2
## 2917                              labor    2
## 2918                               land    2
## 2919                           language    2
## 2920                             lately    2
## 2921                              later    2
## 2922                           launched    2
## 2923                            lawsuit    2
## 2924                           lawsuits    2
## 2925                             leaked    2
## 2926                             ledger    2
## 2927                            letting    2
## 2928                        liabilities    2
## 2929                              liars    2
## 2930                           lifetime    2
## 2931                       lightweights    2
## 2932                           limbaugh    2
## 2933                             linked    2
## 2934                              lived    2
## 2935                       livetweeting    2
## 2936                             living    2
## 2937                           longtime    2
## 2938                               lots    2
## 2939                           lowering    2
## 2940                             lowest    2
## 2941                              loyal    2
## 2942                             madeup    2
## 2943                            madness    2
## 2944                             maggie    2
## 2945                             magnet    2
## 2946                        magnificent    2
## 2947                               main    2
## 2948                             majors    2
## 2949              makeamericagreatagain    2
## 2950                             manage    2
## 2951                           manassas    2
## 2952                           maralago    2
## 2953                         marcorubio    2
## 2954                             market    2
## 2955                              marks    2
## 2956                           marshall    2
## 2957                        masterminds    2
## 2958                               mate    2
## 2959                               math    2
## 2960                               mean    2
## 2961                              meant    2
## 2962                           medicaid    2
## 2963                            medical    2
## 2964                           medicare    2
## 2965                       meetthepress    2
## 2966                           meltdown    2
## 2967                             member    2
## 2968                               memo    2
## 2969                             mental    2
## 2970                             mentor    2
## 2971                              merry    2
## 2972                               mesa    2
## 2973                          messenger    2
## 2974                          miami12pm    2
## 2975                         microphone    2
## 2976                        middleclass    2
## 2977                               mika    2
## 2978                               mile    2
## 2979                          milwaukee    2
## 2980                            minimum    2
## 2981                            minions    2
## 2982                          minnesota    2
## 2983                         misleading    2
## 2984                            mission    2
## 2985                             mobile    2
## 2986                             mocked    2
## 2987                              model    2
## 2988                             moment    2
## 2989                                mon    2
## 2990                      monicacrowley    2
## 2991                              month    2
## 2992                            morocco    2
## 2993                              morty    2
## 2994                              mouth    2
## 2995                              moved    2
## 2996                              moves    2
## 2997                                 ms    2
## 2998                              names    2
## 2999                         negatively    2
## 3000                            neither    2
## 3001                                net    2
## 3002                          netanyahu    2
## 3003                            newsmax    2
## 3004                         newspapers    2
## 3005                     newswashington    2
## 3006                             nicole    2
## 3007                              nieto    2
## 3008                                 nm    2
## 3009                          nominated    2
## 3010                           nonsense    2
## 3011                            norfolk    2
## 3012                               nose    2
## 3013                               novi    2
## 3014                               nuke    2
## 3015                               nuts    2
## 3016                                oan    2
## 3017                         obligation    2
## 3018                           obsolete    2
## 3019                             oclock    2
## 3020                           odonnell    2
## 3021                          offensive    2
## 3022                              offer    2
## 3023                         officially    2
## 3024                            omalley    2
## 3025                               onto    2
## 3026                             openly    2
## 3027                          operation    2
## 3028                          operative    2
## 3029                            opinion    2
## 3030                            opposed    2
## 3031                         opposition    2
## 3032                             orange    2
## 3033                            ordered    2
## 3034                       organization    2
## 3035                          organized    2
## 3036                           original    2
## 3037                         orlando4pm    2
## 3038                               ours    2
## 3039                            outlets    2
## 3040                           outsider    2
## 3041                        outstanding    2
## 3042                               oval    2
## 3043                          overdoses    2
## 3044                            oversaw    2
## 3045                               owes    2
## 3046                                pac    2
## 3047                            pageant    2
## 3048                             palins    2
## 3049                           panicked    2
## 3050                             parade    2
## 3051                        participate    2
## 3052                      participating    2
## 3053                            passing    2
## 3054                            passion    2
## 3055                             pataki    2
## 3056                         payforplay    2
## 3057                              peace    2
## 3058                     peggynoonannyc    2
## 3059                           penchant    2
## 3060                        pensacola7p    2
## 3061                            peoples    2
## 3062                         percentage    2
## 3063                              perry    2
## 3064                           personal    2
## 3065                         personally    2
## 3066                               pete    2
## 3067                         phenomenal    2
## 3068                             philly    2
## 3069                              photo    2
## 3070                            picture    2
## 3071                              pilot    2
## 3072                              pivot    2
## 3073                           platform    2
## 3074                           playbook    2
## 3075                            pleased    2
## 3076                             plenty    2
## 3077                           plymouth    2
## 3078                           podestas    2
## 3079                           politico    2
## 3080                           pollster    2
## 3081                               pope    2
## 3082                            popular    2
## 3083                           postpone    2
## 3084                        practically    2
## 3085                          predators    2
## 3086                          pretended    2
## 3087                            prevail    2
## 3088                              prime    2
## 3089                          primetime    2
## 3090                             prince    2
## 3091                          principle    2
## 3092                                pro    2
## 3093                      professionals    2
## 3094                          professor    2
## 3095                            profits    2
## 3096                            project    2
## 3097                              proof    2
## 3098                           proposal    2
## 3099                         prosecuted    2
## 3100                         prosecutor    2
## 3101                             proves    2
## 3102                                 pt    2
## 3103                          publicity    2
## 3104                          publisher    2
## 3105                             pueblo    2
## 3106                            pulling    2
## 3107                           purposes    2
## 3108                              quest    2
## 3109                       questionable    2
## 3110                           quitting    2
## 3111                                quo    2
## 3112                            raleigh    2
## 3113                              ralph    2
## 3114                              reach    2
## 3115                            readers    2
## 3116                            reading    2
## 3117                             reagan    2
## 3118                    realdonaldtrump    2
## 3119                           realized    2
## 3120                            reasons    2
## 3121                           reckless    2
## 3122                          recommend    2
## 3123                          recovered    2
## 3124                                red    2
## 3125                            redding    2
## 3126                            reforms    2
## 3127                           refusing    2
## 3128                         registered    2
## 3129                       registration    2
## 3130                               reid    2
## 3131                          releasing    2
## 3132                             relief    2
## 3133                          religious    2
## 3134                           remained    2
## 3135                        remembrance    2
## 3136                           reminder    2
## 3137                           replaced    2
## 3138                          represent    2
## 3139                     representation    2
## 3140                             repubs    2
## 3141                            request    2
## 3142                                res    2
## 3143                            restore    2
## 3144                             return    2
## 3145                          returning    2
## 3146                            reveals    2
## 3147                         revolution    2
## 3148                              ridge    2
## 3149                       ridiculously    2
## 3150                                rig    2
## 3151                            rigging    2
## 3152                               ring    2
## 3153                               rise    2
## 3154                          robertson    2
## 3155                            romneys    2
## 3156                          romneywho    2
## 3157                                ron    2
## 3158                               root    2
## 3159                               rory    2
## 3160                               rose    2
## 3161                                row    2
## 3162                                 rs    2
## 3163                            ruining    2
## 3164                              rules    2
## 3165                               runs    2
## 3166                            russian    2
## 3167                          sachsciti    2
## 3168                         sacramento    2
## 3169                            sailors    2
## 3170                           salaries    2
## 3171                          sanctions    2
## 3172                             saving    2
## 3173                              scale    2
## 3174                             scalia    2
## 3175                             scheme    2
## 3176                     scottienhughes    2
## 3177                             scream    2
## 3178                               seal    2
## 3179                               seat    2
## 3180                           secretly    2
## 3181                               seem    2
## 3182                              seems    2
## 3183                               sees    2
## 3184                            selling    2
## 3185                           senators    2
## 3186                              sends    2
## 3187                          september    2
## 3188                             series    2
## 3189                           severely    2
## 3190                                sex    2
## 3191                             sexism    2
## 3192                              shake    2
## 3193                             shared    2
## 3194                              shoot    2
## 3195                               shop    2
## 3196                               side    2
## 3197                         signatures    2
## 3198                            silence    2
## 3199                             single    2
## 3200                              slate    2
## 3201                             sleazy    2
## 3202                             sloppy    2
## 3203                              sneak    2
## 3204                             social    2
## 3205                           sometime    2
## 3206                           somewhat    2
## 3207                               sons    2
## 3208                              sorts    2
## 3209                              sound    2
## 3210                             sparks    2
## 3211                            spencer    2
## 3212                             spends    2
## 3213                               spin    2
## 3214                             sports    2
## 3215                             spread    2
## 3216                               stab    2
## 3217                            stacked    2
## 3218                            stadium    2
## 3219                           stairway    2
## 3220                             stands    2
## 3221                            starved    2
## 3222                          statewide    2
## 3223                              steve    2
## 3224                          stirewalt    2
## 3225                             stolen    2
## 3226                              stood    2
## 3227                             stores    2
## 3228                            strange    2
## 3229                              straw    2
## 3230                          streaming    2
## 3231                         strengthen    2
## 3232                     stuartpstevens    2
## 3233                              stuck    2
## 3234                           students    2
## 3235                           suffered    2
## 3236                             summit    2
## 3237                                sun    2
## 3238                         supporting    2
## 3239                              surge    2
## 3240                          surrender    2
## 3241                           surround    2
## 3242                            survive    2
## 3243                              swamp    2
## 3244                             tapper    2
## 3245                             tarmac    2
## 3246                              teams    2
## 3247                       teleprompter    2
## 3248                        telepromter    2
## 3249                              tells    2
## 3250                              terre    2
## 3251                                thr    2
## 3252                         throughout    2
## 3253                           throwing    2
## 3254                             thrown    2
## 3255                               thru    2
## 3256                         tournament    2
## 3257                            towards    2
## 3258                          traveling    2
## 3259                             treats    2
## 3260                              trend    2
## 3261                           trillion    2
## 3262                             triple    2
## 3263                              tubes    2
## 3264                              tulsa    2
## 3265                            turmoil    2
## 3266                            tweeted    2
## 3267                             tweets    2
## 3268                                 tx    2
## 3269                            ukraine    2
## 3270                           ultimate    2
## 3271                              unify    2
## 3272                           unifying    2
## 3273                             unlike    2
## 3274                     unprofessional    2
## 3275                             unreal    2
## 3276                         unreported    2
## 3277                        unscheduled    2
## 3278                         untalented    2
## 3279                        unwatchable    2
## 3280                           upcoming    2
## 3281                            uranium    2
## 3282                              urged    2
## 3283                               uses    2
## 3284                                vet    2
## 3285                            vetting    2
## 3286                            vicente    2
## 3287                             videos    2
## 3288                               view    2
## 3289                           visiting    2
## 3290                                 wa    2
## 3291                              wacky    2
## 3292                             walker    2
## 3293                               warm    2
## 3294                             warned    2
## 3295                               wars    2
## 3296                     washingtonpost    2
## 3297                             waving    2
## 3298                               ways    2
## 3299                            weapons    2
## 3300                              weird    2
## 3301                          welcoming    2
## 3302                                 wh    2
## 3303                              whats    2
## 3304                            wherein    2
## 3305                           wherever    2
## 3306                        wilkesbarre    2
## 3307                             willie    2
## 3308                            willing    2
## 3309                              wreck    2
## 3310                             wsjnbc    2
## 3311                                wtc    2
## 3312                                 wv    2
## 3313                                 ya    2
## 3314                         youngstown    2
## 3315                              youre    2
## 3316                         zuckermans    2
## 3317                               @722    1
## 3318                             @9news    1
## 3319             @abcnewswashingtonpost    1
## 3320                       @abcpolitics    1
## 3321                    @alisyncamerota    1
## 3322                      @alwaleedbint    1
## 3323                     @alwaleedtalal    1
## 3324                    @americanlegion    1
## 3325                    @andreatantaros    1
## 3326                      @andydean2014    1
## 3327                        @anncoulter    1
## 3328                        @arappeport    1
## 3329                        @ariemanuel    1
## 3330                            @atfd17    1
## 3331                      @billdeblasio    1
## 3332                        @billhemmer    1
## 3333                       @billoreilly    1
## 3334                         @billyjoel    1
## 3335                    @billynungesser    1
## 3336                   @bishopwtjackson    1
## 3337                            @bodiet    1
## 3338                        @carlhigbie    1
## 3339                       @charleshurt    1
## 3340                      @chaseelliott    1
## 3341                        @chezvachon    1
## 3342                     @chrischristie    1
## 3343                        @cnnsitroom    1
## 3344                     @cynthialummis    1
## 3345                        @dailybeast    1
## 3346                         @dailymail    1
## 3347                          @dallaspd    1
## 3348                        @danaperino    1
## 3349                         @danawhite    1
## 3350                      @davidaxelrod    1
## 3351                        @davidragan    1
## 3352                        @dcexaminer    1
## 3353                          @debsopan    1
## 3354                      @ericgreitens    1
## 3355                       @erinburnett    1
## 3356                     @ethanolbypoet    1
## 3357                   @faithandfreedom    1
## 3358                            @forbes    1
## 3359                   @fortunemagazine    1
## 3360                       @fortworthpd    1
## 3361                       @foxbizalert    1
## 3362                    @franklingraham    1
## 3363                     @gatewaypundit    1
## 3364                          @genflynn    1
## 3365                        @georgewill    1
## 3366                       @georgezwill    1
## 3367                          @gohermie    1
## 3368                       @golfchannel    1
## 3369                           @golfcom    1
## 3370                     @gopconvention    1
## 3371                     @governorperry    1
## 3372                    @governorsununu    1
## 3373                        @govgilmore    1
## 3374                   @govmikehuckabee    1
## 3375                        @govpencein    1
## 3376                   @gravismarketing    1
## 3377                     @hardballchris    1
## 3378                          @heritage    1
## 3379                    @herschelwalker    1
## 3380                           @heytana    1
## 3381                       @howardkurtz    1
## 3382                       @howardstern    1
## 3383                        @hughhewitt    1
## 3384                              @iclv    1
## 3385                       @iowacentral    1
## 3386                      @jacknicklaus    1
## 3387                         @jeffflake    1
## 3388                          @jmartnyt    1
## 3389                         @joetrippi    1
## 3390                        @johnkasich    1
## 3391                      @kellyriddell    1
## 3392                          @kilmeade    1
## 3393                     @kirstenpowers    1
## 3394                   @koster4missouri    1
## 3395                       @ktmcfarland    1
## 3396                          @libertyu    1
## 3397                   @ltstevenlrogers    1
## 3398                            @maddow    1
## 3399                          @mainegop    1
## 3400                     @mariatcardona    1
## 3401                      @markhalperin    1
## 3402                   @marshablackburn    1
## 3403                   @marthamaccallum    1
## 3404                       @megynkellys    1
## 3405                       @mikeneedham    1
## 3406                       @mikeozanian    1
## 3407                           @mmflint    1
## 3408                    @montgomeriefdn    1
## 3409                     @morningsmaria    1
## 3410                   @mrsvanessatrump    1
## 3411                            @nascar    1
## 3412                       @nbcpolitics    1
## 3413                         @nealconan    1
## 3414                         @netanyahu    1
## 3415                      @newtgingrich    1
## 3416                              @nfib    1
## 3417                            @nypost    1
## 3418                           @nyposts    1
## 3419                       @nytimesdowd    1
## 3420                      @nytimesworld    1
## 3421                           @omarosa    1
## 3422                       @outfrontcnn    1
## 3423                    @outnumberedfnc    1
## 3424                   @pastormarkburns    1
## 3425                      @patmccrorync    1
## 3426                      @paulteutulsr    1
## 3427                          @penguins    1
## 3428                              @penn    1
## 3429                      @phillypolice    1
## 3430                      @phussionwyff    1
## 3431                           @pnehlen    1
## 3432                             @pryan    1
## 3433                     @realclearnews    1
## 3434                    @realsheriffjoe    1
## 3435                           @regentu    1
## 3436                    @reploubarletta    1
## 3437                   @repreneeellmers    1
## 3438                           @reuters    1
## 3439                     @reviewjournal    1
## 3440                      @ricksantorum    1
## 3441                       @rondarousey    1
## 3442                       @ryanjnewman    1
## 3443                   @samaritanspurse    1
## 3444                       @scteamtrump    1
## 3445                      @senatemajldr    1
## 3446                   @senatorsessions    1
## 3447                     @senjohnmccain    1
## 3448                    @serenawilliams    1
## 3449                      @shellhouopen    1
## 3450                      @shepnewsteam    1
## 3451                             @sinow    1
## 3452                           @sjsopio    1
## 3453                          @snapchat    1
## 3454                          @sopandeb    1
## 3455                       @speakerryan    1
## 3456                     @stephenathome    1
## 3457                            @stjude    1
## 3458                   @talkersmagazine    1
## 3459                       @tavissmiley    1
## 3460                      @theeconomist    1
## 3461                           @thefive    1
## 3462                           @theherd    1
## 3463                   @thejuanwilliams    1
## 3464                     @therickwilson    1
## 3465                    @theslystallone    1
## 3466                   @thetodaysgolfer    1
## 3467                           @tmobile    1
## 3468                    @tngcbedminster    1
## 3469                             @today    1
## 3470                      @tombarrackjr    1
## 3471                          @tperkins    1
## 3472                             @trump    1
## 3473                           @trumpdc    1
## 3474                      @trumpdoonbeg    1
## 3475                      @trumptowerny    1
## 3476                   @trumpwomenstour    1
## 3477                      @umassamherst    1
## 3478                   @urbandaleschool    1
## 3479                            @usarmy    1
## 3480                              @uscg    1
## 3481                         @washtimes    1
## 3482                    @wayneallynroot    1
## 3483                              @wkrg    1
## 3484                       @wolfblitzer    1
## 3485                  #alconvention2016    1
## 3486                            #amazon    1
## 3487                     #americansamoa    1
## 3488                     #americanunity    1
## 3489                    #americasmerkel    1
## 3490                    #armedforcesday    1
## 3491                            #becool    1
## 3492                          #benghazi    1
## 3493                     #bigleagetruth    1
## 3494                    #bikersfortrump    1
## 3495                            #biloxi    1
## 3496                      #boycottmacys    1
## 3497                          #brussels    1
## 3498                      #buildthewall    1
## 3499                         #caprimary    1
## 3500                       #cincodemayo    1
## 3501                #circleofenrichment    1
## 3502                     #cnbcgopdebate    1
## 3503                               #cnn    1
## 3504                     #coastguardday    1
## 3505                           #colbert    1
## 3506             #commanderinchiefforum    1
## 3507                        #commoncore    1
## 3508                   #crookedhillarys    1
## 3509                         #cruzfraud    1
## 3510                         #ctprimary    1
## 3511                              #dday    1
## 3512                               #dem    1
## 3513                         #deprimary    1
## 3514                         #earlyvote    1
## 3515                         #eauclaire    1
## 3516                           #economy    1
## 3517                     #endcommoncore    1
## 3518                             #enjoy    1
## 3519                    #failingnytimes    1
## 3520                   #flashbackfriday    1
## 3521                            #frozen    1
## 3522                       #goldenglobe    1
## 3523                      #googletrends    1
## 3524                          #gopincle    1
## 3525                   #happymothersday    1
## 3526               #happynewyearamerica    1
## 3527                        #harveypitt    1
## 3528                   #hillarycarefail    1
## 3529                              #huge    1
## 3530                         #hypocrisy    1
## 3531                          #iaforums    1
## 3532                         #icaucused    1
## 3533                        #indprimary    1
## 3534                        #iowacaucus    1
## 3535                            #ivoted    1
## 3536                      #joetheismann    1
## 3537                         #johnryder    1
## 3538                      #kansascaucus    1
## 3539                          #laurence    1
## 3540                     #laurencetribe    1
## 3541                     #leadright2016    1
## 3542                               #leo    1
## 3543      #lightweightsenatormarcorubio    1
## 3544                       #littlemarco    1
## 3545                              #lssc    1
## 3546    #maga\U0001f1fa\U0001f1f8debate    1
## 3547                     #maitnerstrong    1
## 3548             #makeamerciagreatagain    1
## 3549    #makeamericagreatagaintrump2016    1
## 3550             #makeyoutubegreatagain    1
## 3551                          #maralago    1
## 3552                         #mdprimary    1
## 3553                               #mdw    1
## 3554                             #media    1
## 3555                         #mediabuzz    1
## 3556                        #mediafraud    1
## 3557                       #mississippi    1
## 3558                            #nascar    1
## 3559                         #neprimary    1
## 3560                       #neverforget    1
## 3561                        #nevertrump    1
## 3562                      #newhampshire    1
## 3563                       #november8th    1
## 3564                    #obamacaredummy    1
## 3565                   #obamacarefailed    1
## 3566             #obamacareinthreewords    1
## 3567                    #ohiovotesearly    1
## 3568                   #openingceremony    1
## 3569                         #orprimary    1
## 3570                       #pearlharbor    1
## 3571                #politicallycorrect    1
## 3572                            #racine    1
## 3573                     #rallyforriley    1
## 3574                   #rememberourvets    1
## 3575                      #repmikekelly    1
## 3576                           #rio2016    1
## 3577                        #robotrubio    1
## 3578                           #rtm2016    1
## 3579                              #sb50    1
## 3580                    #silentmajority    1
## 3581                               #snl    1
## 3582             #snowflakegardenbrunch    1
## 3583                #standwithlouisiana    1
## 3584                        #stanleycup    1
## 3585                    #stopcommoncore    1
## 3586                   #superbowlsunday    1
## 3587                    #syrianrefugees    1
## 3588                           #teamusa    1
## 3589                               #ted    1
## 3590                           #tedcruz    1
## 3591                         #thankavet    1
## 3592             #theremembranceproject    1
## 3593                             #trump    1
## 3594                        #trump4vets    1
## 3595                    #trumpinstagram    1
## 3596                    #trumppence2016    1
## 3597                        #trumptower    1
## 3598                     #trumptowernyc    1
## 3599                          #tump2016    1
## 3600                               #usa    1
## 3601                       #votersspeak    1
## 3602                       #votetrumphi    1
## 3603                       #votetrumpid    1
## 3604                       #votetrumpil    1
## 3605                       #votetrumpks    1
## 3606                       #votetrumpma    1
## 3607                       #votetrumpms    1
## 3608                       #votetrumpnc    1
## 3609                       #votetrumpvt    1
## 3610                       #votetrumpwi    1
## 3611                            #wausau    1
## 3612                             #wcs16    1
## 3613                    #westerntuesday    1
## 3614                     #whereshillary    1
## 3615                         #wisconsin    1
## 3616                         #wvprimary    1
## 3617                                  ~    1
## 3618                    \u2705eliminate    1
## 3619                      \u2705florida    1
## 3620                     \u2705illinois    1
## 3621                         \u2705lean    1
## 3622                        \u2705lower    1
## 3623                     \u2705missouri    1
## 3624                        \u2705north    1
## 3625                         \u2705ohio    1
## 3626                                $$$    1
## 3627                               $$$$    1
## 3628                              $1000    1
## 3629                         $100000000    1
## 3630                               $106    1
## 3631                               $11m    1
## 3632                            $120000    1
## 3633                               $12m    1
## 3634                                $13    1
## 3635                               $13m    1
## 3636                         $150000000    1
## 3637                              $150m    1
## 3638                                $18    1
## 3639                            $180000    1
## 3640                               $194    1
## 3641                               $200    1
## 3642                             $20000    1
## 3643                            $200000    1
## 3644                                $28    1
## 3645                           $3000000    1
## 3646                          $35000000    1
## 3647                          $40000000    1
## 3648                          $400myear    1
## 3649                              $487k    1
## 3650                              $5000    1
## 3651                              $500k    1
## 3652                                $56    1
## 3653                                 $6    1
## 3654                         $600000000    1
## 3655                          $63000000    1
## 3656                                $67    1
## 3657                                $6m    1
## 3658                                $80    1
## 3659                                $89    1
## 3660                          $millions    1
## 3661                                 08    1
## 3662                             100000    1
## 3663                               1001    1
## 3664                             1010pm    1
## 3665                            1032015    1
## 3666                                108    1
## 3667                               10o0    1
## 3668                               10th    1
## 3669                             113826    1
## 3670                                114    1
## 3671                               1150    1
## 3672                            1172016    1
## 3673                                11a    1
## 3674                              11pme    1
## 3675                               11th    1
## 3676                               1215    1
## 3677                            1215000    1
## 3678                             1230pm    1
## 3679                                12k    1
## 3680                              130pm    1
## 3681                               13th    1
## 3682                              14000    1
## 3683                                143    1
## 3684                               14th    1
## 3685                                153    1
## 3686                                15k    1
## 3687                              16000    1
## 3688                                165    1
## 3689                        16apologize    1
## 3690                              17000    1
## 3691                                179    1
## 3692                             179249    1
## 3693                           18000000    1
## 3694                              18290    1
## 3695                                185    1
## 3696                               1944    1
## 3697                               1978    1
## 3698                               1984    1
## 3699                               1988    1
## 3700                               1for    1
## 3701                           1million    1
## 3702                                1oo    1
## 3703                                1pm    1
## 3704                               1pme    1
## 3705                             200000    1
## 3706                               2001    1
## 3707                               2005    1
## 3708                               2009    1
## 3709                               200k    1
## 3710                              200pm    1
## 3711                           200pmest    1
## 3712                               2011    1
## 3713                               2012    1
## 3714                                20k    1
## 3715                              20min    1
## 3716                               20th    1
## 3717                               2116    1
## 3718                             212016    1
## 3719                           21points    1
## 3720                                223    1
## 3721                              226th    1
## 3722                                 23    1
## 3723                              241st    1
## 3724                               24th    1
## 3725                                 25    1
## 3726                              2500+    1
## 3727                             250000    1
## 3728                               2522    1
## 3729                                25m    1
## 3730                                 26    1
## 3731                                278    1
## 3732                                 2m    1
## 3733                             2point    1
## 3734                             2yrsan    1
## 3735                              31000    1
## 3736                              32000    1
## 3737                                322    1
## 3738                                327    1
## 3739                             352016    1
## 3740                                365    1
## 3741                             382016    1
## 3742                                 3m    1
## 3743                                40+    1
## 3744                                400    1
## 3745                              400pm    1
## 3746                               4100    1
## 3747                             41to14    1
## 3748                                 44    1
## 3749                                450    1
## 3750                               4641    1
## 3751                                465    1
## 3752                               4743    1
## 3753                                 48    1
## 3754                                 49    1
## 3755                                497    1
## 3756                                 4p    1
## 3757                               4pme    1
## 3758                              500pm    1
## 3759                                50k    1
## 3760                                 51    1
## 3761                              51yrs    1
## 3762                              52516    1
## 3763                              52616    1
## 3764                                 53    1
## 3765                                530    1
## 3766                               53rd    1
## 3767                               57pm    1
## 3768                                 5k    1
## 3769                                5k+    1
## 3770                               6000    1
## 3771                             600700    1
## 3772                              600pm    1
## 3773                                 61    1
## 3774                                613    1
## 3775                                615    1
## 3776                                629    1
## 3777                              630am    1
## 3778                              630pm    1
## 3779                                 64    1
## 3780                                 65    1
## 3781                                 66    1
## 3782                                 67    1
## 3783                            6700000    1
## 3784                                 69    1
## 3785                              6days    1
## 3786                                 70    1
## 3787                              700am    1
## 3788                              700pm    1
## 3789                                715    1
## 3790                                728    1
## 3791                                 73    1
## 3792                                735    1
## 3793                                739    1
## 3794                                73o    1
## 3795                                740    1
## 3796                                747    1
## 3797                           7533692a    1
## 3798                                 77    1
## 3799                                 78    1
## 3800                                 7k    1
## 3801                                 7p    1
## 3802                                7th    1
## 3803                                7yr    1
## 3804                                 80    1
## 3805                             800000    1
## 3806                             800pme    1
## 3807                              810pm    1
## 3808                                823    1
## 3809                             830pme    1
## 3810                                 84    1
## 3811                                840    1
## 3812                      8646551trumps    1
## 3813                                 87    1
## 3814                               8712    1
## 3815                               8ame    1
## 3816                         8thbecause    1
## 3817                               900+    1
## 3818                              900am    1
## 3819                            9132001    1
## 3820                              91401    1
## 3821                                 92    1
## 3822                              92112    1
## 3823                               930p    1
## 3824                                967    1
## 3825                               9916    1
## 3826                                9am    1
## 3827                               9ame    1
## 3828                               9pme    1
## 3829                                9th    1
## 3830                          abandoned    1
## 3831                        abcpolitics    1
## 3832                           abdeslam    1
## 3833                           abdullah    1
## 3834                       abilityzilch    1
## 3835                           abingdon    1
## 3836                             abroad    1
## 3837                           absentee    1
## 3838                                abu    1
## 3839                              abuse    1
## 3840                             abused    1
## 3841                             abuser    1
## 3842                                 ac    1
## 3843                         acceptable    1
## 3844                          accessory    1
## 3845                           accolade    1
## 3846                         accomplish    1
## 3847                       accomplished    1
## 3848                     accountability    1
## 3849                         accurately    1
## 3850                            accused    1
## 3851                            accuser    1
## 3852                           acidwash    1
## 3853                              acted    1
## 3854                           actionit    1
## 3855                             active    1
## 3856                          activists    1
## 3857                                add    1
## 3858                             adding    1
## 3859                           addition    1
## 3860                       additionally    1
## 3861                            adelson    1
## 3862                    administrationa    1
## 3863                             admits    1
## 3864                         admonished    1
## 3865                                adv    1
## 3866                        advertisers    1
## 3867                             advise    1
## 3868                           advisors    1
## 3869                           advisory    1
## 3870                           advocate    1
## 3871                             aerial    1
## 3872                        afghanistan    1
## 3873                         afternoons    1
## 3874                            againhe    1
## 3875                           againjeb    1
## 3876                                age    1
## 3877                           agencies    1
## 3878                          agitators    1
## 3879                          agreement    1
## 3880                               aide    1
## 3881                              aided    1
## 3882                                aig    1
## 3883                              ailsa    1
## 3884                             airbus    1
## 3885                              aired    1
## 3886                             airing    1
## 3887                           airwaves    1
## 3888                              akbar    1
## 3889                          albaghdad    1
## 3890                               alec    1
## 3891                          alejandro    1
## 3892                                ali    1
## 3893                             aliens    1
## 3894                         alienssave    1
## 3895                              alisa    1
## 3896                             alisyn    1
## 3897                              alive    1
## 3898                              allah    1
## 3899                              allen    1
## 3900                           alliance    1
## 3901                              allis    1
## 3902                             allows    1
## 3903                             allure    1
## 3904                               ally    1
## 3905                            alongno    1
## 3906                          alongside    1
## 3907                          alshabaab    1
## 3908                          alshabbab    1
## 3909                         altogether    1
## 3910                             amazed    1
## 3911                             amazes    1
## 3912                          amazingly    1
## 3913                          ambitious    1
## 3914                           ambridge    1
## 3915                           ambushed    1
## 3916                             amenia    1
## 3917                               ames    1
## 3918                            amnever    1
## 3919                            anchors    1
## 3920                     andreatantaros    1
## 3921                         andrebauer    1
## 3922                             andrew    1
## 3923                              angel    1
## 3924                            animals    1
## 3925                         anncoulter    1
## 3926                        anncoulters    1
## 3927                        announcedby    1
## 3928                         announcers    1
## 3929                          announces    1
## 3930                         announcing    1
## 3931                          anonymous    1
## 3932                           answered    1
## 3933                            answers    1
## 3934                             anti2a    1
## 3935                             antics    1
## 3936                        antidefense    1
## 3937                          antiwomen    1
## 3938                            antonin    1
## 3939                        anymorethey    1
## 3940                            anytime    1
## 3941                         apologetic    1
## 3942                                app    1
## 3943                            apparel    1
## 3944                         appearance    1
## 3945                           appleton    1
## 3946                        application    1
## 3947                            applied    1
## 3948                            applies    1
## 3949                          appointed    1
## 3950                       appointments    1
## 3951                       appreciation    1
## 3952                            approve    1
## 3953                             approx    1
## 3954                      approximately    1
## 3955                                 ar    1
## 3956                          architect    1
## 3957                              areas    1
## 3958                                arg    1
## 3959                             argued    1
## 3960                           argument    1
## 3961                             arlene    1
## 3962                           arranged    1
## 3963                            arrival    1
## 3964                             arrive    1
## 3965                           articles    1
## 3966                          asheville    1
## 3967                                ass    1
## 3968                            assault    1
## 3969                         assaulting    1
## 3970                          assembled    1
## 3971                          assetsthe    1
## 3972                             assume    1
## 3973                             assure    1
## 3974                                at1    1
## 3975                                ate    1
## 3976                            atheist    1
## 3977                             attend    1
## 3978                         attendance    1
## 3979                          attending    1
## 3980                          attention    1
## 3981                          attitudea    1
## 3982                               attn    1
## 3983                           attorney    1
## 3984                         attracting    1
## 3985                              audio    1
## 3986                         auditorium    1
## 3987                             august    1
## 3988                            augusta    1
## 3989                          authentic    1
## 3990                             author    1
## 3991                        authorities    1
## 3992                              autos    1
## 3993                                ave    1
## 3994                             avenue    1
## 3995                            averted    1
## 3996                               aviv    1
## 3997                              avoid    1
## 3998                            avoided    1
## 3999                              awake    1
## 4000                            awarded    1
## 4001                          awareness    1
## 4002                            awaythe    1
## 4003                            awkward    1
## 4004                           backbone    1
## 4005                          backfired    1
## 4006                              backs    1
## 4007                           backstop    1
## 4008                             backup    1
## 4009                              bader    1
## 4010                          badgering    1
## 4011                            baghdad    1
## 4012                               bake    1
## 4013                          balancing    1
## 4014                            baldwin    1
## 4015                           ballroom    1
## 4016                            bandits    1
## 4017                         bangladesh    1
## 4018                           bankrupt    1
## 4019                       bankruptcies    1
## 4020                             banned    1
## 4021                             bannon    1
## 4022                             barack    1
## 4023                            barbaro    1
## 4024                           barrasso    1
## 4025                             barrel    1
## 4026                             barron    1
## 4027                              barry    1
## 4028                               base    1
## 4029                            bashers    1
## 4030                         basketball    1
## 4031                         basketcase    1
## 4032                       battleground    1
## 4033                         battleship    1
## 4034                              beans    1
## 4035                              beats    1
## 4036                             beauty    1
## 4037                              becki    1
## 4038                            becomes    1
## 4039                            bedford    1
## 4040                             begala    1
## 4041                            behaved    1
## 4042                         believable    1
## 4043                          believers    1
## 4044                             belong    1
## 4045                            belongs    1
## 4046                            beloved    1
## 4047                              below    1
## 4048                             bemoan    1
## 4049                         benefactor    1
## 4050                         benefitted    1
## 4051                         benevolent    1
## 4052                           benghazi    1
## 4053                               bens    1
## 4054                           bensasse    1
## 4055                    bernardgoldberg    1
## 4056                   berniesanderswho    1
## 4057                            berrien    1
## 4058                            besides    1
## 4059                              bests    1
## 4060                           bethpage    1
## 4061                             beware    1
## 4062                        biasedhates    1
## 4063                         biasedthey    1
## 4064                              bigif    1
## 4065                            bigotry    1
## 4066                             bikers    1
## 4067                       billdeblasio    1
## 4068                           billings    1
## 4069                        billkristol    1
## 4070                          billmaher    1
## 4071                              bimbo    1
## 4072                            binding    1
## 4073                              birth    1
## 4074                            birther    1
## 4075                         birthright    1
## 4076                             births    1
## 4077                             bishop    1
## 4078                                biz    1
## 4079                              blame    1
## 4080                             blames    1
## 4081                            blasted    1
## 4082                           bleeding    1
## 4083                            bloated    1
## 4084                            blogger    1
## 4085                             blowup    1
## 4086                        bludgeoning    1
## 4087                         bluecollar    1
## 4088                            boarded    1
## 4089                           boarding    1
## 4090                             boards    1
## 4091                               body    1
## 4092                             bomber    1
## 4093                          bombshell    1
## 4094                              booed    1
## 4095                             booker    1
## 4096                            booketc    1
## 4097                              booth    1
## 4098                             booths    1
## 4099                         borderless    1
## 4100                               bore    1
## 4101                            borisep    1
## 4102                             borrow    1
## 4103                            bossesi    1
## 4104                             bowden    1
## 4105                              bowls    1
## 4106                                box    1
## 4107                              boxer    1
## 4108                              boxes    1
## 4109                         boycotting    1
## 4110                            boynton    1
## 4111                                 bp    1
## 4112                         brainpower    1
## 4113                        brainwashed    1
## 4114                             branch    1
## 4115                               brat    1
## 4116                            bravely    1
## 4117                            bravery    1
## 4118                             breach    1
## 4119                          breakdown    1
## 4120                          breakfast    1
## 4121                             breast    1
## 4122                            breathe    1
## 4123                          breitbart    1
## 4124                     breitbarttotal    1
## 4125                        brentbozell    1
## 4126                             brewer    1
## 4127                            bribery    1
## 4128                         bridgeport    1
## 4129                          briefings    1
## 4130                             brigid    1
## 4131                        brilliantly    1
## 4132                          broadcast    1
## 4133                       broadcasting    1
## 4134                         broaddrick    1
## 4135                           broadway    1
## 4136                          brokesaid    1
## 4137                    brookslawbrooks    1
## 4138                           bruising    1
## 4139                              bruni    1
## 4140                         brzezinski    1
## 4141                              bubba    1
## 4142                           buchanan    1
## 4143                             buckle    1
## 4144                            buckley    1
## 4145                            buffalo    1
## 4146                            buffoon    1
## 4147                             builds    1
## 4148                              bully    1
## 4149                             bureau    1
## 4150                            burning    1
## 4151                               bury    1
## 4152                            burying    1
## 4153                                bus    1
## 4154                            bushbut    1
## 4155                          bushspent    1
## 4156                        businessman    1
## 4157                             buyers    1
## 4158                                bye    1
## 4159                              byrne    1
## 4160                          byronyork    1
## 4161                                 ca    1
## 4162                              cable    1
## 4163                            caesars    1
## 4164                               cake    1
## 4165                                cal    1
## 4166                 californiatomorrow    1
## 4167                            callins    1
## 4168                               calm    1
## 4169                             camera    1
## 4170                           camerota    1
## 4171                        campaignhis    1
## 4172                              camps    1
## 4173                             cancel    1
## 4174                         cancelling    1
## 4175                          candidacy    1
## 4176                     candidatestold    1
## 4177                             cannon    1
## 4178                         capability    1
## 4179                            capital    1
## 4180                            capture    1
## 4181                                car    1
## 4182                             carbon    1
## 4183                            careers    1
## 4184                             caring    1
## 4185                               carl    1
## 4186                       carlyfiorina    1
## 4187                         carolinain    1
## 4188                        carolinated    1
## 4189                            carried    1
## 4190                           carrying    1
## 4191                            cartoon    1
## 4192                             castro    1
## 4193                        cataclysmic    1
## 4194                       catastrophic    1
## 4195                            catches    1
## 4196                           catching    1
## 4197                         categories    1
## 4198                           catholic    1
## 4199                          catholics    1
## 4200                        caucusgoers    1
## 4201                    causedstupidity    1
## 4202                            causing    1
## 4203                            cbsnews    1
## 4204                               cbss    1
## 4205                                 cc    1
## 4206                           ccolvinj    1
## 4207                              ceder    1
## 4208                            ceiling    1
## 4209                       celebrations    1
## 4210                               cell    1
## 4211                          cellphone    1
## 4212                                ceo    1
## 4213                          certified    1
## 4214                                 ch    1
## 4215                             chafee    1
## 4216                              chair    1
## 4217                             chairs    1
## 4218                            chalian    1
## 4219                          challenge    1
## 4220                      championships    1
## 4221                            changer    1
## 4222                           chanting    1
## 4223                              chaos    1
## 4224                        charleshurt    1
## 4225                    charlestonmount    1
## 4226                            cheated    1
## 4227                           cheaters    1
## 4228                            checked    1
## 4229                           cheering    1
## 4230                              cheri    1
## 4231                            cherish    1
## 4232                             cheryl    1
## 4233                            chester    1
## 4234                              chief    1
## 4235                         childishly    1
## 4236                               chip    1
## 4237                            choices    1
## 4238                              choke    1
## 4239                             chokes    1
## 4240                            chooses    1
## 4241                            chozick    1
## 4242                           chugging    1
## 4243                                cia    1
## 4244                           cillizza    1
## 4245                             circle    1
## 4246                           circuits    1
## 4247                      circumstances    1
## 4248                             circus    1
## 4249                               cite    1
## 4250                               citi    1
## 4251                  citizenscontinued    1
## 4252                       civilization    1
## 4253                             claire    1
## 4254                      clarification    1
## 4255                          classroom    1
## 4256                            cleaner    1
## 4257                             clerks    1
## 4258                            clients    1
## 4259                            climate    1
## 4260                            climber    1
## 4261                             clinch    1
## 4262                              clint    1
## 4263                       clintonobama    1
## 4264                               clip    1
## 4265                            closely    1
## 4266                             closer    1
## 4267                            closest    1
## 4268                             clowns    1
## 4269                        club4growth    1
## 4270                          clubgoers    1
## 4271                              clubs    1
## 4272                             clumsy    1
## 4273                               cnet    1
## 4274                               cnmi    1
## 4275                               cnns    1
## 4276                            cnnwmur    1
## 4277                            cocaine    1
## 4278                        coincidence    1
## 4279                              cokie    1
## 4280                       colincowherd    1
## 4281                           coliseum    1
## 4282                          collector    1
## 4283                            collins    1
## 4284                            collude    1
## 4285                             combat    1
## 4286                           combined    1
## 4287                               comm    1
## 4288                        commentator    1
## 4289                       commentators    1
## 4290                         commenting    1
## 4291                         commitment    1
## 4292                     communications    1
## 4293                          communism    1
## 4294                        communities    1
## 4295                            compare    1
## 4296                           compared    1
## 4297                         comparison    1
## 4298                          competent    1
## 4299                           complain    1
## 4300                        complaining    1
## 4301                    complainingthen    1
## 4302                          complains    1
## 4303                       complexities    1
## 4304                        complicated    1
## 4305                         compliment    1
## 4306                          comprised    1
## 4307                   concentrationbut    1
## 4308                        concessions    1
## 4309                           conclude    1
## 4310                            concord    1
## 4311                             concur    1
## 4312                          condemned    1
## 4313                         conditions    1
## 4314                          conducted    1
## 4315                       confirmation    1
## 4316                         conflicted    1
## 4317                        conflicting    1
## 4318                          conflicts    1
## 4319                           confront    1
## 4320                         confronted    1
## 4321                           confused    1
## 4322                     congratulation    1
## 4323                        congressman    1
## 4324                          connected    1
## 4325                         connection    1
## 4326                       conradmblack    1
## 4327                      conservatives    1
## 4328                      consideration    1
## 4329                       consistantly    1
## 4330                       consistently    1
## 4331                         consulting    1
## 4332                           consumer    1
## 4333                            contact    1
## 4334                            contain    1
## 4335                            contest    1
## 4336                        contestants    1
## 4337                         continuing    1
## 4338                         contractor    1
## 4339                           contrary    1
## 4340                        contributor    1
## 4341                        controversy    1
## 4342                        conventions    1
## 4343                       conversation    1
## 4344                             cooked    1
## 4345                             cookie    1
## 4346                        coordinated    1
## 4347                             copied    1
## 4348                            copying    1
## 4349                          copyright    1
## 4350                              corey    1
## 4351                             corker    1
## 4352                             cornel    1
## 4353                          corporate    1
## 4354                          correctly    1
## 4355                              costa    1
## 4356                             cotton    1
## 4357                            counsel    1
## 4358                              count    1
## 4359                          count7943    1
## 4360                           counting    1
## 4361                             countr    1
## 4362                           countryi    1
## 4363                             couple    1
## 4364                         courageous    1
## 4365                            courant    1
## 4366                             couric    1
## 4367                           courtesy    1
## 4368                         courthouse    1
## 4369                             cousin    1
## 4370                            coverup    1
## 4371                           coverups    1
## 4372                               cpac    1
## 4373                              crack    1
## 4374                           cracking    1
## 4375                              crash    1
## 4376                           crashing    1
## 4377                            crazies    1
## 4378                             creati    1
## 4379                           creation    1
## 4380                        credentials    1
## 4381                             crisis    1
## 4382                          criticism    1
## 4383                              crook    1
## 4384                              cross    1
## 4385                          crossblue    1
## 4386                             crosse    1
## 4387                          crossover    1
## 4388                            crowdso    1
## 4389                     crownhypocrite    1
## 4390                            crumble    1
## 4391                          crumbling    1
## 4392                            crushed    1
## 4393                         cruzkasich    1
## 4394                        cruzlawsuit    1
## 4395                              cruzs    1
## 4396                           cruzwhen    1
## 4397                              cspan    1
## 4398                              cties    1
## 4399                              cuban    1
## 4400                               cubs    1
## 4401                            cunning    1
## 4402                              curse    1
## 4403                            customs    1
## 4404                      cybersecurity    1
## 4405                              cycle    1
## 4406                      cyclesgrowing    1
## 4407                              cyrus    1
## 4408                             daddys    1
## 4409                             dakota    1
## 4410                             damage    1
## 4411                          danawhite    1
## 4412                             daniel    1
## 4413                       danielhalper    1
## 4414                        darrellissa    1
## 4415                          databasea    1
## 4416                               date    1
## 4417                       daughterread    1
## 4418                               dave    1
## 4419                               davi    1
## 4420                       davidgregory    1
## 4421                           dbongino    1
## 4422                            dead400    1
## 4423                            deadpan    1
## 4424                             dealer    1
## 4425                            dealers    1
## 4426                              dealt    1
## 4427                             dearly    1
## 4428                          debatewon    1
## 4429                           debtthat    1
## 4430                             decade    1
## 4431                            decades    1
## 4432                             deceit    1
## 4433                           deceived    1
## 4434                             decent    1
## 4435                          deceptive    1
## 4436                           decieved    1
## 4437                           decimate    1
## 4438                          decimated    1
## 4439                          decreased    1
## 4440                        deductibles    1
## 4441                          deduction    1
## 4442                      deedeesorvino    1
## 4443                               deep    1
## 4444                             deeply    1
## 4445                          deerfield    1
## 4446                          defecting    1
## 4447                          defenders    1
## 4448                            defends    1
## 4449                             define    1
## 4450                         definitely    1
## 4451                            deflect    1
## 4452                          defrauded    1
## 4453                            defunct    1
## 4454                               defy    1
## 4455                         degenerate    1
## 4456                        degenerates    1
## 4457                           degraded    1
## 4458                              delay    1
## 4459                            delayed    1
## 4460                           delaying    1
## 4461                            delight    1
## 4462                               dels    1
## 4463                           demanded    1
## 4464                          demeaning    1
## 4465                           demeanor    1
## 4466                           demindie    1
## 4467                       demonstrated    1
## 4468                             denali    1
## 4469                             denial    1
## 4470                             denied    1
## 4471                          denigrate    1
## 4472                                dep    1
## 4473                        departments    1
## 4474                             depict    1
## 4475                           depicted    1
## 4476                       deportations    1
## 4477                         depressing    1
## 4478                         depression    1
## 4479                           deserved    1
## 4480                        desperation    1
## 4481                        destabalize    1
## 4482                         destroying    1
## 4483                           destroys    1
## 4484                        destructive    1
## 4485                           detailed    1
## 4486                           detainee    1
## 4487                        determining    1
## 4488                        devastating    1
## 4489                        devastation    1
## 4490                            devices    1
## 4491                             devote    1
## 4492                     diamondandsilk    1
## 4493                            dictate    1
## 4494                                die    1
## 4495                        differences    1
## 4496                        differently    1
## 4497                            digests    1
## 4498                              digit    1
## 4499                            dilemma    1
## 4500                             diller    1
## 4501                              diner    1
## 4502                           disallow    1
## 4503                         disappoint    1
## 4504                             disarm    1
## 4505                          disasters    1
## 4506                            disavow    1
## 4507                           disclose    1
## 4508                       disconnected    1
## 4509                        discriptive    1
## 4510                         discussion    1
## 4511                    disenfranchised    1
## 4512                           disguise    1
## 4513                            dislike    1
## 4514                         disloyalty    1
## 4515                             dismal    1
## 4516                        dismantling    1
## 4517                            dismiss    1
## 4518                             disney    1
## 4519                            display    1
## 4520                           disposed    1
## 4521                   disproportionate    1
## 4522                 disproportionately    1
## 4523                         disqualify    1
## 4524                      disqualifying    1
## 4525                      disrespectful    1
## 4526                          disrupted    1
## 4527                          disrupter    1
## 4528                         disruptors    1
## 4529                         dissipates    1
## 4530                         distortion    1
## 4531                           distract    1
## 4532                        distrbution    1
## 4533                        distributed    1
## 4534                              ditch    1
## 4535                              dives    1
## 4536                           division    1
## 4537                        djohnsonpga    1
## 4538                                dlg    1
## 4539                                doc    1
## 4540                             doctor    1
## 4541                           doctrine    1
## 4542                        documentary    1
## 4543                          documents    1
## 4544                              dodge    1
## 4545                            dogover    1
## 4546                               dole    1
## 4547                             dollar    1
## 4548                          dominance    1
## 4549                         dominating    1
## 4550                     donaldjtrumpjr    1
## 4551                           donation    1
## 4552                           donlemon    1
## 4553                              donny    1
## 4554                               dono    1
## 4555                            donohue    1
## 4556                              donor    1
## 4557                               doom    1
## 4558                            doonbeg    1
## 4559                              dopes    1
## 4560                          doralbest    1
## 4561                           dornsife    1
## 4562                             dorton    1
## 4563                               dose    1
## 4564                            douglas    1
## 4565                                dow    1
## 4566                               dowd    1
## 4567                              drake    1
## 4568                           dramatic    1
## 4569                              drawn    1
## 4570                            dreamed    1
## 4571                             dreams    1
## 4572                             drehle    1
## 4573                               drew    1
## 4574                           dripdrop    1
## 4575                             driven    1
## 4576                            drivers    1
## 4577                            drmoore    1
## 4578                           drooling    1
## 4579                              drops    1
## 4580                      drudgereports    1
## 4581                         drudgetime    1
## 4582                           druggies    1
## 4583                                dry    1
## 4584                            dubuque    1
## 4585                               duck    1
## 4586                                dud    1
## 4587                               duel    1
## 4588                               duke    1
## 4589                            dumping    1
## 4590                              dunes    1
## 4591                              duped    1
## 4592                                dws    1
## 4593                          dwstweets    1
## 4594                             dwyane    1
## 4595                      dysfunctional    1
## 4596                                  e    1
## 4597                              eagle    1
## 4598                            earlier    1
## 4599                           earliest    1
## 4600                             earned    1
## 4601                            earnest    1
## 4602                         earthquake    1
## 4603                        earthquakes    1
## 4604                             easier    1
## 4605                             easter    1
## 4606                         easterlook    1
## 4607                        easternwill    1
## 4608                           eastwood    1
## 4609                             easyhe    1
## 4610                                eau    1
## 4611                                eco    1
## 4612                               econ    1
## 4613                       economically    1
## 4614                          economist    1
## 4615                          economyif    1
## 4616                            edgoeas    1
## 4617                            editing    1
## 4618                            edition    1
## 4619                         editorials    1
## 4620                        educational    1
## 4621                             effect    1
## 4622                          effective    1
## 4623                          electable    1
## 4624                           electric    1
## 4625                          elephants    1
## 4626                               elie    1
## 4627                          eliminate    1
## 4628                            elliott    1
## 4629                          elsewhere    1
## 4630                              elton    1
## 4631                           emanated    1
## 4632                        embarrasses    1
## 4633                       embarrassing    1
## 4634                      embarrassment    1
## 4635                         emboldened    1
## 4636                           embraced    1
## 4637                            emerged    1
## 4638                          emergency    1
## 4639                            emotion    1
## 4640                          employees    1
## 4641                           employer    1
## 4642                         employment    1
## 4643                         empowering    1
## 4644                            enabler    1
## 4645                           enablers    1
## 4646                           enclosed    1
## 4647                              ended    1
## 4648                             ending    1
## 4649                          endlessly    1
## 4650                    endorsementrubs    1
## 4651                       endorsements    1
## 4652                           enduring    1
## 4653                              enemy    1
## 4654                          energetic    1
## 4655                          energized    1
## 4656                          energizer    1
## 4657                            enhance    1
## 4658                           enjoy7am    1
## 4659                           enjoying    1
## 4660                           enlisted    1
## 4661                           enormous    1
## 4662                            enqwere    1
## 4663                            enrique    1
## 4664                              enter    1
## 4665                       enterainment    1
## 4666                            entered    1
## 4667                        entertainer    1
## 4668              entertainingmassively    1
## 4669                           entirety    1
## 4670                              entry    1
## 4671                           envision    1
## 4672                           epidemic    1
## 4673                            episode    1
## 4674                           equality    1
## 4675                           equating    1
## 4676                          equipment    1
## 4677                                era    1
## 4678                          eradicate    1
## 4679                              erase    1
## 4680                        ericbolling    1
## 4681                     ericshawnonfox    1
## 4682                               erie    1
## 4683                            erratic    1
## 4684                              errol    1
## 4685                             escape    1
## 4686                            escapes    1
## 4687                            espouse    1
## 4688                        essentially    1
## 4689                              estab    1
## 4690                          establish    1
## 4691                             estate    1
## 4692                            estates    1
## 4693                            ethical    1
## 4694                                 eu    1
## 4695                             eugene    1
## 4696                            everett    1
## 4697                               evil    1
## 4698                              evils    1
## 4699                           examples    1
## 4700                              exams    1
## 4701                          excessive    1
## 4702                            excited    1
## 4703                            exclaim    1
## 4704                          excluding    1
## 4705                         excoriates    1
## 4706                     executionstyle    1
## 4707                          exercised    1
## 4708                              exist    1
## 4709                             exists    1
## 4710                        experienced    1
## 4711                         explaining    1
## 4712                           exploded    1
## 4713                            exposed    1
## 4714                           exposing    1
## 4715                    extraordinarily    1
## 4716                            extreme    1
## 4717                          extremely    1
## 4718                          fabricate    1
## 4719                         fabricated    1
## 4720                       fabrications    1
## 4721                           facility    1
## 4722                             factor    1
## 4723                            factors    1
## 4724                            factual    1
## 4725                               fade    1
## 4726                             fading    1
## 4727                           failures    1
## 4728                              faked    1
## 4729                              falls    1
## 4730                            falwell    1
## 4731                             famous    1
## 4732                         farmington    1
## 4733                            fashion    1
## 4734                              fatal    1
## 4735                            faucets    1
## 4736                             faulty    1
## 4737                       favorability    1
## 4738                       fayetteville    1
## 4739                                fcc    1
## 4740                                fdn    1
## 4741                               fear    1
## 4742                      fearmongering    1
## 4743                           features    1
## 4744                          featuring    1
## 4745                                fed    1
## 4746                                fee    1
## 4747                           feedback    1
## 4748                            feeling    1
## 4749                              felon    1
## 4750                               felt    1
## 4751                           festival    1
## 4752                             fiasco    1
## 4753                          fictional    1
## 4754                           fictious    1
## 4755                         fictitious    1
## 4756                              fifty    1
## 4757                           fighters    1
## 4758                            figured    1
## 4759                            figures    1
## 4760                        figurewants    1
## 4761                             filing    1
## 4762                             filled    1
## 4763                            filling    1
## 4764                           finances    1
## 4765                         financials    1
## 4766                            finding    1
## 4767                              finds    1
## 4768                         firebombed    1
## 4769                               firm    1
## 4770                          firstever    1
## 4771                           flailing    1
## 4772                             flamed    1
## 4773                             flawed    1
## 4774                            fleeing    1
## 4775                           flexible    1
## 4776                              flies    1
## 4777                           flipping    1
## 4778                            floated    1
## 4779                              flood    1
## 4780                           flooding    1
## 4781                             floods    1
## 4782                    floridatomorrow    1
## 4783                               flow    1
## 4784                            flowers    1
## 4785                           flunkies    1
## 4786                                fly    1
## 4787                              flynn    1
## 4788                                fmr    1
## 4789                           focusing    1
## 4790                               foil    1
## 4791                               fold    1
## 4792                          following    1
## 4793                            follows    1
## 4794                            foolish    1
## 4795                        foolishthey    1
## 4796                          footprint    1
## 4797                                fop    1
## 4798                         foreclosed    1
## 4799                              forge    1
## 4800                           forgiven    1
## 4801                        forgiveness    1
## 4802                             formal    1
## 4803                             format    1
## 4804                             formed    1
## 4805                           formerly    1
## 4806                            formula    1
## 4807                            forties    1
## 4808                             forums    1
## 4809                             fought    1
## 4810                        foundations    1
## 4811                           fournier    1
## 4812                               fox2    1
## 4813                      foxnewssunday    1
## 4814                               fran    1
## 4815                        frantically    1
## 4816                          fraternal    1
## 4817                       fraudulently    1
## 4818                               fred    1
## 4819                           freedoms    1
## 4820                     freejessejames    1
## 4821                            freeman    1
## 4822                             freeze    1
## 4823                             french    1
## 4824                              fresh    1
## 4825                             fresno    1
## 4826                           friendly    1
## 4827                         friendship    1
## 4828                           fronting    1
## 4829                              fumed    1
## 4830                           function    1
## 4831                        functioning    1
## 4832                         fundraiser    1
## 4833                        fundraising    1
## 4834                              funds    1
## 4835                            furious    1
## 4836                            futures    1
## 4837                                 ga    1
## 4838                             gained    1
## 4839                               gals    1
## 4840                             garcía    1
## 4841                            garrett    1
## 4842                               gary    1
## 4843                               gasp    1
## 4844                         gatekeeper    1
## 4845                                gee    1
## 4846                              geist    1
## 4847                             gender    1
## 4848                               gene    1
## 4849                           generals    1
## 4850                              genes    1
## 4851                          geneva7pm    1
## 4852                             genius    1
## 4853                           gennifer    1
## 4854                            geraldo    1
## 4855                      geraldorivera    1
## 4856                            gifford    1
## 4857                               gift    1
## 4858                             gifted    1
## 4859                           gingrich    1
## 4860                               girl    1
## 4861                         girlfriend    1
## 4862                              gitmo    1
## 4863                           giuliani    1
## 4864                              glass    1
## 4865                            glasses    1
## 4866                              glenn    1
## 4867                          glennbeck    1
## 4868                           glorious    1
## 4869                          glowingly    1
## 4870                                gma    1
## 4871                          goatfired    1
## 4872                            golfing    1
## 4873                           gonzales    1
## 4874                            goodies    1
## 4875                           goofball    1
## 4876                             google    1
## 4877                     governorpataki    1
## 4878                      governorperry    1
## 4879                          governors    1
## 4880                    govmikehuckabee    1
## 4881                               grab    1
## 4882                       gracematters    1
## 4883                          graduates    1
## 4884                              grain    1
## 4885                          grandkids    1
## 4886                         grandstand    1
## 4887                           graphics    1
## 4888                         gratifying    1
## 4889                           gravitas    1
## 4890                              gravy    1
## 4891                          greatness    1
## 4892                          greenberg    1
## 4893                              greet    1
## 4894                            greeted    1
## 4895                          greetings    1
## 4896                              greta    1
## 4897                             grieve    1
## 4898                           grievous    1
## 4899                              grill    1
## 4900                               grow    1
## 4901                            growing    1
## 4902                              grows    1
## 4903                        growthwhich    1
## 4904                             grubby    1
## 4905                               guam    1
## 4906                          guarantee    1
## 4907                         guaranteed    1
## 4908                              guard    1
## 4909                           guarding    1
## 4910                             guards    1
## 4911                              guess    1
## 4912                             guests    1
## 4913                           guidance    1
## 4914                              guide    1
## 4915                             gunman    1
## 4916                                gym    1
## 4917                              habit    1
## 4918                              haiti    1
## 4919                              haley    1
## 4920                      halliejackson    1
## 4921                               halo    1
## 4922                           halperin    1
## 4923                          haltingly    1
## 4924                            handing    1
## 4925                              hands    1
## 4926                            hanging    1
## 4927                               hank    1
## 4928                            hannity    1
## 4929                           hanukkah    1
## 4930                          happiness    1
## 4931                             harbor    1
## 4932                         harrisburg    1
## 4933                           harrison    1
## 4934                           hartford    1
## 4935                            harwood    1
## 4936                           hashanah    1
## 4937                              hasnt    1
## 4938                             hassan    1
## 4939                                hat    1
## 4940                              hated    1
## 4941                              hates    1
## 4942                             hatred    1
## 4943                               hats    1
## 4944                             havana    1
## 4945                           headache    1
## 4946                       headquarters    1
## 4947                   headquartersgave    1
## 4948                            healthy    1
## 4949                           hearings    1
## 4950                               heat    1
## 4951                              heavy    1
## 4952                         heightened    1
## 4953                          heilemann    1
## 4954                              hello    1
## 4955                      helpedrefused    1
## 4956                           helpless    1
## 4957                             hemmer    1
## 4958                              hence    1
## 4959                          henninger    1
## 4960                     heraldfranklin    1
## 4961                             hereby    1
## 4962                             herman    1
## 4963                             hershe    1
## 4964                            herwill    1
## 4965                          hesitates    1
## 4966                      heytammybruce    1
## 4967                            heytana    1
## 4968                                 hi    1
## 4969                                hid    1
## 4970                               hide    1
## 4971                             higbie    1
## 4972                          highlight    1
## 4973                            highway    1
## 4974                           highways    1
## 4975                              hikes    1
## 4976                       hillarythats    1
## 4977                               hilt    1
## 4978                       himselfphony    1
## 4979                               hire    1
## 4980                             hiring    1
## 4981                           historyi    1
## 4982                          historyis    1
## 4983                      historykasich    1
## 4984                               hoax    1
## 4985                             holder    1
## 4986                           holidays    1
## 4987                              holtz    1
## 4988                           homeland    1
## 4989                           homeless    1
## 4990                      homeownership    1
## 4991                           honestly    1
## 4992                           honolulu    1
## 4993                          honorable    1
## 4994                            hoosier    1
## 4995                            hopeful    1
## 4996                           hopeless    1
## 4997                             hoping    1
## 4998                             horror    1
## 4999                            horrors    1
## 5000                            hostage    1
## 5001                              hosts    1
## 5002                        hotelsdidnt    1
## 5003                            hottest    1
## 5004                          household    1
## 5005                             houses    1
## 5006                            housing    1
## 5007                                 hp    1
## 5008                                hrs    1
## 5009             http://t.co/0r8fc2zzvy    1
## 5010             http://t.co/2krx2tbets    1
## 5011             http://t.co/3eheivyd5a    1
## 5012             http://t.co/3hdsutmhim    1
## 5013             http://t.co/4dxoev0wia    1
## 5014             http://t.co/5p0tx9mq8u    1
## 5015             http://t.co/8rs1fbcaiz    1
## 5016             http://t.co/bncg1xqvcw    1
## 5017             http://t.co/cs8dod8wfm    1
## 5018             http://t.co/fnrixjwcvf    1
## 5019             http://t.co/fqiapu6gvc    1
## 5020             http://t.co/gkfoshg2xh    1
## 5021             http://t.co/hjho1rk06y    1
## 5022             http://t.co/ilcamzxc82    1
## 5023             http://t.co/iohazot8lk    1
## 5024             http://t.co/lomirpfliz    1
## 5025             http://t.co/lvx5sehqvv    1
## 5026             http://t.co/misqyasjhu    1
## 5027             http://t.co/mrhdw7dows    1
## 5028             http://t.co/mzr62luvwq    1
## 5029             http://t.co/o5v9ox3pyd    1
## 5030             http://t.co/ovxqmw4kob    1
## 5031             http://t.co/peeehtvtc8    1
## 5032             http://t.co/ptviayro4a    1
## 5033             http://t.co/rfee86mbbp    1
## 5034             http://t.co/rfwqddpb33    1
## 5035             http://t.co/snrr9yzmou    1
## 5036             http://t.co/tj3cnqp3pu    1
## 5037             http://t.co/tpv3w18bw6    1
## 5038            http://t.co/wmfhknnswm&amp;quot;    1
## 5039             http://t.co/x4m9wfewx2    1
## 5040             http://t.co/xleluqfxof    1
## 5041             http://t.co/zxfte8aqyf    1
## 5042                                 hu    1
## 5043                         huffington    1
## 5044                            humbled    1
## 5045                              hunts    1
## 5046                  huntsvillemadison    1
## 5047                                ibd    1
## 5048                              icymi    1
## 5049                              ideas    1
## 5050                            ignored    1
## 5051                                 ii    1
## 5052                        illinformed    1
## 5053                              image    1
## 5054                             images    1
## 5055                        imagination    1
## 5056                        imaginative    1
## 5057                          imitating    1
## 5058                                imm    1
## 5059                          immediate    1
## 5060                      immigrationif    1
## 5061                           immunity    1
## 5062                         imperative    1
## 5063                         importance    1
## 5064                            imports    1
## 5065                           imposing    1
## 5066                      impossibility    1
## 5067                      inappropriate    1
## 5068                    inappropriately    1
## 5069                                inc    1
## 5070                           incensed    1
## 5071                          incentive    1
## 5072                         incoherent    1
## 5073                               incr    1
## 5074                        increasepay    1
## 5075                         increasing    1
## 5076                                ind    1
## 5077                       independence    1
## 5078                          indicates    1
## 5079                           indicted    1
## 5080                              indie    1
## 5081                             indies    1
## 5082                      indignanthear    1
## 5083                         individual    1
## 5084                           inducted    1
## 5085                         industries    1
## 5086                         ineptitude    1
## 5087                        inferiority    1
## 5088                         infiltrate    1
## 5089                        infiltrated    1
## 5090                       inflammatory    1
## 5091                        informative    1
## 5092                     infrastructure    1
## 5093                          infringed    1
## 5094                            inherit    1
## 5095                          inherited    1
## 5096                          initially    1
## 5097                          initiated    1
## 5098                             inject    1
## 5099                                ink    1
## 5100                                inn    1
## 5101                        innercities    1
## 5102                          innercity    1
## 5103                           insecure    1
## 5104                           insiders    1
## 5105                         insinuated    1
## 5106                           insisted    1
## 5107                         inspecting    1
## 5108                          inspector    1
## 5109                           inspired    1
## 5110                          inspiring    1
## 5111                          instagram    1
## 5112                           insticts    1
## 5113                           instinct    1
## 5114                          institute    1
## 5115                     institutionsad    1
## 5116                           instruct    1
## 5117                        instruments    1
## 5118                             insult    1
## 5119                          insulting    1
## 5120                            insurer    1
## 5121                                int    1
## 5122                          integrity    1
## 5123                         intellects    1
## 5124                       intelligence    1
## 5125                      intelligently    1
## 5126                             intent    1
## 5127                         interested    1
## 5128                      interestsonly    1
## 5129                        interfering    1
## 5130                       intersection    1
## 5131                              intro    1
## 5132                          introduce    1
## 5133                         introduced    1
## 5134                             intros    1
## 5135                               ints    1
## 5136                          invention    1
## 5137                             invest    1
## 5138                      investigating    1
## 5139                        investments    1
## 5140                         invitation    1
## 5141                             invite    1
## 5142                            invited    1
## 5143                           inviting    1
## 5144                           iowanhsc    1
## 5145                             iowans    1
## 5146                       ipsosreuters    1
## 5147                           iranians    1
## 5148                               iron    1
## 5149                      irresponsible    1
## 5150                                irs    1
## 5151                            isearly    1
## 5152                            isisoil    1
## 5153                           islamist    1
## 5154                islandssupertuesday    1
## 5155                              italy    1
## 5156                           itreally    1
## 5157                            jackson    1
## 5158                            jacobus    1
## 5159                              james    1
## 5160                            january    1
## 5161                              japan    1
## 5162                              jared    1
## 5163                            jealous    1
## 5164                            jeanine    1
## 5165                               jeff    1
## 5166                            jeffrey    1
## 5167                           jennifer    1
## 5168                           jeopardy    1
## 5169                               jerk    1
## 5170                          jerseyans    1
## 5171                                jet    1
## 5172                          jetliners    1
## 5173                         jihadistst    1
## 5174                             jilted    1
## 5175                             jindal    1
## 5176                               jinx    1
## 5177                       jobproducing    1
## 5178                          jobsvideo    1
## 5179                               joes    1
## 5180                         johnlegere    1
## 5181                           jonahnro    1
## 5182                           jonathan    1
## 5183                             jordan    1
## 5184                     jorgeramosnews    1
## 5185                             joseph    1
## 5186                         journalism    1
## 5187                         journalist    1
## 5188                       journalistic    1
## 5189                        journalists    1
## 5190                         journalnbc    1
## 5191                            journey    1
## 5192                                 jr    1
## 5193                                 js    1
## 5194                               juan    1
## 5195                            juanita    1
## 5196                             judged    1
## 5197                             judges    1
## 5198                            jupiter    1
## 5199                               jusr    1
## 5200                                kai    1
## 5201                              kasie    1
## 5202                               kate    1
## 5203                     kathielgifford    1
## 5204                            kathryn    1
## 5205                             katies    1
## 5206                     katrinapierson    1
## 5207                     kellyannepolls    1
## 5208                        kenansville    1
## 5209                            kennedy    1
## 5210                             kiawah    1
## 5211                             kicked    1
## 5212                               kill    1
## 5213                       kimguilfoyle    1
## 5214                            kingdom    1
## 5215                            kinston    1
## 5216                           knocking    1
## 5217                            knowing    1
## 5218                          knowledge    1
## 5219                      knowledgeable    1
## 5220                      knowledgetrue    1
## 5221                      knowwonderful    1
## 5222                              kooky    1
## 5223                              koran    1
## 5224                              korea    1
## 5225                             koster    1
## 5226                              kraft    1
## 5227                        krauthammer    1
## 5228                                 ks    1
## 5229                             labels    1
## 5230                              lacks    1
## 5231                          lafayette    1
## 5232                               lame    1
## 5233                           landmark    1
## 5234                           lapierre    1
## 5235                               lara    1
## 5236                             laredo    1
## 5237                            largely    1
## 5238                        larrykudlow    1
## 5239                            latinos    1
## 5240                             latter    1
## 5241                         lauderdale    1
## 5242                          laughable    1
## 5243                      laughingstock    1
## 5244                             laughs    1
## 5245                             launch    1
## 5246                              laura    1
## 5247                           lawrence    1
## 5248                            lawyers    1
## 5249                               lays    1
## 5250                               lazy    1
## 5251                          leaderswe    1
## 5252                            learned    1
## 5253                             leaves    1
## 5254                           lectured    1
## 5255                                lee    1
## 5256                             legion    1
## 5257                              legit    1
## 5258                             lehman    1
## 5259                              lemon    1
## 5260                             lender    1
## 5261                            lending    1
## 5262                             lenses    1
## 5263                            leppert    1
## 5264                          lethargic    1
## 5265                            letters    1
## 5266                           leverage    1
## 5267                             levine    1
## 5268                        lewandowski    1
## 5269                          lexington    1
## 5270                     liabilitiesbig    1
## 5271                             liarsa    1
## 5272                                lib    1
## 5273                              libya    1
## 5274                           liecrazy    1
## 5275                           lifelong    1
## 5276                            lifting    1
## 5277                              lifts    1
## 5278                             lights    1
## 5279                        likeability    1
## 5280                             likely    1
## 5281                            liketim    1
## 5282                             liking    1
## 5283                              limit    1
## 5284                      lindseygraham    1
## 5285                    lindseygrahamsc    1
## 5286                               lips    1
## 5287                             lisbon    1
## 5288                          listeners    1
## 5289                            listens    1
## 5290                              lists    1
## 5291                           litigate    1
## 5292                         litigation    1
## 5293                             loaned    1
## 5294                           lobbying    1
## 5295                   lobbyistsspecial    1
## 5296                            located    1
## 5297                          locations    1
## 5298                             locker    1
## 5299                              locks    1
## 5300                              lodge    1
## 5301                            logical    1
## 5302                        londonderry    1
## 5303                           longshot    1
## 5304                           longterm    1
## 5305                             looked    1
## 5306                            lookout    1
## 5307                            looming    1
## 5308                              looms    1
## 5309                          loopholes    1
## 5310                              loose    1
## 5311                         loserstrue    1
## 5312                        lostmonster    1
## 5313                                lou    1
## 5314                             loudly    1
## 5315                       loudobbsnews    1
## 5316                         louisville    1
## 5317                             lovely    1
## 5318                             loving    1
## 5319                             lowell    1
## 5320                              lower    1
## 5321                              lowly    1
## 5322                           lowrated    1
## 5323                               lows    1
## 5324                             lucent    1
## 5325                              lucky    1
## 5326                               luis    1
## 5327                           luncheon    1
## 5328                            lunches    1
## 5329                             lynden    1
## 5330                              lynne    1
## 5331                             macomb    1
## 5332                              macon    1
## 5333                            madison    1
## 5334                               maga    1
## 5335                          magazines    1
## 5336                            magical    1
## 5337                      magnificently    1
## 5338                           mahoning    1
## 5339                               mail    1
## 5340                         mainstream    1
## 5341                            maitner    1
## 5342                           majorcbs    1
## 5343                              maker    1
## 5344                              malik    1
## 5345                             malkin    1
## 5346                          malleable    1
## 5347                            managed    1
## 5348                           managers    1
## 5349                            mandate    1
## 5350                          manhattan    1
## 5351                            manheim    1
## 5352                             maniac    1
## 5353                             manner    1
## 5354                       mannersigned    1
## 5355                               mans    1
## 5356                               marc    1
## 5357                       marcthiessen    1
## 5358                           margin13    1
## 5359                            mariana    1
## 5360                              marie    1
## 5361                            marines    1
## 5362                           markings    1
## 5363                    marksteynonline    1
## 5364                      martharaddatz    1
## 5365                               mary    1
## 5366 massachusettsmakeamericagreatagain    1
## 5367                           massacre    1
## 5368                            matchup    1
## 5369                          materials    1
## 5370                           mathwhat    1
## 5371                           matterit    1
## 5372                            matters    1
## 5373                            matthew    1
## 5374                       matthewjdowd    1
## 5375                            maureen    1
## 5376                            maximum    1
## 5377                            mcallen    1
## 5378                           mccarthy    1
## 5379                          mcconnell    1
## 5380                            mcenany    1
## 5381                           mckinley    1
## 5382                          mcmanamon    1
## 5383                                 md    1
## 5384                            meaning    1
## 5385                        meaningless    1
## 5386                        meaningtell    1
## 5387                      mechanicsburg    1
## 5388                              medal    1
## 5389                         medialater    1
## 5390                             median    1
## 5391                        mediarigged    1
## 5392                       meghanmccain    1
## 5393                            megreat    1
## 5394                           melanias    1
## 5395                          melbourne    1
## 5396                            melissa    1
## 5397                         membership    1
## 5398                            memphis    1
## 5399                           mentions    1
## 5400                    mercedesschlapp    1
## 5401                        merchandise    1
## 5402                               mere    1
## 5403                             merely    1
## 5404                           messages    1
## 5405                            messbig    1
## 5406                          messgreat    1
## 5407                              messy    1
## 5408                              methe    1
## 5409                             method    1
## 5410                             metime    1
## 5411                            metough    1
## 5412                       mexicomexico    1
## 5413                            mexicos    1
## 5414                                mgr    1
## 5415                                mia    1
## 5416                           michelle    1
## 5417                         midamerica    1
## 5418                            midwest    1
## 5419                           migrants    1
## 5420                              miles    1
## 5421                              miley    1
## 5422                            milking    1
## 5423                         millionswe    1
## 5424                      millionweakno    1
## 5425                        mindblowing    1
## 5426                               mine    1
## 5427                         minerscoal    1
## 5428                         ministries    1
## 5429                              mired    1
## 5430                         misconduct    1
## 5431                        misdemeanor    1
## 5432                         mishandled    1
## 5433                            mislead    1
## 5434                          misquoted    1
## 5435                     misrepresented    1
## 5436                       missuniverse    1
## 5437                              mitch    1
## 5438                           mitchell    1
## 5439                              mixed    1
## 5440                           mkhammer    1
## 5441                                 mo    1
## 5442                          mockingly    1
## 5443                          moderator    1
## 5444                         moderators    1
## 5445                             modern    1
## 5446                              mogul    1
## 5447                           mohammed    1
## 5448                               mold    1
## 5449                              molly    1
## 5450                             molten    1
## 5451                                mom    1
## 5452                           momentum    1
## 5453                     mondaleferraro    1
## 5454                            mondays    1
## 5455                           money100    1
## 5456                             monger    1
## 5457                            monster    1
## 5458                           monsters    1
## 5459                              moore    1
## 5460                            morally    1
## 5461                             morell    1
## 5462                             morgan    1
## 5463                            mormons    1
## 5464                           mornings    1
## 5465                              moron    1
## 5466                             mosque    1
## 5467                              motor    1
## 5468                              motto    1
## 5469                            mouthed    1
## 5470                         mouthpiece    1
## 5471                              movie    1
## 5472                             moving    1
## 5473                                mrs    1
## 5474                                msg    1
## 5475                              msnbc    1
## 5476                                 mt    1
## 5477                           muhammad    1
## 5478                             munich    1
## 5479                             murder    1
## 5480                            murders    1
## 5481                          muscatine    1
## 5482                             museum    1
## 5483                              music    1
## 5484                            musical    1
## 5485                                mvp    1
## 5486                            myanmar    1
## 5487                             myrtle    1
## 5488                           naftatpp    1
## 5489                              naive    1
## 5490                           namethen    1
## 5491                             naming    1
## 5492                              nancy    1
## 5493                             nascar    1
## 5494                          nasrallah    1
## 5495                          nastywhat    1
## 5496                      nataliegulbis    1
## 5497                           nationno    1
## 5498                              natos    1
## 5499                          naturally    1
## 5500                            navarro    1
## 5501                             nbcsnl    1
## 5502                            nbcwall    1
## 5503                       nbcwsjmarist    1
## 5504                               near    1
## 5505                             nearly    1
## 5506                              neera    1
## 5507                          negatives    1
## 5508                         negativity    1
## 5509                          neglected    1
## 5510                          negotiate    1
## 5511                         negotiated    1
## 5512                         negotiator    1
## 5513                          neighbors    1
## 5514                                neo    1
## 5515                          nervously    1
## 5516                          nevadathe    1
## 5517                              newer    1
## 5518                              newly    1
## 5519                            newsthe    1
## 5520                           newsweek    1
## 5521                       newtgingrich    1
## 5522                            newtown    1
## 5523                                nfl    1
## 5524                             nicely    1
## 5525                            nielson    1
## 5526                       nightcrooked    1
## 5527                          nightmare    1
## 5528                          nightplus    1
## 5529                           nightsee    1
## 5530                              nikki    1
## 5531                               nite    1
## 5532                               nogo    1
## 5533                              nolte    1
## 5534                               none    1
## 5535                        nonexistent    1
## 5536                        nonmexicans    1
## 5537                  nonrepresentative    1
## 5538                     nonsubstantive    1
## 5539                           nonunion    1
## 5540                             noonan    1
## 5541                           northern    1
## 5542                       northwestern    1
## 5543                             noshow    1
## 5544                              notch    1
## 5545                               nprs    1
## 5546                                nra    1
## 5547                          nullified    1
## 5548                            numberd    1
## 5549                              nurse    1
## 5550                        nydailynews    1
## 5551                               nypd    1
## 5552                            nytimes    1
## 5553                               nyts    1
## 5554                          objective    1
## 5555                          obligated    1
## 5556                          obnoxious    1
## 5557                             obrian    1
## 5558                         obriendumb    1
## 5559                           observer    1
## 5560                          observing    1
## 5561                          obviously    1
## 5562                          occasions    1
## 5563                             occupy    1
## 5564                              ocean    1
## 5565                                odd    1
## 5566                            odyssey    1
## 5567                           offended    1
## 5568                           offenses    1
## 5569                            offered    1
## 5570                            offices    1
## 5571                          ohiothank    1
## 5572                              older    1
## 5573                             oldest    1
## 5574                             oliver    1
## 5575                              omaha    1
## 5576                         ondelivers    1
## 5577                               ones    1
## 5578                            openand    1
## 5579                             opened    1
## 5580                             opener    1
## 5581                           opinions    1
## 5582                                opo    1
## 5583                           opponent    1
## 5584                         opponentsi    1
## 5585                            oppress    1
## 5586                          oppresses    1
## 5587                         oppression    1
## 5588                         oppressive    1
## 5589                              opsec    1
## 5590                             option    1
## 5591                             orated    1
## 5592                           ordering    1
## 5593                             orders    1
## 5594                           organize    1
## 5595                            orleans    1
## 5596                          otherthey    1
## 5597                          otherwise    1
## 5598                                 ou    1
## 5599                             outand    1
## 5600                             outlet    1
## 5601                            outrage    1
## 5602                           outraged    1
## 5603                           outright    1
## 5604                        outspending    1
## 5605                           outtrump    1
## 5606                            ovation    1
## 5607                        overflowing    1
## 5608                  overratedprobably    1
## 5609                      overregulates    1
## 5610                            overrun    1
## 5611                          overtaxes    1
## 5612                     overtimetrying    1
## 5613                       overwhelming    1
## 5614                               owns    1
## 5615                                  p    1
## 5616                            pacific    1
## 5617                               pacs    1
## 5618                               pact    1
## 5619                              pacts    1
## 5620                            padilla    1
## 5621                           pageants    1
## 5622                           pakistan    1
## 5623                            palazzo    1
## 5624                             palmer    1
## 5625                          pandering    1
## 5626                          panelists    1
## 5627                              panic    1
## 5628                             panned    1
## 5629                          papersnot    1
## 5630                                par    1
## 5631                            paragon    1
## 5632                             parody    1
## 5633                       participated    1
## 5634                        partnership    1
## 5635                           partyhes    1
## 5636                           passport    1
## 5637                          passports    1
## 5638                             pastor    1
## 5639                    pastormarkburns    1
## 5640                       pathological    1
## 5641                            pathway    1
## 5642                    patrickbuchanan    1
## 5643                            paulina    1
## 5644                              paved    1
## 5645                             paving    1
## 5646                              payed    1
## 5647                            payment    1
## 5648                           payments    1
## 5649                              payne    1
## 5650                            payroll    1
## 5651                               pays    1
## 5652                          paytoplay    1
## 5653                                 pb    1
## 5654                              pearl    1
## 5655                              peggy    1
## 5656                               pena    1
## 5657                               peña    1
## 5658                          penalties    1
## 5659                     pennsylvaniahe    1
## 5660                                peo    1
## 5661                            peoplei    1
## 5662                             perdue    1
## 5663                              peres    1
## 5664                         perfection    1
## 5665                          perfectly    1
## 5666                         performing    1
## 5667                             perils    1
## 5668                             period    1
## 5669                          periscope    1
## 5670                         persistent    1
## 5671                       personremain    1
## 5672                        perspective    1
## 5673                               perv    1
## 5674                               phil    1
## 5675                       philadelphia    1
## 5676                        philippines    1
## 5677                            phoneix    1
## 5678                             phoner    1
## 5679                             phoney    1
## 5680                             photos    1
## 5681                       photoshopped    1
## 5682                             phrase    1
## 5683                             phylis    1
## 5684                             pickup    1
## 5685                             pierce    1
## 5686                               pigs    1
## 5687                               pile    1
## 5688                          pipelines    1
## 5689                              pizza    1
## 5690                             placed    1
## 5691                     placedishonest    1
## 5692                           placenow    1
## 5693                            plainly    1
## 5694                          plaintiff    1
## 5695                           planning    1
## 5696                            planted    1
## 5697                           plaudits    1
## 5698                             played    1
## 5699                             player    1
## 5700                            players    1
## 5701                           pleasant    1
## 5702                      pledgecareful    1
## 5703                            pledged    1
## 5704                            plotted    1
## 5705                           plunging    1
## 5706                               pmin    1
## 5707                             pocket    1
## 5708                           pocketed    1
## 5709                             poised    1
## 5710                             poison    1
## 5711                          policemen    1
## 5712                            polices    1
## 5713                             polish    1
## 5714                         politifact    1
## 5715                             poll33    1
## 5716                             polled    1
## 5717                            pollsiu    1
## 5718                          pollsters    1
## 5719                          polltrump    1
## 5720                          portrayal    1
## 5721                           positive    1
## 5722                       postelection    1
## 5723                          postponed    1
## 5724                              posts    1
## 5725                           potatoes    1
## 5726                               pour    1
## 5727                             powell    1
## 5728                                 pr    1
## 5729                            praised    1
## 5730                           praising    1
## 5731                               pray    1
## 5732                             preach    1
## 5733                          precluded    1
## 5734                            predict    1
## 5735                        predictable    1
## 5736                        preexisting    1
## 5737                         preference    1
## 5738                            premium    1
## 5739                          preparing    1
## 5740                       presbyterian    1
## 5741                       presentation    1
## 5742                      presidentlike    1
## 5743                    presidentreally    1
## 5744                           presmake    1
## 5745                            pretend    1
## 5746                         pretending    1
## 5747                           pretends    1
## 5748                             pretty    1
## 5749                         preventing    1
## 5750                           previous    1
## 5751                               prez    1
## 5752                             priest    1
## 5753                         priorities    1
## 5754                              prize    1
## 5755                              pro2a    1
## 5756                              probe    1
## 5757                          probesuch    1
## 5758                           produced    1
## 5759                          producing    1
## 5760                            product    1
## 5761                           products    1
## 5762                     professionally    1
## 5763                          profiling    1
## 5764                             profit    1
## 5765                          progrowth    1
## 5766                          prohibits    1
## 5767                         prohillary    1
## 5768                          proisrael    1
## 5769                          projected    1
## 5770                           projects    1
## 5771                        prominently    1
## 5772                            promise    1
## 5773                          promising    1
## 5774                           promoter    1
## 5775                          promoting    1
## 5776                             prople    1
## 5777                               pros    1
## 5778                         prosanders    1
## 5779                        prosecution    1
## 5780                          prospects    1
## 5781                            prosper    1
## 5782                         prosperity    1
## 5783                          protected    1
## 5784                           protects    1
## 5785                         protestant    1
## 5786                         protesting    1
## 5787                             protpp    1
## 5788                            proudly    1
## 5789                           provided    1
## 5790                            prowall    1
## 5791                             prowar    1
## 5792                               ptsd    1
## 5793                                pub    1
## 5794                        publication    1
## 5795                            publish    1
## 5796                             puerto    1
## 5797                               puff    1
## 5798                               pull    1
## 5799                         pulledback    1
## 5800                               pump    1
## 5801                              punch    1
## 5802                         purchasing    1
## 5803                             pushes    1
## 5804                          pushpolls    1
## 5805                             putins    1
## 5806                           pyramids    1
## 5807                                 q2    1
## 5808                            qualify    1
## 5809                            quality    1
## 5810                            quarter    1
## 5811                        quarterback    1
## 5812                           quarters    1
## 5813                         questioned    1
## 5814                          quicksand    1
## 5815                               quid    1
## 5816                         quinnipiac    1
## 5817                              quite    1
## 5818                              quits    1
## 5819                            quoting    1
## 5820                        racebaiting    1
## 5821                           racestop    1
## 5822                          racistbut    1
## 5823                                rag    1
## 5824                              raids    1
## 5825                            railing    1
## 5826                              rails    1
## 5827                        raisedgiven    1
## 5828                             raises    1
## 5829                              raked    1
## 5830                           rambling    1
## 5831                            rampant    1
## 5832                              ranch    1
## 5833                              randy    1
## 5834                            ranking    1
## 5835                           rankings    1
## 5836                             ransom    1
## 5837                               rant    1
## 5838                               rape    1
## 5839                              rapes    1
## 5840                            rapists    1
## 5841                             rarely    1
## 5842                                rat    1
## 5843                         ratingstoo    1
## 5844                         rationally    1
## 5845                               raul    1
## 5846                      rawlingsblake    1
## 5847                            reached    1
## 5848                           reaching    1
## 5849                           reacting    1
## 5850                           reaction    1
## 5851                         readership    1
## 5852                            readout    1
## 5853                            reallyi    1
## 5854                          rebellion    1
## 5855                            rebuild    1
## 5856                         rebuilding    1
## 5857                           rebuttal    1
## 5858                              recap    1
## 5859                            reclaim    1
## 5860                        recognition    1
## 5861                   recordshattering    1
## 5862                            recount    1
## 5863                           recovery    1
## 5864                            recruit    1
## 5865                         recruiting    1
## 5866                           redesign    1
## 5867                            redford    1
## 5868                           redstate    1
## 5869                             reduce    1
## 5870                          reduction    1
## 5871                               reed    1
## 5872                         referendum    1
## 5873                           reflects    1
## 5874                            refocus    1
## 5875                           reformer    1
## 5876                            refugee    1
## 5877                            refusal    1
## 5878                         refutation    1
## 5879                                reg    1
## 5880                            regards    1
## 5881                            regimes    1
## 5882                            regions    1
## 5883                  registerbloomberg    1
## 5884                          registers    1
## 5885                         regulation    1
## 5886                        regulations    1
## 5887                          rehearsed    1
## 5888                        reinforcing    1
## 5889                           rejected    1
## 5890                              relax    1
## 5891                           releases    1
## 5892                            relives    1
## 5893                        remembering    1
## 5894                            removed    1
## 5895                           removing    1
## 5896                        renegotiate    1
## 5897                      renegotiating    1
## 5898                            renewal    1
## 5899                         renosparks    1
## 5900                           renounce    1
## 5901                          renounced    1
## 5902                          renovated    1
## 5903                         renovation    1
## 5904                    repchriscollins    1
## 5905                           repealed    1
## 5906                             replay    1
## 5907                   reportersworking    1
## 5908                       reportingand    1
## 5909                           reportit    1
## 5910                     representative    1
## 5911                        represented    1
## 5912                         represents    1
## 5913                               reps    1
## 5914                       reptommarino    1
## 5915                              repub    1
## 5916                             rescue    1
## 5917                           research    1
## 5918                        reservation    1
## 5919                            reserve    1
## 5920                        resignation    1
## 5921                           resigned    1
## 5922                         respecting    1
## 5923                        respondents    1
## 5924                        responsible    1
## 5925                           restored    1
## 5926                          restoring    1
## 5927                           resulted    1
## 5928                            retains    1
## 5929                             retire    1
## 5930                            retired    1
## 5931                           retiring    1
## 5932                          retracted    1
## 5933                            retweet    1
## 5934                         retweeting    1
## 5935                                rev    1
## 5936                             reveal    1
## 5937                           revealed    1
## 5938                            revenue    1
## 5939                            reverse    1
## 5940                           reversed    1
## 5941                       reviewdoomed    1
## 5942                             reward    1
## 5943                           rhetoric    1
## 5944                          richlowry    1
## 5945                            rickets    1
## 5946                               rico    1
## 5947                              rides    1
## 5948                             riding    1
## 5949                             rifles    1
## 5950                              riley    1
## 5951                       ringlingbros    1
## 5952                              riots    1
## 5953                             ripped    1
## 5954                          rippedoff    1
## 5955                                rjc    1
## 5956                              roads    1
## 5957                         roadsdoors    1
## 5958                      robertgbeckel    1
## 5959                           robocall    1
## 5960                         rockingham    1
## 5961                               roff    1
## 5962                         rogerstone    1
## 5963                               role    1
## 5964                               roll    1
## 5965                            rolling    1
## 5966                            rollout    1
## 5967                               rome    1
## 5968                             ronald    1
## 5969                               rone    1
## 5970                               roof    1
## 5971                              rorke    1
## 5972                           roseburg    1
## 5973                               rosh    1
## 5974                              rosie    1
## 5975                              rough    1
## 5976                              round    1
## 5977                         roundtable    1
## 5978                            routine    1
## 5979                            rowanne    1
## 5980                         rpvirginia    1
## 5981                              rtenn    1
## 5982                              rubin    1
## 5983                               rudy    1
## 5984                               ruin    1
## 5985                              ruled    1
## 5986                             rumors    1
## 5987                           rumsfeld    1
## 5988                             runnot    1
## 5989                            russell    1
## 5990                           russians    1
## 5991                               rust    1
## 5992                               ruth    1
## 5993                         ruthmarcus    1
## 5994                           sabotage    1
## 5995                               sack    1
## 5996                             sacred    1
## 5997                             sadler    1
## 5998                                saf    1
## 5999                              salah    1
## 6000                               sale    1
## 6001                              salem    1
## 6002                             salute    1
## 6003                            salvage    1
## 6004                             sample    1
## 6005                         sandiegopd    1
## 6006                               sane    1
## 6007                            sarcasm    1
## 6008                               sass    1
## 6009                             savage    1
## 6010                            savaged    1
## 6011                            savings    1
## 6012                           scamming    1
## 6013                              scams    1
## 6014                              scape    1
## 6015                        scarborough    1
## 6016                             scared    1
## 6017                              scene    1
## 6018                             scenes    1
## 6019                          scheduled    1
## 6020                          schlaflys    1
## 6021                             school    1
## 6022                       schreckenger    1
## 6023                          scientist    1
## 6024                            scoffed    1
## 6025                            scottie    1
## 6026                             scotts    1
## 6027                        scottwalker    1
## 6028                             screen    1
## 6029                          screening    1
## 6030                              screw    1
## 6031                           scripted    1
## 6032                            scripts    1
## 6033                           scrutiny    1
## 6034                               scum    1
## 6035                           searched    1
## 6036                          sebastian    1
## 6037                              secof    1
## 6038                             secupp    1
## 6039                           securing    1
## 6040                        securitybut    1
## 6041                               seek    1
## 6042                            seeking    1
## 6043                            segment    1
## 6044                             seized    1
## 6045                             seldom    1
## 6046                          selection    1
## 6047                    selfdeportation    1
## 6048                  selfdetermination    1
## 6049                          selfishly    1
## 6050                      selfrighteous    1
## 6051                            selfthe    1
## 6052                              selma    1
## 6053                         sentedcruz    1
## 6054                           sentinel    1
## 6055                             sept14    1
## 6056                            servant    1
## 6057                            session    1
## 6058                           sessions    1
## 6059                            setback    1
## 6060                             settle    1
## 6061                             sexist    1
## 6062                           shackles    1
## 6063                             shadow    1
## 6064                            shadows    1
## 6065                             shakes    1
## 6066                              shall    1
## 6067                           shambles    1
## 6068                              shape    1
## 6069                            sharing    1
## 6070                            sharper    1
## 6071                            shatter    1
## 6072                            sheldon    1
## 6073                              shell    1
## 6074                            shelter    1
## 6075                           sheriffs    1
## 6076                             shield    1
## 6077                             shimon    1
## 6078                              shine    1
## 6079                            shipped    1
## 6080                             shoddy    1
## 6081                             shoker    1
## 6082                           shooters    1
## 6083                           shootout    1
## 6084                       shortcomings    1
## 6085                 shouldertoshoulder    1
## 6086                              shout    1
## 6087                            shouted    1
## 6088                           shouting    1
## 6089                           shoutout    1
## 6090                              shown    1
## 6091                             showno    1
## 6092                             shreds    1
## 6093                             shrink    1
## 6094                             shultz    1
## 6095                           sickness    1
## 6096                              sided    1
## 6097                              sides    1
## 6098                            signage    1
## 6099                      significantly    1
## 6100                            similar    1
## 6101                              simon    1
## 6102                             simply    1
## 6103                               sims    1
## 6104                       simultaneous    1
## 6105                          sincerely    1
## 6106                               sing    1
## 6107                            singers    1
## 6108                                sir    1
## 6109                             sirius    1
## 6110                         situations    1
## 6111                            sixteen    1
## 6112                               size    1
## 6113                          skarlatos    1
## 6114                              skill    1
## 6115                           skirmish    1
## 6116                               skit    1
## 6117                                sky    1
## 6118                          skyrocket    1
## 6119                              slams    1
## 6120                            slanted    1
## 6121                               slap    1
## 6122                           slashing    1
## 6123                        slaughtered    1
## 6124                             sleaze    1
## 6125                          sleazebag    1
## 6126                           sleeping    1
## 6127                              slide    1
## 6128                           slightly    1
## 6129                              sliwa    1
## 6130                               slob    1
## 6131                               slog    1
## 6132                             slogan    1
## 6133                               slot    1
## 6134                              slots    1
## 6135                               slow    1
## 6136                            slowest    1
## 6137                                 sm    1
## 6138                             smarts    1
## 6139                              smear    1
## 6140                             smiles    1
## 6141                           smoothly    1
## 6142                                snd    1
## 6143                             sneers    1
## 6144                               snow    1
## 6145                               soar    1
## 6146                            soaring    1
## 6147                          socialist    1
## 6148                            society    1
## 6149                               soft    1
## 6150                           softball    1
## 6151                             softwe    1
## 6152                           soldiers    1
## 6153                              solid    1
## 6154                           solidify    1
## 6155                            soloman    1
## 6156                          solutions    1
## 6157                             solved    1
## 6158                            solving    1
## 6159                           someones    1
## 6160                         somethings    1
## 6161                              soooo    1
## 6162                             sooooo    1
## 6163                         sopolitico    1
## 6164                               soul    1
## 6165                             sounds    1
## 6166                        sourcesthat    1
## 6167                                 sp    1
## 6168                        speakerryan    1
## 6169                           speakers    1
## 6170                             speaks    1
## 6171                        spectacular    1
## 6172                       speechwriter    1
## 6173                              spell    1
## 6174                            spewing    1
## 6175                              spill    1
## 6176                            spinnnn    1
## 6177                           spirited    1
## 6178                            spoiled    1
## 6179                            spokane    1
## 6180                          spokesmen    1
## 6181                       spokesperson    1
## 6182                              sport    1
## 6183                     springfield1pm    1
## 6184                                spy    1
## 6185                             squirm    1
## 6186                                sro    1
## 6187                           ssr=true    1
## 6188                           stabbing    1
## 6189                            staffer    1
## 6190                           staffers    1
## 6191                             staged    1
## 6192                              stake    1
## 6193                             stakes    1
## 6194                            stances    1
## 6195                           starters    1
## 6196                             starts    1
## 6197                             staten    1
## 6198                            station    1
## 6199                          statistic    1
## 6200                         statistics    1
## 6201                             status    1
## 6202                            staying    1
## 6203                              steal    1
## 6204                           stealing    1
## 6205                       steelworkers    1
## 6206                            steinle    1
## 6207                        steinlecome    1
## 6208                          stephanie    1
## 6209                             steven    1
## 6210                         stevenswho    1
## 6211                           sticking    1
## 6212                              stiff    1
## 6213                          stimulate    1
## 6214                             stinks    1
## 6215                             stinky    1
## 6216                          stockpile    1
## 6217                             stocks    1
## 6218                              stole    1
## 6219                              stone    1
## 6220                            storage    1
## 6221                              store    1
## 6222                             storms    1
## 6223                          storywant    1
## 6224                          storywith    1
## 6225                      straightening    1
## 6226                             strain    1
## 6227                             stream    1
## 6228                            streets    1
## 6229                       strengthened    1
## 6230                    strengthstamina    1
## 6231                            strikes    1
## 6232                           striking    1
## 6233                          strongest    1
## 6234                             struck    1
## 6235                          struggled    1
## 6236                            student    1
## 6237                            studies    1
## 6238                             studio    1
## 6239                           stupidly    1
## 6240                          submitted    1
## 6241                           subpoena    1
## 6242                         subpoenaed    1
## 6243                      subscriptions    1
## 6244                            succeed    1
## 6245                               suck    1
## 6246                          suckersno    1
## 6247                            sucking    1
## 6248                             sudden    1
## 6249                            suffolk    1
## 6250                            suggest    1
## 6251                          suggested    1
## 6252                           suicidal    1
## 6253                            suicide    1
## 6254                              suing    1
## 6255                               suit    1
## 6256                           suleiman    1
## 6257                            summary    1
## 6258                             summer    1
## 6259                             sununu    1
## 6260                           superior    1
## 6261                           superpac    1
## 6262                          superpacs    1
## 6263                         supportive    1
## 6264                           supposed    1
## 6265                         supposedly    1
## 6266                           suppress    1
## 6267                            surging    1
## 6268                          surrogate    1
## 6269                         surrounded    1
## 6270                       surveillance    1
## 6271                            surveys    1
## 6272                           survival    1
## 6273                            suspect    1
## 6274                           suspects    1
## 6275                            suspend    1
## 6276                          suspended    1
## 6277                         suspending    1
## 6278                            swamped    1
## 6279                             sweats    1
## 6280                              swipe    1
## 6281                        switzerland    1
## 6282                         syndicated    1
## 6283                              table    1
## 6284                            tabloid    1
## 6285                         tabulation    1
## 6286                               taco    1
## 6287                            tactics    1
## 6288                              takes    1
## 6289                             tamara    1
## 6290                             tanden    1
## 6291                       tapesnothing    1
## 6292                          targeting    1
## 6293                               tarp    1
## 6294                           taunting    1
## 6295                           taxation    1
## 6296                          taxpayers    1
## 6297                                tea    1
## 6298                              teach    1
## 6299                             teamed    1
## 6300                          teamsters    1
## 6301                              tears    1
## 6302                         technician    1
## 6303                                tee    1
## 6304                                tel    1
## 6305                    teleprompterbut    1
## 6306                         temperment    1
## 6307                          temporary    1
## 6308                                ten    1
## 6309                         terminated    1
## 6310                              terms    1
## 6311                           terribly    1
## 6312                          terrified    1
## 6313                          territory    1
## 6314                               test    1
## 6315                       testifygreat    1
## 6316                          testimony    1
## 6317                             texans    1
## 6318                                tha    1
## 6319                       thanksgiving    1
## 6320                       theeconomist    1
## 6321                            thehill    1
## 6322                    thejuanwilliams    1
## 6323                            thembut    1
## 6324                              theme    1
## 6325                            theview    1
## 6326                              theyd    1
## 6327                             theyll    1
## 6328                          thingswhy    1
## 6329                             thirty    1
## 6330                         thisthanks    1
## 6331                        thisweekabc    1
## 6332                         thoroughly    1
## 6333                           threaten    1
## 6334                          threatens    1
## 6335                            threats    1
## 6336                              threw    1
## 6337                           thrilled    1
## 6338                              throw    1
## 6339                            thunder    1
## 6340                          thursdays    1
## 6341                              tiger    1
## 6342                               tiny    1
## 6343                             today2    1
## 6344                           todaybut    1
## 6345                         togetherto    1
## 6346                          toledo4pm    1
## 6347                           tolerate    1
## 6348                       tomllamasabc    1
## 6349                        tomorrowwhy    1
## 6350                               tone    1
## 6351                        tonightgang    1
## 6352                               tony    1
## 6353                               tool    1
## 6354                              topic    1
## 6355                             topics    1
## 6356                               tops    1
## 6357                          tornadoes    1
## 6358                             torres    1
## 6359                             totaly    1
## 6360                            touches    1
## 6361                           touching    1
## 6362                          toughness    1
## 6363                               tour    1
## 6364                            touring    1
## 6365                             toward    1
## 6366                           townhall    1
## 6367                                toy    1
## 6368                               toys    1
## 6369                        traceadkins    1
## 6370                              track    1
## 6371                            traffic    1
## 6372                         trafficked    1
## 6373                             tragic    1
## 6374                              train    1
## 6375                            trained    1
## 6376                           training    1
## 6377                              trans    1
## 6378                               trap    1
## 6379                              trash    1
## 6380                            trashes    1
## 6381                           traveled    1
## 6382                           travesty    1
## 6383                             travis    1
## 6384                           treaties    1
## 6385                           treating    1
## 6386                       tremendously    1
## 6387                              tribe    1
## 6388                            tribute    1
## 6389                              trice    1
## 6390                               trio    1
## 6391                            triumph    1
## 6392                              troll    1
## 6393                             troops    1
## 6394                           troubled    1
## 6395                      troublemakers    1
## 6396                             trough    1
## 6397                           trounced    1
## 6398                         trump=safe    1
## 6399                             trumpi    1
## 6400                        trumpocrats    1
## 6401                             trumpu    1
## 6402                            trusted    1
## 6403                         truthfully    1
## 6404                                tsa    1
## 6405                             tucson    1
## 6406                                tue    1
## 6407                         tuesdayand    1
## 6408                            tuition    1
## 6409                             tumble    1
## 6410                              tuned    1
## 6411                             tuning    1
## 6412                             turkey    1
## 6413                         tweetsvery    1
## 6414                             twelve    1
## 6415                             twenty    1
## 6416                              twist    1
## 6417                            twotime    1
## 6418                               type    1
## 6419                            typical    1
## 6420                              tyson    1
## 6421                                ufc    1
## 6422                                uks    1
## 6423                                 ul    1
## 6424                              ultra    1
## 6425                              umass    1
## 6426                       unacceptable    1
## 6427                       unaffiliated    1
## 6428                       unaffordable    1
## 6429                          unanimous    1
## 6430                       unauthorized    1
## 6431                         unbalanced    1
## 6432                       unbelievably    1
## 6433                        uncertainty    1
## 6434                      uncomfortable    1
## 6435                         undecideds    1
## 6436                     underachieving    1
## 6437                         underlings    1
## 6438                         undermines    1
## 6439                      understanding    1
## 6440                         understood    1
## 6441                           underway    1
## 6442                       undocumented    1
## 6443                        unelectable    1
## 6444                     unenthusiastic    1
## 6445                         unexpected    1
## 6446                         unfairness    1
## 6447                          unfolding    1
## 6448                           unfunded    1
## 6449                            unfunny    1
## 6450                            unhappy    1
## 6451                        unification    1
## 6452                          unimpeded    1
## 6453                               univ    1
## 6454                          universal    1
## 6455                           unlikely    1
## 6456                            unnamed    1
## 6457                         unpleasant    1
## 6458                      unpredictable    1
## 6459                        unqualified    1
## 6460                     unquestionably    1
## 6461                        unrelenting    1
## 6462                             unrest    1
## 6463                    unsubstantiated    1
## 6464                       unsuspecting    1
## 6465                             unveil    1
## 6466                           unveiled    1
## 6467                              upand    1
## 6468                            updated    1
## 6469                             upheld    1
## 6470                                upi    1
## 6471                               upon    1
## 6472                             uproar    1
## 6473                              upset    1
## 6474                              urban    1
## 6475                             urging    1
## 6476                              usand    1
## 6477                           usatoday    1
## 6478                                usc    1
## 6479                          uschamber    1
## 6480                           username    1
## 6481                               usss    1
## 6482                          ussupreme    1
## 6483                              usual    1
## 6484                                v12    1
## 6485                             vacuum    1
## 6486                          validated    1
## 6487                             valley    1
## 6488                                van    1
## 6489                        vandersloot    1
## 6490                            vanessa    1
## 6491                          vanishing    1
## 6492                         vanityfair    1
## 6493                               veep    1
## 6494                               vega    1
## 6495                         vehemently    1
## 6496                          venezuela    1
## 6497                            verdict    1
## 6498                              verse    1
## 6499                            version    1
## 6500                                 vi    1
## 6501                            vibrant    1
## 6502                             victim    1
## 6503                          victories    1
## 6504                         victoryhas    1
## 6505                    videobroaddrick    1
## 6506                          vigilance    1
## 6507                        vindication    1
## 6508                          virginias    1
## 6509                             virtue    1
## 6510                            virtues    1
## 6511                               visa    1
## 6512                              visas    1
## 6513                           visitors    1
## 6514                          volunteer    1
## 6515                                von    1
## 6516                         voterfraud    1
## 6517                         votergrade    1
## 6518                      voteshundreds    1
## 6519                        vpcandidate    1
## 6520                                vps    1
## 6521                                 vt    1
## 6522                             vulgar    1
## 6523                          vulgarian    1
## 6524                              wades    1
## 6525                               wage    1
## 6526                               wake    1
## 6527                               walk    1
## 6528                            walking    1
## 6529                            walters    1
## 6530                               wapo    1
## 6531                            warming    1
## 6532                               warn    1
## 6533                            warning    1
## 6534                              warns    1
## 6535                            warrens    1
## 6536                            warwick    1
## 6537                               watc    1
## 6538                           watchdog    1
## 6539                      watchednobody    1
## 6540                            watches    1
## 6541                              water    1
## 6542                          waterbury    1
## 6543                           waterloo    1
## 6544                          watertown    1
## 6545                             waynes    1
## 6546                            weakest    1
## 6547                             weapon    1
## 6548                            website    1
## 6549                            wedding    1
## 6550                         wednesday1    1
## 6551                            wellwho    1
## 6552                          wellwrong    1
## 6553                             werent    1
## 6554                            western    1
## 6555                          westfield    1
## 6556                               weve    1
## 6557                                wgc    1
## 6558                           wheeling    1
## 6559                            whether    1
## 6560                     whoopigoldberg    1
## 6561                              whore    1
## 6562                             widens    1
## 6563                             wiener    1
## 6564                             wiesel    1
## 6565                              wifes    1
## 6566                             willey    1
## 6567                            william    1
## 6568                           williams    1
## 6569                      williebosshog    1
## 6570                            windham    1
## 6571                            windows    1
## 6572                               wini    1
## 6573                             winter    1
## 6574                             winthx    1
## 6575                         wisconsins    1
## 6576                             wisdom    1
## 6577                            wiseguy    1
## 6578                            wishing    1
## 6579                          witchhunt    1
## 6580                          withdrawn    1
## 6581                           withheld    1
## 6582                          witnesses    1
## 6583                             wlocal    1
## 6584                             wobama    1
## 6585                             womeni    1
## 6586                           wondered    1
## 6587                          worcester    1
## 6588                             worker    1
## 6589                        workingclas    1
## 6590                          worldcont    1
## 6591                              worry    1
## 6592                        worsealmost    1
## 6593                         worsetheir    1
## 6594                        worsetrying    1
## 6595                          worstthey    1
## 6596                             worthy    1
## 6597                               wout    1
## 6598                                 wr    1
## 6599                            writers    1
## 6600                       wrongtotally    1
## 6601                              wthem    1
## 6602                              wthis    1
## 6603                           wthought    1
## 6604                               wwii    1
## 6605                            xfinity    1
## 6606                            yankees    1
## 6607                            yearbut    1
## 6608                            yearcan    1
## 6609                           yearsand    1
## 6610                         yearswhere    1
## 6611                         yesterdays    1
## 6612                             yetthe    1
## 6613                            yorkers    1
## 6614                    youngdems4trump    1
## 6615                           yourself    1
## 6616                              youve    1
## 6617                                yrs    1
## 6618                              zilch    1
## 6619                                zip    1
## 6620                              zones    1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is not surprising that these are the top words. The top words are not informative. The &lt;em&gt;tidytext&lt;/em&gt; package has a database of these commonly used words, referred to as &lt;em&gt;stop words&lt;/em&gt;, in text mining:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;stop_words&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,149 x 2
##    word        lexicon
##    &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;  
##  1 a           SMART  
##  2 a&amp;#39;s         SMART  
##  3 able        SMART  
##  4 about       SMART  
##  5 above       SMART  
##  6 according   SMART  
##  7 accordingly SMART  
##  8 across      SMART  
##  9 actually    SMART  
## 10 after       SMART  
## # … with 1,139 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we filter out rows representing stop words with &lt;code&gt;filter(!word %in% stop_words$word)&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words &amp;lt;- campaign_tweets %&amp;gt;%
  mutate(text = str_replace_all(text, links, &amp;quot;&amp;quot;))  %&amp;gt;%
  unnest_tokens(word, text, token = &amp;quot;tweets&amp;quot;) %&amp;gt;%
  filter(!word %in% stop_words$word )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we end up with a much more informative set of top 10 tweeted words:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words %&amp;gt;%
  count(word) %&amp;gt;%
  top_n(10, n) %&amp;gt;%
  mutate(word = reorder(word, n)) %&amp;gt;%
  arrange(desc(n))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                      word   n
## 1              #trump2016 414
## 2                 hillary 405
## 3                  people 303
## 4  #makeamericagreatagain 294
## 5                 america 254
## 6                 clinton 237
## 7                    poll 217
## 8                 crooked 205
## 9                   trump 195
## 10                   cruz 159&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Some exploration of the resulting words (not shown here) reveals a couple of unwanted characteristics in our tokens. First, some of our tokens are just numbers (years, for example). We want to remove these and we can find them using the regex &lt;code&gt;^\d+$&lt;/code&gt;. Second, some of our tokens come from a quote and they start with &lt;code&gt;&#39;&lt;/code&gt;. We want to remove the &lt;code&gt;&#39;&lt;/code&gt; when it is at the start of a word so we will just &lt;code&gt;str_replace&lt;/code&gt;. We add these two lines to the code above to generate our final table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words &amp;lt;- campaign_tweets %&amp;gt;%
  mutate(text = str_replace_all(text, links, &amp;quot;&amp;quot;))  %&amp;gt;%
  unnest_tokens(word, text, token = &amp;quot;tweets&amp;quot;) %&amp;gt;%
  filter(!word %in% stop_words$word &amp;amp;
           !str_detect(word, &amp;quot;^\\d+$&amp;quot;)) %&amp;gt;%
  mutate(word = str_replace(word, &amp;quot;^&amp;#39;&amp;quot;, &amp;quot;&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have all our words in a table, along with information about what device was used to compose the tweet they came from, we can start exploring which words are more common when comparing Android to iPhone.&lt;/p&gt;
&lt;p&gt;For each word, we want to know if it is more likely to come from an Android tweet or an iPhone tweet. In Section &lt;a href=&#34;#association-tests&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we introduced the odds ratio as a summary statistic useful for quantifying these differences. For each device and a given word, let’s call it &lt;code&gt;y&lt;/code&gt;, we compute the odds or the ratio between the proportion of words that are &lt;code&gt;y&lt;/code&gt; and not &lt;code&gt;y&lt;/code&gt; and compute the ratio of those odds. Here we will have many proportions that are 0, so we use the 0.5 correction described in Section &lt;a href=&#34;#association-tests&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or &amp;lt;- tweet_words %&amp;gt;%
  count(word, source) %&amp;gt;%
  spread(source, n, fill = 0) %&amp;gt;%
  mutate(or = (Android + 0.5) / (sum(Android) - Android + 0.5) /
           ( (iPhone + 0.5) / (sum(iPhone) - iPhone + 0.5)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here are the highest odds ratios for Android&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% arrange(desc(or))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                                    word Android iPhone           or
## 1                                  poor      13      0 23.099934906
## 2                                poorly      12      0 21.387502712
## 3                             turnberry      11      0 19.675282814
## 4                              @cbsnews      10      0 17.963275173
## 5                                 angry      10      0 17.963275173
## 6                                bosses      10      0 17.963275173
## 7                                 write      10      0 17.963275173
## 8                                brexit       9      0 16.251479748
## 9                                defend       9      0 16.251479748
## 10                                funny       9      0 16.251479748
## 11                              playing       9      0 16.251479748
## 12                                 pols       9      0 16.251479748
## 13                               stupid       9      0 16.251479748
## 14                           enthusiasm       8      0 14.539896502
## 15                               george       8      0 14.539896502
## 16                              puppets       8      0 14.539896502
## 17                              sources       8      0 14.539896502
## 18                                   pm      38      2 13.194057931
## 19                                 @gma       7      0 12.828525393
## 20                             $1000000       7      0 12.828525393
## 21                                   $s       7      0 12.828525393
## 22                                  1st       7      0 12.828525393
## 23                             onesided       7      0 12.828525393
## 24                            primaries       7      0 12.828525393
## 25                             southern       7      0 12.828525393
## 26                                talks       7      0 12.828525393
## 27                              leading      19      1 11.125523272
## 28                                @cnbc       6      0 11.117366383
## 29                            @donlemon       6      0 11.117366383
## 30                                daily       6      0 11.117366383
## 31                             democrat       6      0 11.117366383
## 32                              divided       6      0 11.117366383
## 33                              eastern       6      0 11.117366383
## 34                              michael       6      0 11.117366383
## 35                              protest       6      0 11.117366383
## 36                              smarter       6      0 11.117366383
## 37                          temperament       6      0 11.117366383
## 38                                 paid      17      1  9.983205697
## 39                                   vp      16      1  9.412153155
## 40                         @cnnpolitics       5      0  9.406419432
## 41                             $6000000       5      0  9.406419432
## 42                            attacking       5      0  9.406419432
## 43                                audit       5      0  9.406419432
## 44                               bombed       5      0  9.406419432
## 45                                 card       5      0  9.406419432
## 46                             champion       5      0  9.406419432
## 47                          commercials       5      0  9.406419432
## 48                           constantly       5      0  9.406419432
## 49                               crimea       5      0  9.406419432
## 50                                field       5      0  9.406419432
## 51                           frankluntz       5      0  9.406419432
## 52                                 held       5      0  9.406419432
## 53                                 koch       5      0  9.406419432
## 54                                 loss       5      0  9.406419432
## 55                          negotiators       5      0  9.406419432
## 56                             opposite       5      0  9.406419432
## 57                             returned       5      0  9.406419432
## 58                               sleepy       5      0  9.406419432
## 59                             socalled       5      0  9.406419432
## 60                              trouble       5      0  9.406419432
## 61                                 usag       5      0  9.406419432
## 62                              writing       5      0  9.406419432
## 63                                china      15      1  8.841171425
## 64                                 joke      15      1  8.841171425
## 65                                badly      34      3  8.442467399
## 66                                 dead      13      1  7.699420353
## 67                               senate      13      1  7.699420353
## 68                           #demdebate       4      0  7.695684501
## 69                              african       4      0  7.695684501
## 70                                anger       4      0  7.695684501
## 71                          anticipated       4      0  7.695684501
## 72                            antitrump       4      0  7.695684501
## 73                           apprentice       4      0  7.695684501
## 74                               babies       4      0  7.695684501
## 75                            baltimore       4      0  7.695684501
## 76                                 beck       4      0  7.695684501
## 77                              billion       4      0  7.695684501
## 78                                black       4      0  7.695684501
## 79                                board       4      0  7.695684501
## 80                              capitol       4      0  7.695684501
## 81                                  con       4      0  7.695684501
## 82                              covered       4      0  7.695684501
## 83                           criticized       4      0  7.695684501
## 84                                death       4      0  7.695684501
## 85                             decision       4      0  7.695684501
## 86                            destroyed       4      0  7.695684501
## 87                                 died       4      0  7.695684501
## 88                               double       4      0  7.695684501
## 89                            expensive       4      0  7.695684501
## 90                               finish       4      0  7.695684501
## 91                                 flag       4      0  7.695684501
## 92                             football       4      0  7.695684501
## 93                               forced       4      0  7.695684501
## 94                              germany       4      0  7.695684501
## 95                                heads       4      0  7.695684501
## 96                                 hell       4      0  7.695684501
## 97                                 hits       4      0  7.695684501
## 98                                 khan       4      0  7.695684501
## 99                                 kids       4      0  7.695684501
## 100                               level       4      0  7.695684501
## 101                             missing       4      0  7.695684501
## 102                            mistakes       4      0  7.695684501
## 103                          morningjoe       4      0  7.695684501
## 104                               panel       4      0  7.695684501
## 105                               picks       4      0  7.695684501
## 106                            pressure       4      0  7.695684501
## 107                            progress       4      0  7.695684501
## 108                              pushed       4      0  7.695684501
## 109                                quit       4      0  7.695684501
## 110                             soundly       4      0  7.695684501
## 111                           stupidity       4      0  7.695684501
## 112                            unfairly       4      0  7.695684501
## 113                                 uss       4      0  7.695684501
## 114                             vicious       4      0  7.695684501
## 115                             viewers       4      0  7.695684501
## 116                                wise       4      0  7.695684501
## 117                                 wsj       4      0  7.695684501
## 118                               spent      28      3  6.971615614
## 119                                born      11      1  6.557952374
## 120                              canada      11      1  6.557952374
## 121                           lobbyists      11      1  6.557952374
## 122                            reported      11      1  6.557952374
## 123                         selffunding      11      1  6.557952374
## 124                         @megynkelly      24      3  5.991656069
## 125                           political      24      3  5.991656069
## 126                             mexican      10      1  5.987324511
## 127                              stated      10      1  5.987324511
## 128                             @amazon       3      0  5.985161550
## 129                        @ariannahuff       3      0  5.985161550
## 130                     @elizabethforma       3      0  5.985161550
## 131                     @huffingtonpost       3      0  5.985161550
## 132                    @kayleighmcenany       3      0  5.985161550
## 133                     @mariabartiromo       3      0  5.985161550
## 134                             @newday       3      0  5.985161550
## 135                       @pennjillette       3      0  5.985161550
## 136                         @sentedcruz       3      0  5.985161550
## 137                                $430       3      0  5.985161550
## 138                            admitted       3      0  5.985161550
## 139                              advice       3      0  5.985161550
## 140                              agenda       3      0  5.985161550
## 141                               armed       3      0  5.985161550
## 142                             barbara       3      0  5.985161550
## 143                                 beg       3      0  5.985161550
## 144                            billions       3      0  5.985161550
## 145                               blood       3      0  5.985161550
## 146                     bobvanderplaats       3      0  5.985161550
## 147                              boston       3      0  5.985161550
## 148                                buzz       3      0  5.985161550
## 149                            category       3      0  5.985161550
## 150                           committed       3      0  5.985161550
## 151                          confidence       3      0  5.985161550
## 152                              covers       3      0  5.985161550
## 153                             cutting       3      0  5.985161550
## 154                         donaldtrump       3      0  5.985161550
## 155                               doral       3      0  5.985161550
## 156                              dumber       3      0  5.985161550
## 157                                fees       3      0  5.985161550
## 158                               fence       3      0  5.985161550
## 159                                ford       3      0  5.985161550
## 160                                  gq       3      0  5.985161550
## 161                               havnt       3      0  5.985161550
## 162                            historic       3      0  5.985161550
## 163                             hitting       3      0  5.985161550
## 164                                host       3      0  5.985161550
## 165                        inaccurately       3      0  5.985161550
## 166                             killers       3      0  5.985161550
## 167                           knowingly       3      0  5.985161550
## 168                                lane       3      0  5.985161550
## 169                              levels       3      0  5.985161550
## 170                               light       3      0  5.985161550
## 171                               likes       3      0  5.985161550
## 172                            likewise       3      0  5.985161550
## 173                             lowlife       3      0  5.985161550
## 174                             lyinted       3      0  5.985161550
## 175                             margins       3      0  5.985161550
## 176                        markhalperin       3      0  5.985161550
## 177                      mathematically       3      0  5.985161550
## 178                            meetings       3      0  5.985161550
## 179                           mentioned       3      0  5.985161550
## 180                               minds       3      0  5.985161550
## 181                        misrepresent       3      0  5.985161550
## 182                            monmouth       3      0  5.985161550
## 183                              passed       3      0  5.985161550
## 184                             pastors       3      0  5.985161550
## 185                              picked       3      0  5.985161550
## 186                              podium       3      0  5.985161550
## 187                                 pol       3      0  5.985161550
## 188                           prisoners       3      0  5.985161550
## 189                          productive       3      0  5.985161550
## 190                           purposely       3      0  5.985161550
## 191                               races       3      0  5.985161550
## 192                          raisedgave       3      0  5.985161550
## 193                            recieved       3      0  5.985161550
## 194                             schultz       3      0  5.985161550
## 195                         seanhannity       3      0  5.985161550
## 196                              season       3      0  5.985161550
## 197                           slaughter       3      0  5.985161550
## 198                               stops       3      0  5.985161550
## 199                          straighten       3      0  5.985161550
## 200                            stronger       3      0  5.985161550
## 201                             subject       3      0  5.985161550
## 202                             suffers       3      0  5.985161550
## 203                           surprised       3      0  5.985161550
## 204                             syrians       3      0  5.985161550
## 205                               treat       3      0  5.985161550
## 206                           treatment       3      0  5.985161550
## 207                                trip       3      0  5.985161550
## 208                            vacation       3      0  5.985161550
## 209                          wikileakes       3      0  5.985161550
## 210                              wishes       3      0  5.985161550
## 211                             wounded       3      0  5.985161550
## 212                               youth       3      0  5.985161550
## 213                      @foxandfriends      37      5  5.839892421
## 214                            exciting      16      2  5.646882654
## 215                           judgement      22      3  5.501858654
## 216                              bought       9      1  5.416767383
## 217                       establishment       9      1  5.416767383
## 218                            fighting       9      1  5.416767383
## 219                                guns       9      1  5.416767383
## 220                             network       9      1  5.416767383
## 221                              public       9      1  5.416767383
## 222                          television      21      3  5.257005516
## 223                                lyin      27      4  5.231405358
## 224                               crazy      20      3  5.012182750
## 225                            politics      20      3  5.012182750
## 226                              chance      14      2  4.961796708
## 227                             citizen       8      1  4.846280975
## 228                          controlled       8      1  4.846280975
## 229                          disgusting       8      1  4.846280975
## 230                             explain       8      1  4.846280975
## 231                                pres       8      1  4.846280975
## 232                             reviews       8      1  4.846280975
## 233                                 set       8      1  4.846280975
## 234                               start       8      1  4.846280975
## 235                                stay       8      1  4.846280975
## 236                          candidates      19      3  4.767390351
## 237                                @wsj      13      2  4.619317442
## 238                                mess      13      2  4.619317442
## 239                                 fun      18      3  4.522628313
## 240                                @cnn      90     17  4.440177264
## 241                          republican      63     12  4.355932962
## 242                                bush      47      9  4.284005840
## 243                             finally      12      2  4.276880637
## 244                           happening      12      2  4.276880637
## 245                             pushing      12      2  4.276880637
## 246                              unfair      12      2  4.276880637
## 247                          experience       7      1  4.275865274
## 248                              matter       7      1  4.275865274
## 249                             minutes       7      1  4.275865274
## 250                          protesters       7      1  4.275865274
## 251                                sold       7      1  4.275865274
## 252                           @bensasse       2      0  4.274850541
## 253                           @brithume       2      0  4.274850541
## 254                        @foxbusiness       2      0  4.274850541
## 255                          @jeffbezos       2      0  4.274850541
## 256                          @joniernst       2      0  4.274850541
## 257                              @ncgop       2      0  4.274850541
## 258                                @nro       2      0  4.274850541
## 259                     @scottienhughes       2      0  4.274850541
## 260                             @secupp       2      0  4.274850541
## 261                       @tonyschwartz       2      0  4.274850541
## 262                          @univision       2      0  4.274850541
## 263                          @uschamber       2      0  4.274850541
## 264                         @vanityfair       2      0  4.274850541
## 265                       #neverhillary       2      0  4.274850541
## 266                                 $10       2      0  4.274850541
## 267                             $100000       2      0  4.274850541
## 268                                $150       2      0  4.274850541
## 269                            $5600000       2      0  4.274850541
## 270                                 $59       2      0  4.274850541
## 271                       abcwashington       2      0  4.274850541
## 272                             ability       2      0  4.274850541
## 273                               ac360       2      0  4.274850541
## 274                         acknowledge       2      0  4.274850541
## 275                               added       2      0  4.274850541
## 276                              afraid       2      0  4.274850541
## 277                            airlines       2      0  4.274850541
## 278                            airports       2      0  4.274850541
## 279                              alicia       2      0  4.274850541
## 280                             alltime       2      0  4.274850541
## 281                              amount       2      0  4.274850541
## 282                             analyst       2      0  4.274850541
## 283                               apple       2      0  4.274850541
## 284                            approved       2      0  4.274850541
## 285                              arnold       2      0  4.274850541
## 286                            arrogant       2      0  4.274850541
## 287                                asap       2      0  4.274850541
## 288                                asia       2      0  4.274850541
## 289                              asians       2      0  4.274850541
## 290                             audited       2      0  4.274850541
## 291                               aware       2      0  4.274850541
## 292                            balanced       2      0  4.274850541
## 293                              bandon       2      0  4.274850541
## 294                              basket       2      0  4.274850541
## 295                              battle       2      0  4.274850541
## 296                               beast       2      0  4.274850541
## 297                               begun       2      0  4.274850541
## 298                              belief       2      0  4.274850541
## 299                            belittle       2      0  4.274850541
## 300                                 bet       2      0  4.274850541
## 301                               biden       2      0  4.274850541
## 302                              blamed       2      0  4.274850541
## 303                               blank       2      0  4.274850541
## 304                               bless       2      0  4.274850541
## 305                               blown       2      0  4.274850541
## 306                          bodyguards       2      0  4.274850541
## 307                           borrowing       2      0  4.274850541
## 308                                boss       2      0  4.274850541
## 309                               brady       2      0  4.274850541
## 310                               brain       2      0  4.274850541
## 311                               brave       2      0  4.274850541
## 312                              bright       2      0  4.274850541
## 313                            brithume       2      0  4.274850541
## 314                          burlington       2      0  4.274850541
## 315                              burned       2      0  4.274850541
## 316                                bust       2      0  4.274850541
## 317                            capacity       2      0  4.274850541
## 318                               cards       2      0  4.274850541
## 319                              carpet       2      0  4.274850541
## 320                              carter       2      0  4.274850541
## 321                          challenged       2      0  4.274850541
## 322                             chances       2      0  4.274850541
## 323                           circuited       2      0  4.274850541
## 324                                code       2      0  4.274850541
## 325                               colin       2      0  4.274850541
## 326                          commission       2      0  4.274850541
## 327                       communication       2      0  4.274850541
## 328                          complaints       2      0  4.274850541
## 329                             conduct       2      0  4.274850541
## 330                          considered       2      0  4.274850541
## 331                       controversial       2      0  4.274850541
## 332                            convince       2      0  4.274850541
## 333                           corrected       2      0  4.274850541
## 334                               costs       2      0  4.274850541
## 335                            covering       2      0  4.274850541
## 336                            critical       2      0  4.274850541
## 337                              curiel       2      0  4.274850541
## 338                             current       2      0  4.274850541
## 339                            defeated       2      0  4.274850541
## 340                                deny       2      0  4.274850541
## 341                           depending       2      0  4.274850541
## 342                             deplore       2      0  4.274850541
## 343                              detail       2      0  4.274850541
## 344                        disabilities       2      0  4.274850541
## 345                        disappointed       2      0  4.274850541
## 346                          disrespect       2      0  4.274850541
## 347                             distort       2      0  4.274850541
## 348                           distorted       2      0  4.274850541
## 349                                 djt       2      0  4.274850541
## 350                             drawing       2      0  4.274850541
## 351                                  dt       2      0  4.274850541
## 352                             dummies       2      0  4.274850541
## 353                         electricity       2      0  4.274850541
## 354                              eleven       2      0  4.274850541
## 355                         eligibility       2      0  4.274850541
## 356                            eligible       2      0  4.274850541
## 357                             enemies       2      0  4.274850541
## 358                               ethic       2      0  4.274850541
## 359                                 eve       2      0  4.274850541
## 360                          excitement       2      0  4.274850541
## 361                              expert       2      0  4.274850541
## 362                              expose       2      0  4.274850541
## 363                             express       2      0  4.274850541
## 364                         fabrication       2      0  4.274850541
## 365                             falsely       2      0  4.274850541
## 366                                 fat       2      0  4.274850541
## 367                            favorite       2      0  4.274850541
## 368                             fawning       2      0  4.274850541
## 369                             federal       2      0  4.274850541
## 370                               feels       2      0  4.274850541
## 371                              firing       2      0  4.274850541
## 372                               fixed       2      0  4.274850541
## 373                               flags       2      0  4.274850541
## 374                               flake       2      0  4.274850541
## 375                               fools       2      0  4.274850541
## 376                             forming       2      0  4.274850541
## 377                         frontrunner       2      0  4.274850541
## 378                             funeral       2      0  4.274850541
## 379                              fusion       2      0  4.274850541
## 380                               gates       2      0  4.274850541
## 381                               giant       2      0  4.274850541
## 382                                glad       2      0  4.274850541
## 383                               globe       2      0  4.274850541
## 384                               glory       2      0  4.274850541
## 385                             gonzalo       2      0  4.274850541
## 386                              gotcha       2      0  4.274850541
## 387                           govkasich       2      0  4.274850541
## 388                             graydon       2      0  4.274850541
## 389                     gstephanopoulos       2      0  4.274850541
## 390                                guys       2      0  4.274850541
## 391                            haberman       2      0  4.274850541
## 392                             happily       2      0  4.274850541
## 393                              harder       2      0  4.274850541
## 394                             hardest       2      0  4.274850541
## 395                             heavily       2      0  4.274850541
## 396                              heroin       2      0  4.274850541
## 397                              hewitt       2      0  4.274850541
## 398                             holding       2      0  4.274850541
## 399                                hole       2      0  4.274850541
## 400                             hopkins       2      0  4.274850541
## 401                          horrendous       2      0  4.274850541
## 402                                huff       2      0  4.274850541
## 403                                hugh       2      0  4.274850541
## 404                            hundreds       2      0  4.274850541
## 405                             hurting       2      0  4.274850541
## 406                           impressed       2      0  4.274850541
## 407                           incapable       2      0  4.274850541
## 408                        incompetence       2      0  4.274850541
## 409                         incorrectly       2      0  4.274850541
## 410                            innocent       2      0  4.274850541
## 411                              insane       2      0  4.274850541
## 412                          instructed       2      0  4.274850541
## 413                        introduction       2      0  4.274850541
## 414                                isil       2      0  4.274850541
## 415                                jake       2      0  4.274850541
## 416                            kayleigh       2      0  4.274850541
## 417                             keeping       2      0  4.274850541
## 418                             kidding       2      0  4.274850541
## 419                               kurtz       2      0  4.274850541
## 420                             lawsuit       2      0  4.274850541
## 421                            lawsuits       2      0  4.274850541
## 422                              leaked       2      0  4.274850541
## 423                              ledger       2      0  4.274850541
## 424                             letting       2      0  4.274850541
## 425                               liars       2      0  4.274850541
## 426                               lived       2      0  4.274850541
## 427                        livetweeting       2      0  4.274850541
## 428                            longtime       2      0  4.274850541
## 429                               loyal       2      0  4.274850541
## 430                              madeup       2      0  4.274850541
## 431                              maggie       2      0  4.274850541
## 432                              majors       2      0  4.274850541
## 433                         masterminds       2      0  4.274850541
## 434                                math       2      0  4.274850541
## 435                            medicaid       2      0  4.274850541
## 436                             medical       2      0  4.274850541
## 437                            medicare       2      0  4.274850541
## 438                              mental       2      0  4.274850541
## 439                              mentor       2      0  4.274850541
## 440                           messenger       2      0  4.274850541
## 441                          microphone       2      0  4.274850541
## 442                          misleading       2      0  4.274850541
## 443                             mission       2      0  4.274850541
## 444                              mobile       2      0  4.274850541
## 445                              moment       2      0  4.274850541
## 446                               month       2      0  4.274850541
## 447                               names       2      0  4.274850541
## 448                          negatively       2      0  4.274850541
## 449                             newsmax       2      0  4.274850541
## 450                          newspapers       2      0  4.274850541
## 451                      newswashington       2      0  4.274850541
## 452                              nicole       2      0  4.274850541
## 453                            nonsense       2      0  4.274850541
## 454                             norfolk       2      0  4.274850541
## 455                                nuke       2      0  4.274850541
## 456                                 oan       2      0  4.274850541
## 457                            obsolete       2      0  4.274850541
## 458                              oclock       2      0  4.274850541
## 459                            odonnell       2      0  4.274850541
## 460                               offer       2      0  4.274850541
## 461                          officially       2      0  4.274850541
## 462                             omalley       2      0  4.274850541
## 463                              openly       2      0  4.274850541
## 464                              orange       2      0  4.274850541
## 465                            original       2      0  4.274850541
## 466                           overdoses       2      0  4.274850541
## 467                                 pac       2      0  4.274850541
## 468                            panicked       2      0  4.274850541
## 469                      peggynoonannyc       2      0  4.274850541
## 470                            penchant       2      0  4.274850541
## 471                          percentage       2      0  4.274850541
## 472                               perry       2      0  4.274850541
## 473                          phenomenal       2      0  4.274850541
## 474                               photo       2      0  4.274850541
## 475                              plenty       2      0  4.274850541
## 476                         practically       2      0  4.274850541
## 477                           primetime       2      0  4.274850541
## 478                                 pro       2      0  4.274850541
## 479                       professionals       2      0  4.274850541
## 480                           professor       2      0  4.274850541
## 481                                  pt       2      0  4.274850541
## 482                           publicity       2      0  4.274850541
## 483                            purposes       2      0  4.274850541
## 484                                 quo       2      0  4.274850541
## 485                           recommend       2      0  4.274850541
## 486                           recovered       2      0  4.274850541
## 487                                 red       2      0  4.274850541
## 488                            remained       2      0  4.274850541
## 489                      representation       2      0  4.274850541
## 490                              repubs       2      0  4.274850541
## 491                             request       2      0  4.274850541
## 492                                 res       2      0  4.274850541
## 493                        ridiculously       2      0  4.274850541
## 494                             rigging       2      0  4.274850541
## 495                           romneywho       2      0  4.274850541
## 496                               rules       2      0  4.274850541
## 497                             russian       2      0  4.274850541
## 498                               scale       2      0  4.274850541
## 499                              scalia       2      0  4.274850541
## 500                              scream       2      0  4.274850541
## 501                            secretly       2      0  4.274850541
## 502                            senators       2      0  4.274850541
## 503                           september       2      0  4.274850541
## 504                            severely       2      0  4.274850541
## 505                              sexism       2      0  4.274850541
## 506                               shoot       2      0  4.274850541
## 507                               slate       2      0  4.274850541
## 508                              sleazy       2      0  4.274850541
## 509                              sloppy       2      0  4.274850541
## 510                                sons       2      0  4.274850541
## 511                               sorts       2      0  4.274850541
## 512                               sound       2      0  4.274850541
## 513                                spin       2      0  4.274850541
## 514                              sports       2      0  4.274850541
## 515                             stacked       2      0  4.274850541
## 516                              stands       2      0  4.274850541
## 517                             starved       2      0  4.274850541
## 518                               steve       2      0  4.274850541
## 519                           stirewalt       2      0  4.274850541
## 520                              stolen       2      0  4.274850541
## 521                              stores       2      0  4.274850541
## 522                             strange       2      0  4.274850541
## 523                          strengthen       2      0  4.274850541
## 524                      stuartpstevens       2      0  4.274850541
## 525                               stuck       2      0  4.274850541
## 526                            suffered       2      0  4.274850541
## 527                                 sun       2      0  4.274850541
## 528                              tapper       2      0  4.274850541
## 529                         telepromter       2      0  4.274850541
## 530                                 thr       2      0  4.274850541
## 531                            throwing       2      0  4.274850541
## 532                          tournament       2      0  4.274850541
## 533                              triple       2      0  4.274850541
## 534                               tubes       2      0  4.274850541
## 535                             ukraine       2      0  4.274850541
## 536                              unlike       2      0  4.274850541
## 537                      unprofessional       2      0  4.274850541
## 538                         unscheduled       2      0  4.274850541
## 539                         unwatchable       2      0  4.274850541
## 540                             vicente       2      0  4.274850541
## 541                                view       2      0  4.274850541
## 542                      washingtonpost       2      0  4.274850541
## 543                             weapons       2      0  4.274850541
## 544                               weird       2      0  4.274850541
## 545                                  wh       2      0  4.274850541
## 546                                  ya       2      0  4.274850541
## 547                              boring      16      3  4.033195296
## 548                                dems      16      3  4.033195296
## 549                              energy      16      3  4.033195296
## 550                             careful      11      2  3.934486285
## 551                              policy      11      2  3.934486285
## 552                            speaking      11      2  3.934486285
## 553                                vets      11      2  3.934486285
## 554                                mitt      20      4  3.898081820
## 555                               wrong      24      5  3.812319353
## 556                              bernie      59     13  3.777993076
## 557                             sanders      37      8  3.777932183
## 558                             created       6      1  3.705520269
## 559                                hate       6      1  3.705520269
## 560                               hotel       6      1  3.705520269
## 561                            illegals       6      1  3.705520269
## 562                               megyn       6      1  3.705520269
## 563                                star       6      1  3.705520269
## 564                            strongly       6      1  3.705520269
## 565                                 tim       6      1  3.705520269
## 566                           virtually       6      1  3.705520269
## 567                                weak      36      8  3.676959034
## 568                         @morningjoe      23      5  3.656487646
## 569                             fortune      10      2  3.592134379
## 570                             husband      10      2  3.592134379
## 571                                iraq      10      2  3.592134379
## 572                             release      10      2  3.592134379
## 573                             treated      10      2  3.592134379
## 574                            @jebbush      14      3  3.543883656
## 575                                dumb      22      5  3.500675270
## 576                                 hit      22      5  3.500675270
## 577                                 bad     104     26  3.386533952
## 578                               women      29      7  3.366808361
## 579                                 ago      17      4  3.327011785
## 580                           announced      17      4  3.327011785
## 581                                fast      17      4  3.327011785
## 582                                 sad      44     11  3.314349487
## 583                                beat      40     10  3.303128424
## 584                             dollars      13      3  3.299273338
## 585                               speak      13      3  3.299273338
## 586                             brought       9      2  3.249824909
## 587                                dope       9      2  3.249824909
## 588                             lindsey       9      2  3.249824909
## 589                         republicans       9      2  3.249824909
## 590                                wild       9      2  3.249824909
## 591                                 won      50     13  3.204738743
## 592                            terrible      31      8  3.172281294
## 593                               @time       5      1  3.135245944
## 594                          absolutely       5      1  3.135245944
## 595                              anchor       5      1  3.135245944
## 596                               banks       5      1  3.135245944
## 597                             boycott       5      1  3.135245944
## 598                                 buy       5      1  3.135245944
## 599                           criminals       5      1  3.135245944
## 600                           decisions       5      1  3.135245944
## 601                            director       5      1  3.135245944
## 602                                eyes       5      1  3.135245944
## 603                             fiorina       5      1  3.135245944
## 604                               folks       5      1  3.135245944
## 605                               heart       5      1  3.135245944
## 606                             journal       5      1  3.135245944
## 607                            karlrove       5      1  3.135245944
## 608                              mccain       5      1  3.135245944
## 609                          megynkelly       5      1  3.135245944
## 610                                nato       5      1  3.135245944
## 611                               paris       5      1  3.135245944
## 612                         performance       5      1  3.135245944
## 613                            referred       5      1  3.135245944
## 614                                rove       5      1  3.135245944
## 615                                scam       5      1  3.135245944
## 616                            standing       5      1  3.135245944
## 617                              unable       5      1  3.135245944
## 618                              womens       5      1  3.135245944
## 619                                talk      30      8  3.071383330
## 620                                 2nd      12      3  3.054693346
## 621                                clue      12      3  3.054693346
## 622                             correct      12      3  3.054693346
## 623                             killing      12      3  3.054693346
## 624                                 lie      12      3  3.054693346
## 625                                iran      19      5  3.033354100
## 626                           fantastic      33      9  3.018725937
## 627                              crowds      22      6  2.961895128
## 628                                fair      15      4  2.946416454
## 629                               ready      15      4  2.946416454
## 630                             wallace      15      4  2.946416454
## 631                             beating       8      2  2.907557869
## 632                               court       8      2  2.907557869
## 633                          democratic       8      2  2.907557869
## 634                                drop       8      2  2.907557869
## 635                          pocahontas       8      2  2.907557869
## 636                            speeches       8      2  2.907557869
## 637                               tough      28      8  2.869624968
## 638                               smart      31      9  2.838151158
## 639                          convention      21      6  2.830079798
## 640                             biggest      11      3  2.810143676
## 641                              easily      11      3  2.810143676
## 642                               focus      11      3  2.810143676
## 643                              happen      11      3  2.810143676
## 644                              russia      11      3  2.810143676
## 645                                 jeb      50     15  2.790819175
## 646                              strong      27      8  2.768764565
## 647                               fraud      14      4  2.756154183
## 648                               total      52     16  2.725648493
## 649                             crooked     156     49  2.719434849
## 650                                 wow      74     23  2.718043896
## 651                              biased      23      7  2.681035534
## 652                              romney      23      7  2.681035534
## 653                               trade      23      7  2.681035534
## 654                            millions      26      8  2.667916678
## 655                           yesterday      26      8  2.667916678
## 656                         interviewed      76     25  2.572055391
## 657                               media      76     25  2.572055391
## 658                            watching      28      9  2.567373026
## 659                             talking      25      8  2.567081304
## 660                                call      19      6  2.566498186
## 661                                 fix      19      6  2.566498186
## 662                             borders      16      5  2.566206790
## 663                                word      16      5  2.566206790
## 664                                mike      13      4  2.565915502
## 665                       @meetthepress      10      3  2.565624322
## 666                                city      10      3  2.565624322
## 667                             debates      10      3  2.565624322
## 668                           editorial      10      3  2.565624322
## 669                            magazine      10      3  2.565624322
## 670                              spirit      10      3  2.565624322
## 671                        @morningmika       7      2  2.565333251
## 672                          @todayshow       7      2  2.565333251
## 673                               clown       7      2  2.565333251
## 674                            continue       7      2  2.565333251
## 675                               cover       7      2  2.565333251
## 676                                 don       7      2  2.565333251
## 677                            question       7      2  2.565333251
## 678                            scotland       7      2  2.565333251
## 679                               thugs       7      2  2.565333251
## 680                              @macys       4      1  2.565042288
## 681                         advertising       4      1  2.565042288
## 682                     africanamerican       4      1  2.565042288
## 683                    africanamericans       4      1  2.565042288
## 684                            announce       4      1  2.565042288
## 685                              begins       4      1  2.565042288
## 686                            believes       4      1  2.565042288
## 687                                blew       4      1  2.565042288
## 688                            brussels       4      1  2.565042288
## 689                               carly       4      1  2.565042288
## 690                              chosen       4      1  2.565042288
## 691                              church       4      1  2.565042288
## 692                            constant       4      1  2.565042288
## 693                         destruction       4      1  2.565042288
## 694                          difference       4      1  2.565042288
## 695                             endorse       4      1  2.565042288
## 696                              fairly       4      1  2.565042288
## 697                             falling       4      1  2.565042288
## 698                              figure       4      1  2.565042288
## 699                                file       4      1  2.565042288
## 700                             imagine       4      1  2.565042288
## 701                       international       4      1  2.565042288
## 702                       investigation       4      1  2.565042288
## 703                                karl       4      1  2.565042288
## 704                               kelly       4      1  2.565042288
## 705                                line       4      1  2.565042288
## 706                              losers       4      1  2.565042288
## 707                              margin       4      1  2.565042288
## 708                            networks       4      1  2.565042288
## 709                             nominee       4      1  2.565042288
## 710                           opponents       4      1  2.565042288
## 711                              paying       4      1  2.565042288
## 712                             quickly       4      1  2.565042288
## 713                              racist       4      1  2.565042288
## 714                               rated       4      1  2.565042288
## 715                                rick       4      1  2.565042288
## 716                           shootings       4      1  2.565042288
## 717                               solve       4      1  2.565042288
## 718                               stuff       4      1  2.565042288
## 719                              talent       4      1  2.565042288
## 720                              theyre       4      1  2.565042288
## 721                             tougher       4      1  2.565042288
## 722                               wages       4      1  2.565042288
## 723                             wasting       4      1  2.565042288
## 724                                wide       4      1  2.565042288
## 725                                @722       1      0  2.564751433
## 726              @abcnewswashingtonpost       1      0  2.564751433
## 727                        @abcpolitics       1      0  2.564751433
## 728                       @alwaleedbint       1      0  2.564751433
## 729                     @andreatantaros       1      0  2.564751433
## 730                         @anncoulter       1      0  2.564751433
## 731                        @charleshurt       1      0  2.564751433
## 732                         @danaperino       1      0  2.564751433
## 733                       @davidaxelrod       1      0  2.564751433
## 734                    @fortunemagazine       1      0  2.564751433
## 735                        @foxbizalert       1      0  2.564751433
## 736                           @genflynn       1      0  2.564751433
## 737                         @georgewill       1      0  2.564751433
## 738                        @georgezwill       1      0  2.564751433
## 739                        @golfchannel       1      0  2.564751433
## 740                      @governorperry       1      0  2.564751433
## 741                            @heytana       1      0  2.564751433
## 742                         @hughhewitt       1      0  2.564751433
## 743                       @jacknicklaus       1      0  2.564751433
## 744                          @jeffflake       1      0  2.564751433
## 745                           @jmartnyt       1      0  2.564751433
## 746                          @joetrippi       1      0  2.564751433
## 747                         @johnkasich       1      0  2.564751433
## 748                       @kellyriddell       1      0  2.564751433
## 749                           @kilmeade       1      0  2.564751433
## 750                        @ktmcfarland       1      0  2.564751433
## 751                      @mariatcardona       1      0  2.564751433
## 752                       @markhalperin       1      0  2.564751433
## 753                    @marthamaccallum       1      0  2.564751433
## 754                        @mikeozanian       1      0  2.564751433
## 755                     @montgomeriefdn       1      0  2.564751433
## 756                      @morningsmaria       1      0  2.564751433
## 757                             @nascar       1      0  2.564751433
## 758                        @nbcpolitics       1      0  2.564751433
## 759                          @netanyahu       1      0  2.564751433
## 760                       @newtgingrich       1      0  2.564751433
## 761                       @nytimesworld       1      0  2.564751433
## 762                    @pastormarkburns       1      0  2.564751433
## 763                     @realsheriffjoe       1      0  2.564751433
## 764                        @rondarousey       1      0  2.564751433
## 765                     @serenawilliams       1      0  2.564751433
## 766                    @talkersmagazine       1      0  2.564751433
## 767                       @theeconomist       1      0  2.564751433
## 768                            @thefive       1      0  2.564751433
## 769                      @therickwilson       1      0  2.564751433
## 770                    @thetodaysgolfer       1      0  2.564751433
## 771                            @tmobile       1      0  2.564751433
## 772                              @today       1      0  2.564751433
## 773                           @tperkins       1      0  2.564751433
## 774                              @trump       1      0  2.564751433
## 775                             #amazon       1      0  2.564751433
## 776                     #failingnytimes       1      0  2.564751433
## 777                         #harveypitt       1      0  2.564751433
## 778                       #joetheismann       1      0  2.564751433
## 779                           #laurence       1      0  2.564751433
## 780                      #laurencetribe       1      0  2.564751433
## 781                              #media       1      0  2.564751433
## 782                         #mediafraud       1      0  2.564751433
## 783                         #nevertrump       1      0  2.564751433
## 784                       #repmikekelly       1      0  2.564751433
## 785                                #ted       1      0  2.564751433
## 786                            #tedcruz       1      0  2.564751433
## 787                                $$$$       1      0  2.564751433
## 788                             $120000       1      0  2.564751433
## 789                                 $13       1      0  2.564751433
## 790                          $150000000       1      0  2.564751433
## 791                                $200       1      0  2.564751433
## 792                              $20000       1      0  2.564751433
## 793                             $200000       1      0  2.564751433
## 794                            $3000000       1      0  2.564751433
## 795                           $35000000       1      0  2.564751433
## 796                           $40000000       1      0  2.564751433
## 797                               $5000       1      0  2.564751433
## 798                           $63000000       1      0  2.564751433
## 799                                 $67       1      0  2.564751433
## 800                                 $80       1      0  2.564751433
## 801                                 $89       1      0  2.564751433
## 802                           $millions       1      0  2.564751433
## 803                                10o0       1      0  2.564751433
## 804                         16apologize       1      0  2.564751433
## 805                                1for       1      0  2.564751433
## 806                            1million       1      0  2.564751433
## 807                                 1oo       1      0  2.564751433
## 808                            21points       1      0  2.564751433
## 809                                  2m       1      0  2.564751433
## 810                              41to14       1      0  2.564751433
## 811                                 73o       1      0  2.564751433
## 812                            7533692a       1      0  2.564751433
## 813                       8646551trumps       1      0  2.564751433
## 814                               900am       1      0  2.564751433
## 815                                 9th       1      0  2.564751433
## 816                            abdeslam       1      0  2.564751433
## 817                        abilityzilch       1      0  2.564751433
## 818                            absentee       1      0  2.564751433
## 819                                 abu       1      0  2.564751433
## 820                               abuse       1      0  2.564751433
## 821                              abused       1      0  2.564751433
## 822                              abuser       1      0  2.564751433
## 823                                  ac       1      0  2.564751433
## 824                          acceptable       1      0  2.564751433
## 825                        accomplished       1      0  2.564751433
## 826                          accurately       1      0  2.564751433
## 827                             accused       1      0  2.564751433
## 828                            acidwash       1      0  2.564751433
## 829                               acted       1      0  2.564751433
## 830                            actionit       1      0  2.564751433
## 831                                 add       1      0  2.564751433
## 832                              adding       1      0  2.564751433
## 833                        additionally       1      0  2.564751433
## 834                             adelson       1      0  2.564751433
## 835                     administrationa       1      0  2.564751433
## 836                                 adv       1      0  2.564751433
## 837                         advertisers       1      0  2.564751433
## 838                              advise       1      0  2.564751433
## 839                            advocate       1      0  2.564751433
## 840                         afghanistan       1      0  2.564751433
## 841                             againhe       1      0  2.564751433
## 842                            againjeb       1      0  2.564751433
## 843                                 age       1      0  2.564751433
## 844                                aide       1      0  2.564751433
## 845                                 aig       1      0  2.564751433
## 846                               ailsa       1      0  2.564751433
## 847                              airbus       1      0  2.564751433
## 848                               aired       1      0  2.564751433
## 849                            airwaves       1      0  2.564751433
## 850                               akbar       1      0  2.564751433
## 851                           albaghdad       1      0  2.564751433
## 852                                alec       1      0  2.564751433
## 853                                 ali       1      0  2.564751433
## 854                               alisa       1      0  2.564751433
## 855                              alisyn       1      0  2.564751433
## 856                               alive       1      0  2.564751433
## 857                               allah       1      0  2.564751433
## 858                               allen       1      0  2.564751433
## 859                            alliance       1      0  2.564751433
## 860                              allure       1      0  2.564751433
## 861                             alongno       1      0  2.564751433
## 862                           alshabbab       1      0  2.564751433
## 863                              amazed       1      0  2.564751433
## 864                              amazes       1      0  2.564751433
## 865                           amazingly       1      0  2.564751433
## 866                           ambitious       1      0  2.564751433
## 867                             amnever       1      0  2.564751433
## 868                          andrebauer       1      0  2.564751433
## 869                               angel       1      0  2.564751433
## 870                             animals       1      0  2.564751433
## 871                          anncoulter       1      0  2.564751433
## 872                         announcedby       1      0  2.564751433
## 873                          announcing       1      0  2.564751433
## 874                           anonymous       1      0  2.564751433
## 875                              antics       1      0  2.564751433
## 876                             antonin       1      0  2.564751433
## 877                         anymorethey       1      0  2.564751433
## 878                             anytime       1      0  2.564751433
## 879                          apologetic       1      0  2.564751433
## 880                             apparel       1      0  2.564751433
## 881                          appearance       1      0  2.564751433
## 882                             applied       1      0  2.564751433
## 883                             applies       1      0  2.564751433
## 884                           appointed       1      0  2.564751433
## 885                        appointments       1      0  2.564751433
## 886                             approve       1      0  2.564751433
## 887                            arranged       1      0  2.564751433
## 888                             arrival       1      0  2.564751433
## 889                            articles       1      0  2.564751433
## 890                           asheville       1      0  2.564751433
## 891                                 ass       1      0  2.564751433
## 892                          assaulting       1      0  2.564751433
## 893                           assetsthe       1      0  2.564751433
## 894                              assume       1      0  2.564751433
## 895                              assure       1      0  2.564751433
## 896                                 at1       1      0  2.564751433
## 897                                 ate       1      0  2.564751433
## 898                             atheist       1      0  2.564751433
## 899                           attitudea       1      0  2.564751433
## 900                          attracting       1      0  2.564751433
## 901                               audio       1      0  2.564751433
## 902                          auditorium       1      0  2.564751433
## 903                           authentic       1      0  2.564751433
## 904                              author       1      0  2.564751433
## 905                         authorities       1      0  2.564751433
## 906                              avenue       1      0  2.564751433
## 907                               awake       1      0  2.564751433
## 908                             awaythe       1      0  2.564751433
## 909                             awkward       1      0  2.564751433
## 910                            backbone       1      0  2.564751433
## 911                           backfired       1      0  2.564751433
## 912                              backup       1      0  2.564751433
## 913                           badgering       1      0  2.564751433
## 914                             baghdad       1      0  2.564751433
## 915                                bake       1      0  2.564751433
## 916                           balancing       1      0  2.564751433
## 917                             baldwin       1      0  2.564751433
## 918                            ballroom       1      0  2.564751433
## 919                             bandits       1      0  2.564751433
## 920                          bangladesh       1      0  2.564751433
## 921                            bankrupt       1      0  2.564751433
## 922                        bankruptcies       1      0  2.564751433
## 923                              banned       1      0  2.564751433
## 924                              bannon       1      0  2.564751433
## 925                              barack       1      0  2.564751433
## 926                             barbaro       1      0  2.564751433
## 927                            barrasso       1      0  2.564751433
## 928                              barrel       1      0  2.564751433
## 929                               barry       1      0  2.564751433
## 930                                base       1      0  2.564751433
## 931                             bashers       1      0  2.564751433
## 932                          basketcase       1      0  2.564751433
## 933                          battleship       1      0  2.564751433
## 934                               beans       1      0  2.564751433
## 935                               beats       1      0  2.564751433
## 936                              beauty       1      0  2.564751433
## 937                              begala       1      0  2.564751433
## 938                          believable       1      0  2.564751433
## 939                             beloved       1      0  2.564751433
## 940                            bensasse       1      0  2.564751433
## 941                     bernardgoldberg       1      0  2.564751433
## 942                    berniesanderswho       1      0  2.564751433
## 943                              beware       1      0  2.564751433
## 944                         biasedhates       1      0  2.564751433
## 945                          biasedthey       1      0  2.564751433
## 946                               bigif       1      0  2.564751433
## 947                              bikers       1      0  2.564751433
## 948                         billkristol       1      0  2.564751433
## 949                           billmaher       1      0  2.564751433
## 950                             binding       1      0  2.564751433
## 951                               birth       1      0  2.564751433
## 952                             birther       1      0  2.564751433
## 953                              births       1      0  2.564751433
## 954                               blame       1      0  2.564751433
## 955                              blames       1      0  2.564751433
## 956                            bleeding       1      0  2.564751433
## 957                              blowup       1      0  2.564751433
## 958                         bludgeoning       1      0  2.564751433
## 959                                body       1      0  2.564751433
## 960                              bomber       1      0  2.564751433
## 961                           bombshell       1      0  2.564751433
## 962                               booed       1      0  2.564751433
## 963                              booths       1      0  2.564751433
## 964                                bore       1      0  2.564751433
## 965                             borisep       1      0  2.564751433
## 966                              borrow       1      0  2.564751433
## 967                             bossesi       1      0  2.564751433
## 968                               boxer       1      0  2.564751433
## 969                          boycotting       1      0  2.564751433
## 970                          brainpower       1      0  2.564751433
## 971                         brainwashed       1      0  2.564751433
## 972                                brat       1      0  2.564751433
## 973                           breakdown       1      0  2.564751433
## 974                              breast       1      0  2.564751433
## 975                             breathe       1      0  2.564751433
## 976                              brigid       1      0  2.564751433
## 977                           broadcast       1      0  2.564751433
## 978                        broadcasting       1      0  2.564751433
## 979                            broadway       1      0  2.564751433
## 980                           brokesaid       1      0  2.564751433
## 981                     brookslawbrooks       1      0  2.564751433
## 982                            buchanan       1      0  2.564751433
## 983                             buffoon       1      0  2.564751433
## 984                              builds       1      0  2.564751433
## 985                             burning       1      0  2.564751433
## 986                                bury       1      0  2.564751433
## 987                             burying       1      0  2.564751433
## 988                                 bus       1      0  2.564751433
## 989                             bushbut       1      0  2.564751433
## 990                         businessman       1      0  2.564751433
## 991                              buyers       1      0  2.564751433
## 992                               byrne       1      0  2.564751433
## 993                           byronyork       1      0  2.564751433
## 994                               cable       1      0  2.564751433
## 995                             caesars       1      0  2.564751433
## 996                                cake       1      0  2.564751433
## 997                                 cal       1      0  2.564751433
## 998                             callins       1      0  2.564751433
## 999                                calm       1      0  2.564751433
## 1000                           camerota       1      0  2.564751433
## 1001                             cancel       1      0  2.564751433
## 1002                     candidatestold       1      0  2.564751433
## 1003                         capability       1      0  2.564751433
## 1004                                car       1      0  2.564751433
## 1005                             carbon       1      0  2.564751433
## 1006                            careers       1      0  2.564751433
## 1007                               carl       1      0  2.564751433
## 1008                       carlyfiorina       1      0  2.564751433
## 1009                        carolinated       1      0  2.564751433
## 1010                            carried       1      0  2.564751433
## 1011                           carrying       1      0  2.564751433
## 1012                            cartoon       1      0  2.564751433
## 1013                             castro       1      0  2.564751433
## 1014                       catastrophic       1      0  2.564751433
## 1015                           catching       1      0  2.564751433
## 1016                         categories       1      0  2.564751433
## 1017                           catholic       1      0  2.564751433
## 1018                        caucusgoers       1      0  2.564751433
## 1019                    causedstupidity       1      0  2.564751433
## 1020                            causing       1      0  2.564751433
## 1021                            cbsnews       1      0  2.564751433
## 1022                               cell       1      0  2.564751433
## 1023                          cellphone       1      0  2.564751433
## 1024                                ceo       1      0  2.564751433
## 1025                             chafee       1      0  2.564751433
## 1026                            chalian       1      0  2.564751433
## 1027                           chanting       1      0  2.564751433
## 1028                        charleshurt       1      0  2.564751433
## 1029                           cheaters       1      0  2.564751433
## 1030                            checked       1      0  2.564751433
## 1031                              cheri       1      0  2.564751433
## 1032                            cherish       1      0  2.564751433
## 1033                             cheryl       1      0  2.564751433
## 1034                              choke       1      0  2.564751433
## 1035                            chozick       1      0  2.564751433
## 1036                                cia       1      0  2.564751433
## 1037                             circle       1      0  2.564751433
## 1038                           circuits       1      0  2.564751433
## 1039                               cite       1      0  2.564751433
## 1040                               citi       1      0  2.564751433
## 1041                       civilization       1      0  2.564751433
## 1042                      clarification       1      0  2.564751433
## 1043                          classroom       1      0  2.564751433
## 1044                            cleaner       1      0  2.564751433
## 1045                            clients       1      0  2.564751433
## 1046                            climate       1      0  2.564751433
## 1047                             clinch       1      0  2.564751433
## 1048                              clint       1      0  2.564751433
## 1049                               clip       1      0  2.564751433
## 1050                            closely       1      0  2.564751433
## 1051                             closer       1      0  2.564751433
## 1052                             clowns       1      0  2.564751433
## 1053                        club4growth       1      0  2.564751433
## 1054                          clubgoers       1      0  2.564751433
## 1055                             clumsy       1      0  2.564751433
## 1056                            cocaine       1      0  2.564751433
## 1057                              cokie       1      0  2.564751433
## 1058                          collector       1      0  2.564751433
## 1059                            collude       1      0  2.564751433
## 1060                             combat       1      0  2.564751433
## 1061                               comm       1      0  2.564751433
## 1062                        commentator       1      0  2.564751433
## 1063                       commentators       1      0  2.564751433
## 1064                         commenting       1      0  2.564751433
## 1065                     communications       1      0  2.564751433
## 1066                        communities       1      0  2.564751433
## 1067                            compare       1      0  2.564751433
## 1068                           compared       1      0  2.564751433
## 1069                         comparison       1      0  2.564751433
## 1070                          competent       1      0  2.564751433
## 1071                           complain       1      0  2.564751433
## 1072                        complaining       1      0  2.564751433
## 1073                    complainingthen       1      0  2.564751433
## 1074                          complains       1      0  2.564751433
## 1075                       complexities       1      0  2.564751433
## 1076                         compliment       1      0  2.564751433
## 1077                   concentrationbut       1      0  2.564751433
## 1078                          conducted       1      0  2.564751433
## 1079                       confirmation       1      0  2.564751433
## 1080                         conflicted       1      0  2.564751433
## 1081                           confront       1      0  2.564751433
## 1082                         confronted       1      0  2.564751433
## 1083                     congratulation       1      0  2.564751433
## 1084                          connected       1      0  2.564751433
## 1085                         connection       1      0  2.564751433
## 1086                      conservatives       1      0  2.564751433
## 1087                      consideration       1      0  2.564751433
## 1088                       consistantly       1      0  2.564751433
## 1089                       consistently       1      0  2.564751433
## 1090                         consulting       1      0  2.564751433
## 1091                            contest       1      0  2.564751433
## 1092                         continuing       1      0  2.564751433
## 1093                           contrary       1      0  2.564751433
## 1094                        controversy       1      0  2.564751433
## 1095                        conventions       1      0  2.564751433
## 1096                             cooked       1      0  2.564751433
## 1097                             cookie       1      0  2.564751433
## 1098                        coordinated       1      0  2.564751433
## 1099                              corey       1      0  2.564751433
## 1100                             cornel       1      0  2.564751433
## 1101                          correctly       1      0  2.564751433
## 1102                             cotton       1      0  2.564751433
## 1103                           countryi       1      0  2.564751433
## 1104                             couple       1      0  2.564751433
## 1105                               cpac       1      0  2.564751433
## 1106                           cracking       1      0  2.564751433
## 1107                              crash       1      0  2.564751433
## 1108                           crashing       1      0  2.564751433
## 1109                            crazies       1      0  2.564751433
## 1110                        credentials       1      0  2.564751433
## 1111                              crook       1      0  2.564751433
## 1112                          crossblue       1      0  2.564751433
## 1113                          crossover       1      0  2.564751433
## 1114                            crowdso       1      0  2.564751433
## 1115                     crownhypocrite       1      0  2.564751433
## 1116                            crumble       1      0  2.564751433
## 1117                          crumbling       1      0  2.564751433
## 1118                            crushed       1      0  2.564751433
## 1119                         cruzkasich       1      0  2.564751433
## 1120                        cruzlawsuit       1      0  2.564751433
## 1121                           cruzwhen       1      0  2.564751433
## 1122                              cspan       1      0  2.564751433
## 1123                              cties       1      0  2.564751433
## 1124                               cubs       1      0  2.564751433
## 1125                            cunning       1      0  2.564751433
## 1126                              curse       1      0  2.564751433
## 1127                              cycle       1      0  2.564751433
## 1128                      cyclesgrowing       1      0  2.564751433
## 1129                              cyrus       1      0  2.564751433
## 1130                          danawhite       1      0  2.564751433
## 1131                             daniel       1      0  2.564751433
## 1132                       danielhalper       1      0  2.564751433
## 1133                               date       1      0  2.564751433
## 1134                           dbongino       1      0  2.564751433
## 1135                            dead400       1      0  2.564751433
## 1136                            deadpan       1      0  2.564751433
## 1137                            dealers       1      0  2.564751433
## 1138                              dealt       1      0  2.564751433
## 1139                          debatewon       1      0  2.564751433
## 1140                           debtthat       1      0  2.564751433
## 1141                             decade       1      0  2.564751433
## 1142                           deceived       1      0  2.564751433
## 1143                             decent       1      0  2.564751433
## 1144                          deceptive       1      0  2.564751433
## 1145                          decimated       1      0  2.564751433
## 1146                          deduction       1      0  2.564751433
## 1147                      deedeesorvino       1      0  2.564751433
## 1148                               deep       1      0  2.564751433
## 1149                             define       1      0  2.564751433
## 1150                            deflect       1      0  2.564751433
## 1151                          defrauded       1      0  2.564751433
## 1152                         degenerate       1      0  2.564751433
## 1153                        degenerates       1      0  2.564751433
## 1154                           degraded       1      0  2.564751433
## 1155                              delay       1      0  2.564751433
## 1156                            delayed       1      0  2.564751433
## 1157                           delaying       1      0  2.564751433
## 1158                            delight       1      0  2.564751433
## 1159                               dels       1      0  2.564751433
## 1160                           demindie       1      0  2.564751433
## 1161                       demonstrated       1      0  2.564751433
## 1162                             denali       1      0  2.564751433
## 1163                             denied       1      0  2.564751433
## 1164                          denigrate       1      0  2.564751433
## 1165                                dep       1      0  2.564751433
## 1166                             depict       1      0  2.564751433
## 1167                       deportations       1      0  2.564751433
## 1168                        desperation       1      0  2.564751433
## 1169                        destabalize       1      0  2.564751433
## 1170                         destroying       1      0  2.564751433
## 1171                           destroys       1      0  2.564751433
## 1172                        destructive       1      0  2.564751433
## 1173                           detailed       1      0  2.564751433
## 1174                           detainee       1      0  2.564751433
## 1175                        determining       1      0  2.564751433
## 1176                            devices       1      0  2.564751433
## 1177                             devote       1      0  2.564751433
## 1178                            dictate       1      0  2.564751433
## 1179                        differences       1      0  2.564751433
## 1180                            digests       1      0  2.564751433
## 1181                              digit       1      0  2.564751433
## 1182                            dilemma       1      0  2.564751433
## 1183                             diller       1      0  2.564751433
## 1184                           disallow       1      0  2.564751433
## 1185                             disarm       1      0  2.564751433
## 1186                          disasters       1      0  2.564751433
## 1187                        discriptive       1      0  2.564751433
## 1188                         discussion       1      0  2.564751433
## 1189                    disenfranchised       1      0  2.564751433
## 1190                           disguise       1      0  2.564751433
## 1191                            dislike       1      0  2.564751433
## 1192                         disloyalty       1      0  2.564751433
## 1193                             dismal       1      0  2.564751433
## 1194                        dismantling       1      0  2.564751433
## 1195                            dismiss       1      0  2.564751433
## 1196                            display       1      0  2.564751433
## 1197                           disposed       1      0  2.564751433
## 1198                   disproportionate       1      0  2.564751433
## 1199                 disproportionately       1      0  2.564751433
## 1200                      disqualifying       1      0  2.564751433
## 1201                      disrespectful       1      0  2.564751433
## 1202                         disruptors       1      0  2.564751433
## 1203                         distortion       1      0  2.564751433
## 1204                        distrbution       1      0  2.564751433
## 1205                        distributed       1      0  2.564751433
## 1206                              dives       1      0  2.564751433
## 1207                        djohnsonpga       1      0  2.564751433
## 1208                             doctor       1      0  2.564751433
## 1209                        documentary       1      0  2.564751433
## 1210                          documents       1      0  2.564751433
## 1211                            dogover       1      0  2.564751433
## 1212                             dollar       1      0  2.564751433
## 1213                           donlemon       1      0  2.564751433
## 1214                              donny       1      0  2.564751433
## 1215                               dono       1      0  2.564751433
## 1216                            donohue       1      0  2.564751433
## 1217                               doom       1      0  2.564751433
## 1218                            doonbeg       1      0  2.564751433
## 1219                              dopes       1      0  2.564751433
## 1220                          doralbest       1      0  2.564751433
## 1221                               dose       1      0  2.564751433
## 1222                            douglas       1      0  2.564751433
## 1223                                dow       1      0  2.564751433
## 1224                              drake       1      0  2.564751433
## 1225                           dramatic       1      0  2.564751433
## 1226                              drawn       1      0  2.564751433
## 1227                            dreamed       1      0  2.564751433
## 1228                               drew       1      0  2.564751433
## 1229                             driven       1      0  2.564751433
## 1230                            drivers       1      0  2.564751433
## 1231                            drmoore       1      0  2.564751433
## 1232                           drooling       1      0  2.564751433
## 1233                              drops       1      0  2.564751433
## 1234                         drudgetime       1      0  2.564751433
## 1235                           druggies       1      0  2.564751433
## 1236                               duel       1      0  2.564751433
## 1237                            dumping       1      0  2.564751433
## 1238                              dunes       1      0  2.564751433
## 1239                              duped       1      0  2.564751433
## 1240                                dws       1      0  2.564751433
## 1241                      dysfunctional       1      0  2.564751433
## 1242                           earliest       1      0  2.564751433
## 1243                             earned       1      0  2.564751433
## 1244                             easter       1      0  2.564751433
## 1245                         easterlook       1      0  2.564751433
## 1246                        easternwill       1      0  2.564751433
## 1247                           eastwood       1      0  2.564751433
## 1248                                eco       1      0  2.564751433
## 1249                       economically       1      0  2.564751433
## 1250                          economyif       1      0  2.564751433
## 1251                            edition       1      0  2.564751433
## 1252                         editorials       1      0  2.564751433
## 1253                        educational       1      0  2.564751433
## 1254                             effect       1      0  2.564751433
## 1255                          effective       1      0  2.564751433
## 1256                          electable       1      0  2.564751433
## 1257                           electric       1      0  2.564751433
## 1258                               elie       1      0  2.564751433
## 1259                        embarrasses       1      0  2.564751433
## 1260                       embarrassing       1      0  2.564751433
## 1261                      embarrassment       1      0  2.564751433
## 1262                           embraced       1      0  2.564751433
## 1263                            emotion       1      0  2.564751433
## 1264                          employees       1      0  2.564751433
## 1265                           employer       1      0  2.564751433
## 1266                         employment       1      0  2.564751433
## 1267                           enablers       1      0  2.564751433
## 1268                          endlessly       1      0  2.564751433
## 1269                    endorsementrubs       1      0  2.564751433
## 1270                       endorsements       1      0  2.564751433
## 1271                              enemy       1      0  2.564751433
## 1272                          energetic       1      0  2.564751433
## 1273                          energized       1      0  2.564751433
## 1274                          energizer       1      0  2.564751433
## 1275                            enhance       1      0  2.564751433
## 1276                           enjoy7am       1      0  2.564751433
## 1277                           enjoying       1      0  2.564751433
## 1278                           enlisted       1      0  2.564751433
## 1279                           enormous       1      0  2.564751433
## 1280                            enqwere       1      0  2.564751433
## 1281                              enter       1      0  2.564751433
## 1282                       enterainment       1      0  2.564751433
## 1283                            entered       1      0  2.564751433
## 1284                        entertainer       1      0  2.564751433
## 1285                              entry       1      0  2.564751433
## 1286                            episode       1      0  2.564751433
## 1287                           equating       1      0  2.564751433
## 1288                          equipment       1      0  2.564751433
## 1289                          eradicate       1      0  2.564751433
## 1290                              erase       1      0  2.564751433
## 1291                        ericbolling       1      0  2.564751433
## 1292                     ericshawnonfox       1      0  2.564751433
## 1293                            erratic       1      0  2.564751433
## 1294                              errol       1      0  2.564751433
## 1295                        essentially       1      0  2.564751433
## 1296                              estab       1      0  2.564751433
## 1297                          establish       1      0  2.564751433
## 1298                             estate       1      0  2.564751433
## 1299                               evil       1      0  2.564751433
## 1300                              exams       1      0  2.564751433
## 1301                            exclaim       1      0  2.564751433
## 1302                          excluding       1      0  2.564751433
## 1303                         excoriates       1      0  2.564751433
## 1304                              exist       1      0  2.564751433
## 1305                         explaining       1      0  2.564751433
## 1306                          extremely       1      0  2.564751433
## 1307                         fabricated       1      0  2.564751433
## 1308                       fabrications       1      0  2.564751433
## 1309                            factors       1      0  2.564751433
## 1310                            factual       1      0  2.564751433
## 1311                           failures       1      0  2.564751433
## 1312                              faked       1      0  2.564751433
## 1313                             famous       1      0  2.564751433
## 1314                            fashion       1      0  2.564751433
## 1315                              fatal       1      0  2.564751433
## 1316                       favorability       1      0  2.564751433
## 1317                               fear       1      0  2.564751433
## 1318                                fee       1      0  2.564751433
## 1319                            feeling       1      0  2.564751433
## 1320                             fiasco       1      0  2.564751433
## 1321                           fictious       1      0  2.564751433
## 1322                         fictitious       1      0  2.564751433
## 1323                              fifty       1      0  2.564751433
## 1324                           fighters       1      0  2.564751433
## 1325                            figured       1      0  2.564751433
## 1326                            figures       1      0  2.564751433
## 1327                        figurewants       1      0  2.564751433
## 1328                             filled       1      0  2.564751433
## 1329                            filling       1      0  2.564751433
## 1330                         financials       1      0  2.564751433
## 1331                            finding       1      0  2.564751433
## 1332                         firebombed       1      0  2.564751433
## 1333                             flamed       1      0  2.564751433
## 1334                             flawed       1      0  2.564751433
## 1335                            fleeing       1      0  2.564751433
## 1336                              flies       1      0  2.564751433
## 1337                           flipping       1      0  2.564751433
## 1338                            floated       1      0  2.564751433
## 1339                              flood       1      0  2.564751433
## 1340                           flooding       1      0  2.564751433
## 1341                               flow       1      0  2.564751433
## 1342                           flunkies       1      0  2.564751433
## 1343                                fly       1      0  2.564751433
## 1344                              flynn       1      0  2.564751433
## 1345                                fmr       1      0  2.564751433
## 1346                           focusing       1      0  2.564751433
## 1347                               fold       1      0  2.564751433
## 1348                            foolish       1      0  2.564751433
## 1349                        foolishthey       1      0  2.564751433
## 1350                          footprint       1      0  2.564751433
## 1351                         foreclosed       1      0  2.564751433
## 1352                        forgiveness       1      0  2.564751433
## 1353                             format       1      0  2.564751433
## 1354                            forties       1      0  2.564751433
## 1355                             fought       1      0  2.564751433
## 1356                      foxnewssunday       1      0  2.564751433
## 1357                               fran       1      0  2.564751433
## 1358                        frantically       1      0  2.564751433
## 1359                               fred       1      0  2.564751433
## 1360                            freeman       1      0  2.564751433
## 1361                             freeze       1      0  2.564751433
## 1362                             french       1      0  2.564751433
## 1363                           function       1      0  2.564751433
## 1364                        functioning       1      0  2.564751433
## 1365                         fundraiser       1      0  2.564751433
## 1366                            furious       1      0  2.564751433
## 1367                             gained       1      0  2.564751433
## 1368                               gals       1      0  2.564751433
## 1369                            garrett       1      0  2.564751433
## 1370                               gary       1      0  2.564751433
## 1371                               gasp       1      0  2.564751433
## 1372                                gee       1      0  2.564751433
## 1373                              geist       1      0  2.564751433
## 1374                           generals       1      0  2.564751433
## 1375                              genes       1      0  2.564751433
## 1376                             genius       1      0  2.564751433
## 1377                            geraldo       1      0  2.564751433
## 1378                      geraldorivera       1      0  2.564751433
## 1379                            gifford       1      0  2.564751433
## 1380                             gifted       1      0  2.564751433
## 1381                         girlfriend       1      0  2.564751433
## 1382                              gitmo       1      0  2.564751433
## 1383                              glass       1      0  2.564751433
## 1384                              glenn       1      0  2.564751433
## 1385                           glorious       1      0  2.564751433
## 1386                          glowingly       1      0  2.564751433
## 1387                                gma       1      0  2.564751433
## 1388                          goatfired       1      0  2.564751433
## 1389                            goodies       1      0  2.564751433
## 1390                           goofball       1      0  2.564751433
## 1391                             google       1      0  2.564751433
## 1392                     governorpataki       1      0  2.564751433
## 1393                          governors       1      0  2.564751433
## 1394                    govmikehuckabee       1      0  2.564751433
## 1395                       gracematters       1      0  2.564751433
## 1396                          grandkids       1      0  2.564751433
## 1397                         grandstand       1      0  2.564751433
## 1398                           graphics       1      0  2.564751433
## 1399                           gravitas       1      0  2.564751433
## 1400                          greatness       1      0  2.564751433
## 1401                          greenberg       1      0  2.564751433
## 1402                              greet       1      0  2.564751433
## 1403                            greeted       1      0  2.564751433
## 1404                            growing       1      0  2.564751433
## 1405                        growthwhich       1      0  2.564751433
## 1406                             grubby       1      0  2.564751433
## 1407                         guaranteed       1      0  2.564751433
## 1408                             guards       1      0  2.564751433
## 1409                             guests       1      0  2.564751433
## 1410                           guidance       1      0  2.564751433
## 1411                             gunman       1      0  2.564751433
## 1412                                gym       1      0  2.564751433
## 1413                      halliejackson       1      0  2.564751433
## 1414                               halo       1      0  2.564751433
## 1415                           halperin       1      0  2.564751433
## 1416                          haltingly       1      0  2.564751433
## 1417                              hands       1      0  2.564751433
## 1418                               hank       1      0  2.564751433
## 1419                           harrison       1      0  2.564751433
## 1420                            harwood       1      0  2.564751433
## 1421                              hasnt       1      0  2.564751433
## 1422                             hassan       1      0  2.564751433
## 1423                              hated       1      0  2.564751433
## 1424                              hates       1      0  2.564751433
## 1425                               hats       1      0  2.564751433
## 1426                           headache       1      0  2.564751433
## 1427                       headquarters       1      0  2.564751433
## 1428                   headquartersgave       1      0  2.564751433
## 1429                            healthy       1      0  2.564751433
## 1430                               heat       1      0  2.564751433
## 1431                              heavy       1      0  2.564751433
## 1432                         heightened       1      0  2.564751433
## 1433                          heilemann       1      0  2.564751433
## 1434                      helpedrefused       1      0  2.564751433
## 1435                           helpless       1      0  2.564751433
## 1436                             hemmer       1      0  2.564751433
## 1437                          henninger       1      0  2.564751433
## 1438                     heraldfranklin       1      0  2.564751433
## 1439                             hershe       1      0  2.564751433
## 1440                            herwill       1      0  2.564751433
## 1441                          hesitates       1      0  2.564751433
## 1442                            heytana       1      0  2.564751433
## 1443                               hide       1      0  2.564751433
## 1444                             higbie       1      0  2.564751433
## 1445                          highlight       1      0  2.564751433
## 1446                            highway       1      0  2.564751433
## 1447                           highways       1      0  2.564751433
## 1448                               hilt       1      0  2.564751433
## 1449                       himselfphony       1      0  2.564751433
## 1450                             hiring       1      0  2.564751433
## 1451                           historyi       1      0  2.564751433
## 1452                          historyis       1      0  2.564751433
## 1453                           homeless       1      0  2.564751433
## 1454                           honestly       1      0  2.564751433
## 1455                            hoosier       1      0  2.564751433
## 1456                           hopeless       1      0  2.564751433
## 1457                             horror       1      0  2.564751433
## 1458                            horrors       1      0  2.564751433
## 1459                            hostage       1      0  2.564751433
## 1460                              hosts       1      0  2.564751433
## 1461                        hotelsdidnt       1      0  2.564751433
## 1462                            hottest       1      0  2.564751433
## 1463                             houses       1      0  2.564751433
## 1464                            housing       1      0  2.564751433
## 1465                                 hp       1      0  2.564751433
## 1466             http://t.co/mzr62luvwq       1      0  2.564751433
## 1467            http://t.co/wmfhknnswm&amp;quot;       1      0  2.564751433
## 1468                                 hu       1      0  2.564751433
## 1469                         huffington       1      0  2.564751433
## 1470                              hunts       1      0  2.564751433
## 1471                                ibd       1      0  2.564751433
## 1472                              ideas       1      0  2.564751433
## 1473                        imagination       1      0  2.564751433
## 1474                        imaginative       1      0  2.564751433
## 1475                                imm       1      0  2.564751433
## 1476                            imports       1      0  2.564751433
## 1477                           imposing       1      0  2.564751433
## 1478                      impossibility       1      0  2.564751433
## 1479                      inappropriate       1      0  2.564751433
## 1480                    inappropriately       1      0  2.564751433
## 1481                           incensed       1      0  2.564751433
## 1482                          incentive       1      0  2.564751433
## 1483                         incoherent       1      0  2.564751433
## 1484                        increasepay       1      0  2.564751433
## 1485                           indicted       1      0  2.564751433
## 1486                              indie       1      0  2.564751433
## 1487                             indies       1      0  2.564751433
## 1488                      indignanthear       1      0  2.564751433
## 1489                         individual       1      0  2.564751433
## 1490                        infiltrated       1      0  2.564751433
## 1491                       inflammatory       1      0  2.564751433
## 1492                        informative       1      0  2.564751433
## 1493                     infrastructure       1      0  2.564751433
## 1494                            inherit       1      0  2.564751433
## 1495                          inherited       1      0  2.564751433
## 1496                             inject       1      0  2.564751433
## 1497                                ink       1      0  2.564751433
## 1498                                inn       1      0  2.564751433
## 1499                        innercities       1      0  2.564751433
## 1500                          innercity       1      0  2.564751433
## 1501                           insecure       1      0  2.564751433
## 1502                           insiders       1      0  2.564751433
## 1503                         insinuated       1      0  2.564751433
## 1504                           insisted       1      0  2.564751433
## 1505                         inspecting       1      0  2.564751433
## 1506                          inspector       1      0  2.564751433
## 1507                           instinct       1      0  2.564751433
## 1508                          institute       1      0  2.564751433
## 1509                     institutionsad       1      0  2.564751433
## 1510                             insult       1      0  2.564751433
## 1511                          insulting       1      0  2.564751433
## 1512                          integrity       1      0  2.564751433
## 1513                      intelligently       1      0  2.564751433
## 1514                             intent       1      0  2.564751433
## 1515                      interestsonly       1      0  2.564751433
## 1516                        interfering       1      0  2.564751433
## 1517                             intros       1      0  2.564751433
## 1518                               ints       1      0  2.564751433
## 1519                             invest       1      0  2.564751433
## 1520                      investigating       1      0  2.564751433
## 1521                        investments       1      0  2.564751433
## 1522                             invite       1      0  2.564751433
## 1523                            invited       1      0  2.564751433
## 1524                           iowanhsc       1      0  2.564751433
## 1525                               iron       1      0  2.564751433
## 1526                      irresponsible       1      0  2.564751433
## 1527                                irs       1      0  2.564751433
## 1528                            isisoil       1      0  2.564751433
## 1529                            jacobus       1      0  2.564751433
## 1530                              james       1      0  2.564751433
## 1531                            jealous       1      0  2.564751433
## 1532                               jeff       1      0  2.564751433
## 1533                            jeffrey       1      0  2.564751433
## 1534                           jeopardy       1      0  2.564751433
## 1535                               jerk       1      0  2.564751433
## 1536                                jet       1      0  2.564751433
## 1537                          jetliners       1      0  2.564751433
## 1538                         jihadistst       1      0  2.564751433
## 1539                             jilted       1      0  2.564751433
## 1540                               jinx       1      0  2.564751433
## 1541                         johnlegere       1      0  2.564751433
## 1542                         journalism       1      0  2.564751433
## 1543                         journalist       1      0  2.564751433
## 1544                         journalnbc       1      0  2.564751433
## 1545                            journey       1      0  2.564751433
## 1546                               juan       1      0  2.564751433
## 1547                            jupiter       1      0  2.564751433
## 1548                               jusr       1      0  2.564751433
## 1549                              kasie       1      0  2.564751433
## 1550                               kate       1      0  2.564751433
## 1551                     kathielgifford       1      0  2.564751433
## 1552                     katrinapierson       1      0  2.564751433
## 1553                     kellyannepolls       1      0  2.564751433
## 1554                            kennedy       1      0  2.564751433
## 1555                               kill       1      0  2.564751433
## 1556                            kingdom       1      0  2.564751433
## 1557                           knocking       1      0  2.564751433
## 1558                          knowledge       1      0  2.564751433
## 1559                      knowledgeable       1      0  2.564751433
## 1560                      knowledgetrue       1      0  2.564751433
## 1561                      knowwonderful       1      0  2.564751433
## 1562                              kooky       1      0  2.564751433
## 1563                              koran       1      0  2.564751433
## 1564                              kraft       1      0  2.564751433
## 1565                             labels       1      0  2.564751433
## 1566                              lacks       1      0  2.564751433
## 1567                               lame       1      0  2.564751433
## 1568                             laredo       1      0  2.564751433
## 1569                            latinos       1      0  2.564751433
## 1570                          laughable       1      0  2.564751433
## 1571                      laughingstock       1      0  2.564751433
## 1572                             laughs       1      0  2.564751433
## 1573                             launch       1      0  2.564751433
## 1574                           lawrence       1      0  2.564751433
## 1575                            lawyers       1      0  2.564751433
## 1576                               lazy       1      0  2.564751433
## 1577                          leaderswe       1      0  2.564751433
## 1578                            learned       1      0  2.564751433
## 1579                              legit       1      0  2.564751433
## 1580                              lemon       1      0  2.564751433
## 1581                             lender       1      0  2.564751433
## 1582                           leverage       1      0  2.564751433
## 1583                        lewandowski       1      0  2.564751433
## 1584                     liabilitiesbig       1      0  2.564751433
## 1585                             liarsa       1      0  2.564751433
## 1586                                lib       1      0  2.564751433
## 1587                           liecrazy       1      0  2.564751433
## 1588                            lifting       1      0  2.564751433
## 1589                              lifts       1      0  2.564751433
## 1590                        likeability       1      0  2.564751433
## 1591                            liketim       1      0  2.564751433
## 1592                             liking       1      0  2.564751433
## 1593                    lindseygrahamsc       1      0  2.564751433
## 1594                               lips       1      0  2.564751433
## 1595                           litigate       1      0  2.564751433
## 1596                         litigation       1      0  2.564751433
## 1597                   lobbyistsspecial       1      0  2.564751433
## 1598                            located       1      0  2.564751433
## 1599                             locker       1      0  2.564751433
## 1600                            logical       1      0  2.564751433
## 1601                           longshot       1      0  2.564751433
## 1602                             looked       1      0  2.564751433
## 1603                            lookout       1      0  2.564751433
## 1604                            looming       1      0  2.564751433
## 1605                              loose       1      0  2.564751433
## 1606                        lostmonster       1      0  2.564751433
## 1607                             loudly       1      0  2.564751433
## 1608                       loudobbsnews       1      0  2.564751433
## 1609                             loving       1      0  2.564751433
## 1610                             lowell       1      0  2.564751433
## 1611                              lowly       1      0  2.564751433
## 1612                           lowrated       1      0  2.564751433
## 1613                             lucent       1      0  2.564751433
## 1614                              lucky       1      0  2.564751433
## 1615                           luncheon       1      0  2.564751433
## 1616                               maga       1      0  2.564751433
## 1617                          magazines       1      0  2.564751433
## 1618                      magnificently       1      0  2.564751433
## 1619                           majorcbs       1      0  2.564751433
## 1620                              malik       1      0  2.564751433
## 1621                             malkin       1      0  2.564751433
## 1622                            managed       1      0  2.564751433
## 1623                           managers       1      0  2.564751433
## 1624                             manner       1      0  2.564751433
## 1625                               mans       1      0  2.564751433
## 1626                               marc       1      0  2.564751433
## 1627                       marcthiessen       1      0  2.564751433
## 1628                           margin13       1      0  2.564751433
## 1629                            marines       1      0  2.564751433
## 1630                           markings       1      0  2.564751433
## 1631                    marksteynonline       1      0  2.564751433
## 1632                      martharaddatz       1      0  2.564751433
## 1633                               mary       1      0  2.564751433
## 1634                           massacre       1      0  2.564751433
## 1635                            matchup       1      0  2.564751433
## 1636                          materials       1      0  2.564751433
## 1637                           mathwhat       1      0  2.564751433
## 1638                           matterit       1      0  2.564751433
## 1639                           mccarthy       1      0  2.564751433
## 1640                            mcenany       1      0  2.564751433
## 1641                           mckinley       1      0  2.564751433
## 1642                          mcmanamon       1      0  2.564751433
## 1643                            meaning       1      0  2.564751433
## 1644                        meaningless       1      0  2.564751433
## 1645                         medialater       1      0  2.564751433
## 1646                       meghanmccain       1      0  2.564751433
## 1647                            megreat       1      0  2.564751433
## 1648                           mentions       1      0  2.564751433
## 1649                        merchandise       1      0  2.564751433
## 1650                               mere       1      0  2.564751433
## 1651                           messages       1      0  2.564751433
## 1652                            messbig       1      0  2.564751433
## 1653                          messgreat       1      0  2.564751433
## 1654                              messy       1      0  2.564751433
## 1655                              methe       1      0  2.564751433
## 1656                             metime       1      0  2.564751433
## 1657                            metough       1      0  2.564751433
## 1658                       mexicomexico       1      0  2.564751433
## 1659                           michelle       1      0  2.564751433
## 1660                            midwest       1      0  2.564751433
## 1661                           migrants       1      0  2.564751433
## 1662                              miley       1      0  2.564751433
## 1663                            milking       1      0  2.564751433
## 1664                         millionswe       1      0  2.564751433
## 1665                      millionweakno       1      0  2.564751433
## 1666                            mislead       1      0  2.564751433
## 1667                          misquoted       1      0  2.564751433
## 1668                     misrepresented       1      0  2.564751433
## 1669                       missuniverse       1      0  2.564751433
## 1670                          mockingly       1      0  2.564751433
## 1671                         moderators       1      0  2.564751433
## 1672                               mold       1      0  2.564751433
## 1673                              molly       1      0  2.564751433
## 1674                           momentum       1      0  2.564751433
## 1675                            mondays       1      0  2.564751433
## 1676                           money100       1      0  2.564751433
## 1677                             monger       1      0  2.564751433
## 1678                           monsters       1      0  2.564751433
## 1679                              moore       1      0  2.564751433
## 1680                            morally       1      0  2.564751433
## 1681                             morell       1      0  2.564751433
## 1682                             morgan       1      0  2.564751433
## 1683                            mormons       1      0  2.564751433
## 1684                              moron       1      0  2.564751433
## 1685                             mosque       1      0  2.564751433
## 1686                              motor       1      0  2.564751433
## 1687                            mouthed       1      0  2.564751433
## 1688                              msnbc       1      0  2.564751433
## 1689                                 mt       1      0  2.564751433
## 1690                           muhammad       1      0  2.564751433
## 1691                             munich       1      0  2.564751433
## 1692                             murder       1      0  2.564751433
## 1693                                mvp       1      0  2.564751433
## 1694                              naive       1      0  2.564751433
## 1695                           namethen       1      0  2.564751433
## 1696                             naming       1      0  2.564751433
## 1697                             nascar       1      0  2.564751433
## 1698                          nasrallah       1      0  2.564751433
## 1699                          nastywhat       1      0  2.564751433
## 1700                           nationno       1      0  2.564751433
## 1701                              natos       1      0  2.564751433
## 1702                             nbcsnl       1      0  2.564751433
## 1703                            nbcwall       1      0  2.564751433
## 1704                          negotiate       1      0  2.564751433
## 1705                         negotiated       1      0  2.564751433
## 1706                         negotiator       1      0  2.564751433
## 1707                                neo       1      0  2.564751433
## 1708                          nervously       1      0  2.564751433
## 1709                          nevadathe       1      0  2.564751433
## 1710                            newsthe       1      0  2.564751433
## 1711                           newsweek       1      0  2.564751433
## 1712                       newtgingrich       1      0  2.564751433
## 1713                             nicely       1      0  2.564751433
## 1714                            nielson       1      0  2.564751433
## 1715                       nightcrooked       1      0  2.564751433
## 1716                          nightmare       1      0  2.564751433
## 1717                          nightplus       1      0  2.564751433
## 1718                        nonexistent       1      0  2.564751433
## 1719                  nonrepresentative       1      0  2.564751433
## 1720                     nonsubstantive       1      0  2.564751433
## 1721                             noshow       1      0  2.564751433
## 1722                                nra       1      0  2.564751433
## 1723                          nullified       1      0  2.564751433
## 1724                            numberd       1      0  2.564751433
## 1725                              nurse       1      0  2.564751433
## 1726                        nydailynews       1      0  2.564751433
## 1727                            nytimes       1      0  2.564751433
## 1728                          obligated       1      0  2.564751433
## 1729                          obnoxious       1      0  2.564751433
## 1730                             obrian       1      0  2.564751433
## 1731                         obriendumb       1      0  2.564751433
## 1732                                odd       1      0  2.564751433
## 1733                           offended       1      0  2.564751433
## 1734                            offered       1      0  2.564751433
## 1735                             oliver       1      0  2.564751433
## 1736                            openand       1      0  2.564751433
## 1737                             opener       1      0  2.564751433
## 1738                                opo       1      0  2.564751433
## 1739                           opponent       1      0  2.564751433
## 1740                         opponentsi       1      0  2.564751433
## 1741                             option       1      0  2.564751433
## 1742                             orated       1      0  2.564751433
## 1743                          otherthey       1      0  2.564751433
## 1744                             outand       1      0  2.564751433
## 1745                           outraged       1      0  2.564751433
## 1746                           outright       1      0  2.564751433
## 1747                           outtrump       1      0  2.564751433
## 1748                            ovation       1      0  2.564751433
## 1749                        overflowing       1      0  2.564751433
## 1750                  overratedprobably       1      0  2.564751433
## 1751                      overregulates       1      0  2.564751433
## 1752                            overrun       1      0  2.564751433
## 1753                          overtaxes       1      0  2.564751433
## 1754                       overwhelming       1      0  2.564751433
## 1755                               owns       1      0  2.564751433
## 1756                            pacific       1      0  2.564751433
## 1757                               pact       1      0  2.564751433
## 1758                              pacts       1      0  2.564751433
## 1759                           pakistan       1      0  2.564751433
## 1760                             palmer       1      0  2.564751433
## 1761                          panelists       1      0  2.564751433
## 1762                              panic       1      0  2.564751433
## 1763                          papersnot       1      0  2.564751433
## 1764                                par       1      0  2.564751433
## 1765                            paragon       1      0  2.564751433
## 1766                             parody       1      0  2.564751433
## 1767                        partnership       1      0  2.564751433
## 1768                           partyhes       1      0  2.564751433
## 1769                    pastormarkburns       1      0  2.564751433
## 1770                            pathway       1      0  2.564751433
## 1771                            paulina       1      0  2.564751433
## 1772                             paving       1      0  2.564751433
## 1773                              payed       1      0  2.564751433
## 1774                           payments       1      0  2.564751433
## 1775                               pays       1      0  2.564751433
## 1776                                 pb       1      0  2.564751433
## 1777                          penalties       1      0  2.564751433
## 1778                            peoplei       1      0  2.564751433
## 1779                         perfection       1      0  2.564751433
## 1780                         performing       1      0  2.564751433
## 1781                       personremain       1      0  2.564751433
## 1782                               perv       1      0  2.564751433
## 1783                        philippines       1      0  2.564751433
## 1784                             phoner       1      0  2.564751433
## 1785                             phoney       1      0  2.564751433
## 1786                       photoshopped       1      0  2.564751433
## 1787                             pierce       1      0  2.564751433
## 1788                               pile       1      0  2.564751433
## 1789                          pipelines       1      0  2.564751433
## 1790                     placedishonest       1      0  2.564751433
## 1791                           placenow       1      0  2.564751433
## 1792                            plainly       1      0  2.564751433
## 1793                           planning       1      0  2.564751433
## 1794                           plaudits       1      0  2.564751433
## 1795                             played       1      0  2.564751433
## 1796                             player       1      0  2.564751433
## 1797                            players       1      0  2.564751433
## 1798                      pledgecareful       1      0  2.564751433
## 1799                           plunging       1      0  2.564751433
## 1800                               pmin       1      0  2.564751433
## 1801                             poised       1      0  2.564751433
## 1802                             poison       1      0  2.564751433
## 1803                          policemen       1      0  2.564751433
## 1804                         politifact       1      0  2.564751433
## 1805                             polled       1      0  2.564751433
## 1806                          polltrump       1      0  2.564751433
## 1807                          portrayal       1      0  2.564751433
## 1808                          postponed       1      0  2.564751433
## 1809                               pour       1      0  2.564751433
## 1810                             powell       1      0  2.564751433
## 1811                            praised       1      0  2.564751433
## 1812                           praising       1      0  2.564751433
## 1813                               pray       1      0  2.564751433
## 1814                          precluded       1      0  2.564751433
## 1815                            predict       1      0  2.564751433
## 1816                        predictable       1      0  2.564751433
## 1817                         preference       1      0  2.564751433
## 1818                          preparing       1      0  2.564751433
## 1819                       presbyterian       1      0  2.564751433
## 1820                       presentation       1      0  2.564751433
## 1821                      presidentlike       1      0  2.564751433
## 1822                    presidentreally       1      0  2.564751433
## 1823                           presmake       1      0  2.564751433
## 1824                         pretending       1      0  2.564751433
## 1825                             pretty       1      0  2.564751433
## 1826                             priest       1      0  2.564751433
## 1827                          probesuch       1      0  2.564751433
## 1828                           produced       1      0  2.564751433
## 1829                          producing       1      0  2.564751433
## 1830                            product       1      0  2.564751433
## 1831                           products       1      0  2.564751433
## 1832                     professionally       1      0  2.564751433
## 1833                          profiling       1      0  2.564751433
## 1834                             profit       1      0  2.564751433
## 1835                          prohibits       1      0  2.564751433
## 1836                         prohillary       1      0  2.564751433
## 1837                          projected       1      0  2.564751433
## 1838                            promise       1      0  2.564751433
## 1839                           promoter       1      0  2.564751433
## 1840                          promoting       1      0  2.564751433
## 1841                             prople       1      0  2.564751433
## 1842                               pros       1      0  2.564751433
## 1843                            prosper       1      0  2.564751433
## 1844                         prosperity       1      0  2.564751433
## 1845                          protected       1      0  2.564751433
## 1846                           protects       1      0  2.564751433
## 1847                         protestant       1      0  2.564751433
## 1848                            proudly       1      0  2.564751433
## 1849                                pub       1      0  2.564751433
## 1850                            publish       1      0  2.564751433
## 1851                               puff       1      0  2.564751433
## 1852                         pulledback       1      0  2.564751433
## 1853                               pump       1      0  2.564751433
## 1854                              punch       1      0  2.564751433
## 1855                          pushpolls       1      0  2.564751433
## 1856                            quality       1      0  2.564751433
## 1857                            quarter       1      0  2.564751433
## 1858                        quarterback       1      0  2.564751433
## 1859                         questioned       1      0  2.564751433
## 1860                          quicksand       1      0  2.564751433
## 1861                               quid       1      0  2.564751433
## 1862                         quinnipiac       1      0  2.564751433
## 1863                              quits       1      0  2.564751433
## 1864                           racestop       1      0  2.564751433
## 1865                          racistbut       1      0  2.564751433
## 1866                                rag       1      0  2.564751433
## 1867                              raids       1      0  2.564751433
## 1868                            railing       1      0  2.564751433
## 1869                              rails       1      0  2.564751433
## 1870                        raisedgiven       1      0  2.564751433
## 1871                           rambling       1      0  2.564751433
## 1872                            rampant       1      0  2.564751433
## 1873                            ranking       1      0  2.564751433
## 1874                           rankings       1      0  2.564751433
## 1875                               rape       1      0  2.564751433
## 1876                            rapists       1      0  2.564751433
## 1877                                rat       1      0  2.564751433
## 1878                         ratingstoo       1      0  2.564751433
## 1879                         rationally       1      0  2.564751433
## 1880                               raul       1      0  2.564751433
## 1881                      rawlingsblake       1      0  2.564751433
## 1882                           reaching       1      0  2.564751433
## 1883                           reaction       1      0  2.564751433
## 1884                         readership       1      0  2.564751433
## 1885                            reallyi       1      0  2.564751433
## 1886                            rebuild       1      0  2.564751433
## 1887                         rebuilding       1      0  2.564751433
## 1888                           rebuttal       1      0  2.564751433
## 1889                            reclaim       1      0  2.564751433
## 1890                        recognition       1      0  2.564751433
## 1891                   recordshattering       1      0  2.564751433
## 1892                            recount       1      0  2.564751433
## 1893                            recruit       1      0  2.564751433
## 1894                         recruiting       1      0  2.564751433
## 1895                             reduce       1      0  2.564751433
## 1896                            refocus       1      0  2.564751433
## 1897                           reformer       1      0  2.564751433
## 1898                          registers       1      0  2.564751433
## 1899                          rehearsed       1      0  2.564751433
## 1900                              relax       1      0  2.564751433
## 1901                        renegotiate       1      0  2.564751433
## 1902                      renegotiating       1      0  2.564751433
## 1903                          renounced       1      0  2.564751433
## 1904                         renovation       1      0  2.564751433
## 1905                    repchriscollins       1      0  2.564751433
## 1906                             replay       1      0  2.564751433
## 1907                       reportingand       1      0  2.564751433
## 1908                           reportit       1      0  2.564751433
## 1909                     representative       1      0  2.564751433
## 1910                         represents       1      0  2.564751433
## 1911                       reptommarino       1      0  2.564751433
## 1912                              repub       1      0  2.564751433
## 1913                             rescue       1      0  2.564751433
## 1914                           research       1      0  2.564751433
## 1915                        reservation       1      0  2.564751433
## 1916                            reserve       1      0  2.564751433
## 1917                        resignation       1      0  2.564751433
## 1918                           resigned       1      0  2.564751433
## 1919                         respecting       1      0  2.564751433
## 1920                        respondents       1      0  2.564751433
## 1921                        responsible       1      0  2.564751433
## 1922                             retire       1      0  2.564751433
## 1923                          retracted       1      0  2.564751433
## 1924                            retweet       1      0  2.564751433
## 1925                         retweeting       1      0  2.564751433
## 1926                            revenue       1      0  2.564751433
## 1927                           reversed       1      0  2.564751433
## 1928                             reward       1      0  2.564751433
## 1929                           rhetoric       1      0  2.564751433
## 1930                          richlowry       1      0  2.564751433
## 1931                            rickets       1      0  2.564751433
## 1932                              rides       1      0  2.564751433
## 1933                             rifles       1      0  2.564751433
## 1934                              riots       1      0  2.564751433
## 1935                             ripped       1      0  2.564751433
## 1936                          rippedoff       1      0  2.564751433
## 1937                                rjc       1      0  2.564751433
## 1938                              roads       1      0  2.564751433
## 1939                         roadsdoors       1      0  2.564751433
## 1940                      robertgbeckel       1      0  2.564751433
## 1941                           robocall       1      0  2.564751433
## 1942                               roff       1      0  2.564751433
## 1943                         rogerstone       1      0  2.564751433
## 1944                               roll       1      0  2.564751433
## 1945                            rolling       1      0  2.564751433
## 1946                            rollout       1      0  2.564751433
## 1947                               roof       1      0  2.564751433
## 1948                           roseburg       1      0  2.564751433
## 1949                              rosie       1      0  2.564751433
## 1950                              rough       1      0  2.564751433
## 1951                            routine       1      0  2.564751433
## 1952                         rpvirginia       1      0  2.564751433
## 1953                               ruin       1      0  2.564751433
## 1954                           rumsfeld       1      0  2.564751433
## 1955                             runnot       1      0  2.564751433
## 1956                            russell       1      0  2.564751433
## 1957                               rust       1      0  2.564751433
## 1958                         ruthmarcus       1      0  2.564751433
## 1959                               sack       1      0  2.564751433
## 1960                              salah       1      0  2.564751433
## 1961                               sale       1      0  2.564751433
## 1962                            salvage       1      0  2.564751433
## 1963                             sample       1      0  2.564751433
## 1964                               sane       1      0  2.564751433
## 1965                            sarcasm       1      0  2.564751433
## 1966                               sass       1      0  2.564751433
## 1967                            savaged       1      0  2.564751433
## 1968                           scamming       1      0  2.564751433
## 1969                              scams       1      0  2.564751433
## 1970                              scape       1      0  2.564751433
## 1971                             scared       1      0  2.564751433
## 1972                              scene       1      0  2.564751433
## 1973                             school       1      0  2.564751433
## 1974                            scoffed       1      0  2.564751433
## 1975                            scottie       1      0  2.564751433
## 1976                        scottwalker       1      0  2.564751433
## 1977                          screening       1      0  2.564751433
## 1978                              screw       1      0  2.564751433
## 1979                           scripted       1      0  2.564751433
## 1980                            scripts       1      0  2.564751433
## 1981                              secof       1      0  2.564751433
## 1982                             secupp       1      0  2.564751433
## 1983                           securing       1      0  2.564751433
## 1984                        securitybut       1      0  2.564751433
## 1985                               seek       1      0  2.564751433
## 1986                             seldom       1      0  2.564751433
## 1987                          selection       1      0  2.564751433
## 1988                    selfdeportation       1      0  2.564751433
## 1989                          selfishly       1      0  2.564751433
## 1990                      selfrighteous       1      0  2.564751433
## 1991                            selfthe       1      0  2.564751433
## 1992                         sentedcruz       1      0  2.564751433
## 1993                           sentinel       1      0  2.564751433
## 1994                             sept14       1      0  2.564751433
## 1995                            servant       1      0  2.564751433
## 1996                            setback       1      0  2.564751433
## 1997                             settle       1      0  2.564751433
## 1998                             sexist       1      0  2.564751433
## 1999                            shadows       1      0  2.564751433
## 2000                             shakes       1      0  2.564751433
## 2001                           shambles       1      0  2.564751433
## 2002                              shape       1      0  2.564751433
## 2003                            sharper       1      0  2.564751433
## 2004                            sheldon       1      0  2.564751433
## 2005                            shelter       1      0  2.564751433
## 2006                           sheriffs       1      0  2.564751433
## 2007                             shield       1      0  2.564751433
## 2008                              shine       1      0  2.564751433
## 2009                            shipped       1      0  2.564751433
## 2010                             shoker       1      0  2.564751433
## 2011                           shooters       1      0  2.564751433
## 2012                           shootout       1      0  2.564751433
## 2013                       shortcomings       1      0  2.564751433
## 2014                            shouted       1      0  2.564751433
## 2015                           shouting       1      0  2.564751433
## 2016                              shown       1      0  2.564751433
## 2017                             showno       1      0  2.564751433
## 2018                             shrink       1      0  2.564751433
## 2019                           sickness       1      0  2.564751433
## 2020                              sided       1      0  2.564751433
## 2021                            signage       1      0  2.564751433
## 2022                      significantly       1      0  2.564751433
## 2023                            similar       1      0  2.564751433
## 2024                             simply       1      0  2.564751433
## 2025                               sims       1      0  2.564751433
## 2026                       simultaneous       1      0  2.564751433
## 2027                               sing       1      0  2.564751433
## 2028                            singers       1      0  2.564751433
## 2029                                sir       1      0  2.564751433
## 2030                             sirius       1      0  2.564751433
## 2031                            sixteen       1      0  2.564751433
## 2032                               size       1      0  2.564751433
## 2033                              skill       1      0  2.564751433
## 2034                           skirmish       1      0  2.564751433
## 2035                               skit       1      0  2.564751433
## 2036                            slanted       1      0  2.564751433
## 2037                               slap       1      0  2.564751433
## 2038                        slaughtered       1      0  2.564751433
## 2039                             sleaze       1      0  2.564751433
## 2040                          sleazebag       1      0  2.564751433
## 2041                           slightly       1      0  2.564751433
## 2042                               slob       1      0  2.564751433
## 2043                             slogan       1      0  2.564751433
## 2044                               slot       1      0  2.564751433
## 2045                              slots       1      0  2.564751433
## 2046                             smarts       1      0  2.564751433
## 2047                             smiles       1      0  2.564751433
## 2048                           smoothly       1      0  2.564751433
## 2049                                snd       1      0  2.564751433
## 2050                               soar       1      0  2.564751433
## 2051                          socialist       1      0  2.564751433
## 2052                             softwe       1      0  2.564751433
## 2053                           soldiers       1      0  2.564751433
## 2054                              solid       1      0  2.564751433
## 2055                           solidify       1      0  2.564751433
## 2056                            soloman       1      0  2.564751433
## 2057                          solutions       1      0  2.564751433
## 2058                             solved       1      0  2.564751433
## 2059                            solving       1      0  2.564751433
## 2060                              soooo       1      0  2.564751433
## 2061                             sooooo       1      0  2.564751433
## 2062                         sopolitico       1      0  2.564751433
## 2063                               soul       1      0  2.564751433
## 2064                             sounds       1      0  2.564751433
## 2065                        sourcesthat       1      0  2.564751433
## 2066                                 sp       1      0  2.564751433
## 2067                        speakerryan       1      0  2.564751433
## 2068                           speakers       1      0  2.564751433
## 2069                             speaks       1      0  2.564751433
## 2070                        spectacular       1      0  2.564751433
## 2071                       speechwriter       1      0  2.564751433
## 2072                              spell       1      0  2.564751433
## 2073                              spill       1      0  2.564751433
## 2074                            spinnnn       1      0  2.564751433
## 2075                            spoiled       1      0  2.564751433
## 2076                          spokesmen       1      0  2.564751433
## 2077                       spokesperson       1      0  2.564751433
## 2078                              sport       1      0  2.564751433
## 2079                                spy       1      0  2.564751433
## 2080                                sro       1      0  2.564751433
## 2081                           stabbing       1      0  2.564751433
## 2082                            staffer       1      0  2.564751433
## 2083                             staged       1      0  2.564751433
## 2084                              stake       1      0  2.564751433
## 2085                             starts       1      0  2.564751433
## 2086                             staten       1      0  2.564751433
## 2087                            station       1      0  2.564751433
## 2088                          statistic       1      0  2.564751433
## 2089                         statistics       1      0  2.564751433
## 2090                             status       1      0  2.564751433
## 2091                            staying       1      0  2.564751433
## 2092                              steal       1      0  2.564751433
## 2093                           stealing       1      0  2.564751433
## 2094                       steelworkers       1      0  2.564751433
## 2095                        steinlecome       1      0  2.564751433
## 2096                          stephanie       1      0  2.564751433
## 2097                         stevenswho       1      0  2.564751433
## 2098                           sticking       1      0  2.564751433
## 2099                              stiff       1      0  2.564751433
## 2100                             stinks       1      0  2.564751433
## 2101                             stinky       1      0  2.564751433
## 2102                             stocks       1      0  2.564751433
## 2103                              stole       1      0  2.564751433
## 2104                              store       1      0  2.564751433
## 2105                          storywant       1      0  2.564751433
## 2106                          storywith       1      0  2.564751433
## 2107                             strain       1      0  2.564751433
## 2108                            streets       1      0  2.564751433
## 2109                       strengthened       1      0  2.564751433
## 2110                    strengthstamina       1      0  2.564751433
## 2111                            strikes       1      0  2.564751433
## 2112                           striking       1      0  2.564751433
## 2113                             studio       1      0  2.564751433
## 2114                           stupidly       1      0  2.564751433
## 2115                           subpoena       1      0  2.564751433
## 2116                         subpoenaed       1      0  2.564751433
## 2117                               suck       1      0  2.564751433
## 2118                          suckersno       1      0  2.564751433
## 2119                            sucking       1      0  2.564751433
## 2120                             sudden       1      0  2.564751433
## 2121                            suffolk       1      0  2.564751433
## 2122                          suggested       1      0  2.564751433
## 2123                           suicidal       1      0  2.564751433
## 2124                            suicide       1      0  2.564751433
## 2125                           suleiman       1      0  2.564751433
## 2126                            summary       1      0  2.564751433
## 2127                           superpac       1      0  2.564751433
## 2128                          superpacs       1      0  2.564751433
## 2129                         supportive       1      0  2.564751433
## 2130                           supposed       1      0  2.564751433
## 2131                         supposedly       1      0  2.564751433
## 2132                           suppress       1      0  2.564751433
## 2133                            surging       1      0  2.564751433
## 2134                         surrounded       1      0  2.564751433
## 2135                           survival       1      0  2.564751433
## 2136                            suspect       1      0  2.564751433
## 2137                          suspended       1      0  2.564751433
## 2138                            swamped       1      0  2.564751433
## 2139                             sweats       1      0  2.564751433
## 2140                              swipe       1      0  2.564751433
## 2141                        switzerland       1      0  2.564751433
## 2142                         syndicated       1      0  2.564751433
## 2143                            tabloid       1      0  2.564751433
## 2144                         tabulation       1      0  2.564751433
## 2145                             tamara       1      0  2.564751433
## 2146                       tapesnothing       1      0  2.564751433
## 2147                          targeting       1      0  2.564751433
## 2148                           taxation       1      0  2.564751433
## 2149                          taxpayers       1      0  2.564751433
## 2150                                tea       1      0  2.564751433
## 2151                          teamsters       1      0  2.564751433
## 2152                              tears       1      0  2.564751433
## 2153                    teleprompterbut       1      0  2.564751433
## 2154                         temperment       1      0  2.564751433
## 2155                                ten       1      0  2.564751433
## 2156                              terms       1      0  2.564751433
## 2157                          territory       1      0  2.564751433
## 2158                               test       1      0  2.564751433
## 2159                       testifygreat       1      0  2.564751433
## 2160                             texans       1      0  2.564751433
## 2161                       thanksgiving       1      0  2.564751433
## 2162                       theeconomist       1      0  2.564751433
## 2163                            thehill       1      0  2.564751433
## 2164                            thembut       1      0  2.564751433
## 2165                              theme       1      0  2.564751433
## 2166                            theview       1      0  2.564751433
## 2167                          thingswhy       1      0  2.564751433
## 2168                         thisthanks       1      0  2.564751433
## 2169                           threaten       1      0  2.564751433
## 2170                          threatens       1      0  2.564751433
## 2171                            threats       1      0  2.564751433
## 2172                              threw       1      0  2.564751433
## 2173                           thrilled       1      0  2.564751433
## 2174                            thunder       1      0  2.564751433
## 2175                          thursdays       1      0  2.564751433
## 2176                             today2       1      0  2.564751433
## 2177                           todaybut       1      0  2.564751433
## 2178                           tolerate       1      0  2.564751433
## 2179                       tomllamasabc       1      0  2.564751433
## 2180                        tomorrowwhy       1      0  2.564751433
## 2181                               tone       1      0  2.564751433
## 2182                        tonightgang       1      0  2.564751433
## 2183                               tony       1      0  2.564751433
## 2184                               tool       1      0  2.564751433
## 2185                             topics       1      0  2.564751433
## 2186                             totaly       1      0  2.564751433
## 2187                            touring       1      0  2.564751433
## 2188                           townhall       1      0  2.564751433
## 2189                                toy       1      0  2.564751433
## 2190                               toys       1      0  2.564751433
## 2191                              track       1      0  2.564751433
## 2192                            traffic       1      0  2.564751433
## 2193                            trained       1      0  2.564751433
## 2194                              trans       1      0  2.564751433
## 2195                            trashes       1      0  2.564751433
## 2196                           traveled       1      0  2.564751433
## 2197                           travesty       1      0  2.564751433
## 2198                           treaties       1      0  2.564751433
## 2199                           treating       1      0  2.564751433
## 2200                       tremendously       1      0  2.564751433
## 2201                              tribe       1      0  2.564751433
## 2202                               trio       1      0  2.564751433
## 2203                            triumph       1      0  2.564751433
## 2204                             troops       1      0  2.564751433
## 2205                      troublemakers       1      0  2.564751433
## 2206                           trounced       1      0  2.564751433
## 2207                         trump=safe       1      0  2.564751433
## 2208                             trumpi       1      0  2.564751433
## 2209                         truthfully       1      0  2.564751433
## 2210                                tsa       1      0  2.564751433
## 2211                         tuesdayand       1      0  2.564751433
## 2212                            tuition       1      0  2.564751433
## 2213                             tumble       1      0  2.564751433
## 2214                              tuned       1      0  2.564751433
## 2215                             tuning       1      0  2.564751433
## 2216                             twelve       1      0  2.564751433
## 2217                             twenty       1      0  2.564751433
## 2218                              twist       1      0  2.564751433
## 2219                            twotime       1      0  2.564751433
## 2220                               type       1      0  2.564751433
## 2221                            typical       1      0  2.564751433
## 2222                              tyson       1      0  2.564751433
## 2223                                uks       1      0  2.564751433
## 2224                              ultra       1      0  2.564751433
## 2225                       unaffiliated       1      0  2.564751433
## 2226                       unaffordable       1      0  2.564751433
## 2227                          unanimous       1      0  2.564751433
## 2228                         unbalanced       1      0  2.564751433
## 2229                       unbelievably       1      0  2.564751433
## 2230                        uncertainty       1      0  2.564751433
## 2231                      uncomfortable       1      0  2.564751433
## 2232                     underachieving       1      0  2.564751433
## 2233                      understanding       1      0  2.564751433
## 2234                       undocumented       1      0  2.564751433
## 2235                        unelectable       1      0  2.564751433
## 2236                     unenthusiastic       1      0  2.564751433
## 2237                         unexpected       1      0  2.564751433
## 2238                         unfairness       1      0  2.564751433
## 2239                           unfunded       1      0  2.564751433
## 2240                            unfunny       1      0  2.564751433
## 2241                            unhappy       1      0  2.564751433
## 2242                          unimpeded       1      0  2.564751433
## 2243                          universal       1      0  2.564751433
## 2244                            unnamed       1      0  2.564751433
## 2245                         unpleasant       1      0  2.564751433
## 2246                        unqualified       1      0  2.564751433
## 2247                        unrelenting       1      0  2.564751433
## 2248                    unsubstantiated       1      0  2.564751433
## 2249                       unsuspecting       1      0  2.564751433
## 2250                                upi       1      0  2.564751433
## 2251                             uproar       1      0  2.564751433
## 2252                              upset       1      0  2.564751433
## 2253                              usand       1      0  2.564751433
## 2254                           usatoday       1      0  2.564751433
## 2255                          uschamber       1      0  2.564751433
## 2256                          ussupreme       1      0  2.564751433
## 2257                                v12       1      0  2.564751433
## 2258                             vacuum       1      0  2.564751433
## 2259                         vanityfair       1      0  2.564751433
## 2260                               vega       1      0  2.564751433
## 2261                         vehemently       1      0  2.564751433
## 2262                            verdict       1      0  2.564751433
## 2263                              verse       1      0  2.564751433
## 2264                            version       1      0  2.564751433
## 2265                         victoryhas       1      0  2.564751433
## 2266                          virginias       1      0  2.564751433
## 2267                             virtue       1      0  2.564751433
## 2268                               visa       1      0  2.564751433
## 2269                           visitors       1      0  2.564751433
## 2270                         votergrade       1      0  2.564751433
## 2271                      voteshundreds       1      0  2.564751433
## 2272                        vpcandidate       1      0  2.564751433
## 2273                               wage       1      0  2.564751433
## 2274                               wake       1      0  2.564751433
## 2275                               walk       1      0  2.564751433
## 2276                            walters       1      0  2.564751433
## 2277                            warming       1      0  2.564751433
## 2278                            warning       1      0  2.564751433
## 2279                      watchednobody       1      0  2.564751433
## 2280                            watches       1      0  2.564751433
## 2281                            weakest       1      0  2.564751433
## 2282                            wedding       1      0  2.564751433
## 2283                         wednesday1       1      0  2.564751433
## 2284                            wellwho       1      0  2.564751433
## 2285                                wgc       1      0  2.564751433
## 2286                           wheeling       1      0  2.564751433
## 2287                     whoopigoldberg       1      0  2.564751433
## 2288                              whore       1      0  2.564751433
## 2289                             wiener       1      0  2.564751433
## 2290                             wiesel       1      0  2.564751433
## 2291                              wifes       1      0  2.564751433
## 2292                           williams       1      0  2.564751433
## 2293                         wisconsins       1      0  2.564751433
## 2294                            wiseguy       1      0  2.564751433
## 2295                          witchhunt       1      0  2.564751433
## 2296                             womeni       1      0  2.564751433
## 2297                             worker       1      0  2.564751433
## 2298                        worsealmost       1      0  2.564751433
## 2299                         worsetheir       1      0  2.564751433
## 2300                        worsetrying       1      0  2.564751433
## 2301                          worstthey       1      0  2.564751433
## 2302                                 wr       1      0  2.564751433
## 2303                       wrongtotally       1      0  2.564751433
## 2304                           wthought       1      0  2.564751433
## 2305                            yearbut       1      0  2.564751433
## 2306                           yearsand       1      0  2.564751433
## 2307                             yetthe       1      0  2.564751433
## 2308                    youngdems4trump       1      0  2.564751433
## 2309                              zilch       1      0  2.564751433
## 2310                                zip       1      0  2.564751433
## 2311                              zones       1      0  2.564751433
## 2312                                ted      84     28  2.542685288
## 2313                                run      39     13  2.504964681
## 2314                            ratings      36     12  2.499607015
## 2315                            totally      62     21  2.490855085
## 2316                               hard      30     10  2.485997396
## 2317                              false      24      8  2.466258441
## 2318                               race      18      6  2.434731899
## 2319                               deal      29     10  2.404340072
## 2320                             graham      12      4  2.375700407
## 2321                                 ad      23      8  2.365448087
## 2322                             rigged      23      8  2.365448087
## 2323                                low      20      7  2.338340517
## 2324                    @washingtonpost       9      3  2.321135278
## 2325                              build       9      3  2.321135278
## 2326                              deals       9      3  2.321135278
## 2327                             drudge       9      3  2.321135278
## 2328                              kaine       9      3  2.321135278
## 2329                              lying       9      3  2.321135278
## 2330                               hear      14      5  2.254871791
## 2331                                win      74     28  2.240380737
## 2332                              obama      58     22  2.227105157
## 2333                          amendment       6      2  2.223151046
## 2334                           canadian       6      2  2.223151046
## 2335                           children       6      2  2.223151046
## 2336                          continues       6      2  2.223151046
## 2337                            dumbest       6      2  2.223151046
## 2338                            foxnews       6      2  2.223151046
## 2339                               king       6      2  2.223151046
## 2340                              plane       6      2  2.223151046
## 2341                        politically       6      2  2.223151046
## 2342                            polling       6      2  2.223151046
## 2343                             raised       6      2  2.223151046
## 2344                         ridiculous       6      2  2.223151046
## 2345                             signed       6      2  2.223151046
## 2346                            supreme       6      2  2.223151046
## 2347                              voted       6      2  2.223151046
## 2348                             carson      24      9  2.206492300
## 2349                               lead      24      9  2.206492300
## 2350                           @nytimes      34     13  2.187201479
## 2351                            special      34     13  2.187201479
## 2352                                ben      11      4  2.185508893
## 2353                             losing      11      4  2.185508893
## 2354                            running      16      6  2.171248346
## 2355                              worse      16      6  2.171248346
## 2356                               wall      31     12  2.156525679
## 2357                            hillary     289    116  2.144860377
## 2358                             border      23      9  2.116300102
## 2359                             person      23      9  2.116300102
## 2360                              close      13      5  2.099233243
## 2361                          democrats      13      5  2.099233243
## 2362                           happened      13      5  2.099233243
## 2363                             debate      79     32  2.096540149
## 2364                               cruz     113     46  2.094308464
## 2365                              ahead       8      3  2.076676538
## 2366                            anymore       8      3  2.076676538
## 2367                              hours       8      3  2.076676538
## 2368                             months       8      3  2.076676538
## 2369                              nafta       8      3  2.076676538
## 2370                          overrated       8      3  2.076676538
## 2371                            pundits       8      3  2.076676538
## 2372                                rnc       8      3  2.076676538
## 2373                         statements       8      3  2.076676538
## 2374                                war       8      3  2.076676538
## 2375                            wouldnt       8      3  2.076676538
## 2376                                lot      15      6  2.039531074
## 2377                              votes      15      6  2.039531074
## 2378                               isis      41     17  2.029907512
## 2379                              major      22      9  2.026119092
## 2380                             doesnt      36     15  2.015373524
## 2381                               lost      38     16  1.997071394
## 2382                             voters      24     10  1.996205424
## 2383                              chris      17      7  1.995773003
## 2384                           spending      17      7  1.995773003
## 2385                          apologize      10      4  1.995340957
## 2386                        @marcorubio       3      1  1.994909286
## 2387                           @nbcnews       3      1  1.994909286
## 2388                              agent       3      1  1.994909286
## 2389                          answering       3      1  1.994909286
## 2390                              arent       3      1  1.994909286
## 2391                           atlantic       3      1  1.994909286
## 2392                              bible       3      1  1.994909286
## 2393                             bottom       3      1  1.994909286
## 2394                          brilliant       3      1  1.994909286
## 2395                              chapo       3      1  1.994909286
## 2396                          chucktodd       3      1  1.994909286
## 2397                          committee       3      1  1.994909286
## 2398                     constitutional       3      1  1.994909286
## 2399                           crookeds       3      1  1.994909286
## 2400                             danger       3      1  1.994909286
## 2401                             debbie       3      1  1.994909286
## 2402                               debt       3      1  1.994909286
## 2403                         devastated       3      1  1.994909286
## 2404                             donors       3      1  1.994909286
## 2405                             effort       3      1  1.994909286
## 2406                                 el       3      1  1.994909286
## 2407                       enthusiastic       3      1  1.994909286
## 2408                          exhausted       3      1  1.994909286
## 2409                             forgot       3      1  1.994909286
## 2410                              games       3      1  1.994909286
## 2411                               gang       3      1  1.994909286
## 2412                             ground       3      1  1.994909286
## 2413                             haters       3      1  1.994909286
## 2414                          hispanics       3      1  1.994909286
## 2415                             issued       3      1  1.994909286
## 2416                             ivanka       3      1  1.994909286
## 2417                           justices       3      1  1.994909286
## 2418                             lawyer       3      1  1.994909286
## 2419                              learn       3      1  1.994909286
## 2420                                led       3      1  1.994909286
## 2421                            markets       3      1  1.994909286
## 2422                               mass       3      1  1.994909286
## 2423                           memorial       3      1  1.994909286
## 2424                            mistake       3      1  1.994909286
## 2425                              mommy       3      1  1.994909286
## 2426                              named       3      1  1.994909286
## 2427                            nervous       3      1  1.994909286
## 2428                                nyc       3      1  1.994909286
## 2429                             panels       3      1  1.994909286
## 2430                               path       3      1  1.994909286
## 2431                               penn       3      1  1.994909286
## 2432                              plain       3      1  1.994909286
## 2433                            poverty       3      1  1.994909286
## 2434                              prove       3      1  1.994909286
## 2435                          referring       3      1  1.994909286
## 2436                            refused       3      1  1.994909286
## 2437                       representing       3      1  1.994909286
## 2438                               risk       3      1  1.994909286
## 2439                          secretary       3      1  1.994909286
## 2440                               sick       3      1  1.994909286
## 2441                             skills       3      1  1.994909286
## 2442                             source       3      1  1.994909286
## 2443                           straight       3      1  1.994909286
## 2444                         strategist       3      1  1.994909286
## 2445                           talented       3      1  1.994909286
## 2446                             talked       3      1  1.994909286
## 2447                               tape       3      1  1.994909286
## 2448                               todd       3      1  1.994909286
## 2449                              tweet       3      1  1.994909286
## 2450                          viciously       3      1  1.994909286
## 2451                              wacko       3      1  1.994909286
## 2452                            warmest       3      1  1.994909286
## 2453                          wasserman       3      1  1.994909286
## 2454                          president      82     35  1.991734675
## 2455                              money      47     20  1.983687561
## 2456                          delegates      12      5  1.943613991
## 2457                                usa      12      5  1.943613991
## 2458                              waste      12      5  1.943613991
## 2459                            illegal      32     14  1.917932897
## 2460                           remember      32     14  1.917932897
## 2461                             killed      14      6  1.907830134
## 2462                           election      25     11  1.896995216
## 2463                         @60minutes       5      2  1.881011246
## 2464                           attacked       5      2  1.881011246
## 2465                             budget       5      2  1.881011246
## 2466                              chuck       5      2  1.881011246
## 2467                              class       5      2  1.881011246
## 2468                            company       5      2  1.881011246
## 2469                             demand       5      2  1.881011246
## 2470                              dirty       5      2  1.881011246
## 2471                             events       5      2  1.881011246
## 2472                        ineffective       5      2  1.881011246
## 2473                               jebs       5      2  1.881011246
## 2474                      oreillyfactor       5      2  1.881011246
## 2475                               pass       5      2  1.881011246
## 2476                                ppp       5      2  1.881011246
## 2477                            putting       5      2  1.881011246
## 2478                               jobs      53     24  1.869635968
## 2479                              phony      20      9  1.845790633
## 2480                           negative      22     10  1.833022450
## 2481                            brother       7      3  1.832248098
## 2482                               core       7      3  1.832248098
## 2483                              heard       7      3  1.832248098
## 2484                               list       7      3  1.832248098
## 2485                              mayor       7      3  1.832248098
## 2486                              super       7      3  1.832248098
## 2487                               term       7      3  1.832248098
## 2488                         @chucktodd       9      4  1.805196594
## 2489                             credit       9      4  1.805196594
## 2490                              stage       9      4  1.805196594
## 2491                              polls      57     27  1.790267390
## 2492                                air      11      5  1.788014032
## 2493                              loved      11      5  1.788014032
## 2494                           pathetic      11      5  1.788014032
## 2495                            respect      11      5  1.788014032
## 2496                            victory      11      5  1.788014032
## 2497                          elizabeth      13      6  1.776145525
## 2498                              nasty      13      6  1.776145525
## 2499                               paul      13      6  1.776145525
## 2500                            results      13      6  1.776145525
## 2501                             street      13      6  1.776145525
## 2502                               @abc      15      7  1.767465460
## 2503                         tremendous      15      7  1.767465460
## 2504                               week      15      7  1.767465460
## 2505                             report      17      8  1.760848512
## 2506                          reporting      17      8  1.760848512
## 2507                           @foxnews      71     35  1.724988663
## 2508                               nice      54     27  1.696545743
## 2509                        immigration      32     16  1.685211674
## 2510                            senator      30     15  1.683452164
## 2511                             emails      22     11  1.673507833
## 2512                              worst      20     10  1.669879959
## 2513                                job      55     28  1.667037423
## 2514                             called      14      7  1.653332920
## 2515                           horrible      14      7  1.653332920
## 2516                            islamic      14      7  1.653332920
## 2517                               isnt      12      6  1.644477241
## 2518                             voting      12      6  1.644477241
## 2519                          @karlrove      10      5  1.632433361
## 2520                        incompetent      10      5  1.632433361
## 2521                             packed      10      5  1.632433361
## 2522                           strength      10      5  1.632433361
## 2523                                guy      27     14  1.622362817
## 2524                              party      25     13  1.615724513
## 2525                   @gstephanopoulos       8      4  1.615075799
## 2526                            alabama       8      4  1.615075799
## 2527                             caught       8      4  1.615075799
## 2528                             choice       8      4  1.615075799
## 2529                              loser       8      4  1.615075799
## 2530                              pence       8      4  1.615075799
## 2531                               pick       8      4  1.615075799
## 2532                               ryan       8      4  1.615075799
## 2533                            stamina       8      4  1.615075799
## 2534                            started       8      4  1.615075799
## 2535                             terror       8      4  1.615075799
## 2536                           disaster      21     11  1.599030520
## 2537                        @jaketapper       6      3  1.587849950
## 2538                          desperate       6      3  1.587849950
## 2539                           disloyal       6      3  1.587849950
## 2540                                dnc       6      3  1.587849950
## 2541                       evangelicals       6      3  1.587849950
## 2542                              favor       6      3  1.587849950
## 2543                             listen       6      3  1.587849950
## 2544                               luck       6      3  1.587849950
## 2545                           military       6      3  1.587849950
## 2546                              piece       6      3  1.587849950
## 2547                              weeks       6      3  1.587849950
## 2548                            failing      41     22  1.578244234
## 2549                            allowed      15      8  1.559415284
## 2550                             nation      15      8  1.559415284
## 2551                           veterans      15      8  1.559415284
## 2552                               dont      60     33  1.545913143
## 2553                              crime      13      7  1.539214531
## 2554                            leaders      13      7  1.539214531
## 2555                                pay      13      7  1.539214531
## 2556                       @krauthammer       4      2  1.538913845
## 2557                           allowing       4      2  1.538913845
## 2558                         apologized       4      2  1.538913845
## 2559                            apology       4      2  1.538913845
## 2560                             bigger       4      2  1.538913845
## 2561                              broke       4      2  1.538913845
## 2562                           brothers       4      2  1.538913845
## 2563                            calling       4      2  1.538913845
## 2564                             caused       4      2  1.538913845
## 2565                           finished       4      2  1.538913845
## 2566                               fire       4      2  1.538913845
## 2567                             follow       4      2  1.538913845
## 2568                            largest       4      2  1.538913845
## 2569                              loans       4      2  1.538913845
## 2570                             missed       4      2  1.538913845
## 2571                               move       4      2  1.538913845
## 2572                            muslims       4      2  1.538913845
## 2573                            natural       4      2  1.538913845
## 2574                             oregon       4      2  1.538913845
## 2575                             puppet       4      2  1.538913845
## 2576                              quote       4      2  1.538913845
## 2577                               rand       4      2  1.538913845
## 2578                             reason       4      2  1.538913845
## 2579                               rest       4      2  1.538913845
## 2580                            returns       4      2  1.538913845
## 2581                              scott       4      2  1.538913845
## 2582                           tweeting       4      2  1.538913845
## 2583                              wasnt       4      2  1.538913845
## 2584                             writer       4      2  1.538913845
## 2585                             people     194    109  1.524787926
## 2586                               head      11      6  1.512825281
## 2587                              event      18     10  1.506777937
## 2588                               told      18     10  1.506777937
## 2589                              night      69     39  1.506315727
## 2590                             system      16      9  1.485267890
## 2591                            country      66     38  1.478562644
## 2592                              check       9      5  1.476871977
## 2593                               easy       9      5  1.476871977
## 2594                                joe       9      5  1.476871977
## 2595                              rubio      50     29  1.464873438
## 2596                             attack      14      8  1.458717403
## 2597                             record      31     18  1.456477890
## 2598                          candidate      24     14  1.445108783
## 2599                              calls       7      4  1.424978568
## 2600                            @joenbc       2      1  1.424846927
## 2601                         @teamsters       2      1  1.424846927
## 2602                            abolish       2      1  1.424846927
## 2603                             acting       2      1  1.424846927
## 2604                               adam       2      1  1.424846927
## 2605                            advance       2      1  1.424846927
## 2606                          advantage       2      1  1.424846927
## 2607                             agrees       2      1  1.424846927
## 2608                            amounts       2      1  1.424846927
## 2609                              basis       2      1  1.424846927
## 2610                             begged       2      1  1.424846927
## 2611                          bloomberg       2      1  1.424846927
## 2612                               bowl       2      1  1.424846927
## 2613                              brian       2      1  1.424846927
## 2614                            britain       2      1  1.424846927
## 2615                           building       2      1  1.424846927
## 2616                               bull       2      1  1.424846927
## 2617                          cancelled       2      1  1.424846927
## 2618                             career       2      1  1.424846927
## 2619                              cares       2      1  1.424846927
## 2620                             charge       2      1  1.424846927
## 2621                              civil       2      1  1.424846927
## 2622                          columnist       2      1  1.424846927
## 2623                            complex       2      1  1.424846927
## 2624                           congress       2      1  1.424846927
## 2625                        criticizing       2      1  1.424846927
## 2626                            dealing       2      1  1.424846927
## 2627                           debating       2      1  1.424846927
## 2628                            decided       2      1  1.424846927
## 2629                           directly       2      1  1.424846927
## 2630                        discredited       2      1  1.424846927
## 2631                            escaped       2      1  1.424846927
## 2632                             europe       2      1  1.424846927
## 2633                             expect       2      1  1.424846927
## 2634                               fall       2      1  1.424846927
## 2635                               fans       2      1  1.424846927
## 2636                            fiction       2      1  1.424846927
## 2637                               fine       2      1  1.424846927
## 2638                                fit       2      1  1.424846927
## 2639                             flying       2      1  1.424846927
## 2640                            forever       2      1  1.424846927
## 2641                               form       2      1  1.424846927
## 2642                           fraction       2      1  1.424846927
## 2643                               fund       2      1  1.424846927
## 2644                                gun       2      1  1.424846927
## 2645                               guts       2      1  1.424846927
## 2646                             hammer       2      1  1.424846927
## 2647                             handle       2      1  1.424846927
## 2648                           handling       2      1  1.424846927
## 2649                            helping       2      1  1.424846927
## 2650                               hook       2      1  1.424846927
## 2651                           hostages       2      1  1.424846927
## 2652                              howie       2      1  1.424846927
## 2653                         humiliated       2      1  1.424846927
## 2654                         hypocrites       2      1  1.424846927
## 2655                         impossible       2      1  1.424846927
## 2656                            injured       2      1  1.424846927
## 2657                            insight       2      1  1.424846927
## 2658                             issues       2      1  1.424846927
## 2659                              katie       2      1  1.424846927
## 2660                             killer       2      1  1.424846927
## 2661                             larger       2      1  1.424846927
## 2662                            laughed       2      1  1.424846927
## 2663                              leads       2      1  1.424846927
## 2664                              loses       2      1  1.424846927
## 2665                              macys       2      1  1.424846927
## 2666                           material       2      1  1.424846927
## 2667                          mikepence       2      1  1.424846927
## 2668                               mind       2      1  1.424846927
## 2669                             miners       2      1  1.424846927
## 2670                      misrepresents       2      1  1.424846927
## 2671                         mittromney       2      1  1.424846927
## 2672                          narrative       2      1  1.424846927
## 2673                           neurotic       2      1  1.424846927
## 2674                             normal       2      1  1.424846927
## 2675                           numerous       2      1  1.424846927
## 2676                               pack       2      1  1.424846927
## 2677                             papers       2      1  1.424846927
## 2678                             patrol       2      1  1.424846927
## 2679                           peaceful       2      1  1.424846927
## 2680                             pledge       2      1  1.424846927
## 2681                           position       2      1  1.424846927
## 2682                          potential       2      1  1.424846927
## 2683                        predictions       2      1  1.424846927
## 2684                             prison       2      1  1.424846927
## 2685                             proper       2      1  1.424846927
## 2686                         protection       2      1  1.424846927
## 2687                             pundit       2      1  1.424846927
## 2688                            purpose       2      1  1.424846927
## 2689                            rapidly       2      1  1.424846927
## 2690                        rebroadcast       2      1  1.424846927
## 2691                            records       2      1  1.424846927
## 2692                             refuse       2      1  1.424846927
## 2693                           religion       2      1  1.424846927
## 2694                            remarks       2      1  1.424846927
## 2695                            reminds       2      1  1.424846927
## 2696                             resign       2      1  1.424846927
## 2697                             result       2      1  1.424846927
## 2698                            ripping       2      1  1.424846927
## 2699                              rumor       2      1  1.424846927
## 2700                              sadly       2      1  1.424846927
## 2701                                sat       2      1  1.424846927
## 2702                              saved       2      1  1.424846927
## 2703                            schools       2      1  1.424846927
## 2704                          sensitive       2      1  1.424846927
## 2705                           shooting       2      1  1.424846927
## 2706                               shut       2      1  1.424846927
## 2707                              sioux       2      1  1.424846927
## 2708                              sites       2      1  1.424846927
## 2709                          situation       2      1  1.424846927
## 2710                            speaker       2      1  1.424846927
## 2711                            spoiler       2      1  1.424846927
## 2712                           stopping       2      1  1.424846927
## 2713                              storm       2      1  1.424846927
## 2714                           subjects       2      1  1.424846927
## 2715                               tank       2      1  1.424846927
## 2716                            tedcruz       2      1  1.424846927
## 2717                               tens       2      1  1.424846927
## 2718                             ticket       2      1  1.424846927
## 2719                               tied       2      1  1.424846927
## 2720                           truthful       2      1  1.424846927
## 2721                            unheard       2      1  1.424846927
## 2722                              unity       2      1  1.424846927
## 2723                           universe       2      1  1.424846927
## 2724                          univision       2      1  1.424846927
## 2725                            unleash       2      1  1.424846927
## 2726                             wasted       2      1  1.424846927
## 2727                             writes       2      1  1.424846927
## 2728                          wonderful      35     21  1.412434285
## 2729                              words      30     18  1.410152977
## 2730                              marco      36     22  1.387663442
## 2731                              goofy      10      6  1.381189641
## 2732                               hope      18     11  1.375654007
## 2733                            radical      18     11  1.375654007
## 2734                               wont      18     11  1.375654007
## 2735                            massive      26     16  1.373584143
## 2736                             change      21     13  1.361939548
## 2737                             mexico      21     13  1.361939548
## 2738                          thousands      13      8  1.358032007
## 2739                                ads      27     17  1.343950964
## 2740                               @nbc       5      3  1.343482090
## 2741                             answer       5      3  1.343482090
## 2742                            charges       5      3  1.343482090
## 2743                        condolences       5      3  1.343482090
## 2744                            destroy       5      3  1.343482090
## 2745                           disgrace       5      3  1.343482090
## 2746                              doubt       5      3  1.343482090
## 2747                               eric       5      3  1.343482090
## 2748                           majority       5      3  1.343482090
## 2749                          reporters       5      3  1.343482090
## 2750                            service       5      3  1.343482090
## 2751                               shes       5      3  1.343482090
## 2752                              spend       5      3  1.343482090
## 2753                              spoke       5      3  1.343482090
## 2754                            stevens       5      3  1.343482090
## 2755                            amazing      66     42  1.339014516
## 2756                             dallas       8      5  1.321329874
## 2757                            economy       8      5  1.321329874
## 2758                                nbc       8      5  1.321329874
## 2759                             sunday       8      5  1.321329874
## 2760                         leadership      14      9  1.305073574
## 2761                            watched      14      9  1.305073574
## 2762                            winning      14      9  1.305073574
## 2763                                 dc      17     11  1.301213638
## 2764                            leaving      20     13  1.298512983
## 2765                              didnt      26     17  1.294999668
## 2766                            morning      49     33  1.263973555
## 2767                                 tv      15     10  1.262200748
## 2768                            melania      12      8  1.257359095
## 2769                               bill      22     15  1.241274675
## 2770                          interview      19     13  1.235094284
## 2771                              based       6      4  1.234904897
## 2772                           comments       6      4  1.234904897
## 2773                               lied       6      4  1.234904897
## 2774                             online       6      4  1.234904897
## 2775                            orlando       6      4  1.234904897
## 2776                              putin       6      4  1.234904897
## 2777                            rallies       6      4  1.234904897
## 2778                            refuses       6      4  1.234904897
## 2779                               rock       6      4  1.234904897
## 2780                               wins       6      4  1.234904897
## 2781                               time      78     54  1.232454924
## 2782                             highly      16     11  1.226782501
## 2783                              press      16     11  1.226782501
## 2784                                cnn      26     18  1.224910811
## 2785                             coming      13      9  1.214993172
## 2786                            history      13      9  1.214993172
## 2787                           saturday      13      9  1.214993172
## 2788                              dopey      10      7  1.196944246
## 2789                       @billkristol       3      2  1.196858833
## 2790                     @sarahpalinusa       3      2  1.196858833
## 2791                                  $       3      2  1.196858833
## 2792                     administration       3      2  1.196858833
## 2793                              admit       3      2  1.196858833
## 2794                             arabia       3      2  1.196858833
## 2795                            average       3      2  1.196858833
## 2796                               blow       3      2  1.196858833
## 2797                           bringing       3      2  1.196858833
## 2798                       championship       3      2  1.196858833
## 2799                            changed       3      2  1.196858833
## 2800                            charles       3      2  1.196858833
## 2801                         classified       3      2  1.196858833
## 2802                             closed       3      2  1.196858833
## 2803                           coverage       3      2  1.196858833
## 2804                            defense       3      2  1.196858833
## 2805                              diego       3      2  1.196858833
## 2806                              drugs       3      2  1.196858833
## 2807                          education       3      2  1.196858833
## 2808                               feel       3      2  1.196858833
## 2809                            focused       3      2  1.196858833
## 2810                               game       3      2  1.196858833
## 2811                             giving       3      2  1.196858833
## 2812                             guilty       3      2  1.196858833
## 2813                           heritage       3      2  1.196858833
## 2814                            hosting       3      2  1.196858833
## 2815                         immigrants       3      2  1.196858833
## 2816                          incorrect       3      2  1.196858833
## 2817                              issue       3      2  1.196858833
## 2818                              knock       3      2  1.196858833
## 2819                           laughing       3      2  1.196858833
## 2820                           lobbyist       3      2  1.196858833
## 2821                               lord       3      2  1.196858833
## 2822                             losses       3      2  1.196858833
## 2823                            manager       3      2  1.196858833
## 2824                               mort       3      2  1.196858833
## 2825                              owner       3      2  1.196858833
## 2826                              phone       3      2  1.196858833
## 2827                            planned       3      2  1.196858833
## 2828                          positions       3      2  1.196858833
## 2829                         presidency       3      2  1.196858833
## 2830                          qualified       3      2  1.196858833
## 2831                              quick       3      2  1.196858833
## 2832                           recently       3      2  1.196858833
## 2833                             resort       3      2  1.196858833
## 2834                                rid       3      2  1.196858833
## 2835                             rights       3      2  1.196858833
## 2836                              saudi       3      2  1.196858833
## 2837                                sen       3      2  1.196858833
## 2838                           starting       3      2  1.196858833
## 2839                         successful       3      2  1.196858833
## 2840                            telling       3      2  1.196858833
## 2841                             tricks       3      2  1.196858833
## 2842                            turnout       3      2  1.196858833
## 2843                                 uk       3      2  1.196858833
## 2844                              crowd      60     43  1.189666071
## 2845                               true      14     10  1.180695236
## 2846                        credibility       7      5  1.165807050
## 2847                              house       7      5  1.165807050
## 2848                               life       7      5  1.165807050
## 2849                                oil       7      5  1.165807050
## 2850                                san       7      5  1.165807050
## 2851                                son       7      5  1.165807050
## 2852                                tpp       7      5  1.165807050
## 2853                            clinton     136    101  1.150927098
## 2854                                day      43     32  1.144598472
## 2855                              enjoy      68     51  1.137642369
## 2856                             speech      44     33  1.135946560
## 2857                     @oreillyfactor      20     15  1.130798864
## 2858                                fbi       8      6  1.117967310
## 2859                               past       8      6  1.117967310
## 2860                            primary       8      6  1.117967310
## 2861                               stop      22     17  1.099255209
## 2862                            atlanta       4      3  1.099144512
## 2863                           audience       4      3  1.099144512
## 2864                         discussing       4      3  1.099144512
## 2865                        embarrassed       4      3  1.099144512
## 2866                          financial       4      3  1.099144512
## 2867                         fraudulent       4      3  1.099144512
## 2868                               golf       4      3  1.099144512
## 2869                             honest       4      3  1.099144512
## 2870                            hostile       4      3  1.099144512
## 2871                                 la       4      3  1.099144512
## 2872                              leave       4      3  1.099144512
## 2873                             notice       4      3  1.099144512
## 2874                            roberts       4      3  1.099144512
## 2875                            scandal       4      3  1.099144512
## 2876                            settled       4      3  1.099144512
## 2877                             stuart       4      3  1.099144512
## 2878                           weakness       4      3  1.099144512
## 2879                              story      23     18  1.086039515
## 2880                         conference       9      7  1.082882436
## 2881                            forward      19     15  1.075571236
## 2882                               news      30     24  1.064345843
## 2883                        lightweight      20     16  1.062188543
## 2884                              taxes      10      8  1.056050709
## 2885                             warren      10      8  1.056050709
## 2886                                  =       5      4  1.044854781
## 2887                                cbs       5      4  1.044854781
## 2888                                hes       5      4  1.044854781
## 2889                              lives       5      4  1.044854781
## 2890                              owned       5      4  1.044854781
## 2891                           properly       5      4  1.044854781
## 2892                           vigilant       5      4  1.044854781
## 2893                        politicians      11      9  1.034865872
## 2894                                top      11      9  1.034865872
## 2895                              happy      17     14  1.031772506
## 2896                               love      36     30  1.023091778
## 2897                       presidential      25     21  1.013936030
## 2898                            discuss       6      5  1.010303500
## 2899                               liar       6      5  1.010303500
## 2900                            mention       6      5  1.010303500
## 2901                               save       6      5  1.010303500
## 2902                             secret       6      5  1.010303500
## 2903                              tower       6      5  1.010303500
## 2904                              woman       6      5  1.010303500
## 2905                             police      13     11  1.003544460
## 2906                           released      13     11  1.003544460
## 2907                              fight      14     12  0.991640162
## 2908                           business       7      6  0.986380613
## 2909                               poll     116    101  0.981067331
## 2910                              trump     104     91  0.976171191
## 2911                               john      24     21  0.974113399
## 2912                              proud      16     14  0.972753756
## 2913                           endorsed       8      7  0.968834764
## 2914                          including       8      7  0.968834764
## 2915                             taking       8      7  0.968834764
## 2916                          dishonest      36     32  0.959992837
## 2917                          cleveland       9      8  0.955415232
## 2918                               club       9      8  0.955415232
## 2919                            million      21     19  0.942470906
## 2920                         incredible      12     11  0.929150231
## 2921                          statement      14     13  0.918118745
## 2922                              bring      15     14  0.913742326
## 2923                         supporters      24     23  0.891080778
## 2924                   @bobvanderplaats       1      1  0.854855196
## 2925                     @breitbartnews       1      1  0.854855196
## 2926                         @bretbaier       1      1  0.854855196
## 2927                      @cherijacobus       1      1  0.854855196
## 2928                               @fox       1      1  0.854855196
## 2929                               @img       1      1  0.854855196
## 2930                        @katyturnbc       1      1  0.854855196
## 2931                      @loudobbsnews       1      1  0.854855196
## 2932                             @msnbc       1      1  0.854855196
## 2933                             @potus       1      1  0.854855196
## 2934                    @quinnipiacpoll       1      1  0.854855196
## 2935                       @scottwalker       1      1  0.854855196
## 2936                             @slate       1      1  0.854855196
## 2937                         @surveyusa       1      1  0.854855196
## 2938                        @teamcavuto       1      1  0.854855196
## 2939                           #hannity       1      1  0.854855196
## 2940                               $100       1      1  0.854855196
## 2941                               $120       1      1  0.854855196
## 2942                               $400       1      1  0.854855196
## 2943                             abedin       1      1  0.854855196
## 2944                           aberdeen       1      1  0.854855196
## 2945                           absolute       1      1  0.854855196
## 2946                         acceptance       1      1  0.854855196
## 2947                             access       1      1  0.854855196
## 2948                            address       1      1  0.854855196
## 2949                           advisers       1      1  0.854855196
## 2950                           affected       1      1  0.854855196
## 2951                           agreeing       1      1  0.854855196
## 2952                           airplane       1      1  0.854855196
## 2953                            airport       1      1  0.854855196
## 2954                              akron       1      1  0.854855196
## 2955                              alike       1      1  0.854855196
## 2956                             allies       1      1  0.854855196
## 2957                                amy       1      1  0.854855196
## 2958                           analysis       1      1  0.854855196
## 2959                            anthony       1      1  0.854855196
## 2960                           approval       1      1  0.854855196
## 2961                           arrested       1      1  0.854855196
## 2962                             assets       1      1  0.854855196
## 2963                            attempt       1      1  0.854855196
## 2964                               baby       1      1  0.854855196
## 2965                                bag       1      1  0.854855196
## 2966                            ballots       1      1  0.854855196
## 2967                               bank       1      1  0.854855196
## 2968                                bar       1      1  0.854855196
## 2969                            barrack       1      1  0.854855196
## 2970                              begin       1      1  0.854855196
## 2971                               belt       1      1  0.854855196
## 2972                           benjamin       1      1  0.854855196
## 2973                            bernies       1      1  0.854855196
## 2974                        billionaire       1      1  0.854855196
## 2975                         birmingham       1      1  0.854855196
## 2976                              block       1      1  0.854855196
## 2977                            blocked       1      1  0.854855196
## 2978                            bombing       1      1  0.854855196
## 2979                             boxing       1      1  0.854855196
## 2980                              brand       1      1  0.854855196
## 2981                             brutal       1      1  0.854855196
## 2982                          campaigns       1      1  0.854855196
## 2983                            capable       1      1  0.854855196
## 2984                            captain       1      1  0.854855196
## 2985                           careless       1      1  0.854855196
## 2986                            cartels       1      1  0.854855196
## 2987                               cast       1      1  0.854855196
## 2988                         challenges       1      1  0.854855196
## 2989                          champions       1      1  0.854855196
## 2990                          character       1      1  0.854855196
## 2991                            cheater       1      1  0.854855196
## 2992                           cheating       1      1  0.854855196
## 2993                           checking       1      1  0.854855196
## 2994                         christians       1      1  0.854855196
## 2995                           citizens       1      1  0.854855196
## 2996                             claims       1      1  0.854855196
## 2997                              coast       1      1  0.854855196
## 2998                           collapse       1      1  0.854855196
## 2999                          collusion       1      1  0.854855196
## 3000                           comeback       1      1  0.854855196
## 3001                          commander       1      1  0.854855196
## 3002                            comment       1      1  0.854855196
## 3003                          confirmed       1      1  0.854855196
## 3004                       contribution       1      1  0.854855196
## 3005                               cool       1      1  0.854855196
## 3006                                cox       1      1  0.854855196
## 3007                           credible       1      1  0.854855196
## 3008                             crying       1      1  0.854855196
## 3009                          dangerous       1      1  0.854855196
## 3010                               data       1      1  0.854855196
## 3011                             decide       1      1  0.854855196
## 3012                            deepest       1      1  0.854855196
## 3013                          defending       1      1  0.854855196
## 3014                            deficit       1      1  0.854855196
## 3015                         definition       1      1  0.854855196
## 3016                           delegate       1      1  0.854855196
## 3017                           departed       1      1  0.854855196
## 3018                             deport       1      1  0.854855196
## 3019                        deportation       1      1  0.854855196
## 3020                         describing       1      1  0.854855196
## 3021                            develop       1      1  0.854855196
## 3022                          dickerson       1      1  0.854855196
## 3023                          difficult       1      1  0.854855196
## 3024                             dinner       1      1  0.854855196
## 3025                           disarray       1      1  0.854855196
## 3026                         dishonesty       1      1  0.854855196
## 3027                       disqualified       1      1  0.854855196
## 3028                            disrupt       1      1  0.854855196
## 3029                              ditka       1      1  0.854855196
## 3030                                doj       1      1  0.854855196
## 3031                               door       1      1  0.854855196
## 3032                              drain       1      1  0.854855196
## 3033                               dump       1      1  0.854855196
## 3034                             dustin       1      1  0.854855196
## 3035                              elect       1      1  0.854855196
## 3036                          elections       1      1  0.854855196
## 3037                         eliminated       1      1  0.854855196
## 3038                            england       1      1  0.854855196
## 3039                          erictrump       1      1  0.854855196
## 3040                             ethics       1      1  0.854855196
## 3041                           european       1      1  0.854855196
## 3042                         evansville       1      1  0.854855196
## 3043                           evidence       1      1  0.854855196
## 3044                              execs       1      1  0.854855196
## 3045                            explode       1      1  0.854855196
## 3046                          extortion       1      1  0.854855196
## 3047                             facing       1      1  0.854855196
## 3048                             favors       1      1  0.854855196
## 3049                           featured       1      1  0.854855196
## 3050                                fec       1      1  0.854855196
## 3051                               fest       1      1  0.854855196
## 3052                              filed       1      1  0.854855196
## 3053                            finance       1      1  0.854855196
## 3054                             fixing       1      1  0.854855196
## 3055                               foul       1      1  0.854855196
## 3056                            founder       1      1  0.854855196
## 3057                        fundraisers       1      1  0.854855196
## 3058                              gangs       1      1  0.854855196
## 3059                            garbage       1      1  0.854855196
## 3060                         gettysburg       1      1  0.854855196
## 3061                               goal       1      1  0.854855196
## 3062                          groveling       1      1  0.854855196
## 3063                              guest       1      1  0.854855196
## 3064                            harvard       1      1  0.854855196
## 3065                              hater       1      1  0.854855196
## 3066                            hearing       1      1  0.854855196
## 3067                              hedge       1      1  0.854855196
## 3068                               hero       1      1  0.854855196
## 3069                               hold       1      1  0.854855196
## 3070                               idea       1      1  0.854855196
## 3071                             impact       1      1  0.854855196
## 3072                           incident       1      1  0.854855196
## 3073                           industry       1      1  0.854855196
## 3074                          influence       1      1  0.854855196
## 3075                             inform       1      1  0.854855196
## 3076                         insightful       1      1  0.854855196
## 3077                      interruptions       1      1  0.854855196
## 3078                         interviews       1      1  0.854855196
## 3079                        introducing       1      1  0.854855196
## 3080                                 iq       1      1  0.854855196
## 3081                            ireland       1      1  0.854855196
## 3082                               jack       1      1  0.854855196
## 3083                           jeffress       1      1  0.854855196
## 3084                             jewish       1      1  0.854855196
## 3085                               july       1      1  0.854855196
## 3086                          kellyanne       1      1  0.854855196
## 3087                              kevin       1      1  0.854855196
## 3088                               land       1      1  0.854855196
## 3089                           launched       1      1  0.854855196
## 3090                        liabilities       1      1  0.854855196
## 3091                       lightweights       1      1  0.854855196
## 3092                           limbaugh       1      1  0.854855196
## 3093                             living       1      1  0.854855196
## 3094                               lots       1      1  0.854855196
## 3095                           lowering       1      1  0.854855196
## 3096                             lowest       1      1  0.854855196
## 3097                            madness       1      1  0.854855196
## 3098                        magnificent       1      1  0.854855196
## 3099                               main       1      1  0.854855196
## 3100                           manassas       1      1  0.854855196
## 3101                           maralago       1      1  0.854855196
## 3102                             market       1      1  0.854855196
## 3103                              marks       1      1  0.854855196
## 3104                               mate       1      1  0.854855196
## 3105                              meant       1      1  0.854855196
## 3106                       meetthepress       1      1  0.854855196
## 3107                           meltdown       1      1  0.854855196
## 3108                               memo       1      1  0.854855196
## 3109                              merry       1      1  0.854855196
## 3110                        middleclass       1      1  0.854855196
## 3111                               mika       1      1  0.854855196
## 3112                            minimum       1      1  0.854855196
## 3113                            minions       1      1  0.854855196
## 3114                             mocked       1      1  0.854855196
## 3115                              model       1      1  0.854855196
## 3116                      monicacrowley       1      1  0.854855196
## 3117                              mouth       1      1  0.854855196
## 3118                              moved       1      1  0.854855196
## 3119                              moves       1      1  0.854855196
## 3120                                net       1      1  0.854855196
## 3121                          netanyahu       1      1  0.854855196
## 3122                               nose       1      1  0.854855196
## 3123                               nuts       1      1  0.854855196
## 3124                         obligation       1      1  0.854855196
## 3125                          offensive       1      1  0.854855196
## 3126                          operation       1      1  0.854855196
## 3127                            opposed       1      1  0.854855196
## 3128                       organization       1      1  0.854855196
## 3129                          organized       1      1  0.854855196
## 3130                        outstanding       1      1  0.854855196
## 3131                               oval       1      1  0.854855196
## 3132                               owes       1      1  0.854855196
## 3133                            pageant       1      1  0.854855196
## 3134                             parade       1      1  0.854855196
## 3135                        participate       1      1  0.854855196
## 3136                            passing       1      1  0.854855196
## 3137                            passion       1      1  0.854855196
## 3138                             pataki       1      1  0.854855196
## 3139                         payforplay       1      1  0.854855196
## 3140                           personal       1      1  0.854855196
## 3141                         personally       1      1  0.854855196
## 3142                               pete       1      1  0.854855196
## 3143                             philly       1      1  0.854855196
## 3144                            picture       1      1  0.854855196
## 3145                            pleased       1      1  0.854855196
## 3146                           politico       1      1  0.854855196
## 3147                           pollster       1      1  0.854855196
## 3148                               pope       1      1  0.854855196
## 3149                           postpone       1      1  0.854855196
## 3150                          predators       1      1  0.854855196
## 3151                          pretended       1      1  0.854855196
## 3152                            prevail       1      1  0.854855196
## 3153                            profits       1      1  0.854855196
## 3154                              proof       1      1  0.854855196
## 3155                           proposal       1      1  0.854855196
## 3156                         prosecuted       1      1  0.854855196
## 3157                          publisher       1      1  0.854855196
## 3158                            pulling       1      1  0.854855196
## 3159                              quest       1      1  0.854855196
## 3160                           quitting       1      1  0.854855196
## 3161                            raleigh       1      1  0.854855196
## 3162                            reading       1      1  0.854855196
## 3163                    realdonaldtrump       1      1  0.854855196
## 3164                           realized       1      1  0.854855196
## 3165                            reasons       1      1  0.854855196
## 3166                           refusing       1      1  0.854855196
## 3167                          releasing       1      1  0.854855196
## 3168                          religious       1      1  0.854855196
## 3169                           replaced       1      1  0.854855196
## 3170                          represent       1      1  0.854855196
## 3171                             return       1      1  0.854855196
## 3172                          returning       1      1  0.854855196
## 3173                         revolution       1      1  0.854855196
## 3174                               ring       1      1  0.854855196
## 3175                            romneys       1      1  0.854855196
## 3176                               rory       1      1  0.854855196
## 3177                               rose       1      1  0.854855196
## 3178                                row       1      1  0.854855196
## 3179                            ruining       1      1  0.854855196
## 3180                            sailors       1      1  0.854855196
## 3181                           salaries       1      1  0.854855196
## 3182                          sanctions       1      1  0.854855196
## 3183                             saving       1      1  0.854855196
## 3184                     scottienhughes       1      1  0.854855196
## 3185                               seal       1      1  0.854855196
## 3186                               seat       1      1  0.854855196
## 3187                            selling       1      1  0.854855196
## 3188                              sends       1      1  0.854855196
## 3189                                sex       1      1  0.854855196
## 3190                              shake       1      1  0.854855196
## 3191                            silence       1      1  0.854855196
## 3192                             single       1      1  0.854855196
## 3193                              sneak       1      1  0.854855196
## 3194                             social       1      1  0.854855196
## 3195                             spends       1      1  0.854855196
## 3196                            stadium       1      1  0.854855196
## 3197                           stairway       1      1  0.854855196
## 3198                          statewide       1      1  0.854855196
## 3199                              stood       1      1  0.854855196
## 3200                              straw       1      1  0.854855196
## 3201                           students       1      1  0.854855196
## 3202                         supporting       1      1  0.854855196
## 3203                              surge       1      1  0.854855196
## 3204                           surround       1      1  0.854855196
## 3205                            survive       1      1  0.854855196
## 3206                             tarmac       1      1  0.854855196
## 3207                              teams       1      1  0.854855196
## 3208                       teleprompter       1      1  0.854855196
## 3209                             treats       1      1  0.854855196
## 3210                            turmoil       1      1  0.854855196
## 3211                            tweeted       1      1  0.854855196
## 3212                             tweets       1      1  0.854855196
## 3213                           ultimate       1      1  0.854855196
## 3214                              unify       1      1  0.854855196
## 3215                             unreal       1      1  0.854855196
## 3216                         unreported       1      1  0.854855196
## 3217                         untalented       1      1  0.854855196
## 3218                             videos       1      1  0.854855196
## 3219                             walker       1      1  0.854855196
## 3220                               warm       1      1  0.854855196
## 3221                             waving       1      1  0.854855196
## 3222                              whats       1      1  0.854855196
## 3223                             willie       1      1  0.854855196
## 3224                              wreck       1      1  0.854855196
## 3225                             wsjnbc       1      1  0.854855196
## 3226                         zuckermans       1      1  0.854855196
## 3227                             @ac360       2      2  0.854846204
## 3228                      @judgejeanine       2      2  0.854846204
## 3229                            @nbcsnl       2      2  0.854846204
## 3230                             agents       2      2  0.854846204
## 3231                                ban       2      2  0.854846204
## 3232                            begging       2      2  0.854846204
## 3233                               bias       2      2  0.854846204
## 3234                               bomb       2      2  0.854846204
## 3235                               cash       2      2  0.854846204
## 3236                        certificate       2      2  0.854846204
## 3237                            charged       2      2  0.854846204
## 3238                             choked       2      2  0.854846204
## 3239                        citizenship       2      2  0.854846204
## 3240                          community       2      2  0.854846204
## 3241                            consult       2      2  0.854846204
## 3242                               cost       2      2  0.854846204
## 3243                         department       2      2  0.854846204
## 3244                            detroit       2      2  0.854846204
## 3245                               east       2      2  0.854846204
## 3246                        evangelical       2      2  0.854846204
## 3247                            experts       2      2  0.854846204
## 3248                             flunky       2      2  0.854846204
## 3249                              frank       2      2  0.854846204
## 3250                                god       2      2  0.854846204
## 3251                               hand       2      2  0.854846204
## 3252                        independent       2      2  0.854846204
## 3253                           involved       2      2  0.854846204
## 3254                             league       2      2  0.854846204
## 3255                           location       2      2  0.854846204
## 3256                            machine       2      2  0.854846204
## 3257                               mark       2      2  0.854846204
## 3258                              mosul       2      2  0.854846204
## 3259                             mother       2      2  0.854846204
## 3260                             muslim       2      2  0.854846204
## 3261                                pat       2      2  0.854846204
## 3262                           pictures       2      2  0.854846204
## 3263                            pouring       2      2  0.854846204
## 3264                              power       2      2  0.854846204
## 3265                              price       2      2  0.854846204
## 3266                               push       2      2  0.854846204
## 3267                              radio       2      2  0.854846204
## 3268                              raise       2      2  0.854846204
## 3269                            raising       2      2  0.854846204
## 3270                          reception       2      2  0.854846204
## 3271                             secure       2      2  0.854846204
## 3272                            shortly       2      2  0.854846204
## 3273                              sleep       2      2  0.854846204
## 3274                              style       2      2  0.854846204
## 3275                          supported       2      2  0.854846204
## 3276                           surprise       2      2  0.854846204
## 3277                            tiffany       2      2  0.854846204
## 3278                             timing       2      2  0.854846204
## 3279                              trail       2      2  0.854846204
## 3280                         understand       2      2  0.854846204
## 3281                            vermont       2      2  0.854846204
## 3282                              views       2      2  0.854846204
## 3283                            violent       2      2  0.854846204
## 3284                         volunteers       2      2  0.854846204
## 3285                               wait       2      2  0.854846204
## 3286                             wealth       2      2  0.854846204
## 3287                                abc       3      3  0.854837211
## 3288                       announcement       3      3  0.854837211
## 3289                             beaten       3      3  0.854837211
## 3290                            deleted       3      3  0.854837211
## 3291                          delivered       3      3  0.854837211
## 3292                         disclosure       3      3  0.854837211
## 3293                              force       3      3  0.854837211
## 3294                             france       3      3  0.854837211
## 3295                          immigrant       3      3  0.854837211
## 3296                        information       3      3  0.854837211
## 3297                                ive       3      3  0.854837211
## 3298                               jose       3      3  0.854837211
## 3299                              judge       3      3  0.854837211
## 3300                          landslide       3      3  0.854837211
## 3301                      massachusetts       3      3  0.854837211
## 3302                             proven       3      3  0.854837211
## 3303                             rating       3      3  0.854837211
## 3304                            reports       3      3  0.854837211
## 3305                             safety       3      3  0.854837211
## 3306                            setting       3      3  0.854837211
## 3307                              shame       3      3  0.854837211
## 3308                            success       3      3  0.854837211
## 3309                             todays       3      3  0.854837211
## 3310                                tom       3      3  0.854837211
## 3311                               utah       3      3  0.854837211
## 3312                              venue       3      3  0.854837211
## 3313                               vice       3      3  0.854837211
## 3314                          violation       3      3  0.854837211
## 3315                             vision       3      3  0.854837211
## 3316                            article       4      4  0.854828216
## 3317                        campaigning       4      4  0.854828216
## 3318                            chicago       4      4  0.854828216
## 3319                              coach       4      4  0.854828216
## 3320                           criminal       4      4  0.854828216
## 3321                               fool       4      4  0.854828216
## 3322                              found       4      4  0.854828216
## 3323                         healthcare       4      4  0.854828216
## 3324                             inside       4      4  0.854828216
## 3325                         irrelevant       4      4  0.854828216
## 3326                              islam       4      4  0.854828216
## 3327                             letter       4      4  0.854828216
## 3328                                met       4      4  0.854828216
## 3329                             middle       4      4  0.854828216
## 3330                          newspaper       4      4  0.854828216
## 3331                         nomination       4      4  0.854828216
## 3332                       professional       4      4  0.854828216
## 3333                              short       4      4  0.854828216
## 3334                           terrific       4      4  0.854828216
## 3335                         terrorists       4      4  0.854828216
## 3336                              worth       4      4  0.854828216
## 3337                              wrote       4      4  0.854828216
## 3338                             caucus       5      5  0.854819221
## 3339                            control       5      5  0.854819221
## 3340                              dummy       5      5  0.854819221
## 3341                                ill       5      5  0.854819221
## 3342                            jebbush       5      5  0.854819221
## 3343                             landed       5      5  0.854819221
## 3344                              miami       5      5  0.854819221
## 3345                          terrorist       5      5  0.854819221
## 3346                             action       6      6  0.854810225
## 3347                             defeat       6      6  0.854810225
## 3348                              dying       6      6  0.854810225
## 3349                              final       6      6  0.854810225
## 3350                               free       6      6  0.854810225
## 3351                               meet       6      6  0.854810225
## 3352                                ran       6      6  0.854810225
## 3353                               town       6      6  0.854810225
## 3354                              vegas       8      8  0.854792228
## 3355                             forget       9      9  0.854783228
## 3356                                tax       9      9  0.854783228
## 3357                          terrorism       9      9  0.854783228
## 3358                               book      10     10  0.854774228
## 3359                               real      11     11  0.854765225
## 3360                             united      12     12  0.854756222
## 3361                              world      18     18  0.854702180
## 3362                             kasich      23     23  0.854657114
## 3363                           national      26     27  0.823492816
## 3364                                 im      15     16  0.802869192
## 3365                           campaign      46     49  0.802489564
## 3366                               iowa      61     65  0.801908338
## 3367                            meeting      13     14  0.795741415
## 3368                        endorsement      18     20  0.771204674
## 3369                       @seanhannity      17     19  0.766937204
## 3370                          respected       8      9  0.764758648
## 3371                              voter       8      9  0.764758648
## 3372                             failed      23     26  0.757738447
## 3373                            heading      15     17  0.756936036
## 3374                              south      30     34  0.755291157
## 3375                             friend       7      8  0.754181696
## 3376                             growth       7      8  0.754181696
## 3377                                las       7      8  0.754181696
## 3378                               lies      13     15  0.744349264
## 3379                            arrived       6      7  0.740781823
## 3380                            corrupt       6      7  0.740781823
## 3381                            foreign       6      7  0.740781823
## 3382                            friends       6      7  0.740781823
## 3383                              front       6      7  0.740781823
## 3384                               home       6      7  0.740781823
## 3385                              arena       5      6  0.723256141
## 3386                             common       5      6  0.723256141
## 3387                               drug       5      6  0.723256141
## 3388                            message       5      6  0.723256141
## 3389                            protect       5      6  0.723256141
## 3390                                 sc       5      6  0.723256141
## 3391                           security       5      6  0.723256141
## 3392                               shot       5      6  0.723256141
## 3393                          tennessee       5      6  0.723256141
## 3394                            tonight      70     84  0.711975848
## 3395                               read       9     11  0.706022876
## 3396                                act       4      5  0.699354210
## 3397                          countries       4      5  0.699354210
## 3398                               info       4      5  0.699354210
## 3399                       jacksonville       4      5  0.699354210
## 3400                              paper       4      5  0.699354210
## 3401                              unfit       4      5  0.699354210
## 3402                            america     114    140  0.694505648
## 3403                           november       8     10  0.691874320
## 3404                          obamacare      12     15  0.689169557
## 3405                         @glennbeck       3      4  0.664825198
## 3406                        @jdickerson       3      4  0.664825198
## 3407                                dem       3      4  0.664825198
## 3408                                dog       3      4  0.664825198
## 3409                            enjoyed       3      4  0.664825198
## 3410                            failure       3      4  0.664825198
## 3411                            freedom       3      4  0.664825198
## 3412                             knight       3      4  0.664825198
## 3413                              legal       3      4  0.664825198
## 3414                               loan       3      4  0.664825198
## 3415                               lose       3      4  0.664825198
## 3416                              makes       3      4  0.664825198
## 3417                           nebraska       3      4  0.664825198
## 3418                            nuclear       3      4  0.664825198
## 3419                           oklahoma       3      4  0.664825198
## 3420                               sell       3      4  0.664825198
## 3421                              staff       3      4  0.664825198
## 3422                             threat       3      4  0.664825198
## 3423                             family      13     17  0.659185128
## 3424                          beautiful       6      8  0.653583633
## 3425                           increase       6      8  0.653583633
## 3426                             leader       6      8  0.653583633
## 3427                               team       6      8  0.653583633
## 3428                               left       9     12  0.649493942
## 3429                              texas      12     16  0.647354743
## 3430                                fox      15     20  0.646024270
## 3431                              watch      42     56  0.642100623
## 3432                               post      11     15  0.633996691
## 3433                              rally      28     38  0.632175525
## 3434                          questions       8     11  0.631665528
## 3435                          @politico       5      7  0.626776549
## 3436                            amnesty       5      7  0.626776549
## 3437                          beginning       5      7  0.626776549
## 3438                            stories       5      7  0.626776549
## 3439                                @ap       2      3  0.610560180
## 3440                     @foxnewssunday       2      3  0.610560180
## 3441                             ballot       2      3  0.610560180
## 3442                            charity       2      3  0.610560180
## 3443                             cities       2      3  0.610560180
## 3444                               cnbc       2      3  0.610560180
## 3445                          companies       2      3  0.610560180
## 3446                           congrats       2      3  0.610560180
## 3447                        disgraceful       2      3  0.610560180
## 3448                                 dr       2      3  0.610560180
## 3449                             entire       2      3  0.610560180
## 3450                               fail       2      3  0.610560180
## 3451                              faith       2      3  0.610560180
## 3452                             father       2      3  0.610560180
## 3453                               fort       2      3  0.610560180
## 3454                               govt       2      3  0.610560180
## 3455                           horribly       2      3  0.610560180
## 3456                               hour       2      3  0.610560180
## 3457                          hypocrite       2      3  0.610560180
## 3458                          illegally       2      3  0.610560180
## 3459                               laws       2      3  0.610560180
## 3460                            liberal       2      3  0.610560180
## 3461                              lines       2      3  0.610560180
## 3462                      manufacturing       2      3  0.610560180
## 3463                            nations       2      3  0.610560180
## 3464                                 nc       2      3  0.610560180
## 3465                               palm       2      3  0.610560180
## 3466                               play       2      3  0.610560180
## 3467                           powerful       2      3  0.610560180
## 3468                              sachs       2      3  0.610560180
## 3469                               send       2      3  0.610560180
## 3470                           shouldnt       2      3  0.610560180
## 3471                                sue       2      3  0.610560180
## 3472                              syria       2      3  0.610560180
## 3473                           thinking       2      3  0.610560180
## 3474                                 va       2      3  0.610560180
## 3475                            waiting       2      3  0.610560180
## 3476                          zuckerman       2      3  0.610560180
## 3477                    congratulations       7     10  0.610439509
## 3478                               days       7     10  0.610439509
## 3479                            phoenix       7     10  0.610439509
## 3480                           governor      14     20  0.604307817
## 3481                              bobby       4      6  0.591718359
## 3482                         corruption       4      6  0.591718359
## 3483                        immediately       4      6  0.591718359
## 3484                            justice       4      6  0.591718359
## 3485                           kentucky       4      6  0.591718359
## 3486                               late       4      6  0.591718359
## 3487                        mississippi       4      6  0.591718359
## 3488                               rate       4      6  0.591718359
## 3489                               vote      46     67  0.587722041
## 3490                               hall       6      9  0.584742957
## 3491                            twitter       6      9  0.584742957
## 3492                             office       8     12  0.581090143
## 3493                             center      10     15  0.578830664
## 3494                              times      10     15  0.578830664
## 3495                              email       9     14  0.559827356
## 3496                             repeal       7     11  0.557317397
## 3497                    @andersoncooper       3      5  0.543908463
## 3498                           crippled       3      5  0.543908463
## 3499                             native       3      5  0.543908463
## 3500                            private       3      5  0.543908463
## 3501                             silent       3      5  0.543908463
## 3502                              visit       3      5  0.543908463
## 3503                             donald      15     24  0.540394017
## 3504                                law      13     21  0.536390328
## 3505                              agree       6     10  0.529014791
## 3506                   @lindseygrahamsc       1      2  0.512875949
## 3507                        @mittromney       1      2  0.512875949
## 3508                          @redstate       1      2  0.512875949
## 3509                         @richlowry       1      2  0.512875949
## 3510                         #teamtrump       1      2  0.512875949
## 3511                                $25       1      2  0.512875949
## 3512                                4th       1      2  0.512875949
## 3513                           accurate       1      2  0.512875949
## 3514                             agreed       1      2  0.512875949
## 3515                            airtime       1      2  0.512875949
## 3516                                ann       1      2  0.512875949
## 3517                               army       1      2  0.512875949
## 3518                           attended       1      2  0.512875949
## 3519                           baseball       1      2  0.512875949
## 3520                                bed       1      2  0.512875949
## 3521                               blue       1      2  0.512875949
## 3522                            british       1      2  0.512875949
## 3523                              built       1      2  0.512875949
## 3524                          christian       1      2  0.512875949
## 3525                              clean       1      2  0.512875949
## 3526                          coalition       1      2  0.512875949
## 3527                               cold       1      2  0.512875949
## 3528                            college       1      2  0.512875949
## 3529                              comey       1      2  0.512875949
## 3530                   commanderinchief       1      2  0.512875949
## 3531                         commercial       1      2  0.512875949
## 3532                         completely       1      2  0.512875949
## 3533                       constitution       1      2  0.512875949
## 3534                       construction       1      2  0.512875949
## 3535                           creating       1      2  0.512875949
## 3536                             dayton       1      2  0.512875949
## 3537                         disastrous       1      2  0.512875949
## 3538                            dropped       1      2  0.512875949
## 3539                         ewerickson       1      2  0.512875949
## 3540                             extort       1      2  0.512875949
## 3541                      extraordinary       1      2  0.512875949
## 3542                           fabulous       1      2  0.512875949
## 3543                               fell       1      2  0.512875949
## 3544                             fields       1      2  0.512875949
## 3545                          followers       1      2  0.512875949
## 3546                              forms       1      2  0.512875949
## 3547                             global       1      2  0.512875949
## 3548                              harry       1      2  0.512875949
## 3549                           hispanic       1      2  0.512875949
## 3550                              holds       1      2  0.512875949
## 3551                               huma       1      2  0.512875949
## 3552                              hurts       1      2  0.512875949
## 3553                                 id       1      2  0.512875949
## 3554                        importantly       1      2  0.512875949
## 3555                           informed       1      2  0.512875949
## 3556                          instincts       1      2  0.512875949
## 3557                      jessebwatters       1      2  0.512875949
## 3558                          johnstown       1      2  0.512875949
## 3559                               jump       1      2  0.512875949
## 3560                                key       1      2  0.512875949
## 3561                               kick       1      2  0.512875949
## 3562                          knoxville       1      2  0.512875949
## 3563                               lake       1      2  0.512875949
## 3564                             legacy       1      2  0.512875949
## 3565                               lift       1      2  0.512875949
## 3566                              local       1      2  0.512875949
## 3567                              louis       1      2  0.512875949
## 3568                              march       1      2  0.512875949
## 3569                               mock       1      2  0.512875949
## 3570                                msm       1      2  0.512875949
## 3571                             nashua       1      2  0.512875949
## 3572                          nashville       1      2  0.512875949
## 3573                         nationwide       1      2  0.512875949
## 3574                               navy       1      2  0.512875949
## 3575                        negotiating       1      2  0.512875949
## 3576                            oreilly       1      2  0.512875949
## 3577                            perfect       1      2  0.512875949
## 3578                              peter       1      2  0.512875949
## 3579                                pic       1      2  0.512875949
## 3580                            process       1      2  0.512875949
## 3581                           promises       1      2  0.512875949
## 3582                            provide       1      2  0.512875949
## 3583                               pure       1      2  0.512875949
## 3584                          receiving       1      2  0.512875949
## 3585                            respond       1      2  0.512875949
## 3586                               rich       1      2  0.512875949
## 3587                             rising       1      2  0.512875949
## 3588                               rush       1      2  0.512875949
## 3589                               salt       1      2  0.512875949
## 3590                           scandals       1      2  0.512875949
## 3591                            sending       1      2  0.512875949
## 3592                              sense       1      2  0.512875949
## 3593                             stance       1      2  0.512875949
## 3594                              steel       1      2  0.512875949
## 3595                              stock       1      2  0.512875949
## 3596                            stopped       1      2  0.512875949
## 3597                           strategy       1      2  0.512875949
## 3598                          suffering       1      2  0.512875949
## 3599                          supporter       1      2  0.512875949
## 3600                              sweat       1      2  0.512875949
## 3601                       thebrodyfile       1      2  0.512875949
## 3602                              tired       1      2  0.512875949
## 3603                          tomorrows       1      2  0.512875949
## 3604                            veteran       1      2  0.512875949
## 3605                            visited       1      2  0.512875949
## 3606                               wash       1      2  0.512875949
## 3607                            worried       1      2  0.512875949
## 3608                              zogby       1      2  0.512875949
## 3609                            attacks       4      7  0.512785402
## 3610                           carolina      36     61  0.506244755
## 3611                          hampshire      31     53  0.502362913
## 3612                           american      20     35  0.493012779
## 3613                            evening      14     25  0.485639818
## 3614                            replace       6     11  0.482978480
## 3615                           reporter       6     11  0.482978480
## 3616                           virginia      16     29  0.477612983
## 3617                   @barbarajwalters       2      4  0.474845722
## 3618                      @drudgereport       2      4  0.474845722
## 3619                     @realbencarson       2      4  0.474845722
## 3620                       @thisweekabc       2      4  0.474845722
## 3621                         additional       2      4  0.474845722
## 3622                            couldnt       2      4  0.474845722
## 3623                               cuba       2      4  0.474845722
## 3624                        desperately       2      4  0.474845722
## 3625                             domain       2      4  0.474845722
## 3626                            eminent       2      4  0.474845722
## 3627                          endorsing       2      4  0.474845722
## 3628                             helped       2      4  0.474845722
## 3629                          legendary       2      4  0.474845722
## 3630                            liberty       2      4  0.474845722
## 3631                              loves       2      4  0.474845722
## 3632                            phyllis       2      4  0.474845722
## 3633                              rates       2      4  0.474845722
## 3634                              share       2      4  0.474845722
## 3635                             syrian       2      4  0.474845722
## 3636                            written       2      4  0.474845722
## 3637                               live      16     30  0.461919997
## 3638                         politician       3      6  0.460196877
## 3639                              stand       3      6  0.460196877
## 3640                             review       4      8  0.452424906
## 3641                            victims       4      8  0.452424906
## 3642                             winner       4      8  0.452424906
## 3643                             @greta       5     10  0.447600163
## 3644                           expected       5     10  0.447600163
## 3645                          wednesday       5     10  0.447600163
## 3646                         california       8     17  0.414913877
## 3647                               wife       6     13  0.411366440
## 3648                               noon       4      9  0.404771882
## 3649                              truth       4      9  0.404771882
## 3650                         university       4      9  0.404771882
## 3651                        appreciated       3      7  0.398808381
## 3652                               care       3      7  0.398808381
## 3653                              david       3      7  0.398808381
## 3654                           facebook       3      7  0.398808381
## 3655                                gov       3      7  0.398808381
## 3656                             robert       3      7  0.398808381
## 3657                          wisconsin      10     22  0.398547536
## 3658                       @nydailynews       2      5  0.388481976
## 3659                           @tedcruz       2      5  0.388481976
## 3660                       @unionleader       2      5  0.388481976
## 3661                            ashamed       2      5  0.388481976
## 3662                           complete       2      5  0.388481976
## 3663                                des       2      5  0.388481976
## 3664                              doors       2      5  0.388481976
## 3665                            goldman       2      5  0.388481976
## 3666                             moines       2      5  0.388481976
## 3667                          officials       2      5  0.388481976
## 3668                           sarasota       2      5  0.388481976
## 3669                            weekend       2      5  0.388481976
## 3670                           colorado      11     25  0.385090990
## 3671                               @gop       1      3  0.366313414
## 3672                              @oann       1      3  0.366313414
## 3673                          @randpaul       1      3  0.366313414
## 3674                   @realdonaldtrump       1      3  0.366313414
## 3675                           americas       1      3  0.366313414
## 3676                            anaheim       1      3  0.366313414
## 3677                              bills       1      3  0.366313414
## 3678                              books       1      3  0.366313414
## 3679                              bushy       1      3  0.366313414
## 3680                           changing       1      3  0.366313414
## 3681                          christmas       1      3  0.366313414
## 3682                         commentary       1      3  0.366313414
## 3683                            crashed       1      3  0.366313414
## 3684                               cred       1      3  0.366313414
## 3685                               fame       1      3  0.366313414
## 3686                                fan       1      3  0.366313414
## 3687                                gay       1      3  0.366313414
## 3688                             geneva       1      3  0.366313414
## 3689                              gifts       1      3  0.366313414
## 3690                           ginsburg       1      3  0.366313414
## 3691                         helicopter       1      3  0.366313414
## 3692                            holiday       1      3  0.366313414
## 3693                           horrific       1      3  0.366313414
## 3694                            houston       1      3  0.366313414
## 3695                                hrc       1      3  0.366313414
## 3696                         inaccurate       1      3  0.366313414
## 3697                               jail       1      3  0.366313414
## 3698                             jersey       1      3  0.366313414
## 3699                         management       1      3  0.366313414
## 3700                                nov       1      3  0.366313414
## 3701                         protecting       1      3  0.366313414
## 3702                           schedule       1      3  0.366313414
## 3703                                sit       1      3  0.366313414
## 3704                              touch       1      3  0.366313414
## 3705                       unemployment       1      3  0.366313414
## 3706                               vast       1      3  0.366313414
## 3707                            wichita       1      3  0.366313414
## 3708                             worlds       1      3  0.366313414
## 3709                          worthless       1      3  0.366313414
## 3710                            greatly       4     10  0.366195625
## 3711                             obamas       4     10  0.366195625
## 3712                              beach       3      8  0.351864236
## 3713                             monday       3      8  0.351864236
## 3714                            georgia       5     13  0.348057727
## 3715                            arizona      10     26  0.338291180
## 3716                            indiana       9     24  0.331086068
## 3717                                3rd       2      6  0.328691691
## 3718                             broken       2      6  0.328691691
## 3719                        connecticut       2      6  0.328691691
## 3720                             kansas       2      6  0.328691691
## 3721                           refugees       2      6  0.328691691
## 3722                            florida      22     58  0.327858879
## 3723                           movement      13     35  0.324526060
## 3724                          afternoon       5     14  0.324030243
## 3725                             friday       3      9  0.314803070
## 3726                            reuters       3      9  0.314803070
## 3727                              union       3      9  0.314803070
## 3728                               west       3      9  0.314803070
## 3729                               ohio      22     62  0.306786589
## 3730                              honor      11     32  0.301994779
## 3731                             @9news       0      1  0.284934081
## 3732                    @alisyncamerota       0      1  0.284934081
## 3733                     @alwaleedtalal       0      1  0.284934081
## 3734                    @americanlegion       0      1  0.284934081
## 3735                      @andydean2014       0      1  0.284934081
## 3736                        @arappeport       0      1  0.284934081
## 3737                        @ariemanuel       0      1  0.284934081
## 3738                            @atfd17       0      1  0.284934081
## 3739                      @billdeblasio       0      1  0.284934081
## 3740                        @billhemmer       0      1  0.284934081
## 3741                       @billoreilly       0      1  0.284934081
## 3742                         @billyjoel       0      1  0.284934081
## 3743                    @billynungesser       0      1  0.284934081
## 3744                   @bishopwtjackson       0      1  0.284934081
## 3745                            @bodiet       0      1  0.284934081
## 3746                        @carlhigbie       0      1  0.284934081
## 3747                      @chaseelliott       0      1  0.284934081
## 3748                        @chezvachon       0      1  0.284934081
## 3749                     @chrischristie       0      1  0.284934081
## 3750                        @cnnsitroom       0      1  0.284934081
## 3751                     @cynthialummis       0      1  0.284934081
## 3752                        @dailybeast       0      1  0.284934081
## 3753                         @dailymail       0      1  0.284934081
## 3754                          @dallaspd       0      1  0.284934081
## 3755                         @danawhite       0      1  0.284934081
## 3756                        @davidragan       0      1  0.284934081
## 3757                        @dcexaminer       0      1  0.284934081
## 3758                          @debsopan       0      1  0.284934081
## 3759                      @ericgreitens       0      1  0.284934081
## 3760                       @erinburnett       0      1  0.284934081
## 3761                     @ethanolbypoet       0      1  0.284934081
## 3762                   @faithandfreedom       0      1  0.284934081
## 3763                            @forbes       0      1  0.284934081
## 3764                       @fortworthpd       0      1  0.284934081
## 3765                    @franklingraham       0      1  0.284934081
## 3766                     @gatewaypundit       0      1  0.284934081
## 3767                          @gohermie       0      1  0.284934081
## 3768                           @golfcom       0      1  0.284934081
## 3769                     @gopconvention       0      1  0.284934081
## 3770                    @governorsununu       0      1  0.284934081
## 3771                        @govgilmore       0      1  0.284934081
## 3772                   @govmikehuckabee       0      1  0.284934081
## 3773                        @govpencein       0      1  0.284934081
## 3774                   @gravismarketing       0      1  0.284934081
## 3775                     @hardballchris       0      1  0.284934081
## 3776                          @heritage       0      1  0.284934081
## 3777                    @herschelwalker       0      1  0.284934081
## 3778                       @howardkurtz       0      1  0.284934081
## 3779                       @howardstern       0      1  0.284934081
## 3780                              @iclv       0      1  0.284934081
## 3781                       @iowacentral       0      1  0.284934081
## 3782                     @kirstenpowers       0      1  0.284934081
## 3783                   @koster4missouri       0      1  0.284934081
## 3784                          @libertyu       0      1  0.284934081
## 3785                   @ltstevenlrogers       0      1  0.284934081
## 3786                            @maddow       0      1  0.284934081
## 3787                          @mainegop       0      1  0.284934081
## 3788                   @marshablackburn       0      1  0.284934081
## 3789                       @megynkellys       0      1  0.284934081
## 3790                       @mikeneedham       0      1  0.284934081
## 3791                           @mmflint       0      1  0.284934081
## 3792                   @mrsvanessatrump       0      1  0.284934081
## 3793                         @nealconan       0      1  0.284934081
## 3794                              @nfib       0      1  0.284934081
## 3795                            @nypost       0      1  0.284934081
## 3796                           @nyposts       0      1  0.284934081
## 3797                       @nytimesdowd       0      1  0.284934081
## 3798                           @omarosa       0      1  0.284934081
## 3799                       @outfrontcnn       0      1  0.284934081
## 3800                    @outnumberedfnc       0      1  0.284934081
## 3801                      @patmccrorync       0      1  0.284934081
## 3802                      @paulteutulsr       0      1  0.284934081
## 3803                          @penguins       0      1  0.284934081
## 3804                              @penn       0      1  0.284934081
## 3805                      @phillypolice       0      1  0.284934081
## 3806                      @phussionwyff       0      1  0.284934081
## 3807                           @pnehlen       0      1  0.284934081
## 3808                             @pryan       0      1  0.284934081
## 3809                     @realclearnews       0      1  0.284934081
## 3810                           @regentu       0      1  0.284934081
## 3811                    @reploubarletta       0      1  0.284934081
## 3812                   @repreneeellmers       0      1  0.284934081
## 3813                           @reuters       0      1  0.284934081
## 3814                     @reviewjournal       0      1  0.284934081
## 3815                      @ricksantorum       0      1  0.284934081
## 3816                       @ryanjnewman       0      1  0.284934081
## 3817                   @samaritanspurse       0      1  0.284934081
## 3818                       @scteamtrump       0      1  0.284934081
## 3819                      @senatemajldr       0      1  0.284934081
## 3820                   @senatorsessions       0      1  0.284934081
## 3821                     @senjohnmccain       0      1  0.284934081
## 3822                      @shellhouopen       0      1  0.284934081
## 3823                      @shepnewsteam       0      1  0.284934081
## 3824                             @sinow       0      1  0.284934081
## 3825                           @sjsopio       0      1  0.284934081
## 3826                          @snapchat       0      1  0.284934081
## 3827                          @sopandeb       0      1  0.284934081
## 3828                       @speakerryan       0      1  0.284934081
## 3829                     @stephenathome       0      1  0.284934081
## 3830                            @stjude       0      1  0.284934081
## 3831                       @tavissmiley       0      1  0.284934081
## 3832                           @theherd       0      1  0.284934081
## 3833                   @thejuanwilliams       0      1  0.284934081
## 3834                    @theslystallone       0      1  0.284934081
## 3835                    @tngcbedminster       0      1  0.284934081
## 3836                      @tombarrackjr       0      1  0.284934081
## 3837                           @trumpdc       0      1  0.284934081
## 3838                      @trumpdoonbeg       0      1  0.284934081
## 3839                      @trumptowerny       0      1  0.284934081
## 3840                   @trumpwomenstour       0      1  0.284934081
## 3841                      @umassamherst       0      1  0.284934081
## 3842                   @urbandaleschool       0      1  0.284934081
## 3843                            @usarmy       0      1  0.284934081
## 3844                              @uscg       0      1  0.284934081
## 3845                         @washtimes       0      1  0.284934081
## 3846                    @wayneallynroot       0      1  0.284934081
## 3847                              @wkrg       0      1  0.284934081
## 3848                       @wolfblitzer       0      1  0.284934081
## 3849                  #alconvention2016       0      1  0.284934081
## 3850                     #americansamoa       0      1  0.284934081
## 3851                     #americanunity       0      1  0.284934081
## 3852                    #americasmerkel       0      1  0.284934081
## 3853                    #armedforcesday       0      1  0.284934081
## 3854                            #becool       0      1  0.284934081
## 3855                          #benghazi       0      1  0.284934081
## 3856                     #bigleagetruth       0      1  0.284934081
## 3857                    #bikersfortrump       0      1  0.284934081
## 3858                            #biloxi       0      1  0.284934081
## 3859                      #boycottmacys       0      1  0.284934081
## 3860                          #brussels       0      1  0.284934081
## 3861                      #buildthewall       0      1  0.284934081
## 3862                         #caprimary       0      1  0.284934081
## 3863                       #cincodemayo       0      1  0.284934081
## 3864                #circleofenrichment       0      1  0.284934081
## 3865                     #cnbcgopdebate       0      1  0.284934081
## 3866                               #cnn       0      1  0.284934081
## 3867                     #coastguardday       0      1  0.284934081
## 3868                           #colbert       0      1  0.284934081
## 3869             #commanderinchiefforum       0      1  0.284934081
## 3870                        #commoncore       0      1  0.284934081
## 3871                   #crookedhillarys       0      1  0.284934081
## 3872                         #cruzfraud       0      1  0.284934081
## 3873                         #ctprimary       0      1  0.284934081
## 3874                              #dday       0      1  0.284934081
## 3875                               #dem       0      1  0.284934081
## 3876                         #deprimary       0      1  0.284934081
## 3877                         #earlyvote       0      1  0.284934081
## 3878                         #eauclaire       0      1  0.284934081
## 3879                           #economy       0      1  0.284934081
## 3880                     #endcommoncore       0      1  0.284934081
## 3881                             #enjoy       0      1  0.284934081
## 3882                   #flashbackfriday       0      1  0.284934081
## 3883                            #frozen       0      1  0.284934081
## 3884                       #goldenglobe       0      1  0.284934081
## 3885                      #googletrends       0      1  0.284934081
## 3886                          #gopincle       0      1  0.284934081
## 3887                   #happymothersday       0      1  0.284934081
## 3888               #happynewyearamerica       0      1  0.284934081
## 3889                   #hillarycarefail       0      1  0.284934081
## 3890                              #huge       0      1  0.284934081
## 3891                         #hypocrisy       0      1  0.284934081
## 3892                          #iaforums       0      1  0.284934081
## 3893                         #icaucused       0      1  0.284934081
## 3894                        #indprimary       0      1  0.284934081
## 3895                        #iowacaucus       0      1  0.284934081
## 3896                            #ivoted       0      1  0.284934081
## 3897                         #johnryder       0      1  0.284934081
## 3898                      #kansascaucus       0      1  0.284934081
## 3899                     #leadright2016       0      1  0.284934081
## 3900                               #leo       0      1  0.284934081
## 3901      #lightweightsenatormarcorubio       0      1  0.284934081
## 3902                       #littlemarco       0      1  0.284934081
## 3903                              #lssc       0      1  0.284934081
## 3904    #maga\U0001f1fa\U0001f1f8debate       0      1  0.284934081
## 3905                     #maitnerstrong       0      1  0.284934081
## 3906             #makeamerciagreatagain       0      1  0.284934081
## 3907    #makeamericagreatagaintrump2016       0      1  0.284934081
## 3908             #makeyoutubegreatagain       0      1  0.284934081
## 3909                          #maralago       0      1  0.284934081
## 3910                         #mdprimary       0      1  0.284934081
## 3911                               #mdw       0      1  0.284934081
## 3912                         #mediabuzz       0      1  0.284934081
## 3913                       #mississippi       0      1  0.284934081
## 3914                            #nascar       0      1  0.284934081
## 3915                         #neprimary       0      1  0.284934081
## 3916                       #neverforget       0      1  0.284934081
## 3917                      #newhampshire       0      1  0.284934081
## 3918                       #november8th       0      1  0.284934081
## 3919                    #obamacaredummy       0      1  0.284934081
## 3920                   #obamacarefailed       0      1  0.284934081
## 3921             #obamacareinthreewords       0      1  0.284934081
## 3922                    #ohiovotesearly       0      1  0.284934081
## 3923                   #openingceremony       0      1  0.284934081
## 3924                         #orprimary       0      1  0.284934081
## 3925                       #pearlharbor       0      1  0.284934081
## 3926                #politicallycorrect       0      1  0.284934081
## 3927                            #racine       0      1  0.284934081
## 3928                     #rallyforriley       0      1  0.284934081
## 3929                   #rememberourvets       0      1  0.284934081
## 3930                           #rio2016       0      1  0.284934081
## 3931                        #robotrubio       0      1  0.284934081
## 3932                           #rtm2016       0      1  0.284934081
## 3933                              #sb50       0      1  0.284934081
## 3934                    #silentmajority       0      1  0.284934081
## 3935                               #snl       0      1  0.284934081
## 3936             #snowflakegardenbrunch       0      1  0.284934081
## 3937                #standwithlouisiana       0      1  0.284934081
## 3938                        #stanleycup       0      1  0.284934081
## 3939                    #stopcommoncore       0      1  0.284934081
## 3940                   #superbowlsunday       0      1  0.284934081
## 3941                    #syrianrefugees       0      1  0.284934081
## 3942                           #teamusa       0      1  0.284934081
## 3943                         #thankavet       0      1  0.284934081
## 3944             #theremembranceproject       0      1  0.284934081
## 3945                             #trump       0      1  0.284934081
## 3946                        #trump4vets       0      1  0.284934081
## 3947                    #trumpinstagram       0      1  0.284934081
## 3948                    #trumppence2016       0      1  0.284934081
## 3949                        #trumptower       0      1  0.284934081
## 3950                     #trumptowernyc       0      1  0.284934081
## 3951                          #tump2016       0      1  0.284934081
## 3952                               #usa       0      1  0.284934081
## 3953                       #votersspeak       0      1  0.284934081
## 3954                       #votetrumphi       0      1  0.284934081
## 3955                       #votetrumpid       0      1  0.284934081
## 3956                       #votetrumpil       0      1  0.284934081
## 3957                       #votetrumpks       0      1  0.284934081
## 3958                       #votetrumpma       0      1  0.284934081
## 3959                       #votetrumpms       0      1  0.284934081
## 3960                       #votetrumpnc       0      1  0.284934081
## 3961                       #votetrumpvt       0      1  0.284934081
## 3962                       #votetrumpwi       0      1  0.284934081
## 3963                            #wausau       0      1  0.284934081
## 3964                             #wcs16       0      1  0.284934081
## 3965                    #westerntuesday       0      1  0.284934081
## 3966                     #whereshillary       0      1  0.284934081
## 3967                         #wisconsin       0      1  0.284934081
## 3968                         #wvprimary       0      1  0.284934081
## 3969                                  ~       0      1  0.284934081
## 3970                    \u2705eliminate       0      1  0.284934081
## 3971                      \u2705florida       0      1  0.284934081
## 3972                     \u2705illinois       0      1  0.284934081
## 3973                         \u2705lean       0      1  0.284934081
## 3974                        \u2705lower       0      1  0.284934081
## 3975                     \u2705missouri       0      1  0.284934081
## 3976                        \u2705north       0      1  0.284934081
## 3977                         \u2705ohio       0      1  0.284934081
## 3978                                $$$       0      1  0.284934081
## 3979                              $1000       0      1  0.284934081
## 3980                         $100000000       0      1  0.284934081
## 3981                               $106       0      1  0.284934081
## 3982                               $11m       0      1  0.284934081
## 3983                               $12m       0      1  0.284934081
## 3984                               $13m       0      1  0.284934081
## 3985                              $150m       0      1  0.284934081
## 3986                                $18       0      1  0.284934081
## 3987                            $180000       0      1  0.284934081
## 3988                               $194       0      1  0.284934081
## 3989                                $28       0      1  0.284934081
## 3990                          $400myear       0      1  0.284934081
## 3991                              $487k       0      1  0.284934081
## 3992                              $500k       0      1  0.284934081
## 3993                                $56       0      1  0.284934081
## 3994                                 $6       0      1  0.284934081
## 3995                         $600000000       0      1  0.284934081
## 3996                                $6m       0      1  0.284934081
## 3997                             1010pm       0      1  0.284934081
## 3998                               10th       0      1  0.284934081
## 3999                                11a       0      1  0.284934081
## 4000                              11pme       0      1  0.284934081
## 4001                               11th       0      1  0.284934081
## 4002                             1230pm       0      1  0.284934081
## 4003                                12k       0      1  0.284934081
## 4004                              130pm       0      1  0.284934081
## 4005                               13th       0      1  0.284934081
## 4006                               14th       0      1  0.284934081
## 4007                                15k       0      1  0.284934081
## 4008                                1pm       0      1  0.284934081
## 4009                               1pme       0      1  0.284934081
## 4010                               200k       0      1  0.284934081
## 4011                              200pm       0      1  0.284934081
## 4012                           200pmest       0      1  0.284934081
## 4013                                20k       0      1  0.284934081
## 4014                              20min       0      1  0.284934081
## 4015                               20th       0      1  0.284934081
## 4016                              226th       0      1  0.284934081
## 4017                              241st       0      1  0.284934081
## 4018                               24th       0      1  0.284934081
## 4019                              2500+       0      1  0.284934081
## 4020                                25m       0      1  0.284934081
## 4021                             2point       0      1  0.284934081
## 4022                             2yrsan       0      1  0.284934081
## 4023                                 3m       0      1  0.284934081
## 4024                                40+       0      1  0.284934081
## 4025                              400pm       0      1  0.284934081
## 4026                                 4p       0      1  0.284934081
## 4027                               4pme       0      1  0.284934081
## 4028                              500pm       0      1  0.284934081
## 4029                                50k       0      1  0.284934081
## 4030                              51yrs       0      1  0.284934081
## 4031                               53rd       0      1  0.284934081
## 4032                               57pm       0      1  0.284934081
## 4033                                 5k       0      1  0.284934081
## 4034                                5k+       0      1  0.284934081
## 4035                              600pm       0      1  0.284934081
## 4036                              630am       0      1  0.284934081
## 4037                              630pm       0      1  0.284934081
## 4038                              6days       0      1  0.284934081
## 4039                              700am       0      1  0.284934081
## 4040                              700pm       0      1  0.284934081
## 4041                                 7k       0      1  0.284934081
## 4042                                 7p       0      1  0.284934081
## 4043                                7th       0      1  0.284934081
## 4044                                7yr       0      1  0.284934081
## 4045                             800pme       0      1  0.284934081
## 4046                              810pm       0      1  0.284934081
## 4047                             830pme       0      1  0.284934081
## 4048                               8ame       0      1  0.284934081
## 4049                         8thbecause       0      1  0.284934081
## 4050                               900+       0      1  0.284934081
## 4051                               930p       0      1  0.284934081
## 4052                                9am       0      1  0.284934081
## 4053                               9ame       0      1  0.284934081
## 4054                               9pme       0      1  0.284934081
## 4055                          abandoned       0      1  0.284934081
## 4056                        abcpolitics       0      1  0.284934081
## 4057                           abdullah       0      1  0.284934081
## 4058                           abingdon       0      1  0.284934081
## 4059                             abroad       0      1  0.284934081
## 4060                          accessory       0      1  0.284934081
## 4061                           accolade       0      1  0.284934081
## 4062                         accomplish       0      1  0.284934081
## 4063                     accountability       0      1  0.284934081
## 4064                            accuser       0      1  0.284934081
## 4065                             active       0      1  0.284934081
## 4066                          activists       0      1  0.284934081
## 4067                           addition       0      1  0.284934081
## 4068                             admits       0      1  0.284934081
## 4069                         admonished       0      1  0.284934081
## 4070                           advisors       0      1  0.284934081
## 4071                           advisory       0      1  0.284934081
## 4072                             aerial       0      1  0.284934081
## 4073                         afternoons       0      1  0.284934081
## 4074                           agencies       0      1  0.284934081
## 4075                          agitators       0      1  0.284934081
## 4076                          agreement       0      1  0.284934081
## 4077                              aided       0      1  0.284934081
## 4078                             airing       0      1  0.284934081
## 4079                          alejandro       0      1  0.284934081
## 4080                             aliens       0      1  0.284934081
## 4081                         alienssave       0      1  0.284934081
## 4082                              allis       0      1  0.284934081
## 4083                               ally       0      1  0.284934081
## 4084                          alongside       0      1  0.284934081
## 4085                          alshabaab       0      1  0.284934081
## 4086                         altogether       0      1  0.284934081
## 4087                           ambridge       0      1  0.284934081
## 4088                           ambushed       0      1  0.284934081
## 4089                             amenia       0      1  0.284934081
## 4090                               ames       0      1  0.284934081
## 4091                            anchors       0      1  0.284934081
## 4092                     andreatantaros       0      1  0.284934081
## 4093                             andrew       0      1  0.284934081
## 4094                        anncoulters       0      1  0.284934081
## 4095                         announcers       0      1  0.284934081
## 4096                          announces       0      1  0.284934081
## 4097                           answered       0      1  0.284934081
## 4098                            answers       0      1  0.284934081
## 4099                             anti2a       0      1  0.284934081
## 4100                        antidefense       0      1  0.284934081
## 4101                          antiwomen       0      1  0.284934081
## 4102                                app       0      1  0.284934081
## 4103                           appleton       0      1  0.284934081
## 4104                        application       0      1  0.284934081
## 4105                       appreciation       0      1  0.284934081
## 4106                             approx       0      1  0.284934081
## 4107                      approximately       0      1  0.284934081
## 4108                                 ar       0      1  0.284934081
## 4109                          architect       0      1  0.284934081
## 4110                                arg       0      1  0.284934081
## 4111                             argued       0      1  0.284934081
## 4112                           argument       0      1  0.284934081
## 4113                             arlene       0      1  0.284934081
## 4114                             arrive       0      1  0.284934081
## 4115                            assault       0      1  0.284934081
## 4116                          assembled       0      1  0.284934081
## 4117                             attend       0      1  0.284934081
## 4118                         attendance       0      1  0.284934081
## 4119                          attending       0      1  0.284934081
## 4120                          attention       0      1  0.284934081
## 4121                               attn       0      1  0.284934081
## 4122                           attorney       0      1  0.284934081
## 4123                             august       0      1  0.284934081
## 4124                            augusta       0      1  0.284934081
## 4125                              autos       0      1  0.284934081
## 4126                                ave       0      1  0.284934081
## 4127                            averted       0      1  0.284934081
## 4128                               aviv       0      1  0.284934081
## 4129                              avoid       0      1  0.284934081
## 4130                            avoided       0      1  0.284934081
## 4131                            awarded       0      1  0.284934081
## 4132                          awareness       0      1  0.284934081
## 4133                           backstop       0      1  0.284934081
## 4134                              bader       0      1  0.284934081
## 4135                             barron       0      1  0.284934081
## 4136                         basketball       0      1  0.284934081
## 4137                       battleground       0      1  0.284934081
## 4138                              becki       0      1  0.284934081
## 4139                            bedford       0      1  0.284934081
## 4140                            behaved       0      1  0.284934081
## 4141                          believers       0      1  0.284934081
## 4142                             belong       0      1  0.284934081
## 4143                            belongs       0      1  0.284934081
## 4144                             bemoan       0      1  0.284934081
## 4145                         benefactor       0      1  0.284934081
## 4146                         benefitted       0      1  0.284934081
## 4147                         benevolent       0      1  0.284934081
## 4148                           benghazi       0      1  0.284934081
## 4149                               bens       0      1  0.284934081
## 4150                            berrien       0      1  0.284934081
## 4151                              bests       0      1  0.284934081
## 4152                           bethpage       0      1  0.284934081
## 4153                            bigotry       0      1  0.284934081
## 4154                       billdeblasio       0      1  0.284934081
## 4155                           billings       0      1  0.284934081
## 4156                              bimbo       0      1  0.284934081
## 4157                         birthright       0      1  0.284934081
## 4158                             bishop       0      1  0.284934081
## 4159                                biz       0      1  0.284934081
## 4160                            blasted       0      1  0.284934081
## 4161                            bloated       0      1  0.284934081
## 4162                            blogger       0      1  0.284934081
## 4163                         bluecollar       0      1  0.284934081
## 4164                            boarded       0      1  0.284934081
## 4165                           boarding       0      1  0.284934081
## 4166                             boards       0      1  0.284934081
## 4167                             booker       0      1  0.284934081
## 4168                            booketc       0      1  0.284934081
## 4169                              booth       0      1  0.284934081
## 4170                         borderless       0      1  0.284934081
## 4171                             bowden       0      1  0.284934081
## 4172                              bowls       0      1  0.284934081
## 4173                                box       0      1  0.284934081
## 4174                              boxes       0      1  0.284934081
## 4175                            boynton       0      1  0.284934081
## 4176                                 bp       0      1  0.284934081
## 4177                             branch       0      1  0.284934081
## 4178                            bravely       0      1  0.284934081
## 4179                            bravery       0      1  0.284934081
## 4180                             breach       0      1  0.284934081
## 4181                          breakfast       0      1  0.284934081
## 4182                          breitbart       0      1  0.284934081
## 4183                     breitbarttotal       0      1  0.284934081
## 4184                        brentbozell       0      1  0.284934081
## 4185                             brewer       0      1  0.284934081
## 4186                            bribery       0      1  0.284934081
## 4187                         bridgeport       0      1  0.284934081
## 4188                          briefings       0      1  0.284934081
## 4189                        brilliantly       0      1  0.284934081
## 4190                         broaddrick       0      1  0.284934081
## 4191                           bruising       0      1  0.284934081
## 4192                              bruni       0      1  0.284934081
## 4193                         brzezinski       0      1  0.284934081
## 4194                              bubba       0      1  0.284934081
## 4195                             buckle       0      1  0.284934081
## 4196                            buckley       0      1  0.284934081
## 4197                            buffalo       0      1  0.284934081
## 4198                              bully       0      1  0.284934081
## 4199                             bureau       0      1  0.284934081
## 4200                          bushspent       0      1  0.284934081
## 4201                                bye       0      1  0.284934081
## 4202                                 ca       0      1  0.284934081
## 4203                 californiatomorrow       0      1  0.284934081
## 4204                             camera       0      1  0.284934081
## 4205                        campaignhis       0      1  0.284934081
## 4206                              camps       0      1  0.284934081
## 4207                         cancelling       0      1  0.284934081
## 4208                          candidacy       0      1  0.284934081
## 4209                             cannon       0      1  0.284934081
## 4210                            capital       0      1  0.284934081
## 4211                            capture       0      1  0.284934081
## 4212                             caring       0      1  0.284934081
## 4213                         carolinain       0      1  0.284934081
## 4214                        cataclysmic       0      1  0.284934081
## 4215                            catches       0      1  0.284934081
## 4216                          catholics       0      1  0.284934081
## 4217                               cbss       0      1  0.284934081
## 4218                                 cc       0      1  0.284934081
## 4219                           ccolvinj       0      1  0.284934081
## 4220                              ceder       0      1  0.284934081
## 4221                            ceiling       0      1  0.284934081
## 4222                       celebrations       0      1  0.284934081
## 4223                          certified       0      1  0.284934081
## 4224                                 ch       0      1  0.284934081
## 4225                              chair       0      1  0.284934081
## 4226                             chairs       0      1  0.284934081
## 4227                          challenge       0      1  0.284934081
## 4228                      championships       0      1  0.284934081
## 4229                            changer       0      1  0.284934081
## 4230                              chaos       0      1  0.284934081
## 4231                    charlestonmount       0      1  0.284934081
## 4232                            cheated       0      1  0.284934081
## 4233                           cheering       0      1  0.284934081
## 4234                            chester       0      1  0.284934081
## 4235                              chief       0      1  0.284934081
## 4236                         childishly       0      1  0.284934081
## 4237                               chip       0      1  0.284934081
## 4238                            choices       0      1  0.284934081
## 4239                             chokes       0      1  0.284934081
## 4240                            chooses       0      1  0.284934081
## 4241                           chugging       0      1  0.284934081
## 4242                           cillizza       0      1  0.284934081
## 4243                      circumstances       0      1  0.284934081
## 4244                             circus       0      1  0.284934081
## 4245                  citizenscontinued       0      1  0.284934081
## 4246                             claire       0      1  0.284934081
## 4247                             clerks       0      1  0.284934081
## 4248                            climber       0      1  0.284934081
## 4249                       clintonobama       0      1  0.284934081
## 4250                            closest       0      1  0.284934081
## 4251                              clubs       0      1  0.284934081
## 4252                               cnet       0      1  0.284934081
## 4253                               cnmi       0      1  0.284934081
## 4254                               cnns       0      1  0.284934081
## 4255                            cnnwmur       0      1  0.284934081
## 4256                        coincidence       0      1  0.284934081
## 4257                       colincowherd       0      1  0.284934081
## 4258                           coliseum       0      1  0.284934081
## 4259                            collins       0      1  0.284934081
## 4260                           combined       0      1  0.284934081
## 4261                         commitment       0      1  0.284934081
## 4262                          communism       0      1  0.284934081
## 4263                        complicated       0      1  0.284934081
## 4264                          comprised       0      1  0.284934081
## 4265                        concessions       0      1  0.284934081
## 4266                           conclude       0      1  0.284934081
## 4267                            concord       0      1  0.284934081
## 4268                             concur       0      1  0.284934081
## 4269                          condemned       0      1  0.284934081
## 4270                         conditions       0      1  0.284934081
## 4271                        conflicting       0      1  0.284934081
## 4272                          conflicts       0      1  0.284934081
## 4273                           confused       0      1  0.284934081
## 4274                        congressman       0      1  0.284934081
## 4275                       conradmblack       0      1  0.284934081
## 4276                           consumer       0      1  0.284934081
## 4277                            contact       0      1  0.284934081
## 4278                        contestants       0      1  0.284934081
## 4279                         contractor       0      1  0.284934081
## 4280                        contributor       0      1  0.284934081
## 4281                       conversation       0      1  0.284934081
## 4282                             copied       0      1  0.284934081
## 4283                            copying       0      1  0.284934081
## 4284                          copyright       0      1  0.284934081
## 4285                             corker       0      1  0.284934081
## 4286                          corporate       0      1  0.284934081
## 4287                              costa       0      1  0.284934081
## 4288                            counsel       0      1  0.284934081
## 4289                              count       0      1  0.284934081
## 4290                          count7943       0      1  0.284934081
## 4291                           counting       0      1  0.284934081
## 4292                             countr       0      1  0.284934081
## 4293                         courageous       0      1  0.284934081
## 4294                            courant       0      1  0.284934081
## 4295                             couric       0      1  0.284934081
## 4296                           courtesy       0      1  0.284934081
## 4297                         courthouse       0      1  0.284934081
## 4298                             cousin       0      1  0.284934081
## 4299                            coverup       0      1  0.284934081
## 4300                           coverups       0      1  0.284934081
## 4301                              crack       0      1  0.284934081
## 4302                             creati       0      1  0.284934081
## 4303                           creation       0      1  0.284934081
## 4304                             crisis       0      1  0.284934081
## 4305                          criticism       0      1  0.284934081
## 4306                              cross       0      1  0.284934081
## 4307                             crosse       0      1  0.284934081
## 4308                              cruzs       0      1  0.284934081
## 4309                              cuban       0      1  0.284934081
## 4310                            customs       0      1  0.284934081
## 4311                      cybersecurity       0      1  0.284934081
## 4312                             daddys       0      1  0.284934081
## 4313                             dakota       0      1  0.284934081
## 4314                             damage       0      1  0.284934081
## 4315                        darrellissa       0      1  0.284934081
## 4316                          databasea       0      1  0.284934081
## 4317                       daughterread       0      1  0.284934081
## 4318                               dave       0      1  0.284934081
## 4319                               davi       0      1  0.284934081
## 4320                       davidgregory       0      1  0.284934081
## 4321                             dealer       0      1  0.284934081
## 4322                             dearly       0      1  0.284934081
## 4323                            decades       0      1  0.284934081
## 4324                             deceit       0      1  0.284934081
## 4325                           decieved       0      1  0.284934081
## 4326                           decimate       0      1  0.284934081
## 4327                          decreased       0      1  0.284934081
## 4328                        deductibles       0      1  0.284934081
## 4329                             deeply       0      1  0.284934081
## 4330                          deerfield       0      1  0.284934081
## 4331                          defecting       0      1  0.284934081
## 4332                          defenders       0      1  0.284934081
## 4333                            defends       0      1  0.284934081
## 4334                            defunct       0      1  0.284934081
## 4335                               defy       0      1  0.284934081
## 4336                           demanded       0      1  0.284934081
## 4337                          demeaning       0      1  0.284934081
## 4338                           demeanor       0      1  0.284934081
## 4339                             denial       0      1  0.284934081
## 4340                        departments       0      1  0.284934081
## 4341                           depicted       0      1  0.284934081
## 4342                         depressing       0      1  0.284934081
## 4343                         depression       0      1  0.284934081
## 4344                           deserved       0      1  0.284934081
## 4345                        devastating       0      1  0.284934081
## 4346                        devastation       0      1  0.284934081
## 4347                     diamondandsilk       0      1  0.284934081
## 4348                                die       0      1  0.284934081
## 4349                              diner       0      1  0.284934081
## 4350                         disappoint       0      1  0.284934081
## 4351                            disavow       0      1  0.284934081
## 4352                           disclose       0      1  0.284934081
## 4353                       disconnected       0      1  0.284934081
## 4354                             disney       0      1  0.284934081
## 4355                         disqualify       0      1  0.284934081
## 4356                          disrupted       0      1  0.284934081
## 4357                          disrupter       0      1  0.284934081
## 4358                         dissipates       0      1  0.284934081
## 4359                           distract       0      1  0.284934081
## 4360                              ditch       0      1  0.284934081
## 4361                           division       0      1  0.284934081
## 4362                                dlg       0      1  0.284934081
## 4363                                doc       0      1  0.284934081
## 4364                           doctrine       0      1  0.284934081
## 4365                              dodge       0      1  0.284934081
## 4366                               dole       0      1  0.284934081
## 4367                          dominance       0      1  0.284934081
## 4368                         dominating       0      1  0.284934081
## 4369                     donaldjtrumpjr       0      1  0.284934081
## 4370                           donation       0      1  0.284934081
## 4371                              donor       0      1  0.284934081
## 4372                           dornsife       0      1  0.284934081
## 4373                             dorton       0      1  0.284934081
## 4374                               dowd       0      1  0.284934081
## 4375                             dreams       0      1  0.284934081
## 4376                             drehle       0      1  0.284934081
## 4377                           dripdrop       0      1  0.284934081
## 4378                      drudgereports       0      1  0.284934081
## 4379                                dry       0      1  0.284934081
## 4380                            dubuque       0      1  0.284934081
## 4381                               duck       0      1  0.284934081
## 4382                                dud       0      1  0.284934081
## 4383                               duke       0      1  0.284934081
## 4384                          dwstweets       0      1  0.284934081
## 4385                             dwyane       0      1  0.284934081
## 4386                              eagle       0      1  0.284934081
## 4387                            earlier       0      1  0.284934081
## 4388                            earnest       0      1  0.284934081
## 4389                         earthquake       0      1  0.284934081
## 4390                        earthquakes       0      1  0.284934081
## 4391                             easier       0      1  0.284934081
## 4392                             easyhe       0      1  0.284934081
## 4393                                eau       0      1  0.284934081
## 4394                               econ       0      1  0.284934081
## 4395                          economist       0      1  0.284934081
## 4396                            edgoeas       0      1  0.284934081
## 4397                            editing       0      1  0.284934081
## 4398                          elephants       0      1  0.284934081
## 4399                          eliminate       0      1  0.284934081
## 4400                            elliott       0      1  0.284934081
## 4401                              elton       0      1  0.284934081
## 4402                           emanated       0      1  0.284934081
## 4403                         emboldened       0      1  0.284934081
## 4404                            emerged       0      1  0.284934081
## 4405                          emergency       0      1  0.284934081
## 4406                         empowering       0      1  0.284934081
## 4407                            enabler       0      1  0.284934081
## 4408                           enclosed       0      1  0.284934081
## 4409                           enduring       0      1  0.284934081
## 4410                            enrique       0      1  0.284934081
## 4411              entertainingmassively       0      1  0.284934081
## 4412                           entirety       0      1  0.284934081
## 4413                           envision       0      1  0.284934081
## 4414                           epidemic       0      1  0.284934081
## 4415                           equality       0      1  0.284934081
## 4416                                era       0      1  0.284934081
## 4417                               erie       0      1  0.284934081
## 4418                             escape       0      1  0.284934081
## 4419                            escapes       0      1  0.284934081
## 4420                            espouse       0      1  0.284934081
## 4421                            estates       0      1  0.284934081
## 4422                            ethical       0      1  0.284934081
## 4423                                 eu       0      1  0.284934081
## 4424                             eugene       0      1  0.284934081
## 4425                            everett       0      1  0.284934081
## 4426                              evils       0      1  0.284934081
## 4427                           examples       0      1  0.284934081
## 4428                          excessive       0      1  0.284934081
## 4429                            excited       0      1  0.284934081
## 4430                     executionstyle       0      1  0.284934081
## 4431                          exercised       0      1  0.284934081
## 4432                             exists       0      1  0.284934081
## 4433                        experienced       0      1  0.284934081
## 4434                           exploded       0      1  0.284934081
## 4435                            exposed       0      1  0.284934081
## 4436                           exposing       0      1  0.284934081
## 4437                    extraordinarily       0      1  0.284934081
## 4438                            extreme       0      1  0.284934081
## 4439                          fabricate       0      1  0.284934081
## 4440                           facility       0      1  0.284934081
## 4441                             factor       0      1  0.284934081
## 4442                               fade       0      1  0.284934081
## 4443                             fading       0      1  0.284934081
## 4444                              falls       0      1  0.284934081
## 4445                            falwell       0      1  0.284934081
## 4446                         farmington       0      1  0.284934081
## 4447                            faucets       0      1  0.284934081
## 4448                             faulty       0      1  0.284934081
## 4449                       fayetteville       0      1  0.284934081
## 4450                                fcc       0      1  0.284934081
## 4451                                fdn       0      1  0.284934081
## 4452                      fearmongering       0      1  0.284934081
## 4453                           features       0      1  0.284934081
## 4454                          featuring       0      1  0.284934081
## 4455                                fed       0      1  0.284934081
## 4456                           feedback       0      1  0.284934081
## 4457                              felon       0      1  0.284934081
## 4458                           festival       0      1  0.284934081
## 4459                          fictional       0      1  0.284934081
## 4460                             filing       0      1  0.284934081
## 4461                           finances       0      1  0.284934081
## 4462                               firm       0      1  0.284934081
## 4463                          firstever       0      1  0.284934081
## 4464                           flailing       0      1  0.284934081
## 4465                           flexible       0      1  0.284934081
## 4466                             floods       0      1  0.284934081
## 4467                    floridatomorrow       0      1  0.284934081
## 4468                            flowers       0      1  0.284934081
## 4469                               foil       0      1  0.284934081
## 4470                                fop       0      1  0.284934081
## 4471                              forge       0      1  0.284934081
## 4472                           forgiven       0      1  0.284934081
## 4473                             formal       0      1  0.284934081
## 4474                             formed       0      1  0.284934081
## 4475                            formula       0      1  0.284934081
## 4476                             forums       0      1  0.284934081
## 4477                        foundations       0      1  0.284934081
## 4478                           fournier       0      1  0.284934081
## 4479                               fox2       0      1  0.284934081
## 4480                          fraternal       0      1  0.284934081
## 4481                       fraudulently       0      1  0.284934081
## 4482                           freedoms       0      1  0.284934081
## 4483                     freejessejames       0      1  0.284934081
## 4484                              fresh       0      1  0.284934081
## 4485                             fresno       0      1  0.284934081
## 4486                           friendly       0      1  0.284934081
## 4487                         friendship       0      1  0.284934081
## 4488                           fronting       0      1  0.284934081
## 4489                              fumed       0      1  0.284934081
## 4490                        fundraising       0      1  0.284934081
## 4491                              funds       0      1  0.284934081
## 4492                            futures       0      1  0.284934081
## 4493                                 ga       0      1  0.284934081
## 4494                             garcía       0      1  0.284934081
## 4495                         gatekeeper       0      1  0.284934081
## 4496                             gender       0      1  0.284934081
## 4497                               gene       0      1  0.284934081
## 4498                          geneva7pm       0      1  0.284934081
## 4499                           gennifer       0      1  0.284934081
## 4500                               gift       0      1  0.284934081
## 4501                           gingrich       0      1  0.284934081
## 4502                               girl       0      1  0.284934081
## 4503                           giuliani       0      1  0.284934081
## 4504                            glasses       0      1  0.284934081
## 4505                          glennbeck       0      1  0.284934081
## 4506                            golfing       0      1  0.284934081
## 4507                           gonzales       0      1  0.284934081
## 4508                      governorperry       0      1  0.284934081
## 4509                               grab       0      1  0.284934081
## 4510                          graduates       0      1  0.284934081
## 4511                              grain       0      1  0.284934081
## 4512                         gratifying       0      1  0.284934081
## 4513                              gravy       0      1  0.284934081
## 4514                              greta       0      1  0.284934081
## 4515                             grieve       0      1  0.284934081
## 4516                           grievous       0      1  0.284934081
## 4517                              grill       0      1  0.284934081
## 4518                               grow       0      1  0.284934081
## 4519                              grows       0      1  0.284934081
## 4520                               guam       0      1  0.284934081
## 4521                          guarantee       0      1  0.284934081
## 4522                              guard       0      1  0.284934081
## 4523                           guarding       0      1  0.284934081
## 4524                              guess       0      1  0.284934081
## 4525                              guide       0      1  0.284934081
## 4526                              habit       0      1  0.284934081
## 4527                              haiti       0      1  0.284934081
## 4528                              haley       0      1  0.284934081
## 4529                            handing       0      1  0.284934081
## 4530                            hanging       0      1  0.284934081
## 4531                            hannity       0      1  0.284934081
## 4532                           hanukkah       0      1  0.284934081
## 4533                          happiness       0      1  0.284934081
## 4534                             harbor       0      1  0.284934081
## 4535                         harrisburg       0      1  0.284934081
## 4536                           hartford       0      1  0.284934081
## 4537                           hashanah       0      1  0.284934081
## 4538                                hat       0      1  0.284934081
## 4539                             hatred       0      1  0.284934081
## 4540                             havana       0      1  0.284934081
## 4541                           hearings       0      1  0.284934081
## 4542                             herman       0      1  0.284934081
## 4543                      heytammybruce       0      1  0.284934081
## 4544                                hid       0      1  0.284934081
## 4545                              hikes       0      1  0.284934081
## 4546                       hillarythats       0      1  0.284934081
## 4547                               hire       0      1  0.284934081
## 4548                      historykasich       0      1  0.284934081
## 4549                               hoax       0      1  0.284934081
## 4550                             holder       0      1  0.284934081
## 4551                           holidays       0      1  0.284934081
## 4552                              holtz       0      1  0.284934081
## 4553                           homeland       0      1  0.284934081
## 4554                      homeownership       0      1  0.284934081
## 4555                           honolulu       0      1  0.284934081
## 4556                          honorable       0      1  0.284934081
## 4557                            hopeful       0      1  0.284934081
## 4558                             hoping       0      1  0.284934081
## 4559                          household       0      1  0.284934081
## 4560                                hrs       0      1  0.284934081
## 4561             http://t.co/0r8fc2zzvy       0      1  0.284934081
## 4562             http://t.co/2krx2tbets       0      1  0.284934081
## 4563             http://t.co/3eheivyd5a       0      1  0.284934081
## 4564             http://t.co/3hdsutmhim       0      1  0.284934081
## 4565             http://t.co/4dxoev0wia       0      1  0.284934081
## 4566             http://t.co/5p0tx9mq8u       0      1  0.284934081
## 4567             http://t.co/8rs1fbcaiz       0      1  0.284934081
## 4568             http://t.co/bncg1xqvcw       0      1  0.284934081
## 4569             http://t.co/cs8dod8wfm       0      1  0.284934081
## 4570             http://t.co/fnrixjwcvf       0      1  0.284934081
## 4571             http://t.co/fqiapu6gvc       0      1  0.284934081
## 4572             http://t.co/gkfoshg2xh       0      1  0.284934081
## 4573             http://t.co/hjho1rk06y       0      1  0.284934081
## 4574             http://t.co/ilcamzxc82       0      1  0.284934081
## 4575             http://t.co/iohazot8lk       0      1  0.284934081
## 4576             http://t.co/lomirpfliz       0      1  0.284934081
## 4577             http://t.co/lvx5sehqvv       0      1  0.284934081
## 4578             http://t.co/misqyasjhu       0      1  0.284934081
## 4579             http://t.co/mrhdw7dows       0      1  0.284934081
## 4580             http://t.co/o5v9ox3pyd       0      1  0.284934081
## 4581             http://t.co/ovxqmw4kob       0      1  0.284934081
## 4582             http://t.co/peeehtvtc8       0      1  0.284934081
## 4583             http://t.co/ptviayro4a       0      1  0.284934081
## 4584             http://t.co/rfee86mbbp       0      1  0.284934081
## 4585             http://t.co/rfwqddpb33       0      1  0.284934081
## 4586             http://t.co/snrr9yzmou       0      1  0.284934081
## 4587             http://t.co/tj3cnqp3pu       0      1  0.284934081
## 4588             http://t.co/tpv3w18bw6       0      1  0.284934081
## 4589             http://t.co/x4m9wfewx2       0      1  0.284934081
## 4590             http://t.co/xleluqfxof       0      1  0.284934081
## 4591             http://t.co/zxfte8aqyf       0      1  0.284934081
## 4592                            humbled       0      1  0.284934081
## 4593                  huntsvillemadison       0      1  0.284934081
## 4594                              icymi       0      1  0.284934081
## 4595                                 ii       0      1  0.284934081
## 4596                        illinformed       0      1  0.284934081
## 4597                              image       0      1  0.284934081
## 4598                             images       0      1  0.284934081
## 4599                          imitating       0      1  0.284934081
## 4600                      immigrationif       0      1  0.284934081
## 4601                           immunity       0      1  0.284934081
## 4602                         imperative       0      1  0.284934081
## 4603                         importance       0      1  0.284934081
## 4604                               incr       0      1  0.284934081
## 4605                         increasing       0      1  0.284934081
## 4606                                ind       0      1  0.284934081
## 4607                       independence       0      1  0.284934081
## 4608                           inducted       0      1  0.284934081
## 4609                         industries       0      1  0.284934081
## 4610                         ineptitude       0      1  0.284934081
## 4611                        inferiority       0      1  0.284934081
## 4612                         infiltrate       0      1  0.284934081
## 4613                          infringed       0      1  0.284934081
## 4614                          initially       0      1  0.284934081
## 4615                          initiated       0      1  0.284934081
## 4616                           inspired       0      1  0.284934081
## 4617                          inspiring       0      1  0.284934081
## 4618                          instagram       0      1  0.284934081
## 4619                           insticts       0      1  0.284934081
## 4620                           instruct       0      1  0.284934081
## 4621                        instruments       0      1  0.284934081
## 4622                            insurer       0      1  0.284934081
## 4623                                int       0      1  0.284934081
## 4624                         intellects       0      1  0.284934081
## 4625                       intelligence       0      1  0.284934081
## 4626                       intersection       0      1  0.284934081
## 4627                              intro       0      1  0.284934081
## 4628                          introduce       0      1  0.284934081
## 4629                         introduced       0      1  0.284934081
## 4630                          invention       0      1  0.284934081
## 4631                         invitation       0      1  0.284934081
## 4632                           inviting       0      1  0.284934081
## 4633                             iowans       0      1  0.284934081
## 4634                       ipsosreuters       0      1  0.284934081
## 4635                           iranians       0      1  0.284934081
## 4636                            isearly       0      1  0.284934081
## 4637                           islamist       0      1  0.284934081
## 4638                islandssupertuesday       0      1  0.284934081
## 4639                              italy       0      1  0.284934081
## 4640                           itreally       0      1  0.284934081
## 4641                            jackson       0      1  0.284934081
## 4642                            january       0      1  0.284934081
## 4643                              japan       0      1  0.284934081
## 4644                              jared       0      1  0.284934081
## 4645                            jeanine       0      1  0.284934081
## 4646                           jennifer       0      1  0.284934081
## 4647                          jerseyans       0      1  0.284934081
## 4648                             jindal       0      1  0.284934081
## 4649                       jobproducing       0      1  0.284934081
## 4650                          jobsvideo       0      1  0.284934081
## 4651                               joes       0      1  0.284934081
## 4652                           jonahnro       0      1  0.284934081
## 4653                           jonathan       0      1  0.284934081
## 4654                             jordan       0      1  0.284934081
## 4655                     jorgeramosnews       0      1  0.284934081
## 4656                             joseph       0      1  0.284934081
## 4657                       journalistic       0      1  0.284934081
## 4658                        journalists       0      1  0.284934081
## 4659                                 jr       0      1  0.284934081
## 4660                                 js       0      1  0.284934081
## 4661                            juanita       0      1  0.284934081
## 4662                             judged       0      1  0.284934081
## 4663                             judges       0      1  0.284934081
## 4664                                kai       0      1  0.284934081
## 4665                            kathryn       0      1  0.284934081
## 4666                             katies       0      1  0.284934081
## 4667                        kenansville       0      1  0.284934081
## 4668                             kiawah       0      1  0.284934081
## 4669                             kicked       0      1  0.284934081
## 4670                       kimguilfoyle       0      1  0.284934081
## 4671                            kinston       0      1  0.284934081
## 4672                            knowing       0      1  0.284934081
## 4673                              korea       0      1  0.284934081
## 4674                             koster       0      1  0.284934081
## 4675                        krauthammer       0      1  0.284934081
## 4676                                 ks       0      1  0.284934081
## 4677                          lafayette       0      1  0.284934081
## 4678                           landmark       0      1  0.284934081
## 4679                           lapierre       0      1  0.284934081
## 4680                               lara       0      1  0.284934081
## 4681                        larrykudlow       0      1  0.284934081
## 4682                         lauderdale       0      1  0.284934081
## 4683                              laura       0      1  0.284934081
## 4684                               lays       0      1  0.284934081
## 4685                             leaves       0      1  0.284934081
## 4686                           lectured       0      1  0.284934081
## 4687                                lee       0      1  0.284934081
## 4688                             legion       0      1  0.284934081
## 4689                             lehman       0      1  0.284934081
## 4690                            lending       0      1  0.284934081
## 4691                             lenses       0      1  0.284934081
## 4692                            leppert       0      1  0.284934081
## 4693                          lethargic       0      1  0.284934081
## 4694                            letters       0      1  0.284934081
## 4695                             levine       0      1  0.284934081
## 4696                          lexington       0      1  0.284934081
## 4697                              libya       0      1  0.284934081
## 4698                           lifelong       0      1  0.284934081
## 4699                             lights       0      1  0.284934081
## 4700                              limit       0      1  0.284934081
## 4701                      lindseygraham       0      1  0.284934081
## 4702                             lisbon       0      1  0.284934081
## 4703                          listeners       0      1  0.284934081
## 4704                            listens       0      1  0.284934081
## 4705                              lists       0      1  0.284934081
## 4706                             loaned       0      1  0.284934081
## 4707                           lobbying       0      1  0.284934081
## 4708                          locations       0      1  0.284934081
## 4709                              locks       0      1  0.284934081
## 4710                              lodge       0      1  0.284934081
## 4711                        londonderry       0      1  0.284934081
## 4712                           longterm       0      1  0.284934081
## 4713                              looms       0      1  0.284934081
## 4714                          loopholes       0      1  0.284934081
## 4715                         loserstrue       0      1  0.284934081
## 4716                                lou       0      1  0.284934081
## 4717                         louisville       0      1  0.284934081
## 4718                             lovely       0      1  0.284934081
## 4719                              lower       0      1  0.284934081
## 4720                               lows       0      1  0.284934081
## 4721                               luis       0      1  0.284934081
## 4722                            lunches       0      1  0.284934081
## 4723                             lynden       0      1  0.284934081
## 4724                              lynne       0      1  0.284934081
## 4725                             macomb       0      1  0.284934081
## 4726                              macon       0      1  0.284934081
## 4727                            madison       0      1  0.284934081
## 4728                            magical       0      1  0.284934081
## 4729                           mahoning       0      1  0.284934081
## 4730                               mail       0      1  0.284934081
## 4731                         mainstream       0      1  0.284934081
## 4732                            maitner       0      1  0.284934081
## 4733                              maker       0      1  0.284934081
## 4734                          malleable       0      1  0.284934081
## 4735                            mandate       0      1  0.284934081
## 4736                          manhattan       0      1  0.284934081
## 4737                            manheim       0      1  0.284934081
## 4738                             maniac       0      1  0.284934081
## 4739                       mannersigned       0      1  0.284934081
## 4740                            mariana       0      1  0.284934081
## 4741                              marie       0      1  0.284934081
## 4742 massachusettsmakeamericagreatagain       0      1  0.284934081
## 4743                            matters       0      1  0.284934081
## 4744                            matthew       0      1  0.284934081
## 4745                       matthewjdowd       0      1  0.284934081
## 4746                            maureen       0      1  0.284934081
## 4747                            maximum       0      1  0.284934081
## 4748                            mcallen       0      1  0.284934081
## 4749                          mcconnell       0      1  0.284934081
## 4750                                 md       0      1  0.284934081
## 4751                        meaningtell       0      1  0.284934081
## 4752                      mechanicsburg       0      1  0.284934081
## 4753                              medal       0      1  0.284934081
## 4754                             median       0      1  0.284934081
## 4755                        mediarigged       0      1  0.284934081
## 4756                           melanias       0      1  0.284934081
## 4757                          melbourne       0      1  0.284934081
## 4758                            melissa       0      1  0.284934081
## 4759                         membership       0      1  0.284934081
## 4760                            memphis       0      1  0.284934081
## 4761                    mercedesschlapp       0      1  0.284934081
## 4762                             method       0      1  0.284934081
## 4763                            mexicos       0      1  0.284934081
## 4764                                mgr       0      1  0.284934081
## 4765                                mia       0      1  0.284934081
## 4766                         midamerica       0      1  0.284934081
## 4767                              miles       0      1  0.284934081
## 4768                        mindblowing       0      1  0.284934081
## 4769                               mine       0      1  0.284934081
## 4770                         minerscoal       0      1  0.284934081
## 4771                         ministries       0      1  0.284934081
## 4772                              mired       0      1  0.284934081
## 4773                         misconduct       0      1  0.284934081
## 4774                        misdemeanor       0      1  0.284934081
## 4775                         mishandled       0      1  0.284934081
## 4776                              mitch       0      1  0.284934081
## 4777                           mitchell       0      1  0.284934081
## 4778                              mixed       0      1  0.284934081
## 4779                           mkhammer       0      1  0.284934081
## 4780                                 mo       0      1  0.284934081
## 4781                          moderator       0      1  0.284934081
## 4782                             modern       0      1  0.284934081
## 4783                              mogul       0      1  0.284934081
## 4784                           mohammed       0      1  0.284934081
## 4785                             molten       0      1  0.284934081
## 4786                                mom       0      1  0.284934081
## 4787                     mondaleferraro       0      1  0.284934081
## 4788                            monster       0      1  0.284934081
## 4789                           mornings       0      1  0.284934081
## 4790                              motto       0      1  0.284934081
## 4791                         mouthpiece       0      1  0.284934081
## 4792                              movie       0      1  0.284934081
## 4793                             moving       0      1  0.284934081
## 4794                                msg       0      1  0.284934081
## 4795                            murders       0      1  0.284934081
## 4796                          muscatine       0      1  0.284934081
## 4797                             museum       0      1  0.284934081
## 4798                              music       0      1  0.284934081
## 4799                            musical       0      1  0.284934081
## 4800                            myanmar       0      1  0.284934081
## 4801                             myrtle       0      1  0.284934081
## 4802                           naftatpp       0      1  0.284934081
## 4803                              nancy       0      1  0.284934081
## 4804                      nataliegulbis       0      1  0.284934081
## 4805                          naturally       0      1  0.284934081
## 4806                            navarro       0      1  0.284934081
## 4807                       nbcwsjmarist       0      1  0.284934081
## 4808                              neera       0      1  0.284934081
## 4809                          negatives       0      1  0.284934081
## 4810                         negativity       0      1  0.284934081
## 4811                          neglected       0      1  0.284934081
## 4812                          neighbors       0      1  0.284934081
## 4813                              newly       0      1  0.284934081
## 4814                            newtown       0      1  0.284934081
## 4815                                nfl       0      1  0.284934081
## 4816                           nightsee       0      1  0.284934081
## 4817                              nikki       0      1  0.284934081
## 4818                               nite       0      1  0.284934081
## 4819                               nogo       0      1  0.284934081
## 4820                              nolte       0      1  0.284934081
## 4821                        nonmexicans       0      1  0.284934081
## 4822                           nonunion       0      1  0.284934081
## 4823                             noonan       0      1  0.284934081
## 4824                           northern       0      1  0.284934081
## 4825                       northwestern       0      1  0.284934081
## 4826                              notch       0      1  0.284934081
## 4827                               nprs       0      1  0.284934081
## 4828                               nypd       0      1  0.284934081
## 4829                               nyts       0      1  0.284934081
## 4830                          objective       0      1  0.284934081
## 4831                           observer       0      1  0.284934081
## 4832                          observing       0      1  0.284934081
## 4833                          occasions       0      1  0.284934081
## 4834                             occupy       0      1  0.284934081
## 4835                              ocean       0      1  0.284934081
## 4836                            odyssey       0      1  0.284934081
## 4837                           offenses       0      1  0.284934081
## 4838                            offices       0      1  0.284934081
## 4839                          ohiothank       0      1  0.284934081
## 4840                              omaha       0      1  0.284934081
## 4841                         ondelivers       0      1  0.284934081
## 4842                           opinions       0      1  0.284934081
## 4843                            oppress       0      1  0.284934081
## 4844                          oppresses       0      1  0.284934081
## 4845                         oppression       0      1  0.284934081
## 4846                         oppressive       0      1  0.284934081
## 4847                              opsec       0      1  0.284934081
## 4848                           organize       0      1  0.284934081
## 4849                            orleans       0      1  0.284934081
## 4850                                 ou       0      1  0.284934081
## 4851                             outlet       0      1  0.284934081
## 4852                            outrage       0      1  0.284934081
## 4853                        outspending       0      1  0.284934081
## 4854                     overtimetrying       0      1  0.284934081
## 4855                               pacs       0      1  0.284934081
## 4856                            padilla       0      1  0.284934081
## 4857                           pageants       0      1  0.284934081
## 4858                            palazzo       0      1  0.284934081
## 4859                          pandering       0      1  0.284934081
## 4860                             panned       0      1  0.284934081
## 4861                       participated       0      1  0.284934081
## 4862                           passport       0      1  0.284934081
## 4863                          passports       0      1  0.284934081
## 4864                             pastor       0      1  0.284934081
## 4865                       pathological       0      1  0.284934081
## 4866                    patrickbuchanan       0      1  0.284934081
## 4867                              paved       0      1  0.284934081
## 4868                            payment       0      1  0.284934081
## 4869                              payne       0      1  0.284934081
## 4870                            payroll       0      1  0.284934081
## 4871                          paytoplay       0      1  0.284934081
## 4872                              pearl       0      1  0.284934081
## 4873                              peggy       0      1  0.284934081
## 4874                               pena       0      1  0.284934081
## 4875                               peña       0      1  0.284934081
## 4876                     pennsylvaniahe       0      1  0.284934081
## 4877                                peo       0      1  0.284934081
## 4878                             perdue       0      1  0.284934081
## 4879                              peres       0      1  0.284934081
## 4880                          perfectly       0      1  0.284934081
## 4881                             perils       0      1  0.284934081
## 4882                             period       0      1  0.284934081
## 4883                          periscope       0      1  0.284934081
## 4884                         persistent       0      1  0.284934081
## 4885                        perspective       0      1  0.284934081
## 4886                               phil       0      1  0.284934081
## 4887                       philadelphia       0      1  0.284934081
## 4888                            phoneix       0      1  0.284934081
## 4889                             photos       0      1  0.284934081
## 4890                             phrase       0      1  0.284934081
## 4891                             phylis       0      1  0.284934081
## 4892                             pickup       0      1  0.284934081
## 4893                               pigs       0      1  0.284934081
## 4894                              pizza       0      1  0.284934081
## 4895                          plaintiff       0      1  0.284934081
## 4896                            planted       0      1  0.284934081
## 4897                           pleasant       0      1  0.284934081
## 4898                            pledged       0      1  0.284934081
## 4899                            plotted       0      1  0.284934081
## 4900                             pocket       0      1  0.284934081
## 4901                           pocketed       0      1  0.284934081
## 4902                            polices       0      1  0.284934081
## 4903                             polish       0      1  0.284934081
## 4904                             poll33       0      1  0.284934081
## 4905                            pollsiu       0      1  0.284934081
## 4906                          pollsters       0      1  0.284934081
## 4907                           positive       0      1  0.284934081
## 4908                       postelection       0      1  0.284934081
## 4909                              posts       0      1  0.284934081
## 4910                           potatoes       0      1  0.284934081
## 4911                                 pr       0      1  0.284934081
## 4912                             preach       0      1  0.284934081
## 4913                        preexisting       0      1  0.284934081
## 4914                            premium       0      1  0.284934081
## 4915                            pretend       0      1  0.284934081
## 4916                           pretends       0      1  0.284934081
## 4917                         preventing       0      1  0.284934081
## 4918                           previous       0      1  0.284934081
## 4919                               prez       0      1  0.284934081
## 4920                         priorities       0      1  0.284934081
## 4921                              prize       0      1  0.284934081
## 4922                              pro2a       0      1  0.284934081
## 4923                              probe       0      1  0.284934081
## 4924                          progrowth       0      1  0.284934081
## 4925                          proisrael       0      1  0.284934081
## 4926                           projects       0      1  0.284934081
## 4927                        prominently       0      1  0.284934081
## 4928                          promising       0      1  0.284934081
## 4929                         prosanders       0      1  0.284934081
## 4930                        prosecution       0      1  0.284934081
## 4931                          prospects       0      1  0.284934081
## 4932                         protesting       0      1  0.284934081
## 4933                             protpp       0      1  0.284934081
## 4934                           provided       0      1  0.284934081
## 4935                            prowall       0      1  0.284934081
## 4936                             prowar       0      1  0.284934081
## 4937                               ptsd       0      1  0.284934081
## 4938                        publication       0      1  0.284934081
## 4939                             puerto       0      1  0.284934081
## 4940                               pull       0      1  0.284934081
## 4941                         purchasing       0      1  0.284934081
## 4942                             pushes       0      1  0.284934081
## 4943                             putins       0      1  0.284934081
## 4944                           pyramids       0      1  0.284934081
## 4945                                 q2       0      1  0.284934081
## 4946                            qualify       0      1  0.284934081
## 4947                           quarters       0      1  0.284934081
## 4948                            quoting       0      1  0.284934081
## 4949                        racebaiting       0      1  0.284934081
## 4950                             raises       0      1  0.284934081
## 4951                              raked       0      1  0.284934081
## 4952                              ranch       0      1  0.284934081
## 4953                              randy       0      1  0.284934081
## 4954                             ransom       0      1  0.284934081
## 4955                               rant       0      1  0.284934081
## 4956                              rapes       0      1  0.284934081
## 4957                             rarely       0      1  0.284934081
## 4958                            reached       0      1  0.284934081
## 4959                           reacting       0      1  0.284934081
## 4960                            readout       0      1  0.284934081
## 4961                          rebellion       0      1  0.284934081
## 4962                              recap       0      1  0.284934081
## 4963                           recovery       0      1  0.284934081
## 4964                           redesign       0      1  0.284934081
## 4965                            redford       0      1  0.284934081
## 4966                           redstate       0      1  0.284934081
## 4967                          reduction       0      1  0.284934081
## 4968                               reed       0      1  0.284934081
## 4969                         referendum       0      1  0.284934081
## 4970                           reflects       0      1  0.284934081
## 4971                            refugee       0      1  0.284934081
## 4972                            refusal       0      1  0.284934081
## 4973                         refutation       0      1  0.284934081
## 4974                                reg       0      1  0.284934081
## 4975                            regimes       0      1  0.284934081
## 4976                            regions       0      1  0.284934081
## 4977                  registerbloomberg       0      1  0.284934081
## 4978                         regulation       0      1  0.284934081
## 4979                        regulations       0      1  0.284934081
## 4980                        reinforcing       0      1  0.284934081
## 4981                           rejected       0      1  0.284934081
## 4982                           releases       0      1  0.284934081
## 4983                            relives       0      1  0.284934081
## 4984                        remembering       0      1  0.284934081
## 4985                            removed       0      1  0.284934081
## 4986                           removing       0      1  0.284934081
## 4987                            renewal       0      1  0.284934081
## 4988                         renosparks       0      1  0.284934081
## 4989                           renounce       0      1  0.284934081
## 4990                          renovated       0      1  0.284934081
## 4991                           repealed       0      1  0.284934081
## 4992                   reportersworking       0      1  0.284934081
## 4993                        represented       0      1  0.284934081
## 4994                               reps       0      1  0.284934081
## 4995                           restored       0      1  0.284934081
## 4996                          restoring       0      1  0.284934081
## 4997                           resulted       0      1  0.284934081
## 4998                            retains       0      1  0.284934081
## 4999                            retired       0      1  0.284934081
## 5000                           retiring       0      1  0.284934081
## 5001                                rev       0      1  0.284934081
## 5002                             reveal       0      1  0.284934081
## 5003                           revealed       0      1  0.284934081
## 5004                            reverse       0      1  0.284934081
## 5005                       reviewdoomed       0      1  0.284934081
## 5006                               rico       0      1  0.284934081
## 5007                             riding       0      1  0.284934081
## 5008                              riley       0      1  0.284934081
## 5009                       ringlingbros       0      1  0.284934081
## 5010                         rockingham       0      1  0.284934081
## 5011                               role       0      1  0.284934081
## 5012                               rome       0      1  0.284934081
## 5013                             ronald       0      1  0.284934081
## 5014                               rone       0      1  0.284934081
## 5015                              rorke       0      1  0.284934081
## 5016                               rosh       0      1  0.284934081
## 5017                              round       0      1  0.284934081
## 5018                         roundtable       0      1  0.284934081
## 5019                            rowanne       0      1  0.284934081
## 5020                              rtenn       0      1  0.284934081
## 5021                              rubin       0      1  0.284934081
## 5022                               rudy       0      1  0.284934081
## 5023                              ruled       0      1  0.284934081
## 5024                             rumors       0      1  0.284934081
## 5025                           russians       0      1  0.284934081
## 5026                               ruth       0      1  0.284934081
## 5027                           sabotage       0      1  0.284934081
## 5028                             sacred       0      1  0.284934081
## 5029                             sadler       0      1  0.284934081
## 5030                                saf       0      1  0.284934081
## 5031                              salem       0      1  0.284934081
## 5032                             salute       0      1  0.284934081
## 5033                         sandiegopd       0      1  0.284934081
## 5034                             savage       0      1  0.284934081
## 5035                            savings       0      1  0.284934081
## 5036                        scarborough       0      1  0.284934081
## 5037                             scenes       0      1  0.284934081
## 5038                          scheduled       0      1  0.284934081
## 5039                          schlaflys       0      1  0.284934081
## 5040                       schreckenger       0      1  0.284934081
## 5041                          scientist       0      1  0.284934081
## 5042                             scotts       0      1  0.284934081
## 5043                             screen       0      1  0.284934081
## 5044                           scrutiny       0      1  0.284934081
## 5045                               scum       0      1  0.284934081
## 5046                           searched       0      1  0.284934081
## 5047                          sebastian       0      1  0.284934081
## 5048                            seeking       0      1  0.284934081
## 5049                            segment       0      1  0.284934081
## 5050                             seized       0      1  0.284934081
## 5051                  selfdetermination       0      1  0.284934081
## 5052                              selma       0      1  0.284934081
## 5053                            session       0      1  0.284934081
## 5054                           sessions       0      1  0.284934081
## 5055                           shackles       0      1  0.284934081
## 5056                             shadow       0      1  0.284934081
## 5057                            sharing       0      1  0.284934081
## 5058                            shatter       0      1  0.284934081
## 5059                              shell       0      1  0.284934081
## 5060                             shimon       0      1  0.284934081
## 5061                             shoddy       0      1  0.284934081
## 5062                 shouldertoshoulder       0      1  0.284934081
## 5063                              shout       0      1  0.284934081
## 5064                           shoutout       0      1  0.284934081
## 5065                             shreds       0      1  0.284934081
## 5066                             shultz       0      1  0.284934081
## 5067                              simon       0      1  0.284934081
## 5068                          sincerely       0      1  0.284934081
## 5069                         situations       0      1  0.284934081
## 5070                          skarlatos       0      1  0.284934081
## 5071                                sky       0      1  0.284934081
## 5072                          skyrocket       0      1  0.284934081
## 5073                              slams       0      1  0.284934081
## 5074                           slashing       0      1  0.284934081
## 5075                           sleeping       0      1  0.284934081
## 5076                              slide       0      1  0.284934081
## 5077                              sliwa       0      1  0.284934081
## 5078                               slog       0      1  0.284934081
## 5079                               slow       0      1  0.284934081
## 5080                            slowest       0      1  0.284934081
## 5081                                 sm       0      1  0.284934081
## 5082                              smear       0      1  0.284934081
## 5083                             sneers       0      1  0.284934081
## 5084                               snow       0      1  0.284934081
## 5085                            soaring       0      1  0.284934081
## 5086                            society       0      1  0.284934081
## 5087                               soft       0      1  0.284934081
## 5088                           softball       0      1  0.284934081
## 5089                           someones       0      1  0.284934081
## 5090                         somethings       0      1  0.284934081
## 5091                            spewing       0      1  0.284934081
## 5092                           spirited       0      1  0.284934081
## 5093                            spokane       0      1  0.284934081
## 5094                     springfield1pm       0      1  0.284934081
## 5095                             squirm       0      1  0.284934081
## 5096                           ssr=true       0      1  0.284934081
## 5097                           staffers       0      1  0.284934081
## 5098                             stakes       0      1  0.284934081
## 5099                            stances       0      1  0.284934081
## 5100                           starters       0      1  0.284934081
## 5101                            steinle       0      1  0.284934081
## 5102                             steven       0      1  0.284934081
## 5103                          stimulate       0      1  0.284934081
## 5104                          stockpile       0      1  0.284934081
## 5105                              stone       0      1  0.284934081
## 5106                            storage       0      1  0.284934081
## 5107                             storms       0      1  0.284934081
## 5108                      straightening       0      1  0.284934081
## 5109                             stream       0      1  0.284934081
## 5110                          strongest       0      1  0.284934081
## 5111                             struck       0      1  0.284934081
## 5112                          struggled       0      1  0.284934081
## 5113                            student       0      1  0.284934081
## 5114                            studies       0      1  0.284934081
## 5115                          submitted       0      1  0.284934081
## 5116                      subscriptions       0      1  0.284934081
## 5117                            succeed       0      1  0.284934081
## 5118                            suggest       0      1  0.284934081
## 5119                              suing       0      1  0.284934081
## 5120                               suit       0      1  0.284934081
## 5121                             summer       0      1  0.284934081
## 5122                             sununu       0      1  0.284934081
## 5123                           superior       0      1  0.284934081
## 5124                          surrogate       0      1  0.284934081
## 5125                       surveillance       0      1  0.284934081
## 5126                            surveys       0      1  0.284934081
## 5127                           suspects       0      1  0.284934081
## 5128                            suspend       0      1  0.284934081
## 5129                         suspending       0      1  0.284934081
## 5130                              table       0      1  0.284934081
## 5131                               taco       0      1  0.284934081
## 5132                            tactics       0      1  0.284934081
## 5133                              takes       0      1  0.284934081
## 5134                             tanden       0      1  0.284934081
## 5135                               tarp       0      1  0.284934081
## 5136                           taunting       0      1  0.284934081
## 5137                              teach       0      1  0.284934081
## 5138                             teamed       0      1  0.284934081
## 5139                         technician       0      1  0.284934081
## 5140                                tee       0      1  0.284934081
## 5141                                tel       0      1  0.284934081
## 5142                          temporary       0      1  0.284934081
## 5143                         terminated       0      1  0.284934081
## 5144                           terribly       0      1  0.284934081
## 5145                          terrified       0      1  0.284934081
## 5146                          testimony       0      1  0.284934081
## 5147                                tha       0      1  0.284934081
## 5148                    thejuanwilliams       0      1  0.284934081
## 5149                              theyd       0      1  0.284934081
## 5150                             theyll       0      1  0.284934081
## 5151                             thirty       0      1  0.284934081
## 5152                        thisweekabc       0      1  0.284934081
## 5153                              throw       0      1  0.284934081
## 5154                              tiger       0      1  0.284934081
## 5155                               tiny       0      1  0.284934081
## 5156                         togetherto       0      1  0.284934081
## 5157                          toledo4pm       0      1  0.284934081
## 5158                              topic       0      1  0.284934081
## 5159                               tops       0      1  0.284934081
## 5160                          tornadoes       0      1  0.284934081
## 5161                             torres       0      1  0.284934081
## 5162                            touches       0      1  0.284934081
## 5163                           touching       0      1  0.284934081
## 5164                          toughness       0      1  0.284934081
## 5165                               tour       0      1  0.284934081
## 5166                        traceadkins       0      1  0.284934081
## 5167                         trafficked       0      1  0.284934081
## 5168                             tragic       0      1  0.284934081
## 5169                              train       0      1  0.284934081
## 5170                           training       0      1  0.284934081
## 5171                               trap       0      1  0.284934081
## 5172                              trash       0      1  0.284934081
## 5173                             travis       0      1  0.284934081
## 5174                            tribute       0      1  0.284934081
## 5175                              trice       0      1  0.284934081
## 5176                              troll       0      1  0.284934081
## 5177                           troubled       0      1  0.284934081
## 5178                             trough       0      1  0.284934081
## 5179                        trumpocrats       0      1  0.284934081
## 5180                             trumpu       0      1  0.284934081
## 5181                            trusted       0      1  0.284934081
## 5182                             tucson       0      1  0.284934081
## 5183                                tue       0      1  0.284934081
## 5184                             turkey       0      1  0.284934081
## 5185                         tweetsvery       0      1  0.284934081
## 5186                                ufc       0      1  0.284934081
## 5187                                 ul       0      1  0.284934081
## 5188                              umass       0      1  0.284934081
## 5189                       unacceptable       0      1  0.284934081
## 5190                       unauthorized       0      1  0.284934081
## 5191                         undecideds       0      1  0.284934081
## 5192                         underlings       0      1  0.284934081
## 5193                         undermines       0      1  0.284934081
## 5194                         understood       0      1  0.284934081
## 5195                           underway       0      1  0.284934081
## 5196                          unfolding       0      1  0.284934081
## 5197                        unification       0      1  0.284934081
## 5198                               univ       0      1  0.284934081
## 5199                      unpredictable       0      1  0.284934081
## 5200                     unquestionably       0      1  0.284934081
## 5201                             unrest       0      1  0.284934081
## 5202                             unveil       0      1  0.284934081
## 5203                           unveiled       0      1  0.284934081
## 5204                              upand       0      1  0.284934081
## 5205                            updated       0      1  0.284934081
## 5206                             upheld       0      1  0.284934081
## 5207                              urban       0      1  0.284934081
## 5208                             urging       0      1  0.284934081
## 5209                                usc       0      1  0.284934081
## 5210                           username       0      1  0.284934081
## 5211                               usss       0      1  0.284934081
## 5212                              usual       0      1  0.284934081
## 5213                          validated       0      1  0.284934081
## 5214                             valley       0      1  0.284934081
## 5215                                van       0      1  0.284934081
## 5216                        vandersloot       0      1  0.284934081
## 5217                            vanessa       0      1  0.284934081
## 5218                          vanishing       0      1  0.284934081
## 5219                               veep       0      1  0.284934081
## 5220                          venezuela       0      1  0.284934081
## 5221                                 vi       0      1  0.284934081
## 5222                            vibrant       0      1  0.284934081
## 5223                             victim       0      1  0.284934081
## 5224                          victories       0      1  0.284934081
## 5225                    videobroaddrick       0      1  0.284934081
## 5226                          vigilance       0      1  0.284934081
## 5227                        vindication       0      1  0.284934081
## 5228                            virtues       0      1  0.284934081
## 5229                              visas       0      1  0.284934081
## 5230                          volunteer       0      1  0.284934081
## 5231                                von       0      1  0.284934081
## 5232                         voterfraud       0      1  0.284934081
## 5233                                vps       0      1  0.284934081
## 5234                                 vt       0      1  0.284934081
## 5235                             vulgar       0      1  0.284934081
## 5236                          vulgarian       0      1  0.284934081
## 5237                              wades       0      1  0.284934081
## 5238                            walking       0      1  0.284934081
## 5239                               wapo       0      1  0.284934081
## 5240                               warn       0      1  0.284934081
## 5241                              warns       0      1  0.284934081
## 5242                            warrens       0      1  0.284934081
## 5243                            warwick       0      1  0.284934081
## 5244                               watc       0      1  0.284934081
## 5245                           watchdog       0      1  0.284934081
## 5246                              water       0      1  0.284934081
## 5247                          waterbury       0      1  0.284934081
## 5248                           waterloo       0      1  0.284934081
## 5249                          watertown       0      1  0.284934081
## 5250                             waynes       0      1  0.284934081
## 5251                             weapon       0      1  0.284934081
## 5252                            website       0      1  0.284934081
## 5253                          wellwrong       0      1  0.284934081
## 5254                             werent       0      1  0.284934081
## 5255                            western       0      1  0.284934081
## 5256                          westfield       0      1  0.284934081
## 5257                               weve       0      1  0.284934081
## 5258                             widens       0      1  0.284934081
## 5259                             willey       0      1  0.284934081
## 5260                            william       0      1  0.284934081
## 5261                      williebosshog       0      1  0.284934081
## 5262                            windham       0      1  0.284934081
## 5263                            windows       0      1  0.284934081
## 5264                               wini       0      1  0.284934081
## 5265                             winter       0      1  0.284934081
## 5266                             winthx       0      1  0.284934081
## 5267                             wisdom       0      1  0.284934081
## 5268                            wishing       0      1  0.284934081
## 5269                          withdrawn       0      1  0.284934081
## 5270                           withheld       0      1  0.284934081
## 5271                          witnesses       0      1  0.284934081
## 5272                             wlocal       0      1  0.284934081
## 5273                             wobama       0      1  0.284934081
## 5274                           wondered       0      1  0.284934081
## 5275                          worcester       0      1  0.284934081
## 5276                        workingclas       0      1  0.284934081
## 5277                          worldcont       0      1  0.284934081
## 5278                              worry       0      1  0.284934081
## 5279                             worthy       0      1  0.284934081
## 5280                               wout       0      1  0.284934081
## 5281                            writers       0      1  0.284934081
## 5282                              wthem       0      1  0.284934081
## 5283                              wthis       0      1  0.284934081
## 5284                               wwii       0      1  0.284934081
## 5285                            xfinity       0      1  0.284934081
## 5286                            yankees       0      1  0.284934081
## 5287                            yearcan       0      1  0.284934081
## 5288                         yearswhere       0      1  0.284934081
## 5289                         yesterdays       0      1  0.284934081
## 5290                            yorkers       0      1  0.284934081
## 5291                              youve       0      1  0.284934081
## 5292                                yrs       0      1  0.284934081
## 5293                       @ericbolling       1      4  0.284889784
## 5294                     @facethenation       1      4  0.284889784
## 5295                       @jimmyfallon       1      4  0.284889784
## 5296                                $50       1      4  0.284889784
## 5297                            account       1      4  0.284889784
## 5298                           anderson       1      4  0.284889784
## 5299                           arkansas       1      4  0.284889784
## 5300                               coal       1      4  0.284889784
## 5301                            council       1      4  0.284889784
## 5302                            driving       1      4  0.284889784
## 5303                           dropping       1      4  0.284889784
## 5304                                due       1      4  0.284889784
## 5305                             havent       1      4  0.284889784
## 5306                             heroes       1      4  0.284889784
## 5307                                ice       1      4  0.284889784
## 5308                               june       1      4  0.284889784
## 5309                            mcquaid       1      4  0.284889784
## 5310                          pensacola       1      4  0.284889784
## 5311                              plans       1      4  0.284889784
## 5312                              prior       1      4  0.284889784
## 5313                           richmond       1      4  0.284889784
## 5314                           schlafly       1      4  0.284889784
## 5315                             simple       1      4  0.284889784
## 5316                           thursday       1      4  0.284889784
## 5317                                8th       2      7  0.284845481
## 5318                           economic       2      7  0.284845481
## 5319                              fired       2      7  0.284845481
## 5320                             health       2      7  0.284845481
## 5321                            landing       2      7  0.284845481
## 5322                           missouri       2      7  0.284845481
## 5323                               reno       2      7  0.284845481
## 5324                             county       3     10  0.284801173
## 5325                             future       3     10  0.284801173
## 5326                            honored       3     10  0.284801173
## 5327                                 ny       3     10  0.284801173
## 5328                           hillarys       5     16  0.284712540
## 5329                           clintons       7     22  0.284623886
## 5330                               york      10     32  0.275717272
## 5331                        enforcement       5     17  0.268423778
## 5332                           families       3     11  0.260016997
## 5333                             nevada       9     31  0.257380542
## 5334                             nights       2      8  0.251316027
## 5335                           policies       2      8  0.251316027
## 5336                         washington       6     22  0.246658749
## 5337                                bob       1      5  0.233074746
## 5338                       conservative       1      5  0.233074746
## 5339                           daughter       1      5  0.233074746
## 5340                             hawaii       1      5  0.233074746
## 5341                             island       1      5  0.233074746
## 5342                          schlonged       1      5  0.233074746
## 5343                              white       1      5  0.233074746
## 5344                            tuesday       4     16  0.232932191
## 5345                            elected       2      9  0.224845405
## 5346                         government       2      9  0.224845405
## 5347                             israel       2      9  0.224845405
## 5348                               plan       2      9  0.224845405
## 5349                               miss       3     13  0.221463836
## 5350                              north       8     33  0.216494454
## 5351                            support      18     74  0.211379118
## 5352                           tomorrow      24     99  0.209295337
## 5353                       pennsylvania       9     39  0.205133586
## 5354                          louisiana       2     10  0.203416806
## 5355                              maine       2     10  0.203416806
## 5356                           birthday       1      6  0.197202797
## 5357                             create       1      6  0.197202797
## 5358                            funding       1      6  0.197202797
## 5359                            joining       1      6  0.197202797
## 5360                           official       1      6  0.197202797
## 5361                               page       1      6  0.197202797
## 5362                              serve       1      6  0.197202797
## 5363                           tonights       1      6  0.197202797
## 5364                             trumps       1      6  0.197202797
## 5365                              video       9     41  0.195219254
## 5366                           @abc2020       0      2  0.170948060
## 5367                               @cbs       0      2  0.170948060
## 5368                   @colbertlateshow       0      2  0.170948060
## 5369                        @frankluntz       0      2  0.170948060
## 5370                     @jessebwatters       0      2  0.170948060
## 5371                       @jimmykimmel       0      2  0.170948060
## 5372                      @katiepavlich       0      2  0.170948060
## 5373                     @monteskitchen       0      2  0.170948060
## 5374                    @nytdavidbrooks       0      2  0.170948060
## 5375                        @peterose14       0      2  0.170948060
## 5376                       @piersmorgan       0      2  0.170948060
## 5377                         @teamtrump       0      2  0.170948060
## 5378                     @terrybranstad       0      2  0.170948060
## 5379                          @tgowdysc       0      2  0.170948060
## 5380                            @thefix       0      2  0.170948060
## 5381                        @twitternyc       0      2  0.170948060
## 5382                          @usatoday       0      2  0.170948060
## 5383                           #abc2020       0      2  0.170948060
## 5384                    #arizonaprimary       0      2  0.170948060
## 5385                   #crippledamerica       0      2  0.170948060
## 5386                               #fns       0      2  0.170948060
## 5387                               #fox       0      2  0.170948060
## 5388                           #foxnews       0      2  0.170948060
## 5389                        #iapolitics       0      2  0.170948060
## 5390                            #kimmel       0      2  0.170948060
## 5391                          #laborday       0      2  0.170948060
## 5392                       #lawandorder       0      2  0.170948060
## 5393              #makeamericaworkagain       0      2  0.170948060
## 5394                               #nyc       0      2  0.170948060
## 5395                       #ontherecord       0      2  0.170948060
## 5396                         #paprimary       0      2  0.170948060
## 5397                   #repealobamacare       0      2  0.170948060
## 5398                         #riprimary       0      2  0.170948060
## 5399                   #secondamendment       0      2  0.170948060
## 5400                              #sotu       0      2  0.170948060
## 5401                     #supersaturday       0      2  0.170948060
## 5402                        #trumptoday       0      2  0.170948060
## 5403                          #trumpwon       0      2  0.170948060
## 5404                       #ussyorktown       0      2  0.170948060
## 5405                        #utahcaucus       0      2  0.170948060
## 5406                          #utcaucus       0      2  0.170948060
## 5407                      #wattersworld       0      2  0.170948060
## 5408                                  +       0      2  0.170948060
## 5409                         \u274casia       0      2  0.170948060
## 5410                     \u274cbenghazi       0      2  0.170948060
## 5411                         \u274ciran       0      2  0.170948060
## 5412                         \u274ciraq       0      2  0.170948060
## 5413                        \u274clibya       0      2  0.170948060
## 5414                      \u274crussian       0      2  0.170948060
## 5415                        \u274csyria       0      2  0.170948060
## 5416                              100pm       0      2  0.170948060
## 5417                             1030am       0      2  0.170948060
## 5418                               10am       0      2  0.170948060
## 5419                               10pe       0      2  0.170948060
## 5420                             1130am       0      2  0.170948060
## 5421                               11pm       0      2  0.170948060
## 5422                              230pm       0      2  0.170948060
## 5423                               25th       0      2  0.170948060
## 5424                                2pm       0      2  0.170948060
## 5425                              300pm       0      2  0.170948060
## 5426                              330pm       0      2  0.170948060
## 5427                              530pm       0      2  0.170948060
## 5428                                5pm       0      2  0.170948060
## 5429                                5th       0      2  0.170948060
## 5430                              800pm       0      2  0.170948060
## 5431                              830pm       0      2  0.170948060
## 5432                              930pm       0      2  0.170948060
## 5433                                9pm       0      2  0.170948060
## 5434                            abandon       0      2  0.170948060
## 5435                           accepted       0      2  0.170948060
## 5436                           accounts       0      2  0.170948060
## 5437                           activity       0      2  0.170948060
## 5438                            adviser       0      2  0.170948060
## 5439                         affordable       0      2  0.170948060
## 5440                                 ag       0      2  0.170948060
## 5441                        albuquerque       0      2  0.170948060
## 5442                               alex       0      2  0.170948060
## 5443                        anniversary       0      2  0.170948060
## 5444                       anticatholic       0      2  0.170948060
## 5445                          apologies       0      2  0.170948060
## 5446                             appeal       0      2  0.170948060
## 5447                               arms       0      2  0.170948060
## 5448                           arriving       0      2  0.170948060
## 5449                             austin       0      2  0.170948060
## 5450                                 az       0      2  0.170948060
## 5451                               bear       0      2  0.170948060
## 5452                           behavior       0      2  0.170948060
## 5453                               bend       0      2  0.170948060
## 5454                           berglund       0      2  0.170948060
## 5455                             betray       0      2  0.170948060
## 5456                           betrayed       0      2  0.170948060
## 5457                             biloxi       0      2  0.170948060
## 5458                              blaze       0      2  0.170948060
## 5459                           breaking       0      2  0.170948060
## 5460                             brooks       0      2  0.170948060
## 5461                              buyer       0      2  0.170948060
## 5462                            cameras       0      2  0.170948060
## 5463                               camp       0      2  0.170948060
## 5464                             canton       0      2  0.170948060
## 5465                             carmel       0      2  0.170948060
## 5466                          celebrate       0      2  0.170948060
## 5467                        celebrating       0      2  0.170948060
## 5468                         charleston       0      2  0.170948060
## 5469                              child       0      2  0.170948060
## 5470                          childcare       0      2  0.170948060
## 5471                            chinese       0      2  0.170948060
## 5472                           christie       0      2  0.170948060
## 5473                        circulation       0      2  0.170948060
## 5474                              civic       0      2  0.170948060
## 5475                            clemson       0      2  0.170948060
## 5476                       clintonkaine       0      2  0.170948060
## 5477                              clive       0      2  0.170948060
## 5478                             closes       0      2  0.170948060
## 5479                            closing       0      2  0.170948060
## 5480                           clueless       0      2  0.170948060
## 5481                             column       0      2  0.170948060
## 5482                            compete       0      2  0.170948060
## 5483                      congressional       0      2  0.170948060
## 5484                         consistent       0      2  0.170948060
## 5485                               cont       0      2  0.170948060
## 5486                              contd       0      2  0.170948060
## 5487                           contract       0      2  0.170948060
## 5488                         contribute       0      2  0.170948060
## 5489                      contributions       0      2  0.170948060
## 5490                               copy       0      2  0.170948060
## 5491                        correctness       0      2  0.170948060
## 5492                               cory       0      2  0.170948060
## 5493                            courage       0      2  0.170948060
## 5494                             crimes       0      2  0.170948060
## 5495                          criticize       0      2  0.170948060
## 5496                             curtis       0      2  0.170948060
## 5497                                cut       0      2  0.170948060
## 5498                          davenport       0      2  0.170948060
## 5499                           deadline       0      2  0.170948060
## 5500                          deadlines       0      2  0.170948060
## 5501                             deaths       0      2  0.170948060
## 5502                           declared       0      2  0.170948060
## 5503                            deliver       0      2  0.170948060
## 5504                          demanding       0      2  0.170948060
## 5505                               dept       0      2  0.170948060
## 5506                            deserve       0      2  0.170948060
## 5507                            despair       0      2  0.170948060
## 5508                            details       0      2  0.170948060
## 5509                           disabled       0      2  0.170948060
## 5510                           district       0      2  0.170948060
## 5511                              dream       0      2  0.170948060
## 5512                              drive       0      2  0.170948060
## 5513                           dutchess       0      2  0.170948060
## 5514                            embrace       0      2  0.170948060
## 5515                             employ       0      2  0.170948060
## 5516                              empty       0      2  0.170948060
## 5517                            enforce       0      2  0.170948060
## 5518                           evenings       0      2  0.170948060
## 5519                          excellent       0      2  0.170948060
## 5520                             expand       0      2  0.170948060
## 5521                             extend       0      2  0.170948060
## 5522                              fails       0      2  0.170948060
## 5523                             fallen       0      2  0.170948060
## 5524                            farmers       0      2  0.170948060
## 5525                           february       0      2  0.170948060
## 5526                               flat       0      2  0.170948060
## 5527                           fletcher       0      2  0.170948060
## 5528                               food       0      2  0.170948060
## 5529                     franklingraham       0      2  0.170948060
## 5530                               gays       0      2  0.170948060
## 5531                               gold       0      2  0.170948060
## 5532                             golden       0      2  0.170948060
## 5533                              green       0      2  0.170948060
## 5534                         greenville       0      2  0.170948060
## 5535                        hardworking       0      2  0.170948060
## 5536                              haute       0      2  0.170948060
## 5537                           headline       0      2  0.170948060
## 5538                            hershey       0      2  0.170948060
## 5539                             hilton       0      2  0.170948060
## 5540                            honesty       0      2  0.170948060
## 5541                             hosted       0      2  0.170948060
## 5542             http://t.co/fokcasbvun       0      2  0.170948060
## 5543                               huge       0      2  0.170948060
## 5544                          hurricane       0      2  0.170948060
## 5545                           ignoring       0      2  0.170948060
## 5546                           includes       0      2  0.170948060
## 5547                             income       0      2  0.170948060
## 5548                          increased       0      2  0.170948060
## 5549                         incredibly       0      2  0.170948060
## 5550                       indianapolis       0      2  0.170948060
## 5551                             influx       0      2  0.170948060
## 5552                         innovation       0      2  0.170948060
## 5553                            insider       0      2  0.170948060
## 5554                      interventions       0      2  0.170948060
## 5555                             ironic       0      2  0.170948060
## 5556                            israeli       0      2  0.170948060
## 5557                              jerry       0      2  0.170948060
## 5558                                jim       0      2  0.170948060
## 5559                              jones       0      2  0.170948060
## 5560                           judgment       0      2  0.170948060
## 5561                         katyturnbc       0      2  0.170948060
## 5562                            knocked       0      2  0.170948060
## 5563                            kristol       0      2  0.170948060
## 5564                                 ky       0      2  0.170948060
## 5565                              labor       0      2  0.170948060
## 5566                           language       0      2  0.170948060
## 5567                           lifetime       0      2  0.170948060
## 5568                             linked       0      2  0.170948060
## 5569                             magnet       0      2  0.170948060
## 5570              makeamericagreatagain       0      2  0.170948060
## 5571                             manage       0      2  0.170948060
## 5572                         marcorubio       0      2  0.170948060
## 5573                           marshall       0      2  0.170948060
## 5574                               mesa       0      2  0.170948060
## 5575                          miami12pm       0      2  0.170948060
## 5576                               mile       0      2  0.170948060
## 5577                          milwaukee       0      2  0.170948060
## 5578                          minnesota       0      2  0.170948060
## 5579                                mon       0      2  0.170948060
## 5580                            morocco       0      2  0.170948060
## 5581                              morty       0      2  0.170948060
## 5582                                 ms       0      2  0.170948060
## 5583                              nieto       0      2  0.170948060
## 5584                                 nm       0      2  0.170948060
## 5585                          nominated       0      2  0.170948060
## 5586                               novi       0      2  0.170948060
## 5587                          operative       0      2  0.170948060
## 5588                            opinion       0      2  0.170948060
## 5589                         opposition       0      2  0.170948060
## 5590                         orlando4pm       0      2  0.170948060
## 5591                            outlets       0      2  0.170948060
## 5592                           outsider       0      2  0.170948060
## 5593                            oversaw       0      2  0.170948060
## 5594                             palins       0      2  0.170948060
## 5595                      participating       0      2  0.170948060
## 5596                              peace       0      2  0.170948060
## 5597                        pensacola7p       0      2  0.170948060
## 5598                            peoples       0      2  0.170948060
## 5599                              pilot       0      2  0.170948060
## 5600                              pivot       0      2  0.170948060
## 5601                           platform       0      2  0.170948060
## 5602                           playbook       0      2  0.170948060
## 5603                           plymouth       0      2  0.170948060
## 5604                           podestas       0      2  0.170948060
## 5605                            popular       0      2  0.170948060
## 5606                              prime       0      2  0.170948060
## 5607                             prince       0      2  0.170948060
## 5608                          principle       0      2  0.170948060
## 5609                            project       0      2  0.170948060
## 5610                         prosecutor       0      2  0.170948060
## 5611                             proves       0      2  0.170948060
## 5612                             pueblo       0      2  0.170948060
## 5613                       questionable       0      2  0.170948060
## 5614                              ralph       0      2  0.170948060
## 5615                              reach       0      2  0.170948060
## 5616                            readers       0      2  0.170948060
## 5617                             reagan       0      2  0.170948060
## 5618                           reckless       0      2  0.170948060
## 5619                            redding       0      2  0.170948060
## 5620                            reforms       0      2  0.170948060
## 5621                         registered       0      2  0.170948060
## 5622                       registration       0      2  0.170948060
## 5623                               reid       0      2  0.170948060
## 5624                             relief       0      2  0.170948060
## 5625                        remembrance       0      2  0.170948060
## 5626                           reminder       0      2  0.170948060
## 5627                            restore       0      2  0.170948060
## 5628                            reveals       0      2  0.170948060
## 5629                              ridge       0      2  0.170948060
## 5630                                rig       0      2  0.170948060
## 5631                               rise       0      2  0.170948060
## 5632                          robertson       0      2  0.170948060
## 5633                                ron       0      2  0.170948060
## 5634                               root       0      2  0.170948060
## 5635                                 rs       0      2  0.170948060
## 5636                               runs       0      2  0.170948060
## 5637                          sachsciti       0      2  0.170948060
## 5638                         sacramento       0      2  0.170948060
## 5639                             scheme       0      2  0.170948060
## 5640                             series       0      2  0.170948060
## 5641                             shared       0      2  0.170948060
## 5642                               shop       0      2  0.170948060
## 5643                         signatures       0      2  0.170948060
## 5644                             sparks       0      2  0.170948060
## 5645                            spencer       0      2  0.170948060
## 5646                             spread       0      2  0.170948060
## 5647                               stab       0      2  0.170948060
## 5648                          streaming       0      2  0.170948060
## 5649                             summit       0      2  0.170948060
## 5650                          surrender       0      2  0.170948060
## 5651                              swamp       0      2  0.170948060
## 5652                              tells       0      2  0.170948060
## 5653                              terre       0      2  0.170948060
## 5654                             thrown       0      2  0.170948060
## 5655                          traveling       0      2  0.170948060
## 5656                              trend       0      2  0.170948060
## 5657                           trillion       0      2  0.170948060
## 5658                              tulsa       0      2  0.170948060
## 5659                                 tx       0      2  0.170948060
## 5660                           unifying       0      2  0.170948060
## 5661                           upcoming       0      2  0.170948060
## 5662                            uranium       0      2  0.170948060
## 5663                              urged       0      2  0.170948060
## 5664                                vet       0      2  0.170948060
## 5665                            vetting       0      2  0.170948060
## 5666                           visiting       0      2  0.170948060
## 5667                                 wa       0      2  0.170948060
## 5668                              wacky       0      2  0.170948060
## 5669                             warned       0      2  0.170948060
## 5670                               wars       0      2  0.170948060
## 5671                          welcoming       0      2  0.170948060
## 5672                        wilkesbarre       0      2  0.170948060
## 5673                                wtc       0      2  0.170948060
## 5674                                 wv       0      2  0.170948060
## 5675                         youngstown       0      2  0.170948060
## 5676                              youre       0      2  0.170948060
## 5677                          charlotte       1      7  0.170896701
## 5678                         cincinnati       1      7  0.170896701
## 5679                              forum       1      7  0.170896701
## 5680                           maryland       1      7  0.170896701
## 5681                           register       1      7  0.170896701
## 5682                          americans       2     13  0.158178654
## 5683                                 nh       2     13  0.158178654
## 5684                      @melaniatrump       1      8  0.150780275
## 5685                              grand       1      8  0.150780275
## 5686                           michigan       4     25  0.150622423
## 5687                                gop       2     14  0.147259100
## 5688                               safe       5     33  0.140058606
## 5689                       unbelievable       3     21  0.138978001
## 5690                      @kimguilfoyle       0      3  0.122096908
## 5691                               @nra       0      3  0.122096908
## 5692                            @reince       0      3  0.122096908
## 5693                        @trumpdoral       0      3  0.122096908
## 5694                         @trumpgolf       0      3  0.122096908
## 5695                          #asktrump       0      3  0.122096908
## 5696                         #azprimary       0      3  0.122096908
## 5697                       #debates2016       0      3  0.122096908
## 5698                    #followthemoney       0      3  0.122096908
## 5699                     #meetthetrumps       0      3  0.122096908
## 5700                               #msm       0      3  0.122096908
## 5701                        #nhpolitics       0      3  0.122096908
## 5702                         #paytoplay       0      3  0.122096908
## 5703                               #tbt       0      3  0.122096908
## 5704                       #votetrumpmi       0      3  0.122096908
## 5705                                 $1       0      3  0.122096908
## 5706                                $1m       0      3  0.122096908
## 5707                            1135pme       0      3  0.122096908
## 5708                               12pm       0      3  0.122096908
## 5709                                25k       0      3  0.122096908
## 5710                                7am       0      3  0.122096908
## 5711                             accept       0      3  0.122096908
## 5712                             albany       0      3  0.122096908
## 5713                              april       0      3  0.122096908
## 5714                        association       0      3  0.122096908
## 5715                          augustine       0      3  0.122096908
## 5716                            brazile       0      3  0.122096908
## 5717                           cadillac       0      3  0.122096908
## 5718                           conflict       0      3  0.122096908
## 5719                          continued       0      3  0.122096908
## 5720                             cooper       0      3  0.122096908
## 5721                             copies       0      3  0.122096908
## 5722                         delivering       0      3  0.122096908
## 5723                        deplorables       0      3  0.122096908
## 5724                          deucecrew       0      3  0.122096908
## 5725                              donna       0      3  0.122096908
## 5726                            efforts       0      3  0.122096908
## 5727                           everyday       0      3  0.122096908
## 5728                          executive       0      3  0.122096908
## 5729                          expecting       0      3  0.122096908
## 5730                        fortunately       0      3  0.122096908
## 5731                             funded       0      3  0.122096908
## 5732                           grateful       0      3  0.122096908
## 5733                            greeley       0      3  0.122096908
## 5734                             hacked       0      3  0.122096908
## 5735                          henderson       0      3  0.122096908
## 5736                                hey       0      3  0.122096908
## 5737                    hillaryclintons       0      3  0.122096908
## 5738                              idaho       0      3  0.122096908
## 5739                          insurance       0      3  0.122096908
## 5740                             joined       0      3  0.122096908
## 5741                           managing       0      3  0.122096908
## 5742                           marriage       0      3  0.122096908
## 5743                           minister       0      3  0.122096908
## 5744                            montana       0      3  0.122096908
## 5745                                 nv       0      3  0.122096908
## 5746                        opportunity       0      3  0.122096908
## 5747                           overflow       0      3  0.122096908
## 5748                        palestinian       0      3  0.122096908
## 5749                              pella       0      3  0.122096908
## 5750                           portland       0      3  0.122096908
## 5751                         portsmouth       0      3  0.122096908
## 5752                         postdebate       0      3  0.122096908
## 5753                            praying       0      3  0.122096908
## 5754                            priebus       0      3  0.122096908
## 5755                           promised       0      3  0.122096908
## 5756                          rasmussen       0      3  0.122096908
## 5757                             recent       0      3  0.122096908
## 5758                              reset       0      3  0.122096908
## 5759                            sanford       0      3  0.122096908
## 5760                           scranton       0      3  0.122096908
## 5761                             senior       0      3  0.122096908
## 5762                             served       0      3  0.122096908
## 5763                        tallahassee       0      3  0.122096908
## 5764                               ties       0      3  0.122096908
## 5765                           timkaine       0      3  0.122096908
## 5766                            tragedy       0      3  0.122096908
## 5767                              trust       0      3  0.122096908
## 5768                          unleashed       0      3  0.122096908
## 5769                            upstate       0      3  0.122096908
## 5770                              voice       0      3  0.122096908
## 5771                           waukesha       0      3  0.122096908
## 5772                                 wi       0      3  0.122096908
## 5773                            workers       0      3  0.122096908
## 5774                              10pme       1     10  0.122042523
## 5775                            tickets       5     46  0.100807160
## 5776                    @hillaryclinton       0      4  0.094957379
## 5777                    @jerryjrfalwell       0      4  0.094957379
## 5778                     @trumpscotland       0      4  0.094957379
## 5779                    @trumpturnberry       0      4  0.094957379
## 5780                         #cnndebate       0      4  0.094957379
## 5781                      #nevadacaucus       0      4  0.094957379
## 5782                     #newyorkvalues       0      4  0.094957379
## 5783                                4pm       0      4  0.094957379
## 5784                               8pme       0      4  0.094957379
## 5785                              aides       0      4  0.094957379
## 5786                             bangor       0      4  0.094957379
## 5787                              baton       0      4  0.094957379
## 5788                                bay       0      4  0.094957379
## 5789                             bluffs       0      4  0.094957379
## 5790                                boy       0      4  0.094957379
## 5791                          donations       0      4  0.094957379
## 5792                          forgotten       0      4  0.094957379
## 5793                         greensboro       0      4  0.094957379
## 5794                               hurt       0      4  0.094957379
## 5795                         manchester       0      4  0.094957379
## 5796                                 mn       0      4  0.094957379
## 5797                             naples       0      4  0.094957379
## 5798                               newt       0      4  0.094957379
## 5799                                 nj       0      4  0.094957379
## 5800                                owe       0      4  0.094957379
## 5801                            podesta       0      4  0.094957379
## 5802                           premiums       0      4  0.094957379
## 5803                             reform       0      4  0.094957379
## 5804                                rep       0      4  0.094957379
## 5805                              rhode       0      4  0.094957379
## 5806                              rouge       0      4  0.094957379
## 5807                              sarah       0      4  0.094957379
## 5808                               sign       0      4  0.094957379
## 5809                        springfield       0      4  0.094957379
## 5810                           syracuse       0      4  0.094957379
## 5811                                 tn       0      4  0.094957379
## 5812                          unethical       0      4  0.094957379
## 5813                            verizon       0      4  0.094957379
## 5814                           wireless       0      4  0.094957379
## 5815                            prayers       1     14  0.088349986
## 5816                              tampa       1     14  0.088349986
## 5817                     @fallontonight       0      5  0.077686770
## 5818                     #gopconvention       0      5  0.077686770
## 5819              #makeamericasafeagain       0      5  0.077686770
## 5820                         #scprimary       0      5  0.077686770
## 5821                        #trumprally       0      5  0.077686770
## 5822                       #votetrumpnv       0      5  0.077686770
## 5823                                  |       0      5  0.077686770
## 5824                               11am       0      5  0.077686770
## 5825                                 2a       0      5  0.077686770
## 5826                             behalf       0      5  0.077686770
## 5827                              cedar       0      5  0.077686770
## 5828                           chairman       0      5  0.077686770
## 5829                            daytona       0      5  0.077686770
## 5830                          exclusive       0      5  0.077686770
## 5831                                 mi       0      5  0.077686770
## 5832                              potus       0      5  0.077686770
## 5833                            receive       0      5  0.077686770
## 5834                            roanoke       0      5  0.077686770
## 5835                             server       0      5  0.077686770
## 5836                           supports       0      5  0.077686770
## 5837                             toledo       0      5  0.077686770
## 5838                           violence       0      5  0.077686770
## 5839                              wayne       0      5  0.077686770
## 5840                         wilmington       0      5  0.077686770
## 5841                            #debate       0      6  0.065730194
## 5842                              #isis       0      6  0.065730194
## 5843                              #lesm       0      6  0.065730194
## 5844                             #potus       0      6  0.065730194
## 5845                     #votetrump2016       0      6  0.065730194
## 5846                  #votetrumppence16       0      6  0.065730194
## 5847                               7pme       0      6  0.065730194
## 5848                             choker       0      6  0.065730194
## 5849                           columbus       0      6  0.065730194
## 5850                             denver       0      6  0.065730194
## 5851                         foundation       0      6  0.065730194
## 5852                                 ia       0      6  0.065730194
## 5853                           response       0      6  0.065730194
## 5854                            springs       0      6  0.065730194
## 5855                              #maga       5     71  0.065440740
## 5856                         #nhprimary       0      7  0.056962038
## 5857                     #obamacarefail       0      7  0.056962038
## 5858                               10pm       0      7  0.056962038
## 5859                              730pm       0      7  0.056962038
## 5860                                 bc       0      7  0.056962038
## 5861                           delaware       0      7  0.056962038
## 5862                                est       0      7  0.056962038
## 5863                         pittsburgh       0      7  0.056962038
## 5864                            signing       0      7  0.056962038
## 5865                         transcript       0      7  0.056962038
## 5866                             values       0      7  0.056962038
## 5867                    @donaldjtrumpjr       0      8  0.050256978
## 5868                       #debatenight       0      8  0.050256978
## 5869                           #debates       0      8  0.050256978
## 5870                         #nyprimary       0      8  0.050256978
## 5871                       #votetrumpnh       0      8  0.050256978
## 5872                             finder       0      8  0.050256978
## 5873                     hillaryclinton       0      8  0.050256978
## 5874                           illinois       0      8  0.050256978
## 5875                              means       0      8  0.050256978
## 5876                         @erictrump       0      9  0.044963510
## 5877                       #votetrumpsc       0      9  0.044963510
## 5878                                8pm       0      9  0.044963510
## 5879                          departing       0      9  0.044963510
## 5880                                 fl       0      9  0.044963510
## 5881                                 pa       0      9  0.044963510
## 5882                                 st       0      9  0.044963510
## 5883                       @ivankatrump       0     10  0.040678321
## 5884                    #caucusfortrump       0     10  0.040678321
## 5885                         #inprimary       0     10  0.040678321
## 5886                         #obamacare       0     10  0.040678321
## 5887                          #rncincle       0     10  0.040678321
## 5888                                6pm       0     11  0.037138383
## 5889                           received       0     11  0.037138383
## 5890                          wikileaks       0     11  0.037138383
## 5891                          #vpdebate       0     12  0.034164834
## 5892                         #wiprimary       0     12  0.034164834
## 5893                             rapids       0     12  0.034164834
## 5894                      #supertuesday       0     16  0.025874942
## 5895                               tune       0     16  0.025874942
## 5896                         @mikepence       0     17  0.024394604
## 5897                        #trumptrain       0     18  0.023074302
## 5898                                3pm       0     19  0.021889416
## 5899                             #icymi       0     20  0.020820129
## 5900                          #iacaucus       0     21  0.019850311
## 5901                           officers       0     21  0.019850311
## 5902                    #bigleaguetruth       0     22  0.018966698
## 5903                                7pm       0     23  0.018158286
## 5904                      #trumppence16       0     28  0.014967188
## 5905                    #crookedhillary       0     30  0.013983703
## 5906                              #fitn       0     30  0.013983703
## 5907                         #gopdebate       0     30  0.013983703
## 5908                         #imwithyou       0     51  0.008268981
## 5909                               join       1    157  0.008049441
## 5910                         #votetrump       0     56  0.007534472
## 5911                         #trump2016       3    411  0.007055789
## 5912                     #draintheswamp       0     63  0.006700486
## 5913                      #americafirst       0     71  0.005947316
## 5914             #makeamericagreatagain       0    294  0.001420463&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the top for iPhone:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% arrange(or)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                                    word Android iPhone           or
## 1                #makeamericagreatagain       0    294  0.001420463
## 2                         #americafirst       0     71  0.005947316
## 3                        #draintheswamp       0     63  0.006700486
## 4                            #trump2016       3    411  0.007055789
## 5                            #votetrump       0     56  0.007534472
## 6                                  join       1    157  0.008049441
## 7                            #imwithyou       0     51  0.008268981
## 8                       #crookedhillary       0     30  0.013983703
## 9                                 #fitn       0     30  0.013983703
## 10                           #gopdebate       0     30  0.013983703
## 11                        #trumppence16       0     28  0.014967188
## 12                                  7pm       0     23  0.018158286
## 13                      #bigleaguetruth       0     22  0.018966698
## 14                            #iacaucus       0     21  0.019850311
## 15                             officers       0     21  0.019850311
## 16                               #icymi       0     20  0.020820129
## 17                                  3pm       0     19  0.021889416
## 18                          #trumptrain       0     18  0.023074302
## 19                           @mikepence       0     17  0.024394604
## 20                        #supertuesday       0     16  0.025874942
## 21                                 tune       0     16  0.025874942
## 22                            #vpdebate       0     12  0.034164834
## 23                           #wiprimary       0     12  0.034164834
## 24                               rapids       0     12  0.034164834
## 25                                  6pm       0     11  0.037138383
## 26                             received       0     11  0.037138383
## 27                            wikileaks       0     11  0.037138383
## 28                         @ivankatrump       0     10  0.040678321
## 29                      #caucusfortrump       0     10  0.040678321
## 30                           #inprimary       0     10  0.040678321
## 31                           #obamacare       0     10  0.040678321
## 32                            #rncincle       0     10  0.040678321
## 33                           @erictrump       0      9  0.044963510
## 34                         #votetrumpsc       0      9  0.044963510
## 35                                  8pm       0      9  0.044963510
## 36                            departing       0      9  0.044963510
## 37                                   fl       0      9  0.044963510
## 38                                   pa       0      9  0.044963510
## 39                                   st       0      9  0.044963510
## 40                      @donaldjtrumpjr       0      8  0.050256978
## 41                         #debatenight       0      8  0.050256978
## 42                             #debates       0      8  0.050256978
## 43                           #nyprimary       0      8  0.050256978
## 44                         #votetrumpnh       0      8  0.050256978
## 45                               finder       0      8  0.050256978
## 46                       hillaryclinton       0      8  0.050256978
## 47                             illinois       0      8  0.050256978
## 48                                means       0      8  0.050256978
## 49                           #nhprimary       0      7  0.056962038
## 50                       #obamacarefail       0      7  0.056962038
## 51                                 10pm       0      7  0.056962038
## 52                                730pm       0      7  0.056962038
## 53                                   bc       0      7  0.056962038
## 54                             delaware       0      7  0.056962038
## 55                                  est       0      7  0.056962038
## 56                           pittsburgh       0      7  0.056962038
## 57                              signing       0      7  0.056962038
## 58                           transcript       0      7  0.056962038
## 59                               values       0      7  0.056962038
## 60                                #maga       5     71  0.065440740
## 61                              #debate       0      6  0.065730194
## 62                                #isis       0      6  0.065730194
## 63                                #lesm       0      6  0.065730194
## 64                               #potus       0      6  0.065730194
## 65                       #votetrump2016       0      6  0.065730194
## 66                    #votetrumppence16       0      6  0.065730194
## 67                                 7pme       0      6  0.065730194
## 68                               choker       0      6  0.065730194
## 69                             columbus       0      6  0.065730194
## 70                               denver       0      6  0.065730194
## 71                           foundation       0      6  0.065730194
## 72                                   ia       0      6  0.065730194
## 73                             response       0      6  0.065730194
## 74                              springs       0      6  0.065730194
## 75                       @fallontonight       0      5  0.077686770
## 76                       #gopconvention       0      5  0.077686770
## 77                #makeamericasafeagain       0      5  0.077686770
## 78                           #scprimary       0      5  0.077686770
## 79                          #trumprally       0      5  0.077686770
## 80                         #votetrumpnv       0      5  0.077686770
## 81                                    |       0      5  0.077686770
## 82                                 11am       0      5  0.077686770
## 83                                   2a       0      5  0.077686770
## 84                               behalf       0      5  0.077686770
## 85                                cedar       0      5  0.077686770
## 86                             chairman       0      5  0.077686770
## 87                              daytona       0      5  0.077686770
## 88                            exclusive       0      5  0.077686770
## 89                                   mi       0      5  0.077686770
## 90                                potus       0      5  0.077686770
## 91                              receive       0      5  0.077686770
## 92                              roanoke       0      5  0.077686770
## 93                               server       0      5  0.077686770
## 94                             supports       0      5  0.077686770
## 95                               toledo       0      5  0.077686770
## 96                             violence       0      5  0.077686770
## 97                                wayne       0      5  0.077686770
## 98                           wilmington       0      5  0.077686770
## 99                              prayers       1     14  0.088349986
## 100                               tampa       1     14  0.088349986
## 101                     @hillaryclinton       0      4  0.094957379
## 102                     @jerryjrfalwell       0      4  0.094957379
## 103                      @trumpscotland       0      4  0.094957379
## 104                     @trumpturnberry       0      4  0.094957379
## 105                          #cnndebate       0      4  0.094957379
## 106                       #nevadacaucus       0      4  0.094957379
## 107                      #newyorkvalues       0      4  0.094957379
## 108                                 4pm       0      4  0.094957379
## 109                                8pme       0      4  0.094957379
## 110                               aides       0      4  0.094957379
## 111                              bangor       0      4  0.094957379
## 112                               baton       0      4  0.094957379
## 113                                 bay       0      4  0.094957379
## 114                              bluffs       0      4  0.094957379
## 115                                 boy       0      4  0.094957379
## 116                           donations       0      4  0.094957379
## 117                           forgotten       0      4  0.094957379
## 118                          greensboro       0      4  0.094957379
## 119                                hurt       0      4  0.094957379
## 120                          manchester       0      4  0.094957379
## 121                                  mn       0      4  0.094957379
## 122                              naples       0      4  0.094957379
## 123                                newt       0      4  0.094957379
## 124                                  nj       0      4  0.094957379
## 125                                 owe       0      4  0.094957379
## 126                             podesta       0      4  0.094957379
## 127                            premiums       0      4  0.094957379
## 128                              reform       0      4  0.094957379
## 129                                 rep       0      4  0.094957379
## 130                               rhode       0      4  0.094957379
## 131                               rouge       0      4  0.094957379
## 132                               sarah       0      4  0.094957379
## 133                                sign       0      4  0.094957379
## 134                         springfield       0      4  0.094957379
## 135                            syracuse       0      4  0.094957379
## 136                                  tn       0      4  0.094957379
## 137                           unethical       0      4  0.094957379
## 138                             verizon       0      4  0.094957379
## 139                            wireless       0      4  0.094957379
## 140                             tickets       5     46  0.100807160
## 141                               10pme       1     10  0.122042523
## 142                       @kimguilfoyle       0      3  0.122096908
## 143                                @nra       0      3  0.122096908
## 144                             @reince       0      3  0.122096908
## 145                         @trumpdoral       0      3  0.122096908
## 146                          @trumpgolf       0      3  0.122096908
## 147                           #asktrump       0      3  0.122096908
## 148                          #azprimary       0      3  0.122096908
## 149                        #debates2016       0      3  0.122096908
## 150                     #followthemoney       0      3  0.122096908
## 151                      #meetthetrumps       0      3  0.122096908
## 152                                #msm       0      3  0.122096908
## 153                         #nhpolitics       0      3  0.122096908
## 154                          #paytoplay       0      3  0.122096908
## 155                                #tbt       0      3  0.122096908
## 156                        #votetrumpmi       0      3  0.122096908
## 157                                  $1       0      3  0.122096908
## 158                                 $1m       0      3  0.122096908
## 159                             1135pme       0      3  0.122096908
## 160                                12pm       0      3  0.122096908
## 161                                 25k       0      3  0.122096908
## 162                                 7am       0      3  0.122096908
## 163                              accept       0      3  0.122096908
## 164                              albany       0      3  0.122096908
## 165                               april       0      3  0.122096908
## 166                         association       0      3  0.122096908
## 167                           augustine       0      3  0.122096908
## 168                             brazile       0      3  0.122096908
## 169                            cadillac       0      3  0.122096908
## 170                            conflict       0      3  0.122096908
## 171                           continued       0      3  0.122096908
## 172                              cooper       0      3  0.122096908
## 173                              copies       0      3  0.122096908
## 174                          delivering       0      3  0.122096908
## 175                         deplorables       0      3  0.122096908
## 176                           deucecrew       0      3  0.122096908
## 177                               donna       0      3  0.122096908
## 178                             efforts       0      3  0.122096908
## 179                            everyday       0      3  0.122096908
## 180                           executive       0      3  0.122096908
## 181                           expecting       0      3  0.122096908
## 182                         fortunately       0      3  0.122096908
## 183                              funded       0      3  0.122096908
## 184                            grateful       0      3  0.122096908
## 185                             greeley       0      3  0.122096908
## 186                              hacked       0      3  0.122096908
## 187                           henderson       0      3  0.122096908
## 188                                 hey       0      3  0.122096908
## 189                     hillaryclintons       0      3  0.122096908
## 190                               idaho       0      3  0.122096908
## 191                           insurance       0      3  0.122096908
## 192                              joined       0      3  0.122096908
## 193                            managing       0      3  0.122096908
## 194                            marriage       0      3  0.122096908
## 195                            minister       0      3  0.122096908
## 196                             montana       0      3  0.122096908
## 197                                  nv       0      3  0.122096908
## 198                         opportunity       0      3  0.122096908
## 199                            overflow       0      3  0.122096908
## 200                         palestinian       0      3  0.122096908
## 201                               pella       0      3  0.122096908
## 202                            portland       0      3  0.122096908
## 203                          portsmouth       0      3  0.122096908
## 204                          postdebate       0      3  0.122096908
## 205                             praying       0      3  0.122096908
## 206                             priebus       0      3  0.122096908
## 207                            promised       0      3  0.122096908
## 208                           rasmussen       0      3  0.122096908
## 209                              recent       0      3  0.122096908
## 210                               reset       0      3  0.122096908
## 211                             sanford       0      3  0.122096908
## 212                            scranton       0      3  0.122096908
## 213                              senior       0      3  0.122096908
## 214                              served       0      3  0.122096908
## 215                         tallahassee       0      3  0.122096908
## 216                                ties       0      3  0.122096908
## 217                            timkaine       0      3  0.122096908
## 218                             tragedy       0      3  0.122096908
## 219                               trust       0      3  0.122096908
## 220                           unleashed       0      3  0.122096908
## 221                             upstate       0      3  0.122096908
## 222                               voice       0      3  0.122096908
## 223                            waukesha       0      3  0.122096908
## 224                                  wi       0      3  0.122096908
## 225                             workers       0      3  0.122096908
## 226                        unbelievable       3     21  0.138978001
## 227                                safe       5     33  0.140058606
## 228                                 gop       2     14  0.147259100
## 229                            michigan       4     25  0.150622423
## 230                       @melaniatrump       1      8  0.150780275
## 231                               grand       1      8  0.150780275
## 232                           americans       2     13  0.158178654
## 233                                  nh       2     13  0.158178654
## 234                           charlotte       1      7  0.170896701
## 235                          cincinnati       1      7  0.170896701
## 236                               forum       1      7  0.170896701
## 237                            maryland       1      7  0.170896701
## 238                            register       1      7  0.170896701
## 239                            @abc2020       0      2  0.170948060
## 240                                @cbs       0      2  0.170948060
## 241                    @colbertlateshow       0      2  0.170948060
## 242                         @frankluntz       0      2  0.170948060
## 243                      @jessebwatters       0      2  0.170948060
## 244                        @jimmykimmel       0      2  0.170948060
## 245                       @katiepavlich       0      2  0.170948060
## 246                      @monteskitchen       0      2  0.170948060
## 247                     @nytdavidbrooks       0      2  0.170948060
## 248                         @peterose14       0      2  0.170948060
## 249                        @piersmorgan       0      2  0.170948060
## 250                          @teamtrump       0      2  0.170948060
## 251                      @terrybranstad       0      2  0.170948060
## 252                           @tgowdysc       0      2  0.170948060
## 253                             @thefix       0      2  0.170948060
## 254                         @twitternyc       0      2  0.170948060
## 255                           @usatoday       0      2  0.170948060
## 256                            #abc2020       0      2  0.170948060
## 257                     #arizonaprimary       0      2  0.170948060
## 258                    #crippledamerica       0      2  0.170948060
## 259                                #fns       0      2  0.170948060
## 260                                #fox       0      2  0.170948060
## 261                            #foxnews       0      2  0.170948060
## 262                         #iapolitics       0      2  0.170948060
## 263                             #kimmel       0      2  0.170948060
## 264                           #laborday       0      2  0.170948060
## 265                        #lawandorder       0      2  0.170948060
## 266               #makeamericaworkagain       0      2  0.170948060
## 267                                #nyc       0      2  0.170948060
## 268                        #ontherecord       0      2  0.170948060
## 269                          #paprimary       0      2  0.170948060
## 270                    #repealobamacare       0      2  0.170948060
## 271                          #riprimary       0      2  0.170948060
## 272                    #secondamendment       0      2  0.170948060
## 273                               #sotu       0      2  0.170948060
## 274                      #supersaturday       0      2  0.170948060
## 275                         #trumptoday       0      2  0.170948060
## 276                           #trumpwon       0      2  0.170948060
## 277                        #ussyorktown       0      2  0.170948060
## 278                         #utahcaucus       0      2  0.170948060
## 279                           #utcaucus       0      2  0.170948060
## 280                       #wattersworld       0      2  0.170948060
## 281                                   +       0      2  0.170948060
## 282                          \u274casia       0      2  0.170948060
## 283                      \u274cbenghazi       0      2  0.170948060
## 284                          \u274ciran       0      2  0.170948060
## 285                          \u274ciraq       0      2  0.170948060
## 286                         \u274clibya       0      2  0.170948060
## 287                       \u274crussian       0      2  0.170948060
## 288                         \u274csyria       0      2  0.170948060
## 289                               100pm       0      2  0.170948060
## 290                              1030am       0      2  0.170948060
## 291                                10am       0      2  0.170948060
## 292                                10pe       0      2  0.170948060
## 293                              1130am       0      2  0.170948060
## 294                                11pm       0      2  0.170948060
## 295                               230pm       0      2  0.170948060
## 296                                25th       0      2  0.170948060
## 297                                 2pm       0      2  0.170948060
## 298                               300pm       0      2  0.170948060
## 299                               330pm       0      2  0.170948060
## 300                               530pm       0      2  0.170948060
## 301                                 5pm       0      2  0.170948060
## 302                                 5th       0      2  0.170948060
## 303                               800pm       0      2  0.170948060
## 304                               830pm       0      2  0.170948060
## 305                               930pm       0      2  0.170948060
## 306                                 9pm       0      2  0.170948060
## 307                             abandon       0      2  0.170948060
## 308                            accepted       0      2  0.170948060
## 309                            accounts       0      2  0.170948060
## 310                            activity       0      2  0.170948060
## 311                             adviser       0      2  0.170948060
## 312                          affordable       0      2  0.170948060
## 313                                  ag       0      2  0.170948060
## 314                         albuquerque       0      2  0.170948060
## 315                                alex       0      2  0.170948060
## 316                         anniversary       0      2  0.170948060
## 317                        anticatholic       0      2  0.170948060
## 318                           apologies       0      2  0.170948060
## 319                              appeal       0      2  0.170948060
## 320                                arms       0      2  0.170948060
## 321                            arriving       0      2  0.170948060
## 322                              austin       0      2  0.170948060
## 323                                  az       0      2  0.170948060
## 324                                bear       0      2  0.170948060
## 325                            behavior       0      2  0.170948060
## 326                                bend       0      2  0.170948060
## 327                            berglund       0      2  0.170948060
## 328                              betray       0      2  0.170948060
## 329                            betrayed       0      2  0.170948060
## 330                              biloxi       0      2  0.170948060
## 331                               blaze       0      2  0.170948060
## 332                            breaking       0      2  0.170948060
## 333                              brooks       0      2  0.170948060
## 334                               buyer       0      2  0.170948060
## 335                             cameras       0      2  0.170948060
## 336                                camp       0      2  0.170948060
## 337                              canton       0      2  0.170948060
## 338                              carmel       0      2  0.170948060
## 339                           celebrate       0      2  0.170948060
## 340                         celebrating       0      2  0.170948060
## 341                          charleston       0      2  0.170948060
## 342                               child       0      2  0.170948060
## 343                           childcare       0      2  0.170948060
## 344                             chinese       0      2  0.170948060
## 345                            christie       0      2  0.170948060
## 346                         circulation       0      2  0.170948060
## 347                               civic       0      2  0.170948060
## 348                             clemson       0      2  0.170948060
## 349                        clintonkaine       0      2  0.170948060
## 350                               clive       0      2  0.170948060
## 351                              closes       0      2  0.170948060
## 352                             closing       0      2  0.170948060
## 353                            clueless       0      2  0.170948060
## 354                              column       0      2  0.170948060
## 355                             compete       0      2  0.170948060
## 356                       congressional       0      2  0.170948060
## 357                          consistent       0      2  0.170948060
## 358                                cont       0      2  0.170948060
## 359                               contd       0      2  0.170948060
## 360                            contract       0      2  0.170948060
## 361                          contribute       0      2  0.170948060
## 362                       contributions       0      2  0.170948060
## 363                                copy       0      2  0.170948060
## 364                         correctness       0      2  0.170948060
## 365                                cory       0      2  0.170948060
## 366                             courage       0      2  0.170948060
## 367                              crimes       0      2  0.170948060
## 368                           criticize       0      2  0.170948060
## 369                              curtis       0      2  0.170948060
## 370                                 cut       0      2  0.170948060
## 371                           davenport       0      2  0.170948060
## 372                            deadline       0      2  0.170948060
## 373                           deadlines       0      2  0.170948060
## 374                              deaths       0      2  0.170948060
## 375                            declared       0      2  0.170948060
## 376                             deliver       0      2  0.170948060
## 377                           demanding       0      2  0.170948060
## 378                                dept       0      2  0.170948060
## 379                             deserve       0      2  0.170948060
## 380                             despair       0      2  0.170948060
## 381                             details       0      2  0.170948060
## 382                            disabled       0      2  0.170948060
## 383                            district       0      2  0.170948060
## 384                               dream       0      2  0.170948060
## 385                               drive       0      2  0.170948060
## 386                            dutchess       0      2  0.170948060
## 387                             embrace       0      2  0.170948060
## 388                              employ       0      2  0.170948060
## 389                               empty       0      2  0.170948060
## 390                             enforce       0      2  0.170948060
## 391                            evenings       0      2  0.170948060
## 392                           excellent       0      2  0.170948060
## 393                              expand       0      2  0.170948060
## 394                              extend       0      2  0.170948060
## 395                               fails       0      2  0.170948060
## 396                              fallen       0      2  0.170948060
## 397                             farmers       0      2  0.170948060
## 398                            february       0      2  0.170948060
## 399                                flat       0      2  0.170948060
## 400                            fletcher       0      2  0.170948060
## 401                                food       0      2  0.170948060
## 402                      franklingraham       0      2  0.170948060
## 403                                gays       0      2  0.170948060
## 404                                gold       0      2  0.170948060
## 405                              golden       0      2  0.170948060
## 406                               green       0      2  0.170948060
## 407                          greenville       0      2  0.170948060
## 408                         hardworking       0      2  0.170948060
## 409                               haute       0      2  0.170948060
## 410                            headline       0      2  0.170948060
## 411                             hershey       0      2  0.170948060
## 412                              hilton       0      2  0.170948060
## 413                             honesty       0      2  0.170948060
## 414                              hosted       0      2  0.170948060
## 415              http://t.co/fokcasbvun       0      2  0.170948060
## 416                                huge       0      2  0.170948060
## 417                           hurricane       0      2  0.170948060
## 418                            ignoring       0      2  0.170948060
## 419                            includes       0      2  0.170948060
## 420                              income       0      2  0.170948060
## 421                           increased       0      2  0.170948060
## 422                          incredibly       0      2  0.170948060
## 423                        indianapolis       0      2  0.170948060
## 424                              influx       0      2  0.170948060
## 425                          innovation       0      2  0.170948060
## 426                             insider       0      2  0.170948060
## 427                       interventions       0      2  0.170948060
## 428                              ironic       0      2  0.170948060
## 429                             israeli       0      2  0.170948060
## 430                               jerry       0      2  0.170948060
## 431                                 jim       0      2  0.170948060
## 432                               jones       0      2  0.170948060
## 433                            judgment       0      2  0.170948060
## 434                          katyturnbc       0      2  0.170948060
## 435                             knocked       0      2  0.170948060
## 436                             kristol       0      2  0.170948060
## 437                                  ky       0      2  0.170948060
## 438                               labor       0      2  0.170948060
## 439                            language       0      2  0.170948060
## 440                            lifetime       0      2  0.170948060
## 441                              linked       0      2  0.170948060
## 442                              magnet       0      2  0.170948060
## 443               makeamericagreatagain       0      2  0.170948060
## 444                              manage       0      2  0.170948060
## 445                          marcorubio       0      2  0.170948060
## 446                            marshall       0      2  0.170948060
## 447                                mesa       0      2  0.170948060
## 448                           miami12pm       0      2  0.170948060
## 449                                mile       0      2  0.170948060
## 450                           milwaukee       0      2  0.170948060
## 451                           minnesota       0      2  0.170948060
## 452                                 mon       0      2  0.170948060
## 453                             morocco       0      2  0.170948060
## 454                               morty       0      2  0.170948060
## 455                                  ms       0      2  0.170948060
## 456                               nieto       0      2  0.170948060
## 457                                  nm       0      2  0.170948060
## 458                           nominated       0      2  0.170948060
## 459                                novi       0      2  0.170948060
## 460                           operative       0      2  0.170948060
## 461                             opinion       0      2  0.170948060
## 462                          opposition       0      2  0.170948060
## 463                          orlando4pm       0      2  0.170948060
## 464                             outlets       0      2  0.170948060
## 465                            outsider       0      2  0.170948060
## 466                             oversaw       0      2  0.170948060
## 467                              palins       0      2  0.170948060
## 468                       participating       0      2  0.170948060
## 469                               peace       0      2  0.170948060
## 470                         pensacola7p       0      2  0.170948060
## 471                             peoples       0      2  0.170948060
## 472                               pilot       0      2  0.170948060
## 473                               pivot       0      2  0.170948060
## 474                            platform       0      2  0.170948060
## 475                            playbook       0      2  0.170948060
## 476                            plymouth       0      2  0.170948060
## 477                            podestas       0      2  0.170948060
## 478                             popular       0      2  0.170948060
## 479                               prime       0      2  0.170948060
## 480                              prince       0      2  0.170948060
## 481                           principle       0      2  0.170948060
## 482                             project       0      2  0.170948060
## 483                          prosecutor       0      2  0.170948060
## 484                              proves       0      2  0.170948060
## 485                              pueblo       0      2  0.170948060
## 486                        questionable       0      2  0.170948060
## 487                               ralph       0      2  0.170948060
## 488                               reach       0      2  0.170948060
## 489                             readers       0      2  0.170948060
## 490                              reagan       0      2  0.170948060
## 491                            reckless       0      2  0.170948060
## 492                             redding       0      2  0.170948060
## 493                             reforms       0      2  0.170948060
## 494                          registered       0      2  0.170948060
## 495                        registration       0      2  0.170948060
## 496                                reid       0      2  0.170948060
## 497                              relief       0      2  0.170948060
## 498                         remembrance       0      2  0.170948060
## 499                            reminder       0      2  0.170948060
## 500                             restore       0      2  0.170948060
## 501                             reveals       0      2  0.170948060
## 502                               ridge       0      2  0.170948060
## 503                                 rig       0      2  0.170948060
## 504                                rise       0      2  0.170948060
## 505                           robertson       0      2  0.170948060
## 506                                 ron       0      2  0.170948060
## 507                                root       0      2  0.170948060
## 508                                  rs       0      2  0.170948060
## 509                                runs       0      2  0.170948060
## 510                           sachsciti       0      2  0.170948060
## 511                          sacramento       0      2  0.170948060
## 512                              scheme       0      2  0.170948060
## 513                              series       0      2  0.170948060
## 514                              shared       0      2  0.170948060
## 515                                shop       0      2  0.170948060
## 516                          signatures       0      2  0.170948060
## 517                              sparks       0      2  0.170948060
## 518                             spencer       0      2  0.170948060
## 519                              spread       0      2  0.170948060
## 520                                stab       0      2  0.170948060
## 521                           streaming       0      2  0.170948060
## 522                              summit       0      2  0.170948060
## 523                           surrender       0      2  0.170948060
## 524                               swamp       0      2  0.170948060
## 525                               tells       0      2  0.170948060
## 526                               terre       0      2  0.170948060
## 527                              thrown       0      2  0.170948060
## 528                           traveling       0      2  0.170948060
## 529                               trend       0      2  0.170948060
## 530                            trillion       0      2  0.170948060
## 531                               tulsa       0      2  0.170948060
## 532                                  tx       0      2  0.170948060
## 533                            unifying       0      2  0.170948060
## 534                            upcoming       0      2  0.170948060
## 535                             uranium       0      2  0.170948060
## 536                               urged       0      2  0.170948060
## 537                                 vet       0      2  0.170948060
## 538                             vetting       0      2  0.170948060
## 539                            visiting       0      2  0.170948060
## 540                                  wa       0      2  0.170948060
## 541                               wacky       0      2  0.170948060
## 542                              warned       0      2  0.170948060
## 543                                wars       0      2  0.170948060
## 544                           welcoming       0      2  0.170948060
## 545                         wilkesbarre       0      2  0.170948060
## 546                                 wtc       0      2  0.170948060
## 547                                  wv       0      2  0.170948060
## 548                          youngstown       0      2  0.170948060
## 549                               youre       0      2  0.170948060
## 550                               video       9     41  0.195219254
## 551                            birthday       1      6  0.197202797
## 552                              create       1      6  0.197202797
## 553                             funding       1      6  0.197202797
## 554                             joining       1      6  0.197202797
## 555                            official       1      6  0.197202797
## 556                                page       1      6  0.197202797
## 557                               serve       1      6  0.197202797
## 558                            tonights       1      6  0.197202797
## 559                              trumps       1      6  0.197202797
## 560                           louisiana       2     10  0.203416806
## 561                               maine       2     10  0.203416806
## 562                        pennsylvania       9     39  0.205133586
## 563                            tomorrow      24     99  0.209295337
## 564                             support      18     74  0.211379118
## 565                               north       8     33  0.216494454
## 566                                miss       3     13  0.221463836
## 567                             elected       2      9  0.224845405
## 568                          government       2      9  0.224845405
## 569                              israel       2      9  0.224845405
## 570                                plan       2      9  0.224845405
## 571                             tuesday       4     16  0.232932191
## 572                                 bob       1      5  0.233074746
## 573                        conservative       1      5  0.233074746
## 574                            daughter       1      5  0.233074746
## 575                              hawaii       1      5  0.233074746
## 576                              island       1      5  0.233074746
## 577                           schlonged       1      5  0.233074746
## 578                               white       1      5  0.233074746
## 579                          washington       6     22  0.246658749
## 580                              nights       2      8  0.251316027
## 581                            policies       2      8  0.251316027
## 582                              nevada       9     31  0.257380542
## 583                            families       3     11  0.260016997
## 584                         enforcement       5     17  0.268423778
## 585                                york      10     32  0.275717272
## 586                            clintons       7     22  0.284623886
## 587                            hillarys       5     16  0.284712540
## 588                              county       3     10  0.284801173
## 589                              future       3     10  0.284801173
## 590                             honored       3     10  0.284801173
## 591                                  ny       3     10  0.284801173
## 592                                 8th       2      7  0.284845481
## 593                            economic       2      7  0.284845481
## 594                               fired       2      7  0.284845481
## 595                              health       2      7  0.284845481
## 596                             landing       2      7  0.284845481
## 597                            missouri       2      7  0.284845481
## 598                                reno       2      7  0.284845481
## 599                        @ericbolling       1      4  0.284889784
## 600                      @facethenation       1      4  0.284889784
## 601                        @jimmyfallon       1      4  0.284889784
## 602                                 $50       1      4  0.284889784
## 603                             account       1      4  0.284889784
## 604                            anderson       1      4  0.284889784
## 605                            arkansas       1      4  0.284889784
## 606                                coal       1      4  0.284889784
## 607                             council       1      4  0.284889784
## 608                             driving       1      4  0.284889784
## 609                            dropping       1      4  0.284889784
## 610                                 due       1      4  0.284889784
## 611                              havent       1      4  0.284889784
## 612                              heroes       1      4  0.284889784
## 613                                 ice       1      4  0.284889784
## 614                                june       1      4  0.284889784
## 615                             mcquaid       1      4  0.284889784
## 616                           pensacola       1      4  0.284889784
## 617                               plans       1      4  0.284889784
## 618                               prior       1      4  0.284889784
## 619                            richmond       1      4  0.284889784
## 620                            schlafly       1      4  0.284889784
## 621                              simple       1      4  0.284889784
## 622                            thursday       1      4  0.284889784
## 623                              @9news       0      1  0.284934081
## 624                     @alisyncamerota       0      1  0.284934081
## 625                      @alwaleedtalal       0      1  0.284934081
## 626                     @americanlegion       0      1  0.284934081
## 627                       @andydean2014       0      1  0.284934081
## 628                         @arappeport       0      1  0.284934081
## 629                         @ariemanuel       0      1  0.284934081
## 630                             @atfd17       0      1  0.284934081
## 631                       @billdeblasio       0      1  0.284934081
## 632                         @billhemmer       0      1  0.284934081
## 633                        @billoreilly       0      1  0.284934081
## 634                          @billyjoel       0      1  0.284934081
## 635                     @billynungesser       0      1  0.284934081
## 636                    @bishopwtjackson       0      1  0.284934081
## 637                             @bodiet       0      1  0.284934081
## 638                         @carlhigbie       0      1  0.284934081
## 639                       @chaseelliott       0      1  0.284934081
## 640                         @chezvachon       0      1  0.284934081
## 641                      @chrischristie       0      1  0.284934081
## 642                         @cnnsitroom       0      1  0.284934081
## 643                      @cynthialummis       0      1  0.284934081
## 644                         @dailybeast       0      1  0.284934081
## 645                          @dailymail       0      1  0.284934081
## 646                           @dallaspd       0      1  0.284934081
## 647                          @danawhite       0      1  0.284934081
## 648                         @davidragan       0      1  0.284934081
## 649                         @dcexaminer       0      1  0.284934081
## 650                           @debsopan       0      1  0.284934081
## 651                       @ericgreitens       0      1  0.284934081
## 652                        @erinburnett       0      1  0.284934081
## 653                      @ethanolbypoet       0      1  0.284934081
## 654                    @faithandfreedom       0      1  0.284934081
## 655                             @forbes       0      1  0.284934081
## 656                        @fortworthpd       0      1  0.284934081
## 657                     @franklingraham       0      1  0.284934081
## 658                      @gatewaypundit       0      1  0.284934081
## 659                           @gohermie       0      1  0.284934081
## 660                            @golfcom       0      1  0.284934081
## 661                      @gopconvention       0      1  0.284934081
## 662                     @governorsununu       0      1  0.284934081
## 663                         @govgilmore       0      1  0.284934081
## 664                    @govmikehuckabee       0      1  0.284934081
## 665                         @govpencein       0      1  0.284934081
## 666                    @gravismarketing       0      1  0.284934081
## 667                      @hardballchris       0      1  0.284934081
## 668                           @heritage       0      1  0.284934081
## 669                     @herschelwalker       0      1  0.284934081
## 670                        @howardkurtz       0      1  0.284934081
## 671                        @howardstern       0      1  0.284934081
## 672                               @iclv       0      1  0.284934081
## 673                        @iowacentral       0      1  0.284934081
## 674                      @kirstenpowers       0      1  0.284934081
## 675                    @koster4missouri       0      1  0.284934081
## 676                           @libertyu       0      1  0.284934081
## 677                    @ltstevenlrogers       0      1  0.284934081
## 678                             @maddow       0      1  0.284934081
## 679                           @mainegop       0      1  0.284934081
## 680                    @marshablackburn       0      1  0.284934081
## 681                        @megynkellys       0      1  0.284934081
## 682                        @mikeneedham       0      1  0.284934081
## 683                            @mmflint       0      1  0.284934081
## 684                    @mrsvanessatrump       0      1  0.284934081
## 685                          @nealconan       0      1  0.284934081
## 686                               @nfib       0      1  0.284934081
## 687                             @nypost       0      1  0.284934081
## 688                            @nyposts       0      1  0.284934081
## 689                        @nytimesdowd       0      1  0.284934081
## 690                            @omarosa       0      1  0.284934081
## 691                        @outfrontcnn       0      1  0.284934081
## 692                     @outnumberedfnc       0      1  0.284934081
## 693                       @patmccrorync       0      1  0.284934081
## 694                       @paulteutulsr       0      1  0.284934081
## 695                           @penguins       0      1  0.284934081
## 696                               @penn       0      1  0.284934081
## 697                       @phillypolice       0      1  0.284934081
## 698                       @phussionwyff       0      1  0.284934081
## 699                            @pnehlen       0      1  0.284934081
## 700                              @pryan       0      1  0.284934081
## 701                      @realclearnews       0      1  0.284934081
## 702                            @regentu       0      1  0.284934081
## 703                     @reploubarletta       0      1  0.284934081
## 704                    @repreneeellmers       0      1  0.284934081
## 705                            @reuters       0      1  0.284934081
## 706                      @reviewjournal       0      1  0.284934081
## 707                       @ricksantorum       0      1  0.284934081
## 708                        @ryanjnewman       0      1  0.284934081
## 709                    @samaritanspurse       0      1  0.284934081
## 710                        @scteamtrump       0      1  0.284934081
## 711                       @senatemajldr       0      1  0.284934081
## 712                    @senatorsessions       0      1  0.284934081
## 713                      @senjohnmccain       0      1  0.284934081
## 714                       @shellhouopen       0      1  0.284934081
## 715                       @shepnewsteam       0      1  0.284934081
## 716                              @sinow       0      1  0.284934081
## 717                            @sjsopio       0      1  0.284934081
## 718                           @snapchat       0      1  0.284934081
## 719                           @sopandeb       0      1  0.284934081
## 720                        @speakerryan       0      1  0.284934081
## 721                      @stephenathome       0      1  0.284934081
## 722                             @stjude       0      1  0.284934081
## 723                        @tavissmiley       0      1  0.284934081
## 724                            @theherd       0      1  0.284934081
## 725                    @thejuanwilliams       0      1  0.284934081
## 726                     @theslystallone       0      1  0.284934081
## 727                     @tngcbedminster       0      1  0.284934081
## 728                       @tombarrackjr       0      1  0.284934081
## 729                            @trumpdc       0      1  0.284934081
## 730                       @trumpdoonbeg       0      1  0.284934081
## 731                       @trumptowerny       0      1  0.284934081
## 732                    @trumpwomenstour       0      1  0.284934081
## 733                       @umassamherst       0      1  0.284934081
## 734                    @urbandaleschool       0      1  0.284934081
## 735                             @usarmy       0      1  0.284934081
## 736                               @uscg       0      1  0.284934081
## 737                          @washtimes       0      1  0.284934081
## 738                     @wayneallynroot       0      1  0.284934081
## 739                               @wkrg       0      1  0.284934081
## 740                        @wolfblitzer       0      1  0.284934081
## 741                   #alconvention2016       0      1  0.284934081
## 742                      #americansamoa       0      1  0.284934081
## 743                      #americanunity       0      1  0.284934081
## 744                     #americasmerkel       0      1  0.284934081
## 745                     #armedforcesday       0      1  0.284934081
## 746                             #becool       0      1  0.284934081
## 747                           #benghazi       0      1  0.284934081
## 748                      #bigleagetruth       0      1  0.284934081
## 749                     #bikersfortrump       0      1  0.284934081
## 750                             #biloxi       0      1  0.284934081
## 751                       #boycottmacys       0      1  0.284934081
## 752                           #brussels       0      1  0.284934081
## 753                       #buildthewall       0      1  0.284934081
## 754                          #caprimary       0      1  0.284934081
## 755                        #cincodemayo       0      1  0.284934081
## 756                 #circleofenrichment       0      1  0.284934081
## 757                      #cnbcgopdebate       0      1  0.284934081
## 758                                #cnn       0      1  0.284934081
## 759                      #coastguardday       0      1  0.284934081
## 760                            #colbert       0      1  0.284934081
## 761              #commanderinchiefforum       0      1  0.284934081
## 762                         #commoncore       0      1  0.284934081
## 763                    #crookedhillarys       0      1  0.284934081
## 764                          #cruzfraud       0      1  0.284934081
## 765                          #ctprimary       0      1  0.284934081
## 766                               #dday       0      1  0.284934081
## 767                                #dem       0      1  0.284934081
## 768                          #deprimary       0      1  0.284934081
## 769                          #earlyvote       0      1  0.284934081
## 770                          #eauclaire       0      1  0.284934081
## 771                            #economy       0      1  0.284934081
## 772                      #endcommoncore       0      1  0.284934081
## 773                              #enjoy       0      1  0.284934081
## 774                    #flashbackfriday       0      1  0.284934081
## 775                             #frozen       0      1  0.284934081
## 776                        #goldenglobe       0      1  0.284934081
## 777                       #googletrends       0      1  0.284934081
## 778                           #gopincle       0      1  0.284934081
## 779                    #happymothersday       0      1  0.284934081
## 780                #happynewyearamerica       0      1  0.284934081
## 781                    #hillarycarefail       0      1  0.284934081
## 782                               #huge       0      1  0.284934081
## 783                          #hypocrisy       0      1  0.284934081
## 784                           #iaforums       0      1  0.284934081
## 785                          #icaucused       0      1  0.284934081
## 786                         #indprimary       0      1  0.284934081
## 787                         #iowacaucus       0      1  0.284934081
## 788                             #ivoted       0      1  0.284934081
## 789                          #johnryder       0      1  0.284934081
## 790                       #kansascaucus       0      1  0.284934081
## 791                      #leadright2016       0      1  0.284934081
## 792                                #leo       0      1  0.284934081
## 793       #lightweightsenatormarcorubio       0      1  0.284934081
## 794                        #littlemarco       0      1  0.284934081
## 795                               #lssc       0      1  0.284934081
## 796     #maga\U0001f1fa\U0001f1f8debate       0      1  0.284934081
## 797                      #maitnerstrong       0      1  0.284934081
## 798              #makeamerciagreatagain       0      1  0.284934081
## 799     #makeamericagreatagaintrump2016       0      1  0.284934081
## 800              #makeyoutubegreatagain       0      1  0.284934081
## 801                           #maralago       0      1  0.284934081
## 802                          #mdprimary       0      1  0.284934081
## 803                                #mdw       0      1  0.284934081
## 804                          #mediabuzz       0      1  0.284934081
## 805                        #mississippi       0      1  0.284934081
## 806                             #nascar       0      1  0.284934081
## 807                          #neprimary       0      1  0.284934081
## 808                        #neverforget       0      1  0.284934081
## 809                       #newhampshire       0      1  0.284934081
## 810                        #november8th       0      1  0.284934081
## 811                     #obamacaredummy       0      1  0.284934081
## 812                    #obamacarefailed       0      1  0.284934081
## 813              #obamacareinthreewords       0      1  0.284934081
## 814                     #ohiovotesearly       0      1  0.284934081
## 815                    #openingceremony       0      1  0.284934081
## 816                          #orprimary       0      1  0.284934081
## 817                        #pearlharbor       0      1  0.284934081
## 818                 #politicallycorrect       0      1  0.284934081
## 819                             #racine       0      1  0.284934081
## 820                      #rallyforriley       0      1  0.284934081
## 821                    #rememberourvets       0      1  0.284934081
## 822                            #rio2016       0      1  0.284934081
## 823                         #robotrubio       0      1  0.284934081
## 824                            #rtm2016       0      1  0.284934081
## 825                               #sb50       0      1  0.284934081
## 826                     #silentmajority       0      1  0.284934081
## 827                                #snl       0      1  0.284934081
## 828              #snowflakegardenbrunch       0      1  0.284934081
## 829                 #standwithlouisiana       0      1  0.284934081
## 830                         #stanleycup       0      1  0.284934081
## 831                     #stopcommoncore       0      1  0.284934081
## 832                    #superbowlsunday       0      1  0.284934081
## 833                     #syrianrefugees       0      1  0.284934081
## 834                            #teamusa       0      1  0.284934081
## 835                          #thankavet       0      1  0.284934081
## 836              #theremembranceproject       0      1  0.284934081
## 837                              #trump       0      1  0.284934081
## 838                         #trump4vets       0      1  0.284934081
## 839                     #trumpinstagram       0      1  0.284934081
## 840                     #trumppence2016       0      1  0.284934081
## 841                         #trumptower       0      1  0.284934081
## 842                      #trumptowernyc       0      1  0.284934081
## 843                           #tump2016       0      1  0.284934081
## 844                                #usa       0      1  0.284934081
## 845                        #votersspeak       0      1  0.284934081
## 846                        #votetrumphi       0      1  0.284934081
## 847                        #votetrumpid       0      1  0.284934081
## 848                        #votetrumpil       0      1  0.284934081
## 849                        #votetrumpks       0      1  0.284934081
## 850                        #votetrumpma       0      1  0.284934081
## 851                        #votetrumpms       0      1  0.284934081
## 852                        #votetrumpnc       0      1  0.284934081
## 853                        #votetrumpvt       0      1  0.284934081
## 854                        #votetrumpwi       0      1  0.284934081
## 855                             #wausau       0      1  0.284934081
## 856                              #wcs16       0      1  0.284934081
## 857                     #westerntuesday       0      1  0.284934081
## 858                      #whereshillary       0      1  0.284934081
## 859                          #wisconsin       0      1  0.284934081
## 860                          #wvprimary       0      1  0.284934081
## 861                                   ~       0      1  0.284934081
## 862                     \u2705eliminate       0      1  0.284934081
## 863                       \u2705florida       0      1  0.284934081
## 864                      \u2705illinois       0      1  0.284934081
## 865                          \u2705lean       0      1  0.284934081
## 866                         \u2705lower       0      1  0.284934081
## 867                      \u2705missouri       0      1  0.284934081
## 868                         \u2705north       0      1  0.284934081
## 869                          \u2705ohio       0      1  0.284934081
## 870                                 $$$       0      1  0.284934081
## 871                               $1000       0      1  0.284934081
## 872                          $100000000       0      1  0.284934081
## 873                                $106       0      1  0.284934081
## 874                                $11m       0      1  0.284934081
## 875                                $12m       0      1  0.284934081
## 876                                $13m       0      1  0.284934081
## 877                               $150m       0      1  0.284934081
## 878                                 $18       0      1  0.284934081
## 879                             $180000       0      1  0.284934081
## 880                                $194       0      1  0.284934081
## 881                                 $28       0      1  0.284934081
## 882                           $400myear       0      1  0.284934081
## 883                               $487k       0      1  0.284934081
## 884                               $500k       0      1  0.284934081
## 885                                 $56       0      1  0.284934081
## 886                                  $6       0      1  0.284934081
## 887                          $600000000       0      1  0.284934081
## 888                                 $6m       0      1  0.284934081
## 889                              1010pm       0      1  0.284934081
## 890                                10th       0      1  0.284934081
## 891                                 11a       0      1  0.284934081
## 892                               11pme       0      1  0.284934081
## 893                                11th       0      1  0.284934081
## 894                              1230pm       0      1  0.284934081
## 895                                 12k       0      1  0.284934081
## 896                               130pm       0      1  0.284934081
## 897                                13th       0      1  0.284934081
## 898                                14th       0      1  0.284934081
## 899                                 15k       0      1  0.284934081
## 900                                 1pm       0      1  0.284934081
## 901                                1pme       0      1  0.284934081
## 902                                200k       0      1  0.284934081
## 903                               200pm       0      1  0.284934081
## 904                            200pmest       0      1  0.284934081
## 905                                 20k       0      1  0.284934081
## 906                               20min       0      1  0.284934081
## 907                                20th       0      1  0.284934081
## 908                               226th       0      1  0.284934081
## 909                               241st       0      1  0.284934081
## 910                                24th       0      1  0.284934081
## 911                               2500+       0      1  0.284934081
## 912                                 25m       0      1  0.284934081
## 913                              2point       0      1  0.284934081
## 914                              2yrsan       0      1  0.284934081
## 915                                  3m       0      1  0.284934081
## 916                                 40+       0      1  0.284934081
## 917                               400pm       0      1  0.284934081
## 918                                  4p       0      1  0.284934081
## 919                                4pme       0      1  0.284934081
## 920                               500pm       0      1  0.284934081
## 921                                 50k       0      1  0.284934081
## 922                               51yrs       0      1  0.284934081
## 923                                53rd       0      1  0.284934081
## 924                                57pm       0      1  0.284934081
## 925                                  5k       0      1  0.284934081
## 926                                 5k+       0      1  0.284934081
## 927                               600pm       0      1  0.284934081
## 928                               630am       0      1  0.284934081
## 929                               630pm       0      1  0.284934081
## 930                               6days       0      1  0.284934081
## 931                               700am       0      1  0.284934081
## 932                               700pm       0      1  0.284934081
## 933                                  7k       0      1  0.284934081
## 934                                  7p       0      1  0.284934081
## 935                                 7th       0      1  0.284934081
## 936                                 7yr       0      1  0.284934081
## 937                              800pme       0      1  0.284934081
## 938                               810pm       0      1  0.284934081
## 939                              830pme       0      1  0.284934081
## 940                                8ame       0      1  0.284934081
## 941                          8thbecause       0      1  0.284934081
## 942                                900+       0      1  0.284934081
## 943                                930p       0      1  0.284934081
## 944                                 9am       0      1  0.284934081
## 945                                9ame       0      1  0.284934081
## 946                                9pme       0      1  0.284934081
## 947                           abandoned       0      1  0.284934081
## 948                         abcpolitics       0      1  0.284934081
## 949                            abdullah       0      1  0.284934081
## 950                            abingdon       0      1  0.284934081
## 951                              abroad       0      1  0.284934081
## 952                           accessory       0      1  0.284934081
## 953                            accolade       0      1  0.284934081
## 954                          accomplish       0      1  0.284934081
## 955                      accountability       0      1  0.284934081
## 956                             accuser       0      1  0.284934081
## 957                              active       0      1  0.284934081
## 958                           activists       0      1  0.284934081
## 959                            addition       0      1  0.284934081
## 960                              admits       0      1  0.284934081
## 961                          admonished       0      1  0.284934081
## 962                            advisors       0      1  0.284934081
## 963                            advisory       0      1  0.284934081
## 964                              aerial       0      1  0.284934081
## 965                          afternoons       0      1  0.284934081
## 966                            agencies       0      1  0.284934081
## 967                           agitators       0      1  0.284934081
## 968                           agreement       0      1  0.284934081
## 969                               aided       0      1  0.284934081
## 970                              airing       0      1  0.284934081
## 971                           alejandro       0      1  0.284934081
## 972                              aliens       0      1  0.284934081
## 973                          alienssave       0      1  0.284934081
## 974                               allis       0      1  0.284934081
## 975                                ally       0      1  0.284934081
## 976                           alongside       0      1  0.284934081
## 977                           alshabaab       0      1  0.284934081
## 978                          altogether       0      1  0.284934081
## 979                            ambridge       0      1  0.284934081
## 980                            ambushed       0      1  0.284934081
## 981                              amenia       0      1  0.284934081
## 982                                ames       0      1  0.284934081
## 983                             anchors       0      1  0.284934081
## 984                      andreatantaros       0      1  0.284934081
## 985                              andrew       0      1  0.284934081
## 986                         anncoulters       0      1  0.284934081
## 987                          announcers       0      1  0.284934081
## 988                           announces       0      1  0.284934081
## 989                            answered       0      1  0.284934081
## 990                             answers       0      1  0.284934081
## 991                              anti2a       0      1  0.284934081
## 992                         antidefense       0      1  0.284934081
## 993                           antiwomen       0      1  0.284934081
## 994                                 app       0      1  0.284934081
## 995                            appleton       0      1  0.284934081
## 996                         application       0      1  0.284934081
## 997                        appreciation       0      1  0.284934081
## 998                              approx       0      1  0.284934081
## 999                       approximately       0      1  0.284934081
## 1000                                 ar       0      1  0.284934081
## 1001                          architect       0      1  0.284934081
## 1002                                arg       0      1  0.284934081
## 1003                             argued       0      1  0.284934081
## 1004                           argument       0      1  0.284934081
## 1005                             arlene       0      1  0.284934081
## 1006                             arrive       0      1  0.284934081
## 1007                            assault       0      1  0.284934081
## 1008                          assembled       0      1  0.284934081
## 1009                             attend       0      1  0.284934081
## 1010                         attendance       0      1  0.284934081
## 1011                          attending       0      1  0.284934081
## 1012                          attention       0      1  0.284934081
## 1013                               attn       0      1  0.284934081
## 1014                           attorney       0      1  0.284934081
## 1015                             august       0      1  0.284934081
## 1016                            augusta       0      1  0.284934081
## 1017                              autos       0      1  0.284934081
## 1018                                ave       0      1  0.284934081
## 1019                            averted       0      1  0.284934081
## 1020                               aviv       0      1  0.284934081
## 1021                              avoid       0      1  0.284934081
## 1022                            avoided       0      1  0.284934081
## 1023                            awarded       0      1  0.284934081
## 1024                          awareness       0      1  0.284934081
## 1025                           backstop       0      1  0.284934081
## 1026                              bader       0      1  0.284934081
## 1027                             barron       0      1  0.284934081
## 1028                         basketball       0      1  0.284934081
## 1029                       battleground       0      1  0.284934081
## 1030                              becki       0      1  0.284934081
## 1031                            bedford       0      1  0.284934081
## 1032                            behaved       0      1  0.284934081
## 1033                          believers       0      1  0.284934081
## 1034                             belong       0      1  0.284934081
## 1035                            belongs       0      1  0.284934081
## 1036                             bemoan       0      1  0.284934081
## 1037                         benefactor       0      1  0.284934081
## 1038                         benefitted       0      1  0.284934081
## 1039                         benevolent       0      1  0.284934081
## 1040                           benghazi       0      1  0.284934081
## 1041                               bens       0      1  0.284934081
## 1042                            berrien       0      1  0.284934081
## 1043                              bests       0      1  0.284934081
## 1044                           bethpage       0      1  0.284934081
## 1045                            bigotry       0      1  0.284934081
## 1046                       billdeblasio       0      1  0.284934081
## 1047                           billings       0      1  0.284934081
## 1048                              bimbo       0      1  0.284934081
## 1049                         birthright       0      1  0.284934081
## 1050                             bishop       0      1  0.284934081
## 1051                                biz       0      1  0.284934081
## 1052                            blasted       0      1  0.284934081
## 1053                            bloated       0      1  0.284934081
## 1054                            blogger       0      1  0.284934081
## 1055                         bluecollar       0      1  0.284934081
## 1056                            boarded       0      1  0.284934081
## 1057                           boarding       0      1  0.284934081
## 1058                             boards       0      1  0.284934081
## 1059                             booker       0      1  0.284934081
## 1060                            booketc       0      1  0.284934081
## 1061                              booth       0      1  0.284934081
## 1062                         borderless       0      1  0.284934081
## 1063                             bowden       0      1  0.284934081
## 1064                              bowls       0      1  0.284934081
## 1065                                box       0      1  0.284934081
## 1066                              boxes       0      1  0.284934081
## 1067                            boynton       0      1  0.284934081
## 1068                                 bp       0      1  0.284934081
## 1069                             branch       0      1  0.284934081
## 1070                            bravely       0      1  0.284934081
## 1071                            bravery       0      1  0.284934081
## 1072                             breach       0      1  0.284934081
## 1073                          breakfast       0      1  0.284934081
## 1074                          breitbart       0      1  0.284934081
## 1075                     breitbarttotal       0      1  0.284934081
## 1076                        brentbozell       0      1  0.284934081
## 1077                             brewer       0      1  0.284934081
## 1078                            bribery       0      1  0.284934081
## 1079                         bridgeport       0      1  0.284934081
## 1080                          briefings       0      1  0.284934081
## 1081                        brilliantly       0      1  0.284934081
## 1082                         broaddrick       0      1  0.284934081
## 1083                           bruising       0      1  0.284934081
## 1084                              bruni       0      1  0.284934081
## 1085                         brzezinski       0      1  0.284934081
## 1086                              bubba       0      1  0.284934081
## 1087                             buckle       0      1  0.284934081
## 1088                            buckley       0      1  0.284934081
## 1089                            buffalo       0      1  0.284934081
## 1090                              bully       0      1  0.284934081
## 1091                             bureau       0      1  0.284934081
## 1092                          bushspent       0      1  0.284934081
## 1093                                bye       0      1  0.284934081
## 1094                                 ca       0      1  0.284934081
## 1095                 californiatomorrow       0      1  0.284934081
## 1096                             camera       0      1  0.284934081
## 1097                        campaignhis       0      1  0.284934081
## 1098                              camps       0      1  0.284934081
## 1099                         cancelling       0      1  0.284934081
## 1100                          candidacy       0      1  0.284934081
## 1101                             cannon       0      1  0.284934081
## 1102                            capital       0      1  0.284934081
## 1103                            capture       0      1  0.284934081
## 1104                             caring       0      1  0.284934081
## 1105                         carolinain       0      1  0.284934081
## 1106                        cataclysmic       0      1  0.284934081
## 1107                            catches       0      1  0.284934081
## 1108                          catholics       0      1  0.284934081
## 1109                               cbss       0      1  0.284934081
## 1110                                 cc       0      1  0.284934081
## 1111                           ccolvinj       0      1  0.284934081
## 1112                              ceder       0      1  0.284934081
## 1113                            ceiling       0      1  0.284934081
## 1114                       celebrations       0      1  0.284934081
## 1115                          certified       0      1  0.284934081
## 1116                                 ch       0      1  0.284934081
## 1117                              chair       0      1  0.284934081
## 1118                             chairs       0      1  0.284934081
## 1119                          challenge       0      1  0.284934081
## 1120                      championships       0      1  0.284934081
## 1121                            changer       0      1  0.284934081
## 1122                              chaos       0      1  0.284934081
## 1123                    charlestonmount       0      1  0.284934081
## 1124                            cheated       0      1  0.284934081
## 1125                           cheering       0      1  0.284934081
## 1126                            chester       0      1  0.284934081
## 1127                              chief       0      1  0.284934081
## 1128                         childishly       0      1  0.284934081
## 1129                               chip       0      1  0.284934081
## 1130                            choices       0      1  0.284934081
## 1131                             chokes       0      1  0.284934081
## 1132                            chooses       0      1  0.284934081
## 1133                           chugging       0      1  0.284934081
## 1134                           cillizza       0      1  0.284934081
## 1135                      circumstances       0      1  0.284934081
## 1136                             circus       0      1  0.284934081
## 1137                  citizenscontinued       0      1  0.284934081
## 1138                             claire       0      1  0.284934081
## 1139                             clerks       0      1  0.284934081
## 1140                            climber       0      1  0.284934081
## 1141                       clintonobama       0      1  0.284934081
## 1142                            closest       0      1  0.284934081
## 1143                              clubs       0      1  0.284934081
## 1144                               cnet       0      1  0.284934081
## 1145                               cnmi       0      1  0.284934081
## 1146                               cnns       0      1  0.284934081
## 1147                            cnnwmur       0      1  0.284934081
## 1148                        coincidence       0      1  0.284934081
## 1149                       colincowherd       0      1  0.284934081
## 1150                           coliseum       0      1  0.284934081
## 1151                            collins       0      1  0.284934081
## 1152                           combined       0      1  0.284934081
## 1153                         commitment       0      1  0.284934081
## 1154                          communism       0      1  0.284934081
## 1155                        complicated       0      1  0.284934081
## 1156                          comprised       0      1  0.284934081
## 1157                        concessions       0      1  0.284934081
## 1158                           conclude       0      1  0.284934081
## 1159                            concord       0      1  0.284934081
## 1160                             concur       0      1  0.284934081
## 1161                          condemned       0      1  0.284934081
## 1162                         conditions       0      1  0.284934081
## 1163                        conflicting       0      1  0.284934081
## 1164                          conflicts       0      1  0.284934081
## 1165                           confused       0      1  0.284934081
## 1166                        congressman       0      1  0.284934081
## 1167                       conradmblack       0      1  0.284934081
## 1168                           consumer       0      1  0.284934081
## 1169                            contact       0      1  0.284934081
## 1170                        contestants       0      1  0.284934081
## 1171                         contractor       0      1  0.284934081
## 1172                        contributor       0      1  0.284934081
## 1173                       conversation       0      1  0.284934081
## 1174                             copied       0      1  0.284934081
## 1175                            copying       0      1  0.284934081
## 1176                          copyright       0      1  0.284934081
## 1177                             corker       0      1  0.284934081
## 1178                          corporate       0      1  0.284934081
## 1179                              costa       0      1  0.284934081
## 1180                            counsel       0      1  0.284934081
## 1181                              count       0      1  0.284934081
## 1182                          count7943       0      1  0.284934081
## 1183                           counting       0      1  0.284934081
## 1184                             countr       0      1  0.284934081
## 1185                         courageous       0      1  0.284934081
## 1186                            courant       0      1  0.284934081
## 1187                             couric       0      1  0.284934081
## 1188                           courtesy       0      1  0.284934081
## 1189                         courthouse       0      1  0.284934081
## 1190                             cousin       0      1  0.284934081
## 1191                            coverup       0      1  0.284934081
## 1192                           coverups       0      1  0.284934081
## 1193                              crack       0      1  0.284934081
## 1194                             creati       0      1  0.284934081
## 1195                           creation       0      1  0.284934081
## 1196                             crisis       0      1  0.284934081
## 1197                          criticism       0      1  0.284934081
## 1198                              cross       0      1  0.284934081
## 1199                             crosse       0      1  0.284934081
## 1200                              cruzs       0      1  0.284934081
## 1201                              cuban       0      1  0.284934081
## 1202                            customs       0      1  0.284934081
## 1203                      cybersecurity       0      1  0.284934081
## 1204                             daddys       0      1  0.284934081
## 1205                             dakota       0      1  0.284934081
## 1206                             damage       0      1  0.284934081
## 1207                        darrellissa       0      1  0.284934081
## 1208                          databasea       0      1  0.284934081
## 1209                       daughterread       0      1  0.284934081
## 1210                               dave       0      1  0.284934081
## 1211                               davi       0      1  0.284934081
## 1212                       davidgregory       0      1  0.284934081
## 1213                             dealer       0      1  0.284934081
## 1214                             dearly       0      1  0.284934081
## 1215                            decades       0      1  0.284934081
## 1216                             deceit       0      1  0.284934081
## 1217                           decieved       0      1  0.284934081
## 1218                           decimate       0      1  0.284934081
## 1219                          decreased       0      1  0.284934081
## 1220                        deductibles       0      1  0.284934081
## 1221                             deeply       0      1  0.284934081
## 1222                          deerfield       0      1  0.284934081
## 1223                          defecting       0      1  0.284934081
## 1224                          defenders       0      1  0.284934081
## 1225                            defends       0      1  0.284934081
## 1226                            defunct       0      1  0.284934081
## 1227                               defy       0      1  0.284934081
## 1228                           demanded       0      1  0.284934081
## 1229                          demeaning       0      1  0.284934081
## 1230                           demeanor       0      1  0.284934081
## 1231                             denial       0      1  0.284934081
## 1232                        departments       0      1  0.284934081
## 1233                           depicted       0      1  0.284934081
## 1234                         depressing       0      1  0.284934081
## 1235                         depression       0      1  0.284934081
## 1236                           deserved       0      1  0.284934081
## 1237                        devastating       0      1  0.284934081
## 1238                        devastation       0      1  0.284934081
## 1239                     diamondandsilk       0      1  0.284934081
## 1240                                die       0      1  0.284934081
## 1241                              diner       0      1  0.284934081
## 1242                         disappoint       0      1  0.284934081
## 1243                            disavow       0      1  0.284934081
## 1244                           disclose       0      1  0.284934081
## 1245                       disconnected       0      1  0.284934081
## 1246                             disney       0      1  0.284934081
## 1247                         disqualify       0      1  0.284934081
## 1248                          disrupted       0      1  0.284934081
## 1249                          disrupter       0      1  0.284934081
## 1250                         dissipates       0      1  0.284934081
## 1251                           distract       0      1  0.284934081
## 1252                              ditch       0      1  0.284934081
## 1253                           division       0      1  0.284934081
## 1254                                dlg       0      1  0.284934081
## 1255                                doc       0      1  0.284934081
## 1256                           doctrine       0      1  0.284934081
## 1257                              dodge       0      1  0.284934081
## 1258                               dole       0      1  0.284934081
## 1259                          dominance       0      1  0.284934081
## 1260                         dominating       0      1  0.284934081
## 1261                     donaldjtrumpjr       0      1  0.284934081
## 1262                           donation       0      1  0.284934081
## 1263                              donor       0      1  0.284934081
## 1264                           dornsife       0      1  0.284934081
## 1265                             dorton       0      1  0.284934081
## 1266                               dowd       0      1  0.284934081
## 1267                             dreams       0      1  0.284934081
## 1268                             drehle       0      1  0.284934081
## 1269                           dripdrop       0      1  0.284934081
## 1270                      drudgereports       0      1  0.284934081
## 1271                                dry       0      1  0.284934081
## 1272                            dubuque       0      1  0.284934081
## 1273                               duck       0      1  0.284934081
## 1274                                dud       0      1  0.284934081
## 1275                               duke       0      1  0.284934081
## 1276                          dwstweets       0      1  0.284934081
## 1277                             dwyane       0      1  0.284934081
## 1278                              eagle       0      1  0.284934081
## 1279                            earlier       0      1  0.284934081
## 1280                            earnest       0      1  0.284934081
## 1281                         earthquake       0      1  0.284934081
## 1282                        earthquakes       0      1  0.284934081
## 1283                             easier       0      1  0.284934081
## 1284                             easyhe       0      1  0.284934081
## 1285                                eau       0      1  0.284934081
## 1286                               econ       0      1  0.284934081
## 1287                          economist       0      1  0.284934081
## 1288                            edgoeas       0      1  0.284934081
## 1289                            editing       0      1  0.284934081
## 1290                          elephants       0      1  0.284934081
## 1291                          eliminate       0      1  0.284934081
## 1292                            elliott       0      1  0.284934081
## 1293                              elton       0      1  0.284934081
## 1294                           emanated       0      1  0.284934081
## 1295                         emboldened       0      1  0.284934081
## 1296                            emerged       0      1  0.284934081
## 1297                          emergency       0      1  0.284934081
## 1298                         empowering       0      1  0.284934081
## 1299                            enabler       0      1  0.284934081
## 1300                           enclosed       0      1  0.284934081
## 1301                           enduring       0      1  0.284934081
## 1302                            enrique       0      1  0.284934081
## 1303              entertainingmassively       0      1  0.284934081
## 1304                           entirety       0      1  0.284934081
## 1305                           envision       0      1  0.284934081
## 1306                           epidemic       0      1  0.284934081
## 1307                           equality       0      1  0.284934081
## 1308                                era       0      1  0.284934081
## 1309                               erie       0      1  0.284934081
## 1310                             escape       0      1  0.284934081
## 1311                            escapes       0      1  0.284934081
## 1312                            espouse       0      1  0.284934081
## 1313                            estates       0      1  0.284934081
## 1314                            ethical       0      1  0.284934081
## 1315                                 eu       0      1  0.284934081
## 1316                             eugene       0      1  0.284934081
## 1317                            everett       0      1  0.284934081
## 1318                              evils       0      1  0.284934081
## 1319                           examples       0      1  0.284934081
## 1320                          excessive       0      1  0.284934081
## 1321                            excited       0      1  0.284934081
## 1322                     executionstyle       0      1  0.284934081
## 1323                          exercised       0      1  0.284934081
## 1324                             exists       0      1  0.284934081
## 1325                        experienced       0      1  0.284934081
## 1326                           exploded       0      1  0.284934081
## 1327                            exposed       0      1  0.284934081
## 1328                           exposing       0      1  0.284934081
## 1329                    extraordinarily       0      1  0.284934081
## 1330                            extreme       0      1  0.284934081
## 1331                          fabricate       0      1  0.284934081
## 1332                           facility       0      1  0.284934081
## 1333                             factor       0      1  0.284934081
## 1334                               fade       0      1  0.284934081
## 1335                             fading       0      1  0.284934081
## 1336                              falls       0      1  0.284934081
## 1337                            falwell       0      1  0.284934081
## 1338                         farmington       0      1  0.284934081
## 1339                            faucets       0      1  0.284934081
## 1340                             faulty       0      1  0.284934081
## 1341                       fayetteville       0      1  0.284934081
## 1342                                fcc       0      1  0.284934081
## 1343                                fdn       0      1  0.284934081
## 1344                      fearmongering       0      1  0.284934081
## 1345                           features       0      1  0.284934081
## 1346                          featuring       0      1  0.284934081
## 1347                                fed       0      1  0.284934081
## 1348                           feedback       0      1  0.284934081
## 1349                              felon       0      1  0.284934081
## 1350                           festival       0      1  0.284934081
## 1351                          fictional       0      1  0.284934081
## 1352                             filing       0      1  0.284934081
## 1353                           finances       0      1  0.284934081
## 1354                               firm       0      1  0.284934081
## 1355                          firstever       0      1  0.284934081
## 1356                           flailing       0      1  0.284934081
## 1357                           flexible       0      1  0.284934081
## 1358                             floods       0      1  0.284934081
## 1359                    floridatomorrow       0      1  0.284934081
## 1360                            flowers       0      1  0.284934081
## 1361                               foil       0      1  0.284934081
## 1362                                fop       0      1  0.284934081
## 1363                              forge       0      1  0.284934081
## 1364                           forgiven       0      1  0.284934081
## 1365                             formal       0      1  0.284934081
## 1366                             formed       0      1  0.284934081
## 1367                            formula       0      1  0.284934081
## 1368                             forums       0      1  0.284934081
## 1369                        foundations       0      1  0.284934081
## 1370                           fournier       0      1  0.284934081
## 1371                               fox2       0      1  0.284934081
## 1372                          fraternal       0      1  0.284934081
## 1373                       fraudulently       0      1  0.284934081
## 1374                           freedoms       0      1  0.284934081
## 1375                     freejessejames       0      1  0.284934081
## 1376                              fresh       0      1  0.284934081
## 1377                             fresno       0      1  0.284934081
## 1378                           friendly       0      1  0.284934081
## 1379                         friendship       0      1  0.284934081
## 1380                           fronting       0      1  0.284934081
## 1381                              fumed       0      1  0.284934081
## 1382                        fundraising       0      1  0.284934081
## 1383                              funds       0      1  0.284934081
## 1384                            futures       0      1  0.284934081
## 1385                                 ga       0      1  0.284934081
## 1386                             garcía       0      1  0.284934081
## 1387                         gatekeeper       0      1  0.284934081
## 1388                             gender       0      1  0.284934081
## 1389                               gene       0      1  0.284934081
## 1390                          geneva7pm       0      1  0.284934081
## 1391                           gennifer       0      1  0.284934081
## 1392                               gift       0      1  0.284934081
## 1393                           gingrich       0      1  0.284934081
## 1394                               girl       0      1  0.284934081
## 1395                           giuliani       0      1  0.284934081
## 1396                            glasses       0      1  0.284934081
## 1397                          glennbeck       0      1  0.284934081
## 1398                            golfing       0      1  0.284934081
## 1399                           gonzales       0      1  0.284934081
## 1400                      governorperry       0      1  0.284934081
## 1401                               grab       0      1  0.284934081
## 1402                          graduates       0      1  0.284934081
## 1403                              grain       0      1  0.284934081
## 1404                         gratifying       0      1  0.284934081
## 1405                              gravy       0      1  0.284934081
## 1406                              greta       0      1  0.284934081
## 1407                             grieve       0      1  0.284934081
## 1408                           grievous       0      1  0.284934081
## 1409                              grill       0      1  0.284934081
## 1410                               grow       0      1  0.284934081
## 1411                              grows       0      1  0.284934081
## 1412                               guam       0      1  0.284934081
## 1413                          guarantee       0      1  0.284934081
## 1414                              guard       0      1  0.284934081
## 1415                           guarding       0      1  0.284934081
## 1416                              guess       0      1  0.284934081
## 1417                              guide       0      1  0.284934081
## 1418                              habit       0      1  0.284934081
## 1419                              haiti       0      1  0.284934081
## 1420                              haley       0      1  0.284934081
## 1421                            handing       0      1  0.284934081
## 1422                            hanging       0      1  0.284934081
## 1423                            hannity       0      1  0.284934081
## 1424                           hanukkah       0      1  0.284934081
## 1425                          happiness       0      1  0.284934081
## 1426                             harbor       0      1  0.284934081
## 1427                         harrisburg       0      1  0.284934081
## 1428                           hartford       0      1  0.284934081
## 1429                           hashanah       0      1  0.284934081
## 1430                                hat       0      1  0.284934081
## 1431                             hatred       0      1  0.284934081
## 1432                             havana       0      1  0.284934081
## 1433                           hearings       0      1  0.284934081
## 1434                             herman       0      1  0.284934081
## 1435                      heytammybruce       0      1  0.284934081
## 1436                                hid       0      1  0.284934081
## 1437                              hikes       0      1  0.284934081
## 1438                       hillarythats       0      1  0.284934081
## 1439                               hire       0      1  0.284934081
## 1440                      historykasich       0      1  0.284934081
## 1441                               hoax       0      1  0.284934081
## 1442                             holder       0      1  0.284934081
## 1443                           holidays       0      1  0.284934081
## 1444                              holtz       0      1  0.284934081
## 1445                           homeland       0      1  0.284934081
## 1446                      homeownership       0      1  0.284934081
## 1447                           honolulu       0      1  0.284934081
## 1448                          honorable       0      1  0.284934081
## 1449                            hopeful       0      1  0.284934081
## 1450                             hoping       0      1  0.284934081
## 1451                          household       0      1  0.284934081
## 1452                                hrs       0      1  0.284934081
## 1453             http://t.co/0r8fc2zzvy       0      1  0.284934081
## 1454             http://t.co/2krx2tbets       0      1  0.284934081
## 1455             http://t.co/3eheivyd5a       0      1  0.284934081
## 1456             http://t.co/3hdsutmhim       0      1  0.284934081
## 1457             http://t.co/4dxoev0wia       0      1  0.284934081
## 1458             http://t.co/5p0tx9mq8u       0      1  0.284934081
## 1459             http://t.co/8rs1fbcaiz       0      1  0.284934081
## 1460             http://t.co/bncg1xqvcw       0      1  0.284934081
## 1461             http://t.co/cs8dod8wfm       0      1  0.284934081
## 1462             http://t.co/fnrixjwcvf       0      1  0.284934081
## 1463             http://t.co/fqiapu6gvc       0      1  0.284934081
## 1464             http://t.co/gkfoshg2xh       0      1  0.284934081
## 1465             http://t.co/hjho1rk06y       0      1  0.284934081
## 1466             http://t.co/ilcamzxc82       0      1  0.284934081
## 1467             http://t.co/iohazot8lk       0      1  0.284934081
## 1468             http://t.co/lomirpfliz       0      1  0.284934081
## 1469             http://t.co/lvx5sehqvv       0      1  0.284934081
## 1470             http://t.co/misqyasjhu       0      1  0.284934081
## 1471             http://t.co/mrhdw7dows       0      1  0.284934081
## 1472             http://t.co/o5v9ox3pyd       0      1  0.284934081
## 1473             http://t.co/ovxqmw4kob       0      1  0.284934081
## 1474             http://t.co/peeehtvtc8       0      1  0.284934081
## 1475             http://t.co/ptviayro4a       0      1  0.284934081
## 1476             http://t.co/rfee86mbbp       0      1  0.284934081
## 1477             http://t.co/rfwqddpb33       0      1  0.284934081
## 1478             http://t.co/snrr9yzmou       0      1  0.284934081
## 1479             http://t.co/tj3cnqp3pu       0      1  0.284934081
## 1480             http://t.co/tpv3w18bw6       0      1  0.284934081
## 1481             http://t.co/x4m9wfewx2       0      1  0.284934081
## 1482             http://t.co/xleluqfxof       0      1  0.284934081
## 1483             http://t.co/zxfte8aqyf       0      1  0.284934081
## 1484                            humbled       0      1  0.284934081
## 1485                  huntsvillemadison       0      1  0.284934081
## 1486                              icymi       0      1  0.284934081
## 1487                                 ii       0      1  0.284934081
## 1488                        illinformed       0      1  0.284934081
## 1489                              image       0      1  0.284934081
## 1490                             images       0      1  0.284934081
## 1491                          imitating       0      1  0.284934081
## 1492                      immigrationif       0      1  0.284934081
## 1493                           immunity       0      1  0.284934081
## 1494                         imperative       0      1  0.284934081
## 1495                         importance       0      1  0.284934081
## 1496                               incr       0      1  0.284934081
## 1497                         increasing       0      1  0.284934081
## 1498                                ind       0      1  0.284934081
## 1499                       independence       0      1  0.284934081
## 1500                           inducted       0      1  0.284934081
## 1501                         industries       0      1  0.284934081
## 1502                         ineptitude       0      1  0.284934081
## 1503                        inferiority       0      1  0.284934081
## 1504                         infiltrate       0      1  0.284934081
## 1505                          infringed       0      1  0.284934081
## 1506                          initially       0      1  0.284934081
## 1507                          initiated       0      1  0.284934081
## 1508                           inspired       0      1  0.284934081
## 1509                          inspiring       0      1  0.284934081
## 1510                          instagram       0      1  0.284934081
## 1511                           insticts       0      1  0.284934081
## 1512                           instruct       0      1  0.284934081
## 1513                        instruments       0      1  0.284934081
## 1514                            insurer       0      1  0.284934081
## 1515                                int       0      1  0.284934081
## 1516                         intellects       0      1  0.284934081
## 1517                       intelligence       0      1  0.284934081
## 1518                       intersection       0      1  0.284934081
## 1519                              intro       0      1  0.284934081
## 1520                          introduce       0      1  0.284934081
## 1521                         introduced       0      1  0.284934081
## 1522                          invention       0      1  0.284934081
## 1523                         invitation       0      1  0.284934081
## 1524                           inviting       0      1  0.284934081
## 1525                             iowans       0      1  0.284934081
## 1526                       ipsosreuters       0      1  0.284934081
## 1527                           iranians       0      1  0.284934081
## 1528                            isearly       0      1  0.284934081
## 1529                           islamist       0      1  0.284934081
## 1530                islandssupertuesday       0      1  0.284934081
## 1531                              italy       0      1  0.284934081
## 1532                           itreally       0      1  0.284934081
## 1533                            jackson       0      1  0.284934081
## 1534                            january       0      1  0.284934081
## 1535                              japan       0      1  0.284934081
## 1536                              jared       0      1  0.284934081
## 1537                            jeanine       0      1  0.284934081
## 1538                           jennifer       0      1  0.284934081
## 1539                          jerseyans       0      1  0.284934081
## 1540                             jindal       0      1  0.284934081
## 1541                       jobproducing       0      1  0.284934081
## 1542                          jobsvideo       0      1  0.284934081
## 1543                               joes       0      1  0.284934081
## 1544                           jonahnro       0      1  0.284934081
## 1545                           jonathan       0      1  0.284934081
## 1546                             jordan       0      1  0.284934081
## 1547                     jorgeramosnews       0      1  0.284934081
## 1548                             joseph       0      1  0.284934081
## 1549                       journalistic       0      1  0.284934081
## 1550                        journalists       0      1  0.284934081
## 1551                                 jr       0      1  0.284934081
## 1552                                 js       0      1  0.284934081
## 1553                            juanita       0      1  0.284934081
## 1554                             judged       0      1  0.284934081
## 1555                             judges       0      1  0.284934081
## 1556                                kai       0      1  0.284934081
## 1557                            kathryn       0      1  0.284934081
## 1558                             katies       0      1  0.284934081
## 1559                        kenansville       0      1  0.284934081
## 1560                             kiawah       0      1  0.284934081
## 1561                             kicked       0      1  0.284934081
## 1562                       kimguilfoyle       0      1  0.284934081
## 1563                            kinston       0      1  0.284934081
## 1564                            knowing       0      1  0.284934081
## 1565                              korea       0      1  0.284934081
## 1566                             koster       0      1  0.284934081
## 1567                        krauthammer       0      1  0.284934081
## 1568                                 ks       0      1  0.284934081
## 1569                          lafayette       0      1  0.284934081
## 1570                           landmark       0      1  0.284934081
## 1571                           lapierre       0      1  0.284934081
## 1572                               lara       0      1  0.284934081
## 1573                        larrykudlow       0      1  0.284934081
## 1574                         lauderdale       0      1  0.284934081
## 1575                              laura       0      1  0.284934081
## 1576                               lays       0      1  0.284934081
## 1577                             leaves       0      1  0.284934081
## 1578                           lectured       0      1  0.284934081
## 1579                                lee       0      1  0.284934081
## 1580                             legion       0      1  0.284934081
## 1581                             lehman       0      1  0.284934081
## 1582                            lending       0      1  0.284934081
## 1583                             lenses       0      1  0.284934081
## 1584                            leppert       0      1  0.284934081
## 1585                          lethargic       0      1  0.284934081
## 1586                            letters       0      1  0.284934081
## 1587                             levine       0      1  0.284934081
## 1588                          lexington       0      1  0.284934081
## 1589                              libya       0      1  0.284934081
## 1590                           lifelong       0      1  0.284934081
## 1591                             lights       0      1  0.284934081
## 1592                              limit       0      1  0.284934081
## 1593                      lindseygraham       0      1  0.284934081
## 1594                             lisbon       0      1  0.284934081
## 1595                          listeners       0      1  0.284934081
## 1596                            listens       0      1  0.284934081
## 1597                              lists       0      1  0.284934081
## 1598                             loaned       0      1  0.284934081
## 1599                           lobbying       0      1  0.284934081
## 1600                          locations       0      1  0.284934081
## 1601                              locks       0      1  0.284934081
## 1602                              lodge       0      1  0.284934081
## 1603                        londonderry       0      1  0.284934081
## 1604                           longterm       0      1  0.284934081
## 1605                              looms       0      1  0.284934081
## 1606                          loopholes       0      1  0.284934081
## 1607                         loserstrue       0      1  0.284934081
## 1608                                lou       0      1  0.284934081
## 1609                         louisville       0      1  0.284934081
## 1610                             lovely       0      1  0.284934081
## 1611                              lower       0      1  0.284934081
## 1612                               lows       0      1  0.284934081
## 1613                               luis       0      1  0.284934081
## 1614                            lunches       0      1  0.284934081
## 1615                             lynden       0      1  0.284934081
## 1616                              lynne       0      1  0.284934081
## 1617                             macomb       0      1  0.284934081
## 1618                              macon       0      1  0.284934081
## 1619                            madison       0      1  0.284934081
## 1620                            magical       0      1  0.284934081
## 1621                           mahoning       0      1  0.284934081
## 1622                               mail       0      1  0.284934081
## 1623                         mainstream       0      1  0.284934081
## 1624                            maitner       0      1  0.284934081
## 1625                              maker       0      1  0.284934081
## 1626                          malleable       0      1  0.284934081
## 1627                            mandate       0      1  0.284934081
## 1628                          manhattan       0      1  0.284934081
## 1629                            manheim       0      1  0.284934081
## 1630                             maniac       0      1  0.284934081
## 1631                       mannersigned       0      1  0.284934081
## 1632                            mariana       0      1  0.284934081
## 1633                              marie       0      1  0.284934081
## 1634 massachusettsmakeamericagreatagain       0      1  0.284934081
## 1635                            matters       0      1  0.284934081
## 1636                            matthew       0      1  0.284934081
## 1637                       matthewjdowd       0      1  0.284934081
## 1638                            maureen       0      1  0.284934081
## 1639                            maximum       0      1  0.284934081
## 1640                            mcallen       0      1  0.284934081
## 1641                          mcconnell       0      1  0.284934081
## 1642                                 md       0      1  0.284934081
## 1643                        meaningtell       0      1  0.284934081
## 1644                      mechanicsburg       0      1  0.284934081
## 1645                              medal       0      1  0.284934081
## 1646                             median       0      1  0.284934081
## 1647                        mediarigged       0      1  0.284934081
## 1648                           melanias       0      1  0.284934081
## 1649                          melbourne       0      1  0.284934081
## 1650                            melissa       0      1  0.284934081
## 1651                         membership       0      1  0.284934081
## 1652                            memphis       0      1  0.284934081
## 1653                    mercedesschlapp       0      1  0.284934081
## 1654                             method       0      1  0.284934081
## 1655                            mexicos       0      1  0.284934081
## 1656                                mgr       0      1  0.284934081
## 1657                                mia       0      1  0.284934081
## 1658                         midamerica       0      1  0.284934081
## 1659                              miles       0      1  0.284934081
## 1660                        mindblowing       0      1  0.284934081
## 1661                               mine       0      1  0.284934081
## 1662                         minerscoal       0      1  0.284934081
## 1663                         ministries       0      1  0.284934081
## 1664                              mired       0      1  0.284934081
## 1665                         misconduct       0      1  0.284934081
## 1666                        misdemeanor       0      1  0.284934081
## 1667                         mishandled       0      1  0.284934081
## 1668                              mitch       0      1  0.284934081
## 1669                           mitchell       0      1  0.284934081
## 1670                              mixed       0      1  0.284934081
## 1671                           mkhammer       0      1  0.284934081
## 1672                                 mo       0      1  0.284934081
## 1673                          moderator       0      1  0.284934081
## 1674                             modern       0      1  0.284934081
## 1675                              mogul       0      1  0.284934081
## 1676                           mohammed       0      1  0.284934081
## 1677                             molten       0      1  0.284934081
## 1678                                mom       0      1  0.284934081
## 1679                     mondaleferraro       0      1  0.284934081
## 1680                            monster       0      1  0.284934081
## 1681                           mornings       0      1  0.284934081
## 1682                              motto       0      1  0.284934081
## 1683                         mouthpiece       0      1  0.284934081
## 1684                              movie       0      1  0.284934081
## 1685                             moving       0      1  0.284934081
## 1686                                msg       0      1  0.284934081
## 1687                            murders       0      1  0.284934081
## 1688                          muscatine       0      1  0.284934081
## 1689                             museum       0      1  0.284934081
## 1690                              music       0      1  0.284934081
## 1691                            musical       0      1  0.284934081
## 1692                            myanmar       0      1  0.284934081
## 1693                             myrtle       0      1  0.284934081
## 1694                           naftatpp       0      1  0.284934081
## 1695                              nancy       0      1  0.284934081
## 1696                      nataliegulbis       0      1  0.284934081
## 1697                          naturally       0      1  0.284934081
## 1698                            navarro       0      1  0.284934081
## 1699                       nbcwsjmarist       0      1  0.284934081
## 1700                              neera       0      1  0.284934081
## 1701                          negatives       0      1  0.284934081
## 1702                         negativity       0      1  0.284934081
## 1703                          neglected       0      1  0.284934081
## 1704                          neighbors       0      1  0.284934081
## 1705                              newly       0      1  0.284934081
## 1706                            newtown       0      1  0.284934081
## 1707                                nfl       0      1  0.284934081
## 1708                           nightsee       0      1  0.284934081
## 1709                              nikki       0      1  0.284934081
## 1710                               nite       0      1  0.284934081
## 1711                               nogo       0      1  0.284934081
## 1712                              nolte       0      1  0.284934081
## 1713                        nonmexicans       0      1  0.284934081
## 1714                           nonunion       0      1  0.284934081
## 1715                             noonan       0      1  0.284934081
## 1716                           northern       0      1  0.284934081
## 1717                       northwestern       0      1  0.284934081
## 1718                              notch       0      1  0.284934081
## 1719                               nprs       0      1  0.284934081
## 1720                               nypd       0      1  0.284934081
## 1721                               nyts       0      1  0.284934081
## 1722                          objective       0      1  0.284934081
## 1723                           observer       0      1  0.284934081
## 1724                          observing       0      1  0.284934081
## 1725                          occasions       0      1  0.284934081
## 1726                             occupy       0      1  0.284934081
## 1727                              ocean       0      1  0.284934081
## 1728                            odyssey       0      1  0.284934081
## 1729                           offenses       0      1  0.284934081
## 1730                            offices       0      1  0.284934081
## 1731                          ohiothank       0      1  0.284934081
## 1732                              omaha       0      1  0.284934081
## 1733                         ondelivers       0      1  0.284934081
## 1734                           opinions       0      1  0.284934081
## 1735                            oppress       0      1  0.284934081
## 1736                          oppresses       0      1  0.284934081
## 1737                         oppression       0      1  0.284934081
## 1738                         oppressive       0      1  0.284934081
## 1739                              opsec       0      1  0.284934081
## 1740                           organize       0      1  0.284934081
## 1741                            orleans       0      1  0.284934081
## 1742                                 ou       0      1  0.284934081
## 1743                             outlet       0      1  0.284934081
## 1744                            outrage       0      1  0.284934081
## 1745                        outspending       0      1  0.284934081
## 1746                     overtimetrying       0      1  0.284934081
## 1747                               pacs       0      1  0.284934081
## 1748                            padilla       0      1  0.284934081
## 1749                           pageants       0      1  0.284934081
## 1750                            palazzo       0      1  0.284934081
## 1751                          pandering       0      1  0.284934081
## 1752                             panned       0      1  0.284934081
## 1753                       participated       0      1  0.284934081
## 1754                           passport       0      1  0.284934081
## 1755                          passports       0      1  0.284934081
## 1756                             pastor       0      1  0.284934081
## 1757                       pathological       0      1  0.284934081
## 1758                    patrickbuchanan       0      1  0.284934081
## 1759                              paved       0      1  0.284934081
## 1760                            payment       0      1  0.284934081
## 1761                              payne       0      1  0.284934081
## 1762                            payroll       0      1  0.284934081
## 1763                          paytoplay       0      1  0.284934081
## 1764                              pearl       0      1  0.284934081
## 1765                              peggy       0      1  0.284934081
## 1766                               pena       0      1  0.284934081
## 1767                               peña       0      1  0.284934081
## 1768                     pennsylvaniahe       0      1  0.284934081
## 1769                                peo       0      1  0.284934081
## 1770                             perdue       0      1  0.284934081
## 1771                              peres       0      1  0.284934081
## 1772                          perfectly       0      1  0.284934081
## 1773                             perils       0      1  0.284934081
## 1774                             period       0      1  0.284934081
## 1775                          periscope       0      1  0.284934081
## 1776                         persistent       0      1  0.284934081
## 1777                        perspective       0      1  0.284934081
## 1778                               phil       0      1  0.284934081
## 1779                       philadelphia       0      1  0.284934081
## 1780                            phoneix       0      1  0.284934081
## 1781                             photos       0      1  0.284934081
## 1782                             phrase       0      1  0.284934081
## 1783                             phylis       0      1  0.284934081
## 1784                             pickup       0      1  0.284934081
## 1785                               pigs       0      1  0.284934081
## 1786                              pizza       0      1  0.284934081
## 1787                          plaintiff       0      1  0.284934081
## 1788                            planted       0      1  0.284934081
## 1789                           pleasant       0      1  0.284934081
## 1790                            pledged       0      1  0.284934081
## 1791                            plotted       0      1  0.284934081
## 1792                             pocket       0      1  0.284934081
## 1793                           pocketed       0      1  0.284934081
## 1794                            polices       0      1  0.284934081
## 1795                             polish       0      1  0.284934081
## 1796                             poll33       0      1  0.284934081
## 1797                            pollsiu       0      1  0.284934081
## 1798                          pollsters       0      1  0.284934081
## 1799                           positive       0      1  0.284934081
## 1800                       postelection       0      1  0.284934081
## 1801                              posts       0      1  0.284934081
## 1802                           potatoes       0      1  0.284934081
## 1803                                 pr       0      1  0.284934081
## 1804                             preach       0      1  0.284934081
## 1805                        preexisting       0      1  0.284934081
## 1806                            premium       0      1  0.284934081
## 1807                            pretend       0      1  0.284934081
## 1808                           pretends       0      1  0.284934081
## 1809                         preventing       0      1  0.284934081
## 1810                           previous       0      1  0.284934081
## 1811                               prez       0      1  0.284934081
## 1812                         priorities       0      1  0.284934081
## 1813                              prize       0      1  0.284934081
## 1814                              pro2a       0      1  0.284934081
## 1815                              probe       0      1  0.284934081
## 1816                          progrowth       0      1  0.284934081
## 1817                          proisrael       0      1  0.284934081
## 1818                           projects       0      1  0.284934081
## 1819                        prominently       0      1  0.284934081
## 1820                          promising       0      1  0.284934081
## 1821                         prosanders       0      1  0.284934081
## 1822                        prosecution       0      1  0.284934081
## 1823                          prospects       0      1  0.284934081
## 1824                         protesting       0      1  0.284934081
## 1825                             protpp       0      1  0.284934081
## 1826                           provided       0      1  0.284934081
## 1827                            prowall       0      1  0.284934081
## 1828                             prowar       0      1  0.284934081
## 1829                               ptsd       0      1  0.284934081
## 1830                        publication       0      1  0.284934081
## 1831                             puerto       0      1  0.284934081
## 1832                               pull       0      1  0.284934081
## 1833                         purchasing       0      1  0.284934081
## 1834                             pushes       0      1  0.284934081
## 1835                             putins       0      1  0.284934081
## 1836                           pyramids       0      1  0.284934081
## 1837                                 q2       0      1  0.284934081
## 1838                            qualify       0      1  0.284934081
## 1839                           quarters       0      1  0.284934081
## 1840                            quoting       0      1  0.284934081
## 1841                        racebaiting       0      1  0.284934081
## 1842                             raises       0      1  0.284934081
## 1843                              raked       0      1  0.284934081
## 1844                              ranch       0      1  0.284934081
## 1845                              randy       0      1  0.284934081
## 1846                             ransom       0      1  0.284934081
## 1847                               rant       0      1  0.284934081
## 1848                              rapes       0      1  0.284934081
## 1849                             rarely       0      1  0.284934081
## 1850                            reached       0      1  0.284934081
## 1851                           reacting       0      1  0.284934081
## 1852                            readout       0      1  0.284934081
## 1853                          rebellion       0      1  0.284934081
## 1854                              recap       0      1  0.284934081
## 1855                           recovery       0      1  0.284934081
## 1856                           redesign       0      1  0.284934081
## 1857                            redford       0      1  0.284934081
## 1858                           redstate       0      1  0.284934081
## 1859                          reduction       0      1  0.284934081
## 1860                               reed       0      1  0.284934081
## 1861                         referendum       0      1  0.284934081
## 1862                           reflects       0      1  0.284934081
## 1863                            refugee       0      1  0.284934081
## 1864                            refusal       0      1  0.284934081
## 1865                         refutation       0      1  0.284934081
## 1866                                reg       0      1  0.284934081
## 1867                            regimes       0      1  0.284934081
## 1868                            regions       0      1  0.284934081
## 1869                  registerbloomberg       0      1  0.284934081
## 1870                         regulation       0      1  0.284934081
## 1871                        regulations       0      1  0.284934081
## 1872                        reinforcing       0      1  0.284934081
## 1873                           rejected       0      1  0.284934081
## 1874                           releases       0      1  0.284934081
## 1875                            relives       0      1  0.284934081
## 1876                        remembering       0      1  0.284934081
## 1877                            removed       0      1  0.284934081
## 1878                           removing       0      1  0.284934081
## 1879                            renewal       0      1  0.284934081
## 1880                         renosparks       0      1  0.284934081
## 1881                           renounce       0      1  0.284934081
## 1882                          renovated       0      1  0.284934081
## 1883                           repealed       0      1  0.284934081
## 1884                   reportersworking       0      1  0.284934081
## 1885                        represented       0      1  0.284934081
## 1886                               reps       0      1  0.284934081
## 1887                           restored       0      1  0.284934081
## 1888                          restoring       0      1  0.284934081
## 1889                           resulted       0      1  0.284934081
## 1890                            retains       0      1  0.284934081
## 1891                            retired       0      1  0.284934081
## 1892                           retiring       0      1  0.284934081
## 1893                                rev       0      1  0.284934081
## 1894                             reveal       0      1  0.284934081
## 1895                           revealed       0      1  0.284934081
## 1896                            reverse       0      1  0.284934081
## 1897                       reviewdoomed       0      1  0.284934081
## 1898                               rico       0      1  0.284934081
## 1899                             riding       0      1  0.284934081
## 1900                              riley       0      1  0.284934081
## 1901                       ringlingbros       0      1  0.284934081
## 1902                         rockingham       0      1  0.284934081
## 1903                               role       0      1  0.284934081
## 1904                               rome       0      1  0.284934081
## 1905                             ronald       0      1  0.284934081
## 1906                               rone       0      1  0.284934081
## 1907                              rorke       0      1  0.284934081
## 1908                               rosh       0      1  0.284934081
## 1909                              round       0      1  0.284934081
## 1910                         roundtable       0      1  0.284934081
## 1911                            rowanne       0      1  0.284934081
## 1912                              rtenn       0      1  0.284934081
## 1913                              rubin       0      1  0.284934081
## 1914                               rudy       0      1  0.284934081
## 1915                              ruled       0      1  0.284934081
## 1916                             rumors       0      1  0.284934081
## 1917                           russians       0      1  0.284934081
## 1918                               ruth       0      1  0.284934081
## 1919                           sabotage       0      1  0.284934081
## 1920                             sacred       0      1  0.284934081
## 1921                             sadler       0      1  0.284934081
## 1922                                saf       0      1  0.284934081
## 1923                              salem       0      1  0.284934081
## 1924                             salute       0      1  0.284934081
## 1925                         sandiegopd       0      1  0.284934081
## 1926                             savage       0      1  0.284934081
## 1927                            savings       0      1  0.284934081
## 1928                        scarborough       0      1  0.284934081
## 1929                             scenes       0      1  0.284934081
## 1930                          scheduled       0      1  0.284934081
## 1931                          schlaflys       0      1  0.284934081
## 1932                       schreckenger       0      1  0.284934081
## 1933                          scientist       0      1  0.284934081
## 1934                             scotts       0      1  0.284934081
## 1935                             screen       0      1  0.284934081
## 1936                           scrutiny       0      1  0.284934081
## 1937                               scum       0      1  0.284934081
## 1938                           searched       0      1  0.284934081
## 1939                          sebastian       0      1  0.284934081
## 1940                            seeking       0      1  0.284934081
## 1941                            segment       0      1  0.284934081
## 1942                             seized       0      1  0.284934081
## 1943                  selfdetermination       0      1  0.284934081
## 1944                              selma       0      1  0.284934081
## 1945                            session       0      1  0.284934081
## 1946                           sessions       0      1  0.284934081
## 1947                           shackles       0      1  0.284934081
## 1948                             shadow       0      1  0.284934081
## 1949                            sharing       0      1  0.284934081
## 1950                            shatter       0      1  0.284934081
## 1951                              shell       0      1  0.284934081
## 1952                             shimon       0      1  0.284934081
## 1953                             shoddy       0      1  0.284934081
## 1954                 shouldertoshoulder       0      1  0.284934081
## 1955                              shout       0      1  0.284934081
## 1956                           shoutout       0      1  0.284934081
## 1957                             shreds       0      1  0.284934081
## 1958                             shultz       0      1  0.284934081
## 1959                              simon       0      1  0.284934081
## 1960                          sincerely       0      1  0.284934081
## 1961                         situations       0      1  0.284934081
## 1962                          skarlatos       0      1  0.284934081
## 1963                                sky       0      1  0.284934081
## 1964                          skyrocket       0      1  0.284934081
## 1965                              slams       0      1  0.284934081
## 1966                           slashing       0      1  0.284934081
## 1967                           sleeping       0      1  0.284934081
## 1968                              slide       0      1  0.284934081
## 1969                              sliwa       0      1  0.284934081
## 1970                               slog       0      1  0.284934081
## 1971                               slow       0      1  0.284934081
## 1972                            slowest       0      1  0.284934081
## 1973                                 sm       0      1  0.284934081
## 1974                              smear       0      1  0.284934081
## 1975                             sneers       0      1  0.284934081
## 1976                               snow       0      1  0.284934081
## 1977                            soaring       0      1  0.284934081
## 1978                            society       0      1  0.284934081
## 1979                               soft       0      1  0.284934081
## 1980                           softball       0      1  0.284934081
## 1981                           someones       0      1  0.284934081
## 1982                         somethings       0      1  0.284934081
## 1983                            spewing       0      1  0.284934081
## 1984                           spirited       0      1  0.284934081
## 1985                            spokane       0      1  0.284934081
## 1986                     springfield1pm       0      1  0.284934081
## 1987                             squirm       0      1  0.284934081
## 1988                           ssr=true       0      1  0.284934081
## 1989                           staffers       0      1  0.284934081
## 1990                             stakes       0      1  0.284934081
## 1991                            stances       0      1  0.284934081
## 1992                           starters       0      1  0.284934081
## 1993                            steinle       0      1  0.284934081
## 1994                             steven       0      1  0.284934081
## 1995                          stimulate       0      1  0.284934081
## 1996                          stockpile       0      1  0.284934081
## 1997                              stone       0      1  0.284934081
## 1998                            storage       0      1  0.284934081
## 1999                             storms       0      1  0.284934081
## 2000                      straightening       0      1  0.284934081
## 2001                             stream       0      1  0.284934081
## 2002                          strongest       0      1  0.284934081
## 2003                             struck       0      1  0.284934081
## 2004                          struggled       0      1  0.284934081
## 2005                            student       0      1  0.284934081
## 2006                            studies       0      1  0.284934081
## 2007                          submitted       0      1  0.284934081
## 2008                      subscriptions       0      1  0.284934081
## 2009                            succeed       0      1  0.284934081
## 2010                            suggest       0      1  0.284934081
## 2011                              suing       0      1  0.284934081
## 2012                               suit       0      1  0.284934081
## 2013                             summer       0      1  0.284934081
## 2014                             sununu       0      1  0.284934081
## 2015                           superior       0      1  0.284934081
## 2016                          surrogate       0      1  0.284934081
## 2017                       surveillance       0      1  0.284934081
## 2018                            surveys       0      1  0.284934081
## 2019                           suspects       0      1  0.284934081
## 2020                            suspend       0      1  0.284934081
## 2021                         suspending       0      1  0.284934081
## 2022                              table       0      1  0.284934081
## 2023                               taco       0      1  0.284934081
## 2024                            tactics       0      1  0.284934081
## 2025                              takes       0      1  0.284934081
## 2026                             tanden       0      1  0.284934081
## 2027                               tarp       0      1  0.284934081
## 2028                           taunting       0      1  0.284934081
## 2029                              teach       0      1  0.284934081
## 2030                             teamed       0      1  0.284934081
## 2031                         technician       0      1  0.284934081
## 2032                                tee       0      1  0.284934081
## 2033                                tel       0      1  0.284934081
## 2034                          temporary       0      1  0.284934081
## 2035                         terminated       0      1  0.284934081
## 2036                           terribly       0      1  0.284934081
## 2037                          terrified       0      1  0.284934081
## 2038                          testimony       0      1  0.284934081
## 2039                                tha       0      1  0.284934081
## 2040                    thejuanwilliams       0      1  0.284934081
## 2041                              theyd       0      1  0.284934081
## 2042                             theyll       0      1  0.284934081
## 2043                             thirty       0      1  0.284934081
## 2044                        thisweekabc       0      1  0.284934081
## 2045                              throw       0      1  0.284934081
## 2046                              tiger       0      1  0.284934081
## 2047                               tiny       0      1  0.284934081
## 2048                         togetherto       0      1  0.284934081
## 2049                          toledo4pm       0      1  0.284934081
## 2050                              topic       0      1  0.284934081
## 2051                               tops       0      1  0.284934081
## 2052                          tornadoes       0      1  0.284934081
## 2053                             torres       0      1  0.284934081
## 2054                            touches       0      1  0.284934081
## 2055                           touching       0      1  0.284934081
## 2056                          toughness       0      1  0.284934081
## 2057                               tour       0      1  0.284934081
## 2058                        traceadkins       0      1  0.284934081
## 2059                         trafficked       0      1  0.284934081
## 2060                             tragic       0      1  0.284934081
## 2061                              train       0      1  0.284934081
## 2062                           training       0      1  0.284934081
## 2063                               trap       0      1  0.284934081
## 2064                              trash       0      1  0.284934081
## 2065                             travis       0      1  0.284934081
## 2066                            tribute       0      1  0.284934081
## 2067                              trice       0      1  0.284934081
## 2068                              troll       0      1  0.284934081
## 2069                           troubled       0      1  0.284934081
## 2070                             trough       0      1  0.284934081
## 2071                        trumpocrats       0      1  0.284934081
## 2072                             trumpu       0      1  0.284934081
## 2073                            trusted       0      1  0.284934081
## 2074                             tucson       0      1  0.284934081
## 2075                                tue       0      1  0.284934081
## 2076                             turkey       0      1  0.284934081
## 2077                         tweetsvery       0      1  0.284934081
## 2078                                ufc       0      1  0.284934081
## 2079                                 ul       0      1  0.284934081
## 2080                              umass       0      1  0.284934081
## 2081                       unacceptable       0      1  0.284934081
## 2082                       unauthorized       0      1  0.284934081
## 2083                         undecideds       0      1  0.284934081
## 2084                         underlings       0      1  0.284934081
## 2085                         undermines       0      1  0.284934081
## 2086                         understood       0      1  0.284934081
## 2087                           underway       0      1  0.284934081
## 2088                          unfolding       0      1  0.284934081
## 2089                        unification       0      1  0.284934081
## 2090                               univ       0      1  0.284934081
## 2091                      unpredictable       0      1  0.284934081
## 2092                     unquestionably       0      1  0.284934081
## 2093                             unrest       0      1  0.284934081
## 2094                             unveil       0      1  0.284934081
## 2095                           unveiled       0      1  0.284934081
## 2096                              upand       0      1  0.284934081
## 2097                            updated       0      1  0.284934081
## 2098                             upheld       0      1  0.284934081
## 2099                              urban       0      1  0.284934081
## 2100                             urging       0      1  0.284934081
## 2101                                usc       0      1  0.284934081
## 2102                           username       0      1  0.284934081
## 2103                               usss       0      1  0.284934081
## 2104                              usual       0      1  0.284934081
## 2105                          validated       0      1  0.284934081
## 2106                             valley       0      1  0.284934081
## 2107                                van       0      1  0.284934081
## 2108                        vandersloot       0      1  0.284934081
## 2109                            vanessa       0      1  0.284934081
## 2110                          vanishing       0      1  0.284934081
## 2111                               veep       0      1  0.284934081
## 2112                          venezuela       0      1  0.284934081
## 2113                                 vi       0      1  0.284934081
## 2114                            vibrant       0      1  0.284934081
## 2115                             victim       0      1  0.284934081
## 2116                          victories       0      1  0.284934081
## 2117                    videobroaddrick       0      1  0.284934081
## 2118                          vigilance       0      1  0.284934081
## 2119                        vindication       0      1  0.284934081
## 2120                            virtues       0      1  0.284934081
## 2121                              visas       0      1  0.284934081
## 2122                          volunteer       0      1  0.284934081
## 2123                                von       0      1  0.284934081
## 2124                         voterfraud       0      1  0.284934081
## 2125                                vps       0      1  0.284934081
## 2126                                 vt       0      1  0.284934081
## 2127                             vulgar       0      1  0.284934081
## 2128                          vulgarian       0      1  0.284934081
## 2129                              wades       0      1  0.284934081
## 2130                            walking       0      1  0.284934081
## 2131                               wapo       0      1  0.284934081
## 2132                               warn       0      1  0.284934081
## 2133                              warns       0      1  0.284934081
## 2134                            warrens       0      1  0.284934081
## 2135                            warwick       0      1  0.284934081
## 2136                               watc       0      1  0.284934081
## 2137                           watchdog       0      1  0.284934081
## 2138                              water       0      1  0.284934081
## 2139                          waterbury       0      1  0.284934081
## 2140                           waterloo       0      1  0.284934081
## 2141                          watertown       0      1  0.284934081
## 2142                             waynes       0      1  0.284934081
## 2143                             weapon       0      1  0.284934081
## 2144                            website       0      1  0.284934081
## 2145                          wellwrong       0      1  0.284934081
## 2146                             werent       0      1  0.284934081
## 2147                            western       0      1  0.284934081
## 2148                          westfield       0      1  0.284934081
## 2149                               weve       0      1  0.284934081
## 2150                             widens       0      1  0.284934081
## 2151                             willey       0      1  0.284934081
## 2152                            william       0      1  0.284934081
## 2153                      williebosshog       0      1  0.284934081
## 2154                            windham       0      1  0.284934081
## 2155                            windows       0      1  0.284934081
## 2156                               wini       0      1  0.284934081
## 2157                             winter       0      1  0.284934081
## 2158                             winthx       0      1  0.284934081
## 2159                             wisdom       0      1  0.284934081
## 2160                            wishing       0      1  0.284934081
## 2161                          withdrawn       0      1  0.284934081
## 2162                           withheld       0      1  0.284934081
## 2163                          witnesses       0      1  0.284934081
## 2164                             wlocal       0      1  0.284934081
## 2165                             wobama       0      1  0.284934081
## 2166                           wondered       0      1  0.284934081
## 2167                          worcester       0      1  0.284934081
## 2168                        workingclas       0      1  0.284934081
## 2169                          worldcont       0      1  0.284934081
## 2170                              worry       0      1  0.284934081
## 2171                             worthy       0      1  0.284934081
## 2172                               wout       0      1  0.284934081
## 2173                            writers       0      1  0.284934081
## 2174                              wthem       0      1  0.284934081
## 2175                              wthis       0      1  0.284934081
## 2176                               wwii       0      1  0.284934081
## 2177                            xfinity       0      1  0.284934081
## 2178                            yankees       0      1  0.284934081
## 2179                            yearcan       0      1  0.284934081
## 2180                         yearswhere       0      1  0.284934081
## 2181                         yesterdays       0      1  0.284934081
## 2182                            yorkers       0      1  0.284934081
## 2183                              youve       0      1  0.284934081
## 2184                                yrs       0      1  0.284934081
## 2185                              honor      11     32  0.301994779
## 2186                               ohio      22     62  0.306786589
## 2187                             friday       3      9  0.314803070
## 2188                            reuters       3      9  0.314803070
## 2189                              union       3      9  0.314803070
## 2190                               west       3      9  0.314803070
## 2191                          afternoon       5     14  0.324030243
## 2192                           movement      13     35  0.324526060
## 2193                            florida      22     58  0.327858879
## 2194                                3rd       2      6  0.328691691
## 2195                             broken       2      6  0.328691691
## 2196                        connecticut       2      6  0.328691691
## 2197                             kansas       2      6  0.328691691
## 2198                           refugees       2      6  0.328691691
## 2199                            indiana       9     24  0.331086068
## 2200                            arizona      10     26  0.338291180
## 2201                            georgia       5     13  0.348057727
## 2202                              beach       3      8  0.351864236
## 2203                             monday       3      8  0.351864236
## 2204                            greatly       4     10  0.366195625
## 2205                             obamas       4     10  0.366195625
## 2206                               @gop       1      3  0.366313414
## 2207                              @oann       1      3  0.366313414
## 2208                          @randpaul       1      3  0.366313414
## 2209                   @realdonaldtrump       1      3  0.366313414
## 2210                           americas       1      3  0.366313414
## 2211                            anaheim       1      3  0.366313414
## 2212                              bills       1      3  0.366313414
## 2213                              books       1      3  0.366313414
## 2214                              bushy       1      3  0.366313414
## 2215                           changing       1      3  0.366313414
## 2216                          christmas       1      3  0.366313414
## 2217                         commentary       1      3  0.366313414
## 2218                            crashed       1      3  0.366313414
## 2219                               cred       1      3  0.366313414
## 2220                               fame       1      3  0.366313414
## 2221                                fan       1      3  0.366313414
## 2222                                gay       1      3  0.366313414
## 2223                             geneva       1      3  0.366313414
## 2224                              gifts       1      3  0.366313414
## 2225                           ginsburg       1      3  0.366313414
## 2226                         helicopter       1      3  0.366313414
## 2227                            holiday       1      3  0.366313414
## 2228                           horrific       1      3  0.366313414
## 2229                            houston       1      3  0.366313414
## 2230                                hrc       1      3  0.366313414
## 2231                         inaccurate       1      3  0.366313414
## 2232                               jail       1      3  0.366313414
## 2233                             jersey       1      3  0.366313414
## 2234                         management       1      3  0.366313414
## 2235                                nov       1      3  0.366313414
## 2236                         protecting       1      3  0.366313414
## 2237                           schedule       1      3  0.366313414
## 2238                                sit       1      3  0.366313414
## 2239                              touch       1      3  0.366313414
## 2240                       unemployment       1      3  0.366313414
## 2241                               vast       1      3  0.366313414
## 2242                            wichita       1      3  0.366313414
## 2243                             worlds       1      3  0.366313414
## 2244                          worthless       1      3  0.366313414
## 2245                           colorado      11     25  0.385090990
## 2246                       @nydailynews       2      5  0.388481976
## 2247                           @tedcruz       2      5  0.388481976
## 2248                       @unionleader       2      5  0.388481976
## 2249                            ashamed       2      5  0.388481976
## 2250                           complete       2      5  0.388481976
## 2251                                des       2      5  0.388481976
## 2252                              doors       2      5  0.388481976
## 2253                            goldman       2      5  0.388481976
## 2254                             moines       2      5  0.388481976
## 2255                          officials       2      5  0.388481976
## 2256                           sarasota       2      5  0.388481976
## 2257                            weekend       2      5  0.388481976
## 2258                          wisconsin      10     22  0.398547536
## 2259                        appreciated       3      7  0.398808381
## 2260                               care       3      7  0.398808381
## 2261                              david       3      7  0.398808381
## 2262                           facebook       3      7  0.398808381
## 2263                                gov       3      7  0.398808381
## 2264                             robert       3      7  0.398808381
## 2265                               noon       4      9  0.404771882
## 2266                              truth       4      9  0.404771882
## 2267                         university       4      9  0.404771882
## 2268                               wife       6     13  0.411366440
## 2269                         california       8     17  0.414913877
## 2270                             @greta       5     10  0.447600163
## 2271                           expected       5     10  0.447600163
## 2272                          wednesday       5     10  0.447600163
## 2273                             review       4      8  0.452424906
## 2274                            victims       4      8  0.452424906
## 2275                             winner       4      8  0.452424906
## 2276                         politician       3      6  0.460196877
## 2277                              stand       3      6  0.460196877
## 2278                               live      16     30  0.461919997
## 2279                   @barbarajwalters       2      4  0.474845722
## 2280                      @drudgereport       2      4  0.474845722
## 2281                     @realbencarson       2      4  0.474845722
## 2282                       @thisweekabc       2      4  0.474845722
## 2283                         additional       2      4  0.474845722
## 2284                            couldnt       2      4  0.474845722
## 2285                               cuba       2      4  0.474845722
## 2286                        desperately       2      4  0.474845722
## 2287                             domain       2      4  0.474845722
## 2288                            eminent       2      4  0.474845722
## 2289                          endorsing       2      4  0.474845722
## 2290                             helped       2      4  0.474845722
## 2291                          legendary       2      4  0.474845722
## 2292                            liberty       2      4  0.474845722
## 2293                              loves       2      4  0.474845722
## 2294                            phyllis       2      4  0.474845722
## 2295                              rates       2      4  0.474845722
## 2296                              share       2      4  0.474845722
## 2297                             syrian       2      4  0.474845722
## 2298                            written       2      4  0.474845722
## 2299                           virginia      16     29  0.477612983
## 2300                            replace       6     11  0.482978480
## 2301                           reporter       6     11  0.482978480
## 2302                            evening      14     25  0.485639818
## 2303                           american      20     35  0.493012779
## 2304                          hampshire      31     53  0.502362913
## 2305                           carolina      36     61  0.506244755
## 2306                            attacks       4      7  0.512785402
## 2307                   @lindseygrahamsc       1      2  0.512875949
## 2308                        @mittromney       1      2  0.512875949
## 2309                          @redstate       1      2  0.512875949
## 2310                         @richlowry       1      2  0.512875949
## 2311                         #teamtrump       1      2  0.512875949
## 2312                                $25       1      2  0.512875949
## 2313                                4th       1      2  0.512875949
## 2314                           accurate       1      2  0.512875949
## 2315                             agreed       1      2  0.512875949
## 2316                            airtime       1      2  0.512875949
## 2317                                ann       1      2  0.512875949
## 2318                               army       1      2  0.512875949
## 2319                           attended       1      2  0.512875949
## 2320                           baseball       1      2  0.512875949
## 2321                                bed       1      2  0.512875949
## 2322                               blue       1      2  0.512875949
## 2323                            british       1      2  0.512875949
## 2324                              built       1      2  0.512875949
## 2325                          christian       1      2  0.512875949
## 2326                              clean       1      2  0.512875949
## 2327                          coalition       1      2  0.512875949
## 2328                               cold       1      2  0.512875949
## 2329                            college       1      2  0.512875949
## 2330                              comey       1      2  0.512875949
## 2331                   commanderinchief       1      2  0.512875949
## 2332                         commercial       1      2  0.512875949
## 2333                         completely       1      2  0.512875949
## 2334                       constitution       1      2  0.512875949
## 2335                       construction       1      2  0.512875949
## 2336                           creating       1      2  0.512875949
## 2337                             dayton       1      2  0.512875949
## 2338                         disastrous       1      2  0.512875949
## 2339                            dropped       1      2  0.512875949
## 2340                         ewerickson       1      2  0.512875949
## 2341                             extort       1      2  0.512875949
## 2342                      extraordinary       1      2  0.512875949
## 2343                           fabulous       1      2  0.512875949
## 2344                               fell       1      2  0.512875949
## 2345                             fields       1      2  0.512875949
## 2346                          followers       1      2  0.512875949
## 2347                              forms       1      2  0.512875949
## 2348                             global       1      2  0.512875949
## 2349                              harry       1      2  0.512875949
## 2350                           hispanic       1      2  0.512875949
## 2351                              holds       1      2  0.512875949
## 2352                               huma       1      2  0.512875949
## 2353                              hurts       1      2  0.512875949
## 2354                                 id       1      2  0.512875949
## 2355                        importantly       1      2  0.512875949
## 2356                           informed       1      2  0.512875949
## 2357                          instincts       1      2  0.512875949
## 2358                      jessebwatters       1      2  0.512875949
## 2359                          johnstown       1      2  0.512875949
## 2360                               jump       1      2  0.512875949
## 2361                                key       1      2  0.512875949
## 2362                               kick       1      2  0.512875949
## 2363                          knoxville       1      2  0.512875949
## 2364                               lake       1      2  0.512875949
## 2365                             legacy       1      2  0.512875949
## 2366                               lift       1      2  0.512875949
## 2367                              local       1      2  0.512875949
## 2368                              louis       1      2  0.512875949
## 2369                              march       1      2  0.512875949
## 2370                               mock       1      2  0.512875949
## 2371                                msm       1      2  0.512875949
## 2372                             nashua       1      2  0.512875949
## 2373                          nashville       1      2  0.512875949
## 2374                         nationwide       1      2  0.512875949
## 2375                               navy       1      2  0.512875949
## 2376                        negotiating       1      2  0.512875949
## 2377                            oreilly       1      2  0.512875949
## 2378                            perfect       1      2  0.512875949
## 2379                              peter       1      2  0.512875949
## 2380                                pic       1      2  0.512875949
## 2381                            process       1      2  0.512875949
## 2382                           promises       1      2  0.512875949
## 2383                            provide       1      2  0.512875949
## 2384                               pure       1      2  0.512875949
## 2385                          receiving       1      2  0.512875949
## 2386                            respond       1      2  0.512875949
## 2387                               rich       1      2  0.512875949
## 2388                             rising       1      2  0.512875949
## 2389                               rush       1      2  0.512875949
## 2390                               salt       1      2  0.512875949
## 2391                           scandals       1      2  0.512875949
## 2392                            sending       1      2  0.512875949
## 2393                              sense       1      2  0.512875949
## 2394                             stance       1      2  0.512875949
## 2395                              steel       1      2  0.512875949
## 2396                              stock       1      2  0.512875949
## 2397                            stopped       1      2  0.512875949
## 2398                           strategy       1      2  0.512875949
## 2399                          suffering       1      2  0.512875949
## 2400                          supporter       1      2  0.512875949
## 2401                              sweat       1      2  0.512875949
## 2402                       thebrodyfile       1      2  0.512875949
## 2403                              tired       1      2  0.512875949
## 2404                          tomorrows       1      2  0.512875949
## 2405                            veteran       1      2  0.512875949
## 2406                            visited       1      2  0.512875949
## 2407                               wash       1      2  0.512875949
## 2408                            worried       1      2  0.512875949
## 2409                              zogby       1      2  0.512875949
## 2410                              agree       6     10  0.529014791
## 2411                                law      13     21  0.536390328
## 2412                             donald      15     24  0.540394017
## 2413                    @andersoncooper       3      5  0.543908463
## 2414                           crippled       3      5  0.543908463
## 2415                             native       3      5  0.543908463
## 2416                            private       3      5  0.543908463
## 2417                             silent       3      5  0.543908463
## 2418                              visit       3      5  0.543908463
## 2419                             repeal       7     11  0.557317397
## 2420                              email       9     14  0.559827356
## 2421                             center      10     15  0.578830664
## 2422                              times      10     15  0.578830664
## 2423                             office       8     12  0.581090143
## 2424                               hall       6      9  0.584742957
## 2425                            twitter       6      9  0.584742957
## 2426                               vote      46     67  0.587722041
## 2427                              bobby       4      6  0.591718359
## 2428                         corruption       4      6  0.591718359
## 2429                        immediately       4      6  0.591718359
## 2430                            justice       4      6  0.591718359
## 2431                           kentucky       4      6  0.591718359
## 2432                               late       4      6  0.591718359
## 2433                        mississippi       4      6  0.591718359
## 2434                               rate       4      6  0.591718359
## 2435                           governor      14     20  0.604307817
## 2436                    congratulations       7     10  0.610439509
## 2437                               days       7     10  0.610439509
## 2438                            phoenix       7     10  0.610439509
## 2439                                @ap       2      3  0.610560180
## 2440                     @foxnewssunday       2      3  0.610560180
## 2441                             ballot       2      3  0.610560180
## 2442                            charity       2      3  0.610560180
## 2443                             cities       2      3  0.610560180
## 2444                               cnbc       2      3  0.610560180
## 2445                          companies       2      3  0.610560180
## 2446                           congrats       2      3  0.610560180
## 2447                        disgraceful       2      3  0.610560180
## 2448                                 dr       2      3  0.610560180
## 2449                             entire       2      3  0.610560180
## 2450                               fail       2      3  0.610560180
## 2451                              faith       2      3  0.610560180
## 2452                             father       2      3  0.610560180
## 2453                               fort       2      3  0.610560180
## 2454                               govt       2      3  0.610560180
## 2455                           horribly       2      3  0.610560180
## 2456                               hour       2      3  0.610560180
## 2457                          hypocrite       2      3  0.610560180
## 2458                          illegally       2      3  0.610560180
## 2459                               laws       2      3  0.610560180
## 2460                            liberal       2      3  0.610560180
## 2461                              lines       2      3  0.610560180
## 2462                      manufacturing       2      3  0.610560180
## 2463                            nations       2      3  0.610560180
## 2464                                 nc       2      3  0.610560180
## 2465                               palm       2      3  0.610560180
## 2466                               play       2      3  0.610560180
## 2467                           powerful       2      3  0.610560180
## 2468                              sachs       2      3  0.610560180
## 2469                               send       2      3  0.610560180
## 2470                           shouldnt       2      3  0.610560180
## 2471                                sue       2      3  0.610560180
## 2472                              syria       2      3  0.610560180
## 2473                           thinking       2      3  0.610560180
## 2474                                 va       2      3  0.610560180
## 2475                            waiting       2      3  0.610560180
## 2476                          zuckerman       2      3  0.610560180
## 2477                          @politico       5      7  0.626776549
## 2478                            amnesty       5      7  0.626776549
## 2479                          beginning       5      7  0.626776549
## 2480                            stories       5      7  0.626776549
## 2481                          questions       8     11  0.631665528
## 2482                              rally      28     38  0.632175525
## 2483                               post      11     15  0.633996691
## 2484                              watch      42     56  0.642100623
## 2485                                fox      15     20  0.646024270
## 2486                              texas      12     16  0.647354743
## 2487                               left       9     12  0.649493942
## 2488                          beautiful       6      8  0.653583633
## 2489                           increase       6      8  0.653583633
## 2490                             leader       6      8  0.653583633
## 2491                               team       6      8  0.653583633
## 2492                             family      13     17  0.659185128
## 2493                         @glennbeck       3      4  0.664825198
## 2494                        @jdickerson       3      4  0.664825198
## 2495                                dem       3      4  0.664825198
## 2496                                dog       3      4  0.664825198
## 2497                            enjoyed       3      4  0.664825198
## 2498                            failure       3      4  0.664825198
## 2499                            freedom       3      4  0.664825198
## 2500                             knight       3      4  0.664825198
## 2501                              legal       3      4  0.664825198
## 2502                               loan       3      4  0.664825198
## 2503                               lose       3      4  0.664825198
## 2504                              makes       3      4  0.664825198
## 2505                           nebraska       3      4  0.664825198
## 2506                            nuclear       3      4  0.664825198
## 2507                           oklahoma       3      4  0.664825198
## 2508                               sell       3      4  0.664825198
## 2509                              staff       3      4  0.664825198
## 2510                             threat       3      4  0.664825198
## 2511                          obamacare      12     15  0.689169557
## 2512                           november       8     10  0.691874320
## 2513                            america     114    140  0.694505648
## 2514                                act       4      5  0.699354210
## 2515                          countries       4      5  0.699354210
## 2516                               info       4      5  0.699354210
## 2517                       jacksonville       4      5  0.699354210
## 2518                              paper       4      5  0.699354210
## 2519                              unfit       4      5  0.699354210
## 2520                               read       9     11  0.706022876
## 2521                            tonight      70     84  0.711975848
## 2522                              arena       5      6  0.723256141
## 2523                             common       5      6  0.723256141
## 2524                               drug       5      6  0.723256141
## 2525                            message       5      6  0.723256141
## 2526                            protect       5      6  0.723256141
## 2527                                 sc       5      6  0.723256141
## 2528                           security       5      6  0.723256141
## 2529                               shot       5      6  0.723256141
## 2530                          tennessee       5      6  0.723256141
## 2531                            arrived       6      7  0.740781823
## 2532                            corrupt       6      7  0.740781823
## 2533                            foreign       6      7  0.740781823
## 2534                            friends       6      7  0.740781823
## 2535                              front       6      7  0.740781823
## 2536                               home       6      7  0.740781823
## 2537                               lies      13     15  0.744349264
## 2538                             friend       7      8  0.754181696
## 2539                             growth       7      8  0.754181696
## 2540                                las       7      8  0.754181696
## 2541                              south      30     34  0.755291157
## 2542                            heading      15     17  0.756936036
## 2543                             failed      23     26  0.757738447
## 2544                          respected       8      9  0.764758648
## 2545                              voter       8      9  0.764758648
## 2546                       @seanhannity      17     19  0.766937204
## 2547                        endorsement      18     20  0.771204674
## 2548                            meeting      13     14  0.795741415
## 2549                               iowa      61     65  0.801908338
## 2550                           campaign      46     49  0.802489564
## 2551                                 im      15     16  0.802869192
## 2552                           national      26     27  0.823492816
## 2553                             kasich      23     23  0.854657114
## 2554                              world      18     18  0.854702180
## 2555                             united      12     12  0.854756222
## 2556                               real      11     11  0.854765225
## 2557                               book      10     10  0.854774228
## 2558                             forget       9      9  0.854783228
## 2559                                tax       9      9  0.854783228
## 2560                          terrorism       9      9  0.854783228
## 2561                              vegas       8      8  0.854792228
## 2562                             action       6      6  0.854810225
## 2563                             defeat       6      6  0.854810225
## 2564                              dying       6      6  0.854810225
## 2565                              final       6      6  0.854810225
## 2566                               free       6      6  0.854810225
## 2567                               meet       6      6  0.854810225
## 2568                                ran       6      6  0.854810225
## 2569                               town       6      6  0.854810225
## 2570                             caucus       5      5  0.854819221
## 2571                            control       5      5  0.854819221
## 2572                              dummy       5      5  0.854819221
## 2573                                ill       5      5  0.854819221
## 2574                            jebbush       5      5  0.854819221
## 2575                             landed       5      5  0.854819221
## 2576                              miami       5      5  0.854819221
## 2577                          terrorist       5      5  0.854819221
## 2578                            article       4      4  0.854828216
## 2579                        campaigning       4      4  0.854828216
## 2580                            chicago       4      4  0.854828216
## 2581                              coach       4      4  0.854828216
## 2582                           criminal       4      4  0.854828216
## 2583                               fool       4      4  0.854828216
## 2584                              found       4      4  0.854828216
## 2585                         healthcare       4      4  0.854828216
## 2586                             inside       4      4  0.854828216
## 2587                         irrelevant       4      4  0.854828216
## 2588                              islam       4      4  0.854828216
## 2589                             letter       4      4  0.854828216
## 2590                                met       4      4  0.854828216
## 2591                             middle       4      4  0.854828216
## 2592                          newspaper       4      4  0.854828216
## 2593                         nomination       4      4  0.854828216
## 2594                       professional       4      4  0.854828216
## 2595                              short       4      4  0.854828216
## 2596                           terrific       4      4  0.854828216
## 2597                         terrorists       4      4  0.854828216
## 2598                              worth       4      4  0.854828216
## 2599                              wrote       4      4  0.854828216
## 2600                                abc       3      3  0.854837211
## 2601                       announcement       3      3  0.854837211
## 2602                             beaten       3      3  0.854837211
## 2603                            deleted       3      3  0.854837211
## 2604                          delivered       3      3  0.854837211
## 2605                         disclosure       3      3  0.854837211
## 2606                              force       3      3  0.854837211
## 2607                             france       3      3  0.854837211
## 2608                          immigrant       3      3  0.854837211
## 2609                        information       3      3  0.854837211
## 2610                                ive       3      3  0.854837211
## 2611                               jose       3      3  0.854837211
## 2612                              judge       3      3  0.854837211
## 2613                          landslide       3      3  0.854837211
## 2614                      massachusetts       3      3  0.854837211
## 2615                             proven       3      3  0.854837211
## 2616                             rating       3      3  0.854837211
## 2617                            reports       3      3  0.854837211
## 2618                             safety       3      3  0.854837211
## 2619                            setting       3      3  0.854837211
## 2620                              shame       3      3  0.854837211
## 2621                            success       3      3  0.854837211
## 2622                             todays       3      3  0.854837211
## 2623                                tom       3      3  0.854837211
## 2624                               utah       3      3  0.854837211
## 2625                              venue       3      3  0.854837211
## 2626                               vice       3      3  0.854837211
## 2627                          violation       3      3  0.854837211
## 2628                             vision       3      3  0.854837211
## 2629                             @ac360       2      2  0.854846204
## 2630                      @judgejeanine       2      2  0.854846204
## 2631                            @nbcsnl       2      2  0.854846204
## 2632                             agents       2      2  0.854846204
## 2633                                ban       2      2  0.854846204
## 2634                            begging       2      2  0.854846204
## 2635                               bias       2      2  0.854846204
## 2636                               bomb       2      2  0.854846204
## 2637                               cash       2      2  0.854846204
## 2638                        certificate       2      2  0.854846204
## 2639                            charged       2      2  0.854846204
## 2640                             choked       2      2  0.854846204
## 2641                        citizenship       2      2  0.854846204
## 2642                          community       2      2  0.854846204
## 2643                            consult       2      2  0.854846204
## 2644                               cost       2      2  0.854846204
## 2645                         department       2      2  0.854846204
## 2646                            detroit       2      2  0.854846204
## 2647                               east       2      2  0.854846204
## 2648                        evangelical       2      2  0.854846204
## 2649                            experts       2      2  0.854846204
## 2650                             flunky       2      2  0.854846204
## 2651                              frank       2      2  0.854846204
## 2652                                god       2      2  0.854846204
## 2653                               hand       2      2  0.854846204
## 2654                        independent       2      2  0.854846204
## 2655                           involved       2      2  0.854846204
## 2656                             league       2      2  0.854846204
## 2657                           location       2      2  0.854846204
## 2658                            machine       2      2  0.854846204
## 2659                               mark       2      2  0.854846204
## 2660                              mosul       2      2  0.854846204
## 2661                             mother       2      2  0.854846204
## 2662                             muslim       2      2  0.854846204
## 2663                                pat       2      2  0.854846204
## 2664                           pictures       2      2  0.854846204
## 2665                            pouring       2      2  0.854846204
## 2666                              power       2      2  0.854846204
## 2667                              price       2      2  0.854846204
## 2668                               push       2      2  0.854846204
## 2669                              radio       2      2  0.854846204
## 2670                              raise       2      2  0.854846204
## 2671                            raising       2      2  0.854846204
## 2672                          reception       2      2  0.854846204
## 2673                             secure       2      2  0.854846204
## 2674                            shortly       2      2  0.854846204
## 2675                              sleep       2      2  0.854846204
## 2676                              style       2      2  0.854846204
## 2677                          supported       2      2  0.854846204
## 2678                           surprise       2      2  0.854846204
## 2679                            tiffany       2      2  0.854846204
## 2680                             timing       2      2  0.854846204
## 2681                              trail       2      2  0.854846204
## 2682                         understand       2      2  0.854846204
## 2683                            vermont       2      2  0.854846204
## 2684                              views       2      2  0.854846204
## 2685                            violent       2      2  0.854846204
## 2686                         volunteers       2      2  0.854846204
## 2687                               wait       2      2  0.854846204
## 2688                             wealth       2      2  0.854846204
## 2689                   @bobvanderplaats       1      1  0.854855196
## 2690                     @breitbartnews       1      1  0.854855196
## 2691                         @bretbaier       1      1  0.854855196
## 2692                      @cherijacobus       1      1  0.854855196
## 2693                               @fox       1      1  0.854855196
## 2694                               @img       1      1  0.854855196
## 2695                        @katyturnbc       1      1  0.854855196
## 2696                      @loudobbsnews       1      1  0.854855196
## 2697                             @msnbc       1      1  0.854855196
## 2698                             @potus       1      1  0.854855196
## 2699                    @quinnipiacpoll       1      1  0.854855196
## 2700                       @scottwalker       1      1  0.854855196
## 2701                             @slate       1      1  0.854855196
## 2702                         @surveyusa       1      1  0.854855196
## 2703                        @teamcavuto       1      1  0.854855196
## 2704                           #hannity       1      1  0.854855196
## 2705                               $100       1      1  0.854855196
## 2706                               $120       1      1  0.854855196
## 2707                               $400       1      1  0.854855196
## 2708                             abedin       1      1  0.854855196
## 2709                           aberdeen       1      1  0.854855196
## 2710                           absolute       1      1  0.854855196
## 2711                         acceptance       1      1  0.854855196
## 2712                             access       1      1  0.854855196
## 2713                            address       1      1  0.854855196
## 2714                           advisers       1      1  0.854855196
## 2715                           affected       1      1  0.854855196
## 2716                           agreeing       1      1  0.854855196
## 2717                           airplane       1      1  0.854855196
## 2718                            airport       1      1  0.854855196
## 2719                              akron       1      1  0.854855196
## 2720                              alike       1      1  0.854855196
## 2721                             allies       1      1  0.854855196
## 2722                                amy       1      1  0.854855196
## 2723                           analysis       1      1  0.854855196
## 2724                            anthony       1      1  0.854855196
## 2725                           approval       1      1  0.854855196
## 2726                           arrested       1      1  0.854855196
## 2727                             assets       1      1  0.854855196
## 2728                            attempt       1      1  0.854855196
## 2729                               baby       1      1  0.854855196
## 2730                                bag       1      1  0.854855196
## 2731                            ballots       1      1  0.854855196
## 2732                               bank       1      1  0.854855196
## 2733                                bar       1      1  0.854855196
## 2734                            barrack       1      1  0.854855196
## 2735                              begin       1      1  0.854855196
## 2736                               belt       1      1  0.854855196
## 2737                           benjamin       1      1  0.854855196
## 2738                            bernies       1      1  0.854855196
## 2739                        billionaire       1      1  0.854855196
## 2740                         birmingham       1      1  0.854855196
## 2741                              block       1      1  0.854855196
## 2742                            blocked       1      1  0.854855196
## 2743                            bombing       1      1  0.854855196
## 2744                             boxing       1      1  0.854855196
## 2745                              brand       1      1  0.854855196
## 2746                             brutal       1      1  0.854855196
## 2747                          campaigns       1      1  0.854855196
## 2748                            capable       1      1  0.854855196
## 2749                            captain       1      1  0.854855196
## 2750                           careless       1      1  0.854855196
## 2751                            cartels       1      1  0.854855196
## 2752                               cast       1      1  0.854855196
## 2753                         challenges       1      1  0.854855196
## 2754                          champions       1      1  0.854855196
## 2755                          character       1      1  0.854855196
## 2756                            cheater       1      1  0.854855196
## 2757                           cheating       1      1  0.854855196
## 2758                           checking       1      1  0.854855196
## 2759                         christians       1      1  0.854855196
## 2760                           citizens       1      1  0.854855196
## 2761                             claims       1      1  0.854855196
## 2762                              coast       1      1  0.854855196
## 2763                           collapse       1      1  0.854855196
## 2764                          collusion       1      1  0.854855196
## 2765                           comeback       1      1  0.854855196
## 2766                          commander       1      1  0.854855196
## 2767                            comment       1      1  0.854855196
## 2768                          confirmed       1      1  0.854855196
## 2769                       contribution       1      1  0.854855196
## 2770                               cool       1      1  0.854855196
## 2771                                cox       1      1  0.854855196
## 2772                           credible       1      1  0.854855196
## 2773                             crying       1      1  0.854855196
## 2774                          dangerous       1      1  0.854855196
## 2775                               data       1      1  0.854855196
## 2776                             decide       1      1  0.854855196
## 2777                            deepest       1      1  0.854855196
## 2778                          defending       1      1  0.854855196
## 2779                            deficit       1      1  0.854855196
## 2780                         definition       1      1  0.854855196
## 2781                           delegate       1      1  0.854855196
## 2782                           departed       1      1  0.854855196
## 2783                             deport       1      1  0.854855196
## 2784                        deportation       1      1  0.854855196
## 2785                         describing       1      1  0.854855196
## 2786                            develop       1      1  0.854855196
## 2787                          dickerson       1      1  0.854855196
## 2788                          difficult       1      1  0.854855196
## 2789                             dinner       1      1  0.854855196
## 2790                           disarray       1      1  0.854855196
## 2791                         dishonesty       1      1  0.854855196
## 2792                       disqualified       1      1  0.854855196
## 2793                            disrupt       1      1  0.854855196
## 2794                              ditka       1      1  0.854855196
## 2795                                doj       1      1  0.854855196
## 2796                               door       1      1  0.854855196
## 2797                              drain       1      1  0.854855196
## 2798                               dump       1      1  0.854855196
## 2799                             dustin       1      1  0.854855196
## 2800                              elect       1      1  0.854855196
## 2801                          elections       1      1  0.854855196
## 2802                         eliminated       1      1  0.854855196
## 2803                            england       1      1  0.854855196
## 2804                          erictrump       1      1  0.854855196
## 2805                             ethics       1      1  0.854855196
## 2806                           european       1      1  0.854855196
## 2807                         evansville       1      1  0.854855196
## 2808                           evidence       1      1  0.854855196
## 2809                              execs       1      1  0.854855196
## 2810                            explode       1      1  0.854855196
## 2811                          extortion       1      1  0.854855196
## 2812                             facing       1      1  0.854855196
## 2813                             favors       1      1  0.854855196
## 2814                           featured       1      1  0.854855196
## 2815                                fec       1      1  0.854855196
## 2816                               fest       1      1  0.854855196
## 2817                              filed       1      1  0.854855196
## 2818                            finance       1      1  0.854855196
## 2819                             fixing       1      1  0.854855196
## 2820                               foul       1      1  0.854855196
## 2821                            founder       1      1  0.854855196
## 2822                        fundraisers       1      1  0.854855196
## 2823                              gangs       1      1  0.854855196
## 2824                            garbage       1      1  0.854855196
## 2825                         gettysburg       1      1  0.854855196
## 2826                               goal       1      1  0.854855196
## 2827                          groveling       1      1  0.854855196
## 2828                              guest       1      1  0.854855196
## 2829                            harvard       1      1  0.854855196
## 2830                              hater       1      1  0.854855196
## 2831                            hearing       1      1  0.854855196
## 2832                              hedge       1      1  0.854855196
## 2833                               hero       1      1  0.854855196
## 2834                               hold       1      1  0.854855196
## 2835                               idea       1      1  0.854855196
## 2836                             impact       1      1  0.854855196
## 2837                           incident       1      1  0.854855196
## 2838                           industry       1      1  0.854855196
## 2839                          influence       1      1  0.854855196
## 2840                             inform       1      1  0.854855196
## 2841                         insightful       1      1  0.854855196
## 2842                      interruptions       1      1  0.854855196
## 2843                         interviews       1      1  0.854855196
## 2844                        introducing       1      1  0.854855196
## 2845                                 iq       1      1  0.854855196
## 2846                            ireland       1      1  0.854855196
## 2847                               jack       1      1  0.854855196
## 2848                           jeffress       1      1  0.854855196
## 2849                             jewish       1      1  0.854855196
## 2850                               july       1      1  0.854855196
## 2851                          kellyanne       1      1  0.854855196
## 2852                              kevin       1      1  0.854855196
## 2853                               land       1      1  0.854855196
## 2854                           launched       1      1  0.854855196
## 2855                        liabilities       1      1  0.854855196
## 2856                       lightweights       1      1  0.854855196
## 2857                           limbaugh       1      1  0.854855196
## 2858                             living       1      1  0.854855196
## 2859                               lots       1      1  0.854855196
## 2860                           lowering       1      1  0.854855196
## 2861                             lowest       1      1  0.854855196
## 2862                            madness       1      1  0.854855196
## 2863                        magnificent       1      1  0.854855196
## 2864                               main       1      1  0.854855196
## 2865                           manassas       1      1  0.854855196
## 2866                           maralago       1      1  0.854855196
## 2867                             market       1      1  0.854855196
## 2868                              marks       1      1  0.854855196
## 2869                               mate       1      1  0.854855196
## 2870                              meant       1      1  0.854855196
## 2871                       meetthepress       1      1  0.854855196
## 2872                           meltdown       1      1  0.854855196
## 2873                               memo       1      1  0.854855196
## 2874                              merry       1      1  0.854855196
## 2875                        middleclass       1      1  0.854855196
## 2876                               mika       1      1  0.854855196
## 2877                            minimum       1      1  0.854855196
## 2878                            minions       1      1  0.854855196
## 2879                             mocked       1      1  0.854855196
## 2880                              model       1      1  0.854855196
## 2881                      monicacrowley       1      1  0.854855196
## 2882                              mouth       1      1  0.854855196
## 2883                              moved       1      1  0.854855196
## 2884                              moves       1      1  0.854855196
## 2885                                net       1      1  0.854855196
## 2886                          netanyahu       1      1  0.854855196
## 2887                               nose       1      1  0.854855196
## 2888                               nuts       1      1  0.854855196
## 2889                         obligation       1      1  0.854855196
## 2890                          offensive       1      1  0.854855196
## 2891                          operation       1      1  0.854855196
## 2892                            opposed       1      1  0.854855196
## 2893                       organization       1      1  0.854855196
## 2894                          organized       1      1  0.854855196
## 2895                        outstanding       1      1  0.854855196
## 2896                               oval       1      1  0.854855196
## 2897                               owes       1      1  0.854855196
## 2898                            pageant       1      1  0.854855196
## 2899                             parade       1      1  0.854855196
## 2900                        participate       1      1  0.854855196
## 2901                            passing       1      1  0.854855196
## 2902                            passion       1      1  0.854855196
## 2903                             pataki       1      1  0.854855196
## 2904                         payforplay       1      1  0.854855196
## 2905                           personal       1      1  0.854855196
## 2906                         personally       1      1  0.854855196
## 2907                               pete       1      1  0.854855196
## 2908                             philly       1      1  0.854855196
## 2909                            picture       1      1  0.854855196
## 2910                            pleased       1      1  0.854855196
## 2911                           politico       1      1  0.854855196
## 2912                           pollster       1      1  0.854855196
## 2913                               pope       1      1  0.854855196
## 2914                           postpone       1      1  0.854855196
## 2915                          predators       1      1  0.854855196
## 2916                          pretended       1      1  0.854855196
## 2917                            prevail       1      1  0.854855196
## 2918                            profits       1      1  0.854855196
## 2919                              proof       1      1  0.854855196
## 2920                           proposal       1      1  0.854855196
## 2921                         prosecuted       1      1  0.854855196
## 2922                          publisher       1      1  0.854855196
## 2923                            pulling       1      1  0.854855196
## 2924                              quest       1      1  0.854855196
## 2925                           quitting       1      1  0.854855196
## 2926                            raleigh       1      1  0.854855196
## 2927                            reading       1      1  0.854855196
## 2928                    realdonaldtrump       1      1  0.854855196
## 2929                           realized       1      1  0.854855196
## 2930                            reasons       1      1  0.854855196
## 2931                           refusing       1      1  0.854855196
## 2932                          releasing       1      1  0.854855196
## 2933                          religious       1      1  0.854855196
## 2934                           replaced       1      1  0.854855196
## 2935                          represent       1      1  0.854855196
## 2936                             return       1      1  0.854855196
## 2937                          returning       1      1  0.854855196
## 2938                         revolution       1      1  0.854855196
## 2939                               ring       1      1  0.854855196
## 2940                            romneys       1      1  0.854855196
## 2941                               rory       1      1  0.854855196
## 2942                               rose       1      1  0.854855196
## 2943                                row       1      1  0.854855196
## 2944                            ruining       1      1  0.854855196
## 2945                            sailors       1      1  0.854855196
## 2946                           salaries       1      1  0.854855196
## 2947                          sanctions       1      1  0.854855196
## 2948                             saving       1      1  0.854855196
## 2949                     scottienhughes       1      1  0.854855196
## 2950                               seal       1      1  0.854855196
## 2951                               seat       1      1  0.854855196
## 2952                            selling       1      1  0.854855196
## 2953                              sends       1      1  0.854855196
## 2954                                sex       1      1  0.854855196
## 2955                              shake       1      1  0.854855196
## 2956                            silence       1      1  0.854855196
## 2957                             single       1      1  0.854855196
## 2958                              sneak       1      1  0.854855196
## 2959                             social       1      1  0.854855196
## 2960                             spends       1      1  0.854855196
## 2961                            stadium       1      1  0.854855196
## 2962                           stairway       1      1  0.854855196
## 2963                          statewide       1      1  0.854855196
## 2964                              stood       1      1  0.854855196
## 2965                              straw       1      1  0.854855196
## 2966                           students       1      1  0.854855196
## 2967                         supporting       1      1  0.854855196
## 2968                              surge       1      1  0.854855196
## 2969                           surround       1      1  0.854855196
## 2970                            survive       1      1  0.854855196
## 2971                             tarmac       1      1  0.854855196
## 2972                              teams       1      1  0.854855196
## 2973                       teleprompter       1      1  0.854855196
## 2974                             treats       1      1  0.854855196
## 2975                            turmoil       1      1  0.854855196
## 2976                            tweeted       1      1  0.854855196
## 2977                             tweets       1      1  0.854855196
## 2978                           ultimate       1      1  0.854855196
## 2979                              unify       1      1  0.854855196
## 2980                             unreal       1      1  0.854855196
## 2981                         unreported       1      1  0.854855196
## 2982                         untalented       1      1  0.854855196
## 2983                             videos       1      1  0.854855196
## 2984                             walker       1      1  0.854855196
## 2985                               warm       1      1  0.854855196
## 2986                             waving       1      1  0.854855196
## 2987                              whats       1      1  0.854855196
## 2988                             willie       1      1  0.854855196
## 2989                              wreck       1      1  0.854855196
## 2990                             wsjnbc       1      1  0.854855196
## 2991                         zuckermans       1      1  0.854855196
## 2992                         supporters      24     23  0.891080778
## 2993                              bring      15     14  0.913742326
## 2994                          statement      14     13  0.918118745
## 2995                         incredible      12     11  0.929150231
## 2996                            million      21     19  0.942470906
## 2997                          cleveland       9      8  0.955415232
## 2998                               club       9      8  0.955415232
## 2999                          dishonest      36     32  0.959992837
## 3000                           endorsed       8      7  0.968834764
## 3001                          including       8      7  0.968834764
## 3002                             taking       8      7  0.968834764
## 3003                              proud      16     14  0.972753756
## 3004                               john      24     21  0.974113399
## 3005                              trump     104     91  0.976171191
## 3006                               poll     116    101  0.981067331
## 3007                           business       7      6  0.986380613
## 3008                              fight      14     12  0.991640162
## 3009                             police      13     11  1.003544460
## 3010                           released      13     11  1.003544460
## 3011                            discuss       6      5  1.010303500
## 3012                               liar       6      5  1.010303500
## 3013                            mention       6      5  1.010303500
## 3014                               save       6      5  1.010303500
## 3015                             secret       6      5  1.010303500
## 3016                              tower       6      5  1.010303500
## 3017                              woman       6      5  1.010303500
## 3018                       presidential      25     21  1.013936030
## 3019                               love      36     30  1.023091778
## 3020                              happy      17     14  1.031772506
## 3021                        politicians      11      9  1.034865872
## 3022                                top      11      9  1.034865872
## 3023                                  =       5      4  1.044854781
## 3024                                cbs       5      4  1.044854781
## 3025                                hes       5      4  1.044854781
## 3026                              lives       5      4  1.044854781
## 3027                              owned       5      4  1.044854781
## 3028                           properly       5      4  1.044854781
## 3029                           vigilant       5      4  1.044854781
## 3030                              taxes      10      8  1.056050709
## 3031                             warren      10      8  1.056050709
## 3032                        lightweight      20     16  1.062188543
## 3033                               news      30     24  1.064345843
## 3034                            forward      19     15  1.075571236
## 3035                         conference       9      7  1.082882436
## 3036                              story      23     18  1.086039515
## 3037                            atlanta       4      3  1.099144512
## 3038                           audience       4      3  1.099144512
## 3039                         discussing       4      3  1.099144512
## 3040                        embarrassed       4      3  1.099144512
## 3041                          financial       4      3  1.099144512
## 3042                         fraudulent       4      3  1.099144512
## 3043                               golf       4      3  1.099144512
## 3044                             honest       4      3  1.099144512
## 3045                            hostile       4      3  1.099144512
## 3046                                 la       4      3  1.099144512
## 3047                              leave       4      3  1.099144512
## 3048                             notice       4      3  1.099144512
## 3049                            roberts       4      3  1.099144512
## 3050                            scandal       4      3  1.099144512
## 3051                            settled       4      3  1.099144512
## 3052                             stuart       4      3  1.099144512
## 3053                           weakness       4      3  1.099144512
## 3054                               stop      22     17  1.099255209
## 3055                                fbi       8      6  1.117967310
## 3056                               past       8      6  1.117967310
## 3057                            primary       8      6  1.117967310
## 3058                     @oreillyfactor      20     15  1.130798864
## 3059                             speech      44     33  1.135946560
## 3060                              enjoy      68     51  1.137642369
## 3061                                day      43     32  1.144598472
## 3062                            clinton     136    101  1.150927098
## 3063                        credibility       7      5  1.165807050
## 3064                              house       7      5  1.165807050
## 3065                               life       7      5  1.165807050
## 3066                                oil       7      5  1.165807050
## 3067                                san       7      5  1.165807050
## 3068                                son       7      5  1.165807050
## 3069                                tpp       7      5  1.165807050
## 3070                               true      14     10  1.180695236
## 3071                              crowd      60     43  1.189666071
## 3072                       @billkristol       3      2  1.196858833
## 3073                     @sarahpalinusa       3      2  1.196858833
## 3074                                  $       3      2  1.196858833
## 3075                     administration       3      2  1.196858833
## 3076                              admit       3      2  1.196858833
## 3077                             arabia       3      2  1.196858833
## 3078                            average       3      2  1.196858833
## 3079                               blow       3      2  1.196858833
## 3080                           bringing       3      2  1.196858833
## 3081                       championship       3      2  1.196858833
## 3082                            changed       3      2  1.196858833
## 3083                            charles       3      2  1.196858833
## 3084                         classified       3      2  1.196858833
## 3085                             closed       3      2  1.196858833
## 3086                           coverage       3      2  1.196858833
## 3087                            defense       3      2  1.196858833
## 3088                              diego       3      2  1.196858833
## 3089                              drugs       3      2  1.196858833
## 3090                          education       3      2  1.196858833
## 3091                               feel       3      2  1.196858833
## 3092                            focused       3      2  1.196858833
## 3093                               game       3      2  1.196858833
## 3094                             giving       3      2  1.196858833
## 3095                             guilty       3      2  1.196858833
## 3096                           heritage       3      2  1.196858833
## 3097                            hosting       3      2  1.196858833
## 3098                         immigrants       3      2  1.196858833
## 3099                          incorrect       3      2  1.196858833
## 3100                              issue       3      2  1.196858833
## 3101                              knock       3      2  1.196858833
## 3102                           laughing       3      2  1.196858833
## 3103                           lobbyist       3      2  1.196858833
## 3104                               lord       3      2  1.196858833
## 3105                             losses       3      2  1.196858833
## 3106                            manager       3      2  1.196858833
## 3107                               mort       3      2  1.196858833
## 3108                              owner       3      2  1.196858833
## 3109                              phone       3      2  1.196858833
## 3110                            planned       3      2  1.196858833
## 3111                          positions       3      2  1.196858833
## 3112                         presidency       3      2  1.196858833
## 3113                          qualified       3      2  1.196858833
## 3114                              quick       3      2  1.196858833
## 3115                           recently       3      2  1.196858833
## 3116                             resort       3      2  1.196858833
## 3117                                rid       3      2  1.196858833
## 3118                             rights       3      2  1.196858833
## 3119                              saudi       3      2  1.196858833
## 3120                                sen       3      2  1.196858833
## 3121                           starting       3      2  1.196858833
## 3122                         successful       3      2  1.196858833
## 3123                            telling       3      2  1.196858833
## 3124                             tricks       3      2  1.196858833
## 3125                            turnout       3      2  1.196858833
## 3126                                 uk       3      2  1.196858833
## 3127                              dopey      10      7  1.196944246
## 3128                             coming      13      9  1.214993172
## 3129                            history      13      9  1.214993172
## 3130                           saturday      13      9  1.214993172
## 3131                                cnn      26     18  1.224910811
## 3132                             highly      16     11  1.226782501
## 3133                              press      16     11  1.226782501
## 3134                               time      78     54  1.232454924
## 3135                              based       6      4  1.234904897
## 3136                           comments       6      4  1.234904897
## 3137                               lied       6      4  1.234904897
## 3138                             online       6      4  1.234904897
## 3139                            orlando       6      4  1.234904897
## 3140                              putin       6      4  1.234904897
## 3141                            rallies       6      4  1.234904897
## 3142                            refuses       6      4  1.234904897
## 3143                               rock       6      4  1.234904897
## 3144                               wins       6      4  1.234904897
## 3145                          interview      19     13  1.235094284
## 3146                               bill      22     15  1.241274675
## 3147                            melania      12      8  1.257359095
## 3148                                 tv      15     10  1.262200748
## 3149                            morning      49     33  1.263973555
## 3150                              didnt      26     17  1.294999668
## 3151                            leaving      20     13  1.298512983
## 3152                                 dc      17     11  1.301213638
## 3153                         leadership      14      9  1.305073574
## 3154                            watched      14      9  1.305073574
## 3155                            winning      14      9  1.305073574
## 3156                             dallas       8      5  1.321329874
## 3157                            economy       8      5  1.321329874
## 3158                                nbc       8      5  1.321329874
## 3159                             sunday       8      5  1.321329874
## 3160                            amazing      66     42  1.339014516
## 3161                               @nbc       5      3  1.343482090
## 3162                             answer       5      3  1.343482090
## 3163                            charges       5      3  1.343482090
## 3164                        condolences       5      3  1.343482090
## 3165                            destroy       5      3  1.343482090
## 3166                           disgrace       5      3  1.343482090
## 3167                              doubt       5      3  1.343482090
## 3168                               eric       5      3  1.343482090
## 3169                           majority       5      3  1.343482090
## 3170                          reporters       5      3  1.343482090
## 3171                            service       5      3  1.343482090
## 3172                               shes       5      3  1.343482090
## 3173                              spend       5      3  1.343482090
## 3174                              spoke       5      3  1.343482090
## 3175                            stevens       5      3  1.343482090
## 3176                                ads      27     17  1.343950964
## 3177                          thousands      13      8  1.358032007
## 3178                             change      21     13  1.361939548
## 3179                             mexico      21     13  1.361939548
## 3180                            massive      26     16  1.373584143
## 3181                               hope      18     11  1.375654007
## 3182                            radical      18     11  1.375654007
## 3183                               wont      18     11  1.375654007
## 3184                              goofy      10      6  1.381189641
## 3185                              marco      36     22  1.387663442
## 3186                              words      30     18  1.410152977
## 3187                          wonderful      35     21  1.412434285
## 3188                            @joenbc       2      1  1.424846927
## 3189                         @teamsters       2      1  1.424846927
## 3190                            abolish       2      1  1.424846927
## 3191                             acting       2      1  1.424846927
## 3192                               adam       2      1  1.424846927
## 3193                            advance       2      1  1.424846927
## 3194                          advantage       2      1  1.424846927
## 3195                             agrees       2      1  1.424846927
## 3196                            amounts       2      1  1.424846927
## 3197                              basis       2      1  1.424846927
## 3198                             begged       2      1  1.424846927
## 3199                          bloomberg       2      1  1.424846927
## 3200                               bowl       2      1  1.424846927
## 3201                              brian       2      1  1.424846927
## 3202                            britain       2      1  1.424846927
## 3203                           building       2      1  1.424846927
## 3204                               bull       2      1  1.424846927
## 3205                          cancelled       2      1  1.424846927
## 3206                             career       2      1  1.424846927
## 3207                              cares       2      1  1.424846927
## 3208                             charge       2      1  1.424846927
## 3209                              civil       2      1  1.424846927
## 3210                          columnist       2      1  1.424846927
## 3211                            complex       2      1  1.424846927
## 3212                           congress       2      1  1.424846927
## 3213                        criticizing       2      1  1.424846927
## 3214                            dealing       2      1  1.424846927
## 3215                           debating       2      1  1.424846927
## 3216                            decided       2      1  1.424846927
## 3217                           directly       2      1  1.424846927
## 3218                        discredited       2      1  1.424846927
## 3219                            escaped       2      1  1.424846927
## 3220                             europe       2      1  1.424846927
## 3221                             expect       2      1  1.424846927
## 3222                               fall       2      1  1.424846927
## 3223                               fans       2      1  1.424846927
## 3224                            fiction       2      1  1.424846927
## 3225                               fine       2      1  1.424846927
## 3226                                fit       2      1  1.424846927
## 3227                             flying       2      1  1.424846927
## 3228                            forever       2      1  1.424846927
## 3229                               form       2      1  1.424846927
## 3230                           fraction       2      1  1.424846927
## 3231                               fund       2      1  1.424846927
## 3232                                gun       2      1  1.424846927
## 3233                               guts       2      1  1.424846927
## 3234                             hammer       2      1  1.424846927
## 3235                             handle       2      1  1.424846927
## 3236                           handling       2      1  1.424846927
## 3237                            helping       2      1  1.424846927
## 3238                               hook       2      1  1.424846927
## 3239                           hostages       2      1  1.424846927
## 3240                              howie       2      1  1.424846927
## 3241                         humiliated       2      1  1.424846927
## 3242                         hypocrites       2      1  1.424846927
## 3243                         impossible       2      1  1.424846927
## 3244                            injured       2      1  1.424846927
## 3245                            insight       2      1  1.424846927
## 3246                             issues       2      1  1.424846927
## 3247                              katie       2      1  1.424846927
## 3248                             killer       2      1  1.424846927
## 3249                             larger       2      1  1.424846927
## 3250                            laughed       2      1  1.424846927
## 3251                              leads       2      1  1.424846927
## 3252                              loses       2      1  1.424846927
## 3253                              macys       2      1  1.424846927
## 3254                           material       2      1  1.424846927
## 3255                          mikepence       2      1  1.424846927
## 3256                               mind       2      1  1.424846927
## 3257                             miners       2      1  1.424846927
## 3258                      misrepresents       2      1  1.424846927
## 3259                         mittromney       2      1  1.424846927
## 3260                          narrative       2      1  1.424846927
## 3261                           neurotic       2      1  1.424846927
## 3262                             normal       2      1  1.424846927
## 3263                           numerous       2      1  1.424846927
## 3264                               pack       2      1  1.424846927
## 3265                             papers       2      1  1.424846927
## 3266                             patrol       2      1  1.424846927
## 3267                           peaceful       2      1  1.424846927
## 3268                             pledge       2      1  1.424846927
## 3269                           position       2      1  1.424846927
## 3270                          potential       2      1  1.424846927
## 3271                        predictions       2      1  1.424846927
## 3272                             prison       2      1  1.424846927
## 3273                             proper       2      1  1.424846927
## 3274                         protection       2      1  1.424846927
## 3275                             pundit       2      1  1.424846927
## 3276                            purpose       2      1  1.424846927
## 3277                            rapidly       2      1  1.424846927
## 3278                        rebroadcast       2      1  1.424846927
## 3279                            records       2      1  1.424846927
## 3280                             refuse       2      1  1.424846927
## 3281                           religion       2      1  1.424846927
## 3282                            remarks       2      1  1.424846927
## 3283                            reminds       2      1  1.424846927
## 3284                             resign       2      1  1.424846927
## 3285                             result       2      1  1.424846927
## 3286                            ripping       2      1  1.424846927
## 3287                              rumor       2      1  1.424846927
## 3288                              sadly       2      1  1.424846927
## 3289                                sat       2      1  1.424846927
## 3290                              saved       2      1  1.424846927
## 3291                            schools       2      1  1.424846927
## 3292                          sensitive       2      1  1.424846927
## 3293                           shooting       2      1  1.424846927
## 3294                               shut       2      1  1.424846927
## 3295                              sioux       2      1  1.424846927
## 3296                              sites       2      1  1.424846927
## 3297                          situation       2      1  1.424846927
## 3298                            speaker       2      1  1.424846927
## 3299                            spoiler       2      1  1.424846927
## 3300                           stopping       2      1  1.424846927
## 3301                              storm       2      1  1.424846927
## 3302                           subjects       2      1  1.424846927
## 3303                               tank       2      1  1.424846927
## 3304                            tedcruz       2      1  1.424846927
## 3305                               tens       2      1  1.424846927
## 3306                             ticket       2      1  1.424846927
## 3307                               tied       2      1  1.424846927
## 3308                           truthful       2      1  1.424846927
## 3309                            unheard       2      1  1.424846927
## 3310                              unity       2      1  1.424846927
## 3311                           universe       2      1  1.424846927
## 3312                          univision       2      1  1.424846927
## 3313                            unleash       2      1  1.424846927
## 3314                             wasted       2      1  1.424846927
## 3315                             writes       2      1  1.424846927
## 3316                              calls       7      4  1.424978568
## 3317                          candidate      24     14  1.445108783
## 3318                             record      31     18  1.456477890
## 3319                             attack      14      8  1.458717403
## 3320                              rubio      50     29  1.464873438
## 3321                              check       9      5  1.476871977
## 3322                               easy       9      5  1.476871977
## 3323                                joe       9      5  1.476871977
## 3324                            country      66     38  1.478562644
## 3325                             system      16      9  1.485267890
## 3326                              night      69     39  1.506315727
## 3327                              event      18     10  1.506777937
## 3328                               told      18     10  1.506777937
## 3329                               head      11      6  1.512825281
## 3330                             people     194    109  1.524787926
## 3331                       @krauthammer       4      2  1.538913845
## 3332                           allowing       4      2  1.538913845
## 3333                         apologized       4      2  1.538913845
## 3334                            apology       4      2  1.538913845
## 3335                             bigger       4      2  1.538913845
## 3336                              broke       4      2  1.538913845
## 3337                           brothers       4      2  1.538913845
## 3338                            calling       4      2  1.538913845
## 3339                             caused       4      2  1.538913845
## 3340                           finished       4      2  1.538913845
## 3341                               fire       4      2  1.538913845
## 3342                             follow       4      2  1.538913845
## 3343                            largest       4      2  1.538913845
## 3344                              loans       4      2  1.538913845
## 3345                             missed       4      2  1.538913845
## 3346                               move       4      2  1.538913845
## 3347                            muslims       4      2  1.538913845
## 3348                            natural       4      2  1.538913845
## 3349                             oregon       4      2  1.538913845
## 3350                             puppet       4      2  1.538913845
## 3351                              quote       4      2  1.538913845
## 3352                               rand       4      2  1.538913845
## 3353                             reason       4      2  1.538913845
## 3354                               rest       4      2  1.538913845
## 3355                            returns       4      2  1.538913845
## 3356                              scott       4      2  1.538913845
## 3357                           tweeting       4      2  1.538913845
## 3358                              wasnt       4      2  1.538913845
## 3359                             writer       4      2  1.538913845
## 3360                              crime      13      7  1.539214531
## 3361                            leaders      13      7  1.539214531
## 3362                                pay      13      7  1.539214531
## 3363                               dont      60     33  1.545913143
## 3364                            allowed      15      8  1.559415284
## 3365                             nation      15      8  1.559415284
## 3366                           veterans      15      8  1.559415284
## 3367                            failing      41     22  1.578244234
## 3368                        @jaketapper       6      3  1.587849950
## 3369                          desperate       6      3  1.587849950
## 3370                           disloyal       6      3  1.587849950
## 3371                                dnc       6      3  1.587849950
## 3372                       evangelicals       6      3  1.587849950
## 3373                              favor       6      3  1.587849950
## 3374                             listen       6      3  1.587849950
## 3375                               luck       6      3  1.587849950
## 3376                           military       6      3  1.587849950
## 3377                              piece       6      3  1.587849950
## 3378                              weeks       6      3  1.587849950
## 3379                           disaster      21     11  1.599030520
## 3380                   @gstephanopoulos       8      4  1.615075799
## 3381                            alabama       8      4  1.615075799
## 3382                             caught       8      4  1.615075799
## 3383                             choice       8      4  1.615075799
## 3384                              loser       8      4  1.615075799
## 3385                              pence       8      4  1.615075799
## 3386                               pick       8      4  1.615075799
## 3387                               ryan       8      4  1.615075799
## 3388                            stamina       8      4  1.615075799
## 3389                            started       8      4  1.615075799
## 3390                             terror       8      4  1.615075799
## 3391                              party      25     13  1.615724513
## 3392                                guy      27     14  1.622362817
## 3393                          @karlrove      10      5  1.632433361
## 3394                        incompetent      10      5  1.632433361
## 3395                             packed      10      5  1.632433361
## 3396                           strength      10      5  1.632433361
## 3397                               isnt      12      6  1.644477241
## 3398                             voting      12      6  1.644477241
## 3399                             called      14      7  1.653332920
## 3400                           horrible      14      7  1.653332920
## 3401                            islamic      14      7  1.653332920
## 3402                                job      55     28  1.667037423
## 3403                              worst      20     10  1.669879959
## 3404                             emails      22     11  1.673507833
## 3405                            senator      30     15  1.683452164
## 3406                        immigration      32     16  1.685211674
## 3407                               nice      54     27  1.696545743
## 3408                           @foxnews      71     35  1.724988663
## 3409                             report      17      8  1.760848512
## 3410                          reporting      17      8  1.760848512
## 3411                               @abc      15      7  1.767465460
## 3412                         tremendous      15      7  1.767465460
## 3413                               week      15      7  1.767465460
## 3414                          elizabeth      13      6  1.776145525
## 3415                              nasty      13      6  1.776145525
## 3416                               paul      13      6  1.776145525
## 3417                            results      13      6  1.776145525
## 3418                             street      13      6  1.776145525
## 3419                                air      11      5  1.788014032
## 3420                              loved      11      5  1.788014032
## 3421                           pathetic      11      5  1.788014032
## 3422                            respect      11      5  1.788014032
## 3423                            victory      11      5  1.788014032
## 3424                              polls      57     27  1.790267390
## 3425                         @chucktodd       9      4  1.805196594
## 3426                             credit       9      4  1.805196594
## 3427                              stage       9      4  1.805196594
## 3428                            brother       7      3  1.832248098
## 3429                               core       7      3  1.832248098
## 3430                              heard       7      3  1.832248098
## 3431                               list       7      3  1.832248098
## 3432                              mayor       7      3  1.832248098
## 3433                              super       7      3  1.832248098
## 3434                               term       7      3  1.832248098
## 3435                           negative      22     10  1.833022450
## 3436                              phony      20      9  1.845790633
## 3437                               jobs      53     24  1.869635968
## 3438                         @60minutes       5      2  1.881011246
## 3439                           attacked       5      2  1.881011246
## 3440                             budget       5      2  1.881011246
## 3441                              chuck       5      2  1.881011246
## 3442                              class       5      2  1.881011246
## 3443                            company       5      2  1.881011246
## 3444                             demand       5      2  1.881011246
## 3445                              dirty       5      2  1.881011246
## 3446                             events       5      2  1.881011246
## 3447                        ineffective       5      2  1.881011246
## 3448                               jebs       5      2  1.881011246
## 3449                      oreillyfactor       5      2  1.881011246
## 3450                               pass       5      2  1.881011246
## 3451                                ppp       5      2  1.881011246
## 3452                            putting       5      2  1.881011246
## 3453                           election      25     11  1.896995216
## 3454                             killed      14      6  1.907830134
## 3455                            illegal      32     14  1.917932897
## 3456                           remember      32     14  1.917932897
## 3457                          delegates      12      5  1.943613991
## 3458                                usa      12      5  1.943613991
## 3459                              waste      12      5  1.943613991
## 3460                              money      47     20  1.983687561
## 3461                          president      82     35  1.991734675
## 3462                        @marcorubio       3      1  1.994909286
## 3463                           @nbcnews       3      1  1.994909286
## 3464                              agent       3      1  1.994909286
## 3465                          answering       3      1  1.994909286
## 3466                              arent       3      1  1.994909286
## 3467                           atlantic       3      1  1.994909286
## 3468                              bible       3      1  1.994909286
## 3469                             bottom       3      1  1.994909286
## 3470                          brilliant       3      1  1.994909286
## 3471                              chapo       3      1  1.994909286
## 3472                          chucktodd       3      1  1.994909286
## 3473                          committee       3      1  1.994909286
## 3474                     constitutional       3      1  1.994909286
## 3475                           crookeds       3      1  1.994909286
## 3476                             danger       3      1  1.994909286
## 3477                             debbie       3      1  1.994909286
## 3478                               debt       3      1  1.994909286
## 3479                         devastated       3      1  1.994909286
## 3480                             donors       3      1  1.994909286
## 3481                             effort       3      1  1.994909286
## 3482                                 el       3      1  1.994909286
## 3483                       enthusiastic       3      1  1.994909286
## 3484                          exhausted       3      1  1.994909286
## 3485                             forgot       3      1  1.994909286
## 3486                              games       3      1  1.994909286
## 3487                               gang       3      1  1.994909286
## 3488                             ground       3      1  1.994909286
## 3489                             haters       3      1  1.994909286
## 3490                          hispanics       3      1  1.994909286
## 3491                             issued       3      1  1.994909286
## 3492                             ivanka       3      1  1.994909286
## 3493                           justices       3      1  1.994909286
## 3494                             lawyer       3      1  1.994909286
## 3495                              learn       3      1  1.994909286
## 3496                                led       3      1  1.994909286
## 3497                            markets       3      1  1.994909286
## 3498                               mass       3      1  1.994909286
## 3499                           memorial       3      1  1.994909286
## 3500                            mistake       3      1  1.994909286
## 3501                              mommy       3      1  1.994909286
## 3502                              named       3      1  1.994909286
## 3503                            nervous       3      1  1.994909286
## 3504                                nyc       3      1  1.994909286
## 3505                             panels       3      1  1.994909286
## 3506                               path       3      1  1.994909286
## 3507                               penn       3      1  1.994909286
## 3508                              plain       3      1  1.994909286
## 3509                            poverty       3      1  1.994909286
## 3510                              prove       3      1  1.994909286
## 3511                          referring       3      1  1.994909286
## 3512                            refused       3      1  1.994909286
## 3513                       representing       3      1  1.994909286
## 3514                               risk       3      1  1.994909286
## 3515                          secretary       3      1  1.994909286
## 3516                               sick       3      1  1.994909286
## 3517                             skills       3      1  1.994909286
## 3518                             source       3      1  1.994909286
## 3519                           straight       3      1  1.994909286
## 3520                         strategist       3      1  1.994909286
## 3521                           talented       3      1  1.994909286
## 3522                             talked       3      1  1.994909286
## 3523                               tape       3      1  1.994909286
## 3524                               todd       3      1  1.994909286
## 3525                              tweet       3      1  1.994909286
## 3526                          viciously       3      1  1.994909286
## 3527                              wacko       3      1  1.994909286
## 3528                            warmest       3      1  1.994909286
## 3529                          wasserman       3      1  1.994909286
## 3530                          apologize      10      4  1.995340957
## 3531                              chris      17      7  1.995773003
## 3532                           spending      17      7  1.995773003
## 3533                             voters      24     10  1.996205424
## 3534                               lost      38     16  1.997071394
## 3535                             doesnt      36     15  2.015373524
## 3536                              major      22      9  2.026119092
## 3537                               isis      41     17  2.029907512
## 3538                                lot      15      6  2.039531074
## 3539                              votes      15      6  2.039531074
## 3540                              ahead       8      3  2.076676538
## 3541                            anymore       8      3  2.076676538
## 3542                              hours       8      3  2.076676538
## 3543                             months       8      3  2.076676538
## 3544                              nafta       8      3  2.076676538
## 3545                          overrated       8      3  2.076676538
## 3546                            pundits       8      3  2.076676538
## 3547                                rnc       8      3  2.076676538
## 3548                         statements       8      3  2.076676538
## 3549                                war       8      3  2.076676538
## 3550                            wouldnt       8      3  2.076676538
## 3551                               cruz     113     46  2.094308464
## 3552                             debate      79     32  2.096540149
## 3553                              close      13      5  2.099233243
## 3554                          democrats      13      5  2.099233243
## 3555                           happened      13      5  2.099233243
## 3556                             border      23      9  2.116300102
## 3557                             person      23      9  2.116300102
## 3558                            hillary     289    116  2.144860377
## 3559                               wall      31     12  2.156525679
## 3560                            running      16      6  2.171248346
## 3561                              worse      16      6  2.171248346
## 3562                                ben      11      4  2.185508893
## 3563                             losing      11      4  2.185508893
## 3564                           @nytimes      34     13  2.187201479
## 3565                            special      34     13  2.187201479
## 3566                             carson      24      9  2.206492300
## 3567                               lead      24      9  2.206492300
## 3568                          amendment       6      2  2.223151046
## 3569                           canadian       6      2  2.223151046
## 3570                           children       6      2  2.223151046
## 3571                          continues       6      2  2.223151046
## 3572                            dumbest       6      2  2.223151046
## 3573                            foxnews       6      2  2.223151046
## 3574                               king       6      2  2.223151046
## 3575                              plane       6      2  2.223151046
## 3576                        politically       6      2  2.223151046
## 3577                            polling       6      2  2.223151046
## 3578                             raised       6      2  2.223151046
## 3579                         ridiculous       6      2  2.223151046
## 3580                             signed       6      2  2.223151046
## 3581                            supreme       6      2  2.223151046
## 3582                              voted       6      2  2.223151046
## 3583                              obama      58     22  2.227105157
## 3584                                win      74     28  2.240380737
## 3585                               hear      14      5  2.254871791
## 3586                    @washingtonpost       9      3  2.321135278
## 3587                              build       9      3  2.321135278
## 3588                              deals       9      3  2.321135278
## 3589                             drudge       9      3  2.321135278
## 3590                              kaine       9      3  2.321135278
## 3591                              lying       9      3  2.321135278
## 3592                                low      20      7  2.338340517
## 3593                                 ad      23      8  2.365448087
## 3594                             rigged      23      8  2.365448087
## 3595                             graham      12      4  2.375700407
## 3596                               deal      29     10  2.404340072
## 3597                               race      18      6  2.434731899
## 3598                              false      24      8  2.466258441
## 3599                               hard      30     10  2.485997396
## 3600                            totally      62     21  2.490855085
## 3601                            ratings      36     12  2.499607015
## 3602                                run      39     13  2.504964681
## 3603                                ted      84     28  2.542685288
## 3604                               @722       1      0  2.564751433
## 3605             @abcnewswashingtonpost       1      0  2.564751433
## 3606                       @abcpolitics       1      0  2.564751433
## 3607                      @alwaleedbint       1      0  2.564751433
## 3608                    @andreatantaros       1      0  2.564751433
## 3609                        @anncoulter       1      0  2.564751433
## 3610                       @charleshurt       1      0  2.564751433
## 3611                        @danaperino       1      0  2.564751433
## 3612                      @davidaxelrod       1      0  2.564751433
## 3613                   @fortunemagazine       1      0  2.564751433
## 3614                       @foxbizalert       1      0  2.564751433
## 3615                          @genflynn       1      0  2.564751433
## 3616                        @georgewill       1      0  2.564751433
## 3617                       @georgezwill       1      0  2.564751433
## 3618                       @golfchannel       1      0  2.564751433
## 3619                     @governorperry       1      0  2.564751433
## 3620                           @heytana       1      0  2.564751433
## 3621                        @hughhewitt       1      0  2.564751433
## 3622                      @jacknicklaus       1      0  2.564751433
## 3623                         @jeffflake       1      0  2.564751433
## 3624                          @jmartnyt       1      0  2.564751433
## 3625                         @joetrippi       1      0  2.564751433
## 3626                        @johnkasich       1      0  2.564751433
## 3627                      @kellyriddell       1      0  2.564751433
## 3628                          @kilmeade       1      0  2.564751433
## 3629                       @ktmcfarland       1      0  2.564751433
## 3630                     @mariatcardona       1      0  2.564751433
## 3631                      @markhalperin       1      0  2.564751433
## 3632                   @marthamaccallum       1      0  2.564751433
## 3633                       @mikeozanian       1      0  2.564751433
## 3634                    @montgomeriefdn       1      0  2.564751433
## 3635                     @morningsmaria       1      0  2.564751433
## 3636                            @nascar       1      0  2.564751433
## 3637                       @nbcpolitics       1      0  2.564751433
## 3638                         @netanyahu       1      0  2.564751433
## 3639                      @newtgingrich       1      0  2.564751433
## 3640                      @nytimesworld       1      0  2.564751433
## 3641                   @pastormarkburns       1      0  2.564751433
## 3642                    @realsheriffjoe       1      0  2.564751433
## 3643                       @rondarousey       1      0  2.564751433
## 3644                    @serenawilliams       1      0  2.564751433
## 3645                   @talkersmagazine       1      0  2.564751433
## 3646                      @theeconomist       1      0  2.564751433
## 3647                           @thefive       1      0  2.564751433
## 3648                     @therickwilson       1      0  2.564751433
## 3649                   @thetodaysgolfer       1      0  2.564751433
## 3650                           @tmobile       1      0  2.564751433
## 3651                             @today       1      0  2.564751433
## 3652                          @tperkins       1      0  2.564751433
## 3653                             @trump       1      0  2.564751433
## 3654                            #amazon       1      0  2.564751433
## 3655                    #failingnytimes       1      0  2.564751433
## 3656                        #harveypitt       1      0  2.564751433
## 3657                      #joetheismann       1      0  2.564751433
## 3658                          #laurence       1      0  2.564751433
## 3659                     #laurencetribe       1      0  2.564751433
## 3660                             #media       1      0  2.564751433
## 3661                        #mediafraud       1      0  2.564751433
## 3662                        #nevertrump       1      0  2.564751433
## 3663                      #repmikekelly       1      0  2.564751433
## 3664                               #ted       1      0  2.564751433
## 3665                           #tedcruz       1      0  2.564751433
## 3666                               $$$$       1      0  2.564751433
## 3667                            $120000       1      0  2.564751433
## 3668                                $13       1      0  2.564751433
## 3669                         $150000000       1      0  2.564751433
## 3670                               $200       1      0  2.564751433
## 3671                             $20000       1      0  2.564751433
## 3672                            $200000       1      0  2.564751433
## 3673                           $3000000       1      0  2.564751433
## 3674                          $35000000       1      0  2.564751433
## 3675                          $40000000       1      0  2.564751433
## 3676                              $5000       1      0  2.564751433
## 3677                          $63000000       1      0  2.564751433
## 3678                                $67       1      0  2.564751433
## 3679                                $80       1      0  2.564751433
## 3680                                $89       1      0  2.564751433
## 3681                          $millions       1      0  2.564751433
## 3682                               10o0       1      0  2.564751433
## 3683                        16apologize       1      0  2.564751433
## 3684                               1for       1      0  2.564751433
## 3685                           1million       1      0  2.564751433
## 3686                                1oo       1      0  2.564751433
## 3687                           21points       1      0  2.564751433
## 3688                                 2m       1      0  2.564751433
## 3689                             41to14       1      0  2.564751433
## 3690                                73o       1      0  2.564751433
## 3691                           7533692a       1      0  2.564751433
## 3692                      8646551trumps       1      0  2.564751433
## 3693                              900am       1      0  2.564751433
## 3694                                9th       1      0  2.564751433
## 3695                           abdeslam       1      0  2.564751433
## 3696                       abilityzilch       1      0  2.564751433
## 3697                           absentee       1      0  2.564751433
## 3698                                abu       1      0  2.564751433
## 3699                              abuse       1      0  2.564751433
## 3700                             abused       1      0  2.564751433
## 3701                             abuser       1      0  2.564751433
## 3702                                 ac       1      0  2.564751433
## 3703                         acceptable       1      0  2.564751433
## 3704                       accomplished       1      0  2.564751433
## 3705                         accurately       1      0  2.564751433
## 3706                            accused       1      0  2.564751433
## 3707                           acidwash       1      0  2.564751433
## 3708                              acted       1      0  2.564751433
## 3709                           actionit       1      0  2.564751433
## 3710                                add       1      0  2.564751433
## 3711                             adding       1      0  2.564751433
## 3712                       additionally       1      0  2.564751433
## 3713                            adelson       1      0  2.564751433
## 3714                    administrationa       1      0  2.564751433
## 3715                                adv       1      0  2.564751433
## 3716                        advertisers       1      0  2.564751433
## 3717                             advise       1      0  2.564751433
## 3718                           advocate       1      0  2.564751433
## 3719                        afghanistan       1      0  2.564751433
## 3720                            againhe       1      0  2.564751433
## 3721                           againjeb       1      0  2.564751433
## 3722                                age       1      0  2.564751433
## 3723                               aide       1      0  2.564751433
## 3724                                aig       1      0  2.564751433
## 3725                              ailsa       1      0  2.564751433
## 3726                             airbus       1      0  2.564751433
## 3727                              aired       1      0  2.564751433
## 3728                           airwaves       1      0  2.564751433
## 3729                              akbar       1      0  2.564751433
## 3730                          albaghdad       1      0  2.564751433
## 3731                               alec       1      0  2.564751433
## 3732                                ali       1      0  2.564751433
## 3733                              alisa       1      0  2.564751433
## 3734                             alisyn       1      0  2.564751433
## 3735                              alive       1      0  2.564751433
## 3736                              allah       1      0  2.564751433
## 3737                              allen       1      0  2.564751433
## 3738                           alliance       1      0  2.564751433
## 3739                             allure       1      0  2.564751433
## 3740                            alongno       1      0  2.564751433
## 3741                          alshabbab       1      0  2.564751433
## 3742                             amazed       1      0  2.564751433
## 3743                             amazes       1      0  2.564751433
## 3744                          amazingly       1      0  2.564751433
## 3745                          ambitious       1      0  2.564751433
## 3746                            amnever       1      0  2.564751433
## 3747                         andrebauer       1      0  2.564751433
## 3748                              angel       1      0  2.564751433
## 3749                            animals       1      0  2.564751433
## 3750                         anncoulter       1      0  2.564751433
## 3751                        announcedby       1      0  2.564751433
## 3752                         announcing       1      0  2.564751433
## 3753                          anonymous       1      0  2.564751433
## 3754                             antics       1      0  2.564751433
## 3755                            antonin       1      0  2.564751433
## 3756                        anymorethey       1      0  2.564751433
## 3757                            anytime       1      0  2.564751433
## 3758                         apologetic       1      0  2.564751433
## 3759                            apparel       1      0  2.564751433
## 3760                         appearance       1      0  2.564751433
## 3761                            applied       1      0  2.564751433
## 3762                            applies       1      0  2.564751433
## 3763                          appointed       1      0  2.564751433
## 3764                       appointments       1      0  2.564751433
## 3765                            approve       1      0  2.564751433
## 3766                           arranged       1      0  2.564751433
## 3767                            arrival       1      0  2.564751433
## 3768                           articles       1      0  2.564751433
## 3769                          asheville       1      0  2.564751433
## 3770                                ass       1      0  2.564751433
## 3771                         assaulting       1      0  2.564751433
## 3772                          assetsthe       1      0  2.564751433
## 3773                             assume       1      0  2.564751433
## 3774                             assure       1      0  2.564751433
## 3775                                at1       1      0  2.564751433
## 3776                                ate       1      0  2.564751433
## 3777                            atheist       1      0  2.564751433
## 3778                          attitudea       1      0  2.564751433
## 3779                         attracting       1      0  2.564751433
## 3780                              audio       1      0  2.564751433
## 3781                         auditorium       1      0  2.564751433
## 3782                          authentic       1      0  2.564751433
## 3783                             author       1      0  2.564751433
## 3784                        authorities       1      0  2.564751433
## 3785                             avenue       1      0  2.564751433
## 3786                              awake       1      0  2.564751433
## 3787                            awaythe       1      0  2.564751433
## 3788                            awkward       1      0  2.564751433
## 3789                           backbone       1      0  2.564751433
## 3790                          backfired       1      0  2.564751433
## 3791                             backup       1      0  2.564751433
## 3792                          badgering       1      0  2.564751433
## 3793                            baghdad       1      0  2.564751433
## 3794                               bake       1      0  2.564751433
## 3795                          balancing       1      0  2.564751433
## 3796                            baldwin       1      0  2.564751433
## 3797                           ballroom       1      0  2.564751433
## 3798                            bandits       1      0  2.564751433
## 3799                         bangladesh       1      0  2.564751433
## 3800                           bankrupt       1      0  2.564751433
## 3801                       bankruptcies       1      0  2.564751433
## 3802                             banned       1      0  2.564751433
## 3803                             bannon       1      0  2.564751433
## 3804                             barack       1      0  2.564751433
## 3805                            barbaro       1      0  2.564751433
## 3806                           barrasso       1      0  2.564751433
## 3807                             barrel       1      0  2.564751433
## 3808                              barry       1      0  2.564751433
## 3809                               base       1      0  2.564751433
## 3810                            bashers       1      0  2.564751433
## 3811                         basketcase       1      0  2.564751433
## 3812                         battleship       1      0  2.564751433
## 3813                              beans       1      0  2.564751433
## 3814                              beats       1      0  2.564751433
## 3815                             beauty       1      0  2.564751433
## 3816                             begala       1      0  2.564751433
## 3817                         believable       1      0  2.564751433
## 3818                            beloved       1      0  2.564751433
## 3819                           bensasse       1      0  2.564751433
## 3820                    bernardgoldberg       1      0  2.564751433
## 3821                   berniesanderswho       1      0  2.564751433
## 3822                             beware       1      0  2.564751433
## 3823                        biasedhates       1      0  2.564751433
## 3824                         biasedthey       1      0  2.564751433
## 3825                              bigif       1      0  2.564751433
## 3826                             bikers       1      0  2.564751433
## 3827                        billkristol       1      0  2.564751433
## 3828                          billmaher       1      0  2.564751433
## 3829                            binding       1      0  2.564751433
## 3830                              birth       1      0  2.564751433
## 3831                            birther       1      0  2.564751433
## 3832                             births       1      0  2.564751433
## 3833                              blame       1      0  2.564751433
## 3834                             blames       1      0  2.564751433
## 3835                           bleeding       1      0  2.564751433
## 3836                             blowup       1      0  2.564751433
## 3837                        bludgeoning       1      0  2.564751433
## 3838                               body       1      0  2.564751433
## 3839                             bomber       1      0  2.564751433
## 3840                          bombshell       1      0  2.564751433
## 3841                              booed       1      0  2.564751433
## 3842                             booths       1      0  2.564751433
## 3843                               bore       1      0  2.564751433
## 3844                            borisep       1      0  2.564751433
## 3845                             borrow       1      0  2.564751433
## 3846                            bossesi       1      0  2.564751433
## 3847                              boxer       1      0  2.564751433
## 3848                         boycotting       1      0  2.564751433
## 3849                         brainpower       1      0  2.564751433
## 3850                        brainwashed       1      0  2.564751433
## 3851                               brat       1      0  2.564751433
## 3852                          breakdown       1      0  2.564751433
## 3853                             breast       1      0  2.564751433
## 3854                            breathe       1      0  2.564751433
## 3855                             brigid       1      0  2.564751433
## 3856                          broadcast       1      0  2.564751433
## 3857                       broadcasting       1      0  2.564751433
## 3858                           broadway       1      0  2.564751433
## 3859                          brokesaid       1      0  2.564751433
## 3860                    brookslawbrooks       1      0  2.564751433
## 3861                           buchanan       1      0  2.564751433
## 3862                            buffoon       1      0  2.564751433
## 3863                             builds       1      0  2.564751433
## 3864                            burning       1      0  2.564751433
## 3865                               bury       1      0  2.564751433
## 3866                            burying       1      0  2.564751433
## 3867                                bus       1      0  2.564751433
## 3868                            bushbut       1      0  2.564751433
## 3869                        businessman       1      0  2.564751433
## 3870                             buyers       1      0  2.564751433
## 3871                              byrne       1      0  2.564751433
## 3872                          byronyork       1      0  2.564751433
## 3873                              cable       1      0  2.564751433
## 3874                            caesars       1      0  2.564751433
## 3875                               cake       1      0  2.564751433
## 3876                                cal       1      0  2.564751433
## 3877                            callins       1      0  2.564751433
## 3878                               calm       1      0  2.564751433
## 3879                           camerota       1      0  2.564751433
## 3880                             cancel       1      0  2.564751433
## 3881                     candidatestold       1      0  2.564751433
## 3882                         capability       1      0  2.564751433
## 3883                                car       1      0  2.564751433
## 3884                             carbon       1      0  2.564751433
## 3885                            careers       1      0  2.564751433
## 3886                               carl       1      0  2.564751433
## 3887                       carlyfiorina       1      0  2.564751433
## 3888                        carolinated       1      0  2.564751433
## 3889                            carried       1      0  2.564751433
## 3890                           carrying       1      0  2.564751433
## 3891                            cartoon       1      0  2.564751433
## 3892                             castro       1      0  2.564751433
## 3893                       catastrophic       1      0  2.564751433
## 3894                           catching       1      0  2.564751433
## 3895                         categories       1      0  2.564751433
## 3896                           catholic       1      0  2.564751433
## 3897                        caucusgoers       1      0  2.564751433
## 3898                    causedstupidity       1      0  2.564751433
## 3899                            causing       1      0  2.564751433
## 3900                            cbsnews       1      0  2.564751433
## 3901                               cell       1      0  2.564751433
## 3902                          cellphone       1      0  2.564751433
## 3903                                ceo       1      0  2.564751433
## 3904                             chafee       1      0  2.564751433
## 3905                            chalian       1      0  2.564751433
## 3906                           chanting       1      0  2.564751433
## 3907                        charleshurt       1      0  2.564751433
## 3908                           cheaters       1      0  2.564751433
## 3909                            checked       1      0  2.564751433
## 3910                              cheri       1      0  2.564751433
## 3911                            cherish       1      0  2.564751433
## 3912                             cheryl       1      0  2.564751433
## 3913                              choke       1      0  2.564751433
## 3914                            chozick       1      0  2.564751433
## 3915                                cia       1      0  2.564751433
## 3916                             circle       1      0  2.564751433
## 3917                           circuits       1      0  2.564751433
## 3918                               cite       1      0  2.564751433
## 3919                               citi       1      0  2.564751433
## 3920                       civilization       1      0  2.564751433
## 3921                      clarification       1      0  2.564751433
## 3922                          classroom       1      0  2.564751433
## 3923                            cleaner       1      0  2.564751433
## 3924                            clients       1      0  2.564751433
## 3925                            climate       1      0  2.564751433
## 3926                             clinch       1      0  2.564751433
## 3927                              clint       1      0  2.564751433
## 3928                               clip       1      0  2.564751433
## 3929                            closely       1      0  2.564751433
## 3930                             closer       1      0  2.564751433
## 3931                             clowns       1      0  2.564751433
## 3932                        club4growth       1      0  2.564751433
## 3933                          clubgoers       1      0  2.564751433
## 3934                             clumsy       1      0  2.564751433
## 3935                            cocaine       1      0  2.564751433
## 3936                              cokie       1      0  2.564751433
## 3937                          collector       1      0  2.564751433
## 3938                            collude       1      0  2.564751433
## 3939                             combat       1      0  2.564751433
## 3940                               comm       1      0  2.564751433
## 3941                        commentator       1      0  2.564751433
## 3942                       commentators       1      0  2.564751433
## 3943                         commenting       1      0  2.564751433
## 3944                     communications       1      0  2.564751433
## 3945                        communities       1      0  2.564751433
## 3946                            compare       1      0  2.564751433
## 3947                           compared       1      0  2.564751433
## 3948                         comparison       1      0  2.564751433
## 3949                          competent       1      0  2.564751433
## 3950                           complain       1      0  2.564751433
## 3951                        complaining       1      0  2.564751433
## 3952                    complainingthen       1      0  2.564751433
## 3953                          complains       1      0  2.564751433
## 3954                       complexities       1      0  2.564751433
## 3955                         compliment       1      0  2.564751433
## 3956                   concentrationbut       1      0  2.564751433
## 3957                          conducted       1      0  2.564751433
## 3958                       confirmation       1      0  2.564751433
## 3959                         conflicted       1      0  2.564751433
## 3960                           confront       1      0  2.564751433
## 3961                         confronted       1      0  2.564751433
## 3962                     congratulation       1      0  2.564751433
## 3963                          connected       1      0  2.564751433
## 3964                         connection       1      0  2.564751433
## 3965                      conservatives       1      0  2.564751433
## 3966                      consideration       1      0  2.564751433
## 3967                       consistantly       1      0  2.564751433
## 3968                       consistently       1      0  2.564751433
## 3969                         consulting       1      0  2.564751433
## 3970                            contest       1      0  2.564751433
## 3971                         continuing       1      0  2.564751433
## 3972                           contrary       1      0  2.564751433
## 3973                        controversy       1      0  2.564751433
## 3974                        conventions       1      0  2.564751433
## 3975                             cooked       1      0  2.564751433
## 3976                             cookie       1      0  2.564751433
## 3977                        coordinated       1      0  2.564751433
## 3978                              corey       1      0  2.564751433
## 3979                             cornel       1      0  2.564751433
## 3980                          correctly       1      0  2.564751433
## 3981                             cotton       1      0  2.564751433
## 3982                           countryi       1      0  2.564751433
## 3983                             couple       1      0  2.564751433
## 3984                               cpac       1      0  2.564751433
## 3985                           cracking       1      0  2.564751433
## 3986                              crash       1      0  2.564751433
## 3987                           crashing       1      0  2.564751433
## 3988                            crazies       1      0  2.564751433
## 3989                        credentials       1      0  2.564751433
## 3990                              crook       1      0  2.564751433
## 3991                          crossblue       1      0  2.564751433
## 3992                          crossover       1      0  2.564751433
## 3993                            crowdso       1      0  2.564751433
## 3994                     crownhypocrite       1      0  2.564751433
## 3995                            crumble       1      0  2.564751433
## 3996                          crumbling       1      0  2.564751433
## 3997                            crushed       1      0  2.564751433
## 3998                         cruzkasich       1      0  2.564751433
## 3999                        cruzlawsuit       1      0  2.564751433
## 4000                           cruzwhen       1      0  2.564751433
## 4001                              cspan       1      0  2.564751433
## 4002                              cties       1      0  2.564751433
## 4003                               cubs       1      0  2.564751433
## 4004                            cunning       1      0  2.564751433
## 4005                              curse       1      0  2.564751433
## 4006                              cycle       1      0  2.564751433
## 4007                      cyclesgrowing       1      0  2.564751433
## 4008                              cyrus       1      0  2.564751433
## 4009                          danawhite       1      0  2.564751433
## 4010                             daniel       1      0  2.564751433
## 4011                       danielhalper       1      0  2.564751433
## 4012                               date       1      0  2.564751433
## 4013                           dbongino       1      0  2.564751433
## 4014                            dead400       1      0  2.564751433
## 4015                            deadpan       1      0  2.564751433
## 4016                            dealers       1      0  2.564751433
## 4017                              dealt       1      0  2.564751433
## 4018                          debatewon       1      0  2.564751433
## 4019                           debtthat       1      0  2.564751433
## 4020                             decade       1      0  2.564751433
## 4021                           deceived       1      0  2.564751433
## 4022                             decent       1      0  2.564751433
## 4023                          deceptive       1      0  2.564751433
## 4024                          decimated       1      0  2.564751433
## 4025                          deduction       1      0  2.564751433
## 4026                      deedeesorvino       1      0  2.564751433
## 4027                               deep       1      0  2.564751433
## 4028                             define       1      0  2.564751433
## 4029                            deflect       1      0  2.564751433
## 4030                          defrauded       1      0  2.564751433
## 4031                         degenerate       1      0  2.564751433
## 4032                        degenerates       1      0  2.564751433
## 4033                           degraded       1      0  2.564751433
## 4034                              delay       1      0  2.564751433
## 4035                            delayed       1      0  2.564751433
## 4036                           delaying       1      0  2.564751433
## 4037                            delight       1      0  2.564751433
## 4038                               dels       1      0  2.564751433
## 4039                           demindie       1      0  2.564751433
## 4040                       demonstrated       1      0  2.564751433
## 4041                             denali       1      0  2.564751433
## 4042                             denied       1      0  2.564751433
## 4043                          denigrate       1      0  2.564751433
## 4044                                dep       1      0  2.564751433
## 4045                             depict       1      0  2.564751433
## 4046                       deportations       1      0  2.564751433
## 4047                        desperation       1      0  2.564751433
## 4048                        destabalize       1      0  2.564751433
## 4049                         destroying       1      0  2.564751433
## 4050                           destroys       1      0  2.564751433
## 4051                        destructive       1      0  2.564751433
## 4052                           detailed       1      0  2.564751433
## 4053                           detainee       1      0  2.564751433
## 4054                        determining       1      0  2.564751433
## 4055                            devices       1      0  2.564751433
## 4056                             devote       1      0  2.564751433
## 4057                            dictate       1      0  2.564751433
## 4058                        differences       1      0  2.564751433
## 4059                            digests       1      0  2.564751433
## 4060                              digit       1      0  2.564751433
## 4061                            dilemma       1      0  2.564751433
## 4062                             diller       1      0  2.564751433
## 4063                           disallow       1      0  2.564751433
## 4064                             disarm       1      0  2.564751433
## 4065                          disasters       1      0  2.564751433
## 4066                        discriptive       1      0  2.564751433
## 4067                         discussion       1      0  2.564751433
## 4068                    disenfranchised       1      0  2.564751433
## 4069                           disguise       1      0  2.564751433
## 4070                            dislike       1      0  2.564751433
## 4071                         disloyalty       1      0  2.564751433
## 4072                             dismal       1      0  2.564751433
## 4073                        dismantling       1      0  2.564751433
## 4074                            dismiss       1      0  2.564751433
## 4075                            display       1      0  2.564751433
## 4076                           disposed       1      0  2.564751433
## 4077                   disproportionate       1      0  2.564751433
## 4078                 disproportionately       1      0  2.564751433
## 4079                      disqualifying       1      0  2.564751433
## 4080                      disrespectful       1      0  2.564751433
## 4081                         disruptors       1      0  2.564751433
## 4082                         distortion       1      0  2.564751433
## 4083                        distrbution       1      0  2.564751433
## 4084                        distributed       1      0  2.564751433
## 4085                              dives       1      0  2.564751433
## 4086                        djohnsonpga       1      0  2.564751433
## 4087                             doctor       1      0  2.564751433
## 4088                        documentary       1      0  2.564751433
## 4089                          documents       1      0  2.564751433
## 4090                            dogover       1      0  2.564751433
## 4091                             dollar       1      0  2.564751433
## 4092                           donlemon       1      0  2.564751433
## 4093                              donny       1      0  2.564751433
## 4094                               dono       1      0  2.564751433
## 4095                            donohue       1      0  2.564751433
## 4096                               doom       1      0  2.564751433
## 4097                            doonbeg       1      0  2.564751433
## 4098                              dopes       1      0  2.564751433
## 4099                          doralbest       1      0  2.564751433
## 4100                               dose       1      0  2.564751433
## 4101                            douglas       1      0  2.564751433
## 4102                                dow       1      0  2.564751433
## 4103                              drake       1      0  2.564751433
## 4104                           dramatic       1      0  2.564751433
## 4105                              drawn       1      0  2.564751433
## 4106                            dreamed       1      0  2.564751433
## 4107                               drew       1      0  2.564751433
## 4108                             driven       1      0  2.564751433
## 4109                            drivers       1      0  2.564751433
## 4110                            drmoore       1      0  2.564751433
## 4111                           drooling       1      0  2.564751433
## 4112                              drops       1      0  2.564751433
## 4113                         drudgetime       1      0  2.564751433
## 4114                           druggies       1      0  2.564751433
## 4115                               duel       1      0  2.564751433
## 4116                            dumping       1      0  2.564751433
## 4117                              dunes       1      0  2.564751433
## 4118                              duped       1      0  2.564751433
## 4119                                dws       1      0  2.564751433
## 4120                      dysfunctional       1      0  2.564751433
## 4121                           earliest       1      0  2.564751433
## 4122                             earned       1      0  2.564751433
## 4123                             easter       1      0  2.564751433
## 4124                         easterlook       1      0  2.564751433
## 4125                        easternwill       1      0  2.564751433
## 4126                           eastwood       1      0  2.564751433
## 4127                                eco       1      0  2.564751433
## 4128                       economically       1      0  2.564751433
## 4129                          economyif       1      0  2.564751433
## 4130                            edition       1      0  2.564751433
## 4131                         editorials       1      0  2.564751433
## 4132                        educational       1      0  2.564751433
## 4133                             effect       1      0  2.564751433
## 4134                          effective       1      0  2.564751433
## 4135                          electable       1      0  2.564751433
## 4136                           electric       1      0  2.564751433
## 4137                               elie       1      0  2.564751433
## 4138                        embarrasses       1      0  2.564751433
## 4139                       embarrassing       1      0  2.564751433
## 4140                      embarrassment       1      0  2.564751433
## 4141                           embraced       1      0  2.564751433
## 4142                            emotion       1      0  2.564751433
## 4143                          employees       1      0  2.564751433
## 4144                           employer       1      0  2.564751433
## 4145                         employment       1      0  2.564751433
## 4146                           enablers       1      0  2.564751433
## 4147                          endlessly       1      0  2.564751433
## 4148                    endorsementrubs       1      0  2.564751433
## 4149                       endorsements       1      0  2.564751433
## 4150                              enemy       1      0  2.564751433
## 4151                          energetic       1      0  2.564751433
## 4152                          energized       1      0  2.564751433
## 4153                          energizer       1      0  2.564751433
## 4154                            enhance       1      0  2.564751433
## 4155                           enjoy7am       1      0  2.564751433
## 4156                           enjoying       1      0  2.564751433
## 4157                           enlisted       1      0  2.564751433
## 4158                           enormous       1      0  2.564751433
## 4159                            enqwere       1      0  2.564751433
## 4160                              enter       1      0  2.564751433
## 4161                       enterainment       1      0  2.564751433
## 4162                            entered       1      0  2.564751433
## 4163                        entertainer       1      0  2.564751433
## 4164                              entry       1      0  2.564751433
## 4165                            episode       1      0  2.564751433
## 4166                           equating       1      0  2.564751433
## 4167                          equipment       1      0  2.564751433
## 4168                          eradicate       1      0  2.564751433
## 4169                              erase       1      0  2.564751433
## 4170                        ericbolling       1      0  2.564751433
## 4171                     ericshawnonfox       1      0  2.564751433
## 4172                            erratic       1      0  2.564751433
## 4173                              errol       1      0  2.564751433
## 4174                        essentially       1      0  2.564751433
## 4175                              estab       1      0  2.564751433
## 4176                          establish       1      0  2.564751433
## 4177                             estate       1      0  2.564751433
## 4178                               evil       1      0  2.564751433
## 4179                              exams       1      0  2.564751433
## 4180                            exclaim       1      0  2.564751433
## 4181                          excluding       1      0  2.564751433
## 4182                         excoriates       1      0  2.564751433
## 4183                              exist       1      0  2.564751433
## 4184                         explaining       1      0  2.564751433
## 4185                          extremely       1      0  2.564751433
## 4186                         fabricated       1      0  2.564751433
## 4187                       fabrications       1      0  2.564751433
## 4188                            factors       1      0  2.564751433
## 4189                            factual       1      0  2.564751433
## 4190                           failures       1      0  2.564751433
## 4191                              faked       1      0  2.564751433
## 4192                             famous       1      0  2.564751433
## 4193                            fashion       1      0  2.564751433
## 4194                              fatal       1      0  2.564751433
## 4195                       favorability       1      0  2.564751433
## 4196                               fear       1      0  2.564751433
## 4197                                fee       1      0  2.564751433
## 4198                            feeling       1      0  2.564751433
## 4199                             fiasco       1      0  2.564751433
## 4200                           fictious       1      0  2.564751433
## 4201                         fictitious       1      0  2.564751433
## 4202                              fifty       1      0  2.564751433
## 4203                           fighters       1      0  2.564751433
## 4204                            figured       1      0  2.564751433
## 4205                            figures       1      0  2.564751433
## 4206                        figurewants       1      0  2.564751433
## 4207                             filled       1      0  2.564751433
## 4208                            filling       1      0  2.564751433
## 4209                         financials       1      0  2.564751433
## 4210                            finding       1      0  2.564751433
## 4211                         firebombed       1      0  2.564751433
## 4212                             flamed       1      0  2.564751433
## 4213                             flawed       1      0  2.564751433
## 4214                            fleeing       1      0  2.564751433
## 4215                              flies       1      0  2.564751433
## 4216                           flipping       1      0  2.564751433
## 4217                            floated       1      0  2.564751433
## 4218                              flood       1      0  2.564751433
## 4219                           flooding       1      0  2.564751433
## 4220                               flow       1      0  2.564751433
## 4221                           flunkies       1      0  2.564751433
## 4222                                fly       1      0  2.564751433
## 4223                              flynn       1      0  2.564751433
## 4224                                fmr       1      0  2.564751433
## 4225                           focusing       1      0  2.564751433
## 4226                               fold       1      0  2.564751433
## 4227                            foolish       1      0  2.564751433
## 4228                        foolishthey       1      0  2.564751433
## 4229                          footprint       1      0  2.564751433
## 4230                         foreclosed       1      0  2.564751433
## 4231                        forgiveness       1      0  2.564751433
## 4232                             format       1      0  2.564751433
## 4233                            forties       1      0  2.564751433
## 4234                             fought       1      0  2.564751433
## 4235                      foxnewssunday       1      0  2.564751433
## 4236                               fran       1      0  2.564751433
## 4237                        frantically       1      0  2.564751433
## 4238                               fred       1      0  2.564751433
## 4239                            freeman       1      0  2.564751433
## 4240                             freeze       1      0  2.564751433
## 4241                             french       1      0  2.564751433
## 4242                           function       1      0  2.564751433
## 4243                        functioning       1      0  2.564751433
## 4244                         fundraiser       1      0  2.564751433
## 4245                            furious       1      0  2.564751433
## 4246                             gained       1      0  2.564751433
## 4247                               gals       1      0  2.564751433
## 4248                            garrett       1      0  2.564751433
## 4249                               gary       1      0  2.564751433
## 4250                               gasp       1      0  2.564751433
## 4251                                gee       1      0  2.564751433
## 4252                              geist       1      0  2.564751433
## 4253                           generals       1      0  2.564751433
## 4254                              genes       1      0  2.564751433
## 4255                             genius       1      0  2.564751433
## 4256                            geraldo       1      0  2.564751433
## 4257                      geraldorivera       1      0  2.564751433
## 4258                            gifford       1      0  2.564751433
## 4259                             gifted       1      0  2.564751433
## 4260                         girlfriend       1      0  2.564751433
## 4261                              gitmo       1      0  2.564751433
## 4262                              glass       1      0  2.564751433
## 4263                              glenn       1      0  2.564751433
## 4264                           glorious       1      0  2.564751433
## 4265                          glowingly       1      0  2.564751433
## 4266                                gma       1      0  2.564751433
## 4267                          goatfired       1      0  2.564751433
## 4268                            goodies       1      0  2.564751433
## 4269                           goofball       1      0  2.564751433
## 4270                             google       1      0  2.564751433
## 4271                     governorpataki       1      0  2.564751433
## 4272                          governors       1      0  2.564751433
## 4273                    govmikehuckabee       1      0  2.564751433
## 4274                       gracematters       1      0  2.564751433
## 4275                          grandkids       1      0  2.564751433
## 4276                         grandstand       1      0  2.564751433
## 4277                           graphics       1      0  2.564751433
## 4278                           gravitas       1      0  2.564751433
## 4279                          greatness       1      0  2.564751433
## 4280                          greenberg       1      0  2.564751433
## 4281                              greet       1      0  2.564751433
## 4282                            greeted       1      0  2.564751433
## 4283                            growing       1      0  2.564751433
## 4284                        growthwhich       1      0  2.564751433
## 4285                             grubby       1      0  2.564751433
## 4286                         guaranteed       1      0  2.564751433
## 4287                             guards       1      0  2.564751433
## 4288                             guests       1      0  2.564751433
## 4289                           guidance       1      0  2.564751433
## 4290                             gunman       1      0  2.564751433
## 4291                                gym       1      0  2.564751433
## 4292                      halliejackson       1      0  2.564751433
## 4293                               halo       1      0  2.564751433
## 4294                           halperin       1      0  2.564751433
## 4295                          haltingly       1      0  2.564751433
## 4296                              hands       1      0  2.564751433
## 4297                               hank       1      0  2.564751433
## 4298                           harrison       1      0  2.564751433
## 4299                            harwood       1      0  2.564751433
## 4300                              hasnt       1      0  2.564751433
## 4301                             hassan       1      0  2.564751433
## 4302                              hated       1      0  2.564751433
## 4303                              hates       1      0  2.564751433
## 4304                               hats       1      0  2.564751433
## 4305                           headache       1      0  2.564751433
## 4306                       headquarters       1      0  2.564751433
## 4307                   headquartersgave       1      0  2.564751433
## 4308                            healthy       1      0  2.564751433
## 4309                               heat       1      0  2.564751433
## 4310                              heavy       1      0  2.564751433
## 4311                         heightened       1      0  2.564751433
## 4312                          heilemann       1      0  2.564751433
## 4313                      helpedrefused       1      0  2.564751433
## 4314                           helpless       1      0  2.564751433
## 4315                             hemmer       1      0  2.564751433
## 4316                          henninger       1      0  2.564751433
## 4317                     heraldfranklin       1      0  2.564751433
## 4318                             hershe       1      0  2.564751433
## 4319                            herwill       1      0  2.564751433
## 4320                          hesitates       1      0  2.564751433
## 4321                            heytana       1      0  2.564751433
## 4322                               hide       1      0  2.564751433
## 4323                             higbie       1      0  2.564751433
## 4324                          highlight       1      0  2.564751433
## 4325                            highway       1      0  2.564751433
## 4326                           highways       1      0  2.564751433
## 4327                               hilt       1      0  2.564751433
## 4328                       himselfphony       1      0  2.564751433
## 4329                             hiring       1      0  2.564751433
## 4330                           historyi       1      0  2.564751433
## 4331                          historyis       1      0  2.564751433
## 4332                           homeless       1      0  2.564751433
## 4333                           honestly       1      0  2.564751433
## 4334                            hoosier       1      0  2.564751433
## 4335                           hopeless       1      0  2.564751433
## 4336                             horror       1      0  2.564751433
## 4337                            horrors       1      0  2.564751433
## 4338                            hostage       1      0  2.564751433
## 4339                              hosts       1      0  2.564751433
## 4340                        hotelsdidnt       1      0  2.564751433
## 4341                            hottest       1      0  2.564751433
## 4342                             houses       1      0  2.564751433
## 4343                            housing       1      0  2.564751433
## 4344                                 hp       1      0  2.564751433
## 4345             http://t.co/mzr62luvwq       1      0  2.564751433
## 4346            http://t.co/wmfhknnswm&amp;quot;       1      0  2.564751433
## 4347                                 hu       1      0  2.564751433
## 4348                         huffington       1      0  2.564751433
## 4349                              hunts       1      0  2.564751433
## 4350                                ibd       1      0  2.564751433
## 4351                              ideas       1      0  2.564751433
## 4352                        imagination       1      0  2.564751433
## 4353                        imaginative       1      0  2.564751433
## 4354                                imm       1      0  2.564751433
## 4355                            imports       1      0  2.564751433
## 4356                           imposing       1      0  2.564751433
## 4357                      impossibility       1      0  2.564751433
## 4358                      inappropriate       1      0  2.564751433
## 4359                    inappropriately       1      0  2.564751433
## 4360                           incensed       1      0  2.564751433
## 4361                          incentive       1      0  2.564751433
## 4362                         incoherent       1      0  2.564751433
## 4363                        increasepay       1      0  2.564751433
## 4364                           indicted       1      0  2.564751433
## 4365                              indie       1      0  2.564751433
## 4366                             indies       1      0  2.564751433
## 4367                      indignanthear       1      0  2.564751433
## 4368                         individual       1      0  2.564751433
## 4369                        infiltrated       1      0  2.564751433
## 4370                       inflammatory       1      0  2.564751433
## 4371                        informative       1      0  2.564751433
## 4372                     infrastructure       1      0  2.564751433
## 4373                            inherit       1      0  2.564751433
## 4374                          inherited       1      0  2.564751433
## 4375                             inject       1      0  2.564751433
## 4376                                ink       1      0  2.564751433
## 4377                                inn       1      0  2.564751433
## 4378                        innercities       1      0  2.564751433
## 4379                          innercity       1      0  2.564751433
## 4380                           insecure       1      0  2.564751433
## 4381                           insiders       1      0  2.564751433
## 4382                         insinuated       1      0  2.564751433
## 4383                           insisted       1      0  2.564751433
## 4384                         inspecting       1      0  2.564751433
## 4385                          inspector       1      0  2.564751433
## 4386                           instinct       1      0  2.564751433
## 4387                          institute       1      0  2.564751433
## 4388                     institutionsad       1      0  2.564751433
## 4389                             insult       1      0  2.564751433
## 4390                          insulting       1      0  2.564751433
## 4391                          integrity       1      0  2.564751433
## 4392                      intelligently       1      0  2.564751433
## 4393                             intent       1      0  2.564751433
## 4394                      interestsonly       1      0  2.564751433
## 4395                        interfering       1      0  2.564751433
## 4396                             intros       1      0  2.564751433
## 4397                               ints       1      0  2.564751433
## 4398                             invest       1      0  2.564751433
## 4399                      investigating       1      0  2.564751433
## 4400                        investments       1      0  2.564751433
## 4401                             invite       1      0  2.564751433
## 4402                            invited       1      0  2.564751433
## 4403                           iowanhsc       1      0  2.564751433
## 4404                               iron       1      0  2.564751433
## 4405                      irresponsible       1      0  2.564751433
## 4406                                irs       1      0  2.564751433
## 4407                            isisoil       1      0  2.564751433
## 4408                            jacobus       1      0  2.564751433
## 4409                              james       1      0  2.564751433
## 4410                            jealous       1      0  2.564751433
## 4411                               jeff       1      0  2.564751433
## 4412                            jeffrey       1      0  2.564751433
## 4413                           jeopardy       1      0  2.564751433
## 4414                               jerk       1      0  2.564751433
## 4415                                jet       1      0  2.564751433
## 4416                          jetliners       1      0  2.564751433
## 4417                         jihadistst       1      0  2.564751433
## 4418                             jilted       1      0  2.564751433
## 4419                               jinx       1      0  2.564751433
## 4420                         johnlegere       1      0  2.564751433
## 4421                         journalism       1      0  2.564751433
## 4422                         journalist       1      0  2.564751433
## 4423                         journalnbc       1      0  2.564751433
## 4424                            journey       1      0  2.564751433
## 4425                               juan       1      0  2.564751433
## 4426                            jupiter       1      0  2.564751433
## 4427                               jusr       1      0  2.564751433
## 4428                              kasie       1      0  2.564751433
## 4429                               kate       1      0  2.564751433
## 4430                     kathielgifford       1      0  2.564751433
## 4431                     katrinapierson       1      0  2.564751433
## 4432                     kellyannepolls       1      0  2.564751433
## 4433                            kennedy       1      0  2.564751433
## 4434                               kill       1      0  2.564751433
## 4435                            kingdom       1      0  2.564751433
## 4436                           knocking       1      0  2.564751433
## 4437                          knowledge       1      0  2.564751433
## 4438                      knowledgeable       1      0  2.564751433
## 4439                      knowledgetrue       1      0  2.564751433
## 4440                      knowwonderful       1      0  2.564751433
## 4441                              kooky       1      0  2.564751433
## 4442                              koran       1      0  2.564751433
## 4443                              kraft       1      0  2.564751433
## 4444                             labels       1      0  2.564751433
## 4445                              lacks       1      0  2.564751433
## 4446                               lame       1      0  2.564751433
## 4447                             laredo       1      0  2.564751433
## 4448                            latinos       1      0  2.564751433
## 4449                          laughable       1      0  2.564751433
## 4450                      laughingstock       1      0  2.564751433
## 4451                             laughs       1      0  2.564751433
## 4452                             launch       1      0  2.564751433
## 4453                           lawrence       1      0  2.564751433
## 4454                            lawyers       1      0  2.564751433
## 4455                               lazy       1      0  2.564751433
## 4456                          leaderswe       1      0  2.564751433
## 4457                            learned       1      0  2.564751433
## 4458                              legit       1      0  2.564751433
## 4459                              lemon       1      0  2.564751433
## 4460                             lender       1      0  2.564751433
## 4461                           leverage       1      0  2.564751433
## 4462                        lewandowski       1      0  2.564751433
## 4463                     liabilitiesbig       1      0  2.564751433
## 4464                             liarsa       1      0  2.564751433
## 4465                                lib       1      0  2.564751433
## 4466                           liecrazy       1      0  2.564751433
## 4467                            lifting       1      0  2.564751433
## 4468                              lifts       1      0  2.564751433
## 4469                        likeability       1      0  2.564751433
## 4470                            liketim       1      0  2.564751433
## 4471                             liking       1      0  2.564751433
## 4472                    lindseygrahamsc       1      0  2.564751433
## 4473                               lips       1      0  2.564751433
## 4474                           litigate       1      0  2.564751433
## 4475                         litigation       1      0  2.564751433
## 4476                   lobbyistsspecial       1      0  2.564751433
## 4477                            located       1      0  2.564751433
## 4478                             locker       1      0  2.564751433
## 4479                            logical       1      0  2.564751433
## 4480                           longshot       1      0  2.564751433
## 4481                             looked       1      0  2.564751433
## 4482                            lookout       1      0  2.564751433
## 4483                            looming       1      0  2.564751433
## 4484                              loose       1      0  2.564751433
## 4485                        lostmonster       1      0  2.564751433
## 4486                             loudly       1      0  2.564751433
## 4487                       loudobbsnews       1      0  2.564751433
## 4488                             loving       1      0  2.564751433
## 4489                             lowell       1      0  2.564751433
## 4490                              lowly       1      0  2.564751433
## 4491                           lowrated       1      0  2.564751433
## 4492                             lucent       1      0  2.564751433
## 4493                              lucky       1      0  2.564751433
## 4494                           luncheon       1      0  2.564751433
## 4495                               maga       1      0  2.564751433
## 4496                          magazines       1      0  2.564751433
## 4497                      magnificently       1      0  2.564751433
## 4498                           majorcbs       1      0  2.564751433
## 4499                              malik       1      0  2.564751433
## 4500                             malkin       1      0  2.564751433
## 4501                            managed       1      0  2.564751433
## 4502                           managers       1      0  2.564751433
## 4503                             manner       1      0  2.564751433
## 4504                               mans       1      0  2.564751433
## 4505                               marc       1      0  2.564751433
## 4506                       marcthiessen       1      0  2.564751433
## 4507                           margin13       1      0  2.564751433
## 4508                            marines       1      0  2.564751433
## 4509                           markings       1      0  2.564751433
## 4510                    marksteynonline       1      0  2.564751433
## 4511                      martharaddatz       1      0  2.564751433
## 4512                               mary       1      0  2.564751433
## 4513                           massacre       1      0  2.564751433
## 4514                            matchup       1      0  2.564751433
## 4515                          materials       1      0  2.564751433
## 4516                           mathwhat       1      0  2.564751433
## 4517                           matterit       1      0  2.564751433
## 4518                           mccarthy       1      0  2.564751433
## 4519                            mcenany       1      0  2.564751433
## 4520                           mckinley       1      0  2.564751433
## 4521                          mcmanamon       1      0  2.564751433
## 4522                            meaning       1      0  2.564751433
## 4523                        meaningless       1      0  2.564751433
## 4524                         medialater       1      0  2.564751433
## 4525                       meghanmccain       1      0  2.564751433
## 4526                            megreat       1      0  2.564751433
## 4527                           mentions       1      0  2.564751433
## 4528                        merchandise       1      0  2.564751433
## 4529                               mere       1      0  2.564751433
## 4530                           messages       1      0  2.564751433
## 4531                            messbig       1      0  2.564751433
## 4532                          messgreat       1      0  2.564751433
## 4533                              messy       1      0  2.564751433
## 4534                              methe       1      0  2.564751433
## 4535                             metime       1      0  2.564751433
## 4536                            metough       1      0  2.564751433
## 4537                       mexicomexico       1      0  2.564751433
## 4538                           michelle       1      0  2.564751433
## 4539                            midwest       1      0  2.564751433
## 4540                           migrants       1      0  2.564751433
## 4541                              miley       1      0  2.564751433
## 4542                            milking       1      0  2.564751433
## 4543                         millionswe       1      0  2.564751433
## 4544                      millionweakno       1      0  2.564751433
## 4545                            mislead       1      0  2.564751433
## 4546                          misquoted       1      0  2.564751433
## 4547                     misrepresented       1      0  2.564751433
## 4548                       missuniverse       1      0  2.564751433
## 4549                          mockingly       1      0  2.564751433
## 4550                         moderators       1      0  2.564751433
## 4551                               mold       1      0  2.564751433
## 4552                              molly       1      0  2.564751433
## 4553                           momentum       1      0  2.564751433
## 4554                            mondays       1      0  2.564751433
## 4555                           money100       1      0  2.564751433
## 4556                             monger       1      0  2.564751433
## 4557                           monsters       1      0  2.564751433
## 4558                              moore       1      0  2.564751433
## 4559                            morally       1      0  2.564751433
## 4560                             morell       1      0  2.564751433
## 4561                             morgan       1      0  2.564751433
## 4562                            mormons       1      0  2.564751433
## 4563                              moron       1      0  2.564751433
## 4564                             mosque       1      0  2.564751433
## 4565                              motor       1      0  2.564751433
## 4566                            mouthed       1      0  2.564751433
## 4567                              msnbc       1      0  2.564751433
## 4568                                 mt       1      0  2.564751433
## 4569                           muhammad       1      0  2.564751433
## 4570                             munich       1      0  2.564751433
## 4571                             murder       1      0  2.564751433
## 4572                                mvp       1      0  2.564751433
## 4573                              naive       1      0  2.564751433
## 4574                           namethen       1      0  2.564751433
## 4575                             naming       1      0  2.564751433
## 4576                             nascar       1      0  2.564751433
## 4577                          nasrallah       1      0  2.564751433
## 4578                          nastywhat       1      0  2.564751433
## 4579                           nationno       1      0  2.564751433
## 4580                              natos       1      0  2.564751433
## 4581                             nbcsnl       1      0  2.564751433
## 4582                            nbcwall       1      0  2.564751433
## 4583                          negotiate       1      0  2.564751433
## 4584                         negotiated       1      0  2.564751433
## 4585                         negotiator       1      0  2.564751433
## 4586                                neo       1      0  2.564751433
## 4587                          nervously       1      0  2.564751433
## 4588                          nevadathe       1      0  2.564751433
## 4589                            newsthe       1      0  2.564751433
## 4590                           newsweek       1      0  2.564751433
## 4591                       newtgingrich       1      0  2.564751433
## 4592                             nicely       1      0  2.564751433
## 4593                            nielson       1      0  2.564751433
## 4594                       nightcrooked       1      0  2.564751433
## 4595                          nightmare       1      0  2.564751433
## 4596                          nightplus       1      0  2.564751433
## 4597                        nonexistent       1      0  2.564751433
## 4598                  nonrepresentative       1      0  2.564751433
## 4599                     nonsubstantive       1      0  2.564751433
## 4600                             noshow       1      0  2.564751433
## 4601                                nra       1      0  2.564751433
## 4602                          nullified       1      0  2.564751433
## 4603                            numberd       1      0  2.564751433
## 4604                              nurse       1      0  2.564751433
## 4605                        nydailynews       1      0  2.564751433
## 4606                            nytimes       1      0  2.564751433
## 4607                          obligated       1      0  2.564751433
## 4608                          obnoxious       1      0  2.564751433
## 4609                             obrian       1      0  2.564751433
## 4610                         obriendumb       1      0  2.564751433
## 4611                                odd       1      0  2.564751433
## 4612                           offended       1      0  2.564751433
## 4613                            offered       1      0  2.564751433
## 4614                             oliver       1      0  2.564751433
## 4615                            openand       1      0  2.564751433
## 4616                             opener       1      0  2.564751433
## 4617                                opo       1      0  2.564751433
## 4618                           opponent       1      0  2.564751433
## 4619                         opponentsi       1      0  2.564751433
## 4620                             option       1      0  2.564751433
## 4621                             orated       1      0  2.564751433
## 4622                          otherthey       1      0  2.564751433
## 4623                             outand       1      0  2.564751433
## 4624                           outraged       1      0  2.564751433
## 4625                           outright       1      0  2.564751433
## 4626                           outtrump       1      0  2.564751433
## 4627                            ovation       1      0  2.564751433
## 4628                        overflowing       1      0  2.564751433
## 4629                  overratedprobably       1      0  2.564751433
## 4630                      overregulates       1      0  2.564751433
## 4631                            overrun       1      0  2.564751433
## 4632                          overtaxes       1      0  2.564751433
## 4633                       overwhelming       1      0  2.564751433
## 4634                               owns       1      0  2.564751433
## 4635                            pacific       1      0  2.564751433
## 4636                               pact       1      0  2.564751433
## 4637                              pacts       1      0  2.564751433
## 4638                           pakistan       1      0  2.564751433
## 4639                             palmer       1      0  2.564751433
## 4640                          panelists       1      0  2.564751433
## 4641                              panic       1      0  2.564751433
## 4642                          papersnot       1      0  2.564751433
## 4643                                par       1      0  2.564751433
## 4644                            paragon       1      0  2.564751433
## 4645                             parody       1      0  2.564751433
## 4646                        partnership       1      0  2.564751433
## 4647                           partyhes       1      0  2.564751433
## 4648                    pastormarkburns       1      0  2.564751433
## 4649                            pathway       1      0  2.564751433
## 4650                            paulina       1      0  2.564751433
## 4651                             paving       1      0  2.564751433
## 4652                              payed       1      0  2.564751433
## 4653                           payments       1      0  2.564751433
## 4654                               pays       1      0  2.564751433
## 4655                                 pb       1      0  2.564751433
## 4656                          penalties       1      0  2.564751433
## 4657                            peoplei       1      0  2.564751433
## 4658                         perfection       1      0  2.564751433
## 4659                         performing       1      0  2.564751433
## 4660                       personremain       1      0  2.564751433
## 4661                               perv       1      0  2.564751433
## 4662                        philippines       1      0  2.564751433
## 4663                             phoner       1      0  2.564751433
## 4664                             phoney       1      0  2.564751433
## 4665                       photoshopped       1      0  2.564751433
## 4666                             pierce       1      0  2.564751433
## 4667                               pile       1      0  2.564751433
## 4668                          pipelines       1      0  2.564751433
## 4669                     placedishonest       1      0  2.564751433
## 4670                           placenow       1      0  2.564751433
## 4671                            plainly       1      0  2.564751433
## 4672                           planning       1      0  2.564751433
## 4673                           plaudits       1      0  2.564751433
## 4674                             played       1      0  2.564751433
## 4675                             player       1      0  2.564751433
## 4676                            players       1      0  2.564751433
## 4677                      pledgecareful       1      0  2.564751433
## 4678                           plunging       1      0  2.564751433
## 4679                               pmin       1      0  2.564751433
## 4680                             poised       1      0  2.564751433
## 4681                             poison       1      0  2.564751433
## 4682                          policemen       1      0  2.564751433
## 4683                         politifact       1      0  2.564751433
## 4684                             polled       1      0  2.564751433
## 4685                          polltrump       1      0  2.564751433
## 4686                          portrayal       1      0  2.564751433
## 4687                          postponed       1      0  2.564751433
## 4688                               pour       1      0  2.564751433
## 4689                             powell       1      0  2.564751433
## 4690                            praised       1      0  2.564751433
## 4691                           praising       1      0  2.564751433
## 4692                               pray       1      0  2.564751433
## 4693                          precluded       1      0  2.564751433
## 4694                            predict       1      0  2.564751433
## 4695                        predictable       1      0  2.564751433
## 4696                         preference       1      0  2.564751433
## 4697                          preparing       1      0  2.564751433
## 4698                       presbyterian       1      0  2.564751433
## 4699                       presentation       1      0  2.564751433
## 4700                      presidentlike       1      0  2.564751433
## 4701                    presidentreally       1      0  2.564751433
## 4702                           presmake       1      0  2.564751433
## 4703                         pretending       1      0  2.564751433
## 4704                             pretty       1      0  2.564751433
## 4705                             priest       1      0  2.564751433
## 4706                          probesuch       1      0  2.564751433
## 4707                           produced       1      0  2.564751433
## 4708                          producing       1      0  2.564751433
## 4709                            product       1      0  2.564751433
## 4710                           products       1      0  2.564751433
## 4711                     professionally       1      0  2.564751433
## 4712                          profiling       1      0  2.564751433
## 4713                             profit       1      0  2.564751433
## 4714                          prohibits       1      0  2.564751433
## 4715                         prohillary       1      0  2.564751433
## 4716                          projected       1      0  2.564751433
## 4717                            promise       1      0  2.564751433
## 4718                           promoter       1      0  2.564751433
## 4719                          promoting       1      0  2.564751433
## 4720                             prople       1      0  2.564751433
## 4721                               pros       1      0  2.564751433
## 4722                            prosper       1      0  2.564751433
## 4723                         prosperity       1      0  2.564751433
## 4724                          protected       1      0  2.564751433
## 4725                           protects       1      0  2.564751433
## 4726                         protestant       1      0  2.564751433
## 4727                            proudly       1      0  2.564751433
## 4728                                pub       1      0  2.564751433
## 4729                            publish       1      0  2.564751433
## 4730                               puff       1      0  2.564751433
## 4731                         pulledback       1      0  2.564751433
## 4732                               pump       1      0  2.564751433
## 4733                              punch       1      0  2.564751433
## 4734                          pushpolls       1      0  2.564751433
## 4735                            quality       1      0  2.564751433
## 4736                            quarter       1      0  2.564751433
## 4737                        quarterback       1      0  2.564751433
## 4738                         questioned       1      0  2.564751433
## 4739                          quicksand       1      0  2.564751433
## 4740                               quid       1      0  2.564751433
## 4741                         quinnipiac       1      0  2.564751433
## 4742                              quits       1      0  2.564751433
## 4743                           racestop       1      0  2.564751433
## 4744                          racistbut       1      0  2.564751433
## 4745                                rag       1      0  2.564751433
## 4746                              raids       1      0  2.564751433
## 4747                            railing       1      0  2.564751433
## 4748                              rails       1      0  2.564751433
## 4749                        raisedgiven       1      0  2.564751433
## 4750                           rambling       1      0  2.564751433
## 4751                            rampant       1      0  2.564751433
## 4752                            ranking       1      0  2.564751433
## 4753                           rankings       1      0  2.564751433
## 4754                               rape       1      0  2.564751433
## 4755                            rapists       1      0  2.564751433
## 4756                                rat       1      0  2.564751433
## 4757                         ratingstoo       1      0  2.564751433
## 4758                         rationally       1      0  2.564751433
## 4759                               raul       1      0  2.564751433
## 4760                      rawlingsblake       1      0  2.564751433
## 4761                           reaching       1      0  2.564751433
## 4762                           reaction       1      0  2.564751433
## 4763                         readership       1      0  2.564751433
## 4764                            reallyi       1      0  2.564751433
## 4765                            rebuild       1      0  2.564751433
## 4766                         rebuilding       1      0  2.564751433
## 4767                           rebuttal       1      0  2.564751433
## 4768                            reclaim       1      0  2.564751433
## 4769                        recognition       1      0  2.564751433
## 4770                   recordshattering       1      0  2.564751433
## 4771                            recount       1      0  2.564751433
## 4772                            recruit       1      0  2.564751433
## 4773                         recruiting       1      0  2.564751433
## 4774                             reduce       1      0  2.564751433
## 4775                            refocus       1      0  2.564751433
## 4776                           reformer       1      0  2.564751433
## 4777                          registers       1      0  2.564751433
## 4778                          rehearsed       1      0  2.564751433
## 4779                              relax       1      0  2.564751433
## 4780                        renegotiate       1      0  2.564751433
## 4781                      renegotiating       1      0  2.564751433
## 4782                          renounced       1      0  2.564751433
## 4783                         renovation       1      0  2.564751433
## 4784                    repchriscollins       1      0  2.564751433
## 4785                             replay       1      0  2.564751433
## 4786                       reportingand       1      0  2.564751433
## 4787                           reportit       1      0  2.564751433
## 4788                     representative       1      0  2.564751433
## 4789                         represents       1      0  2.564751433
## 4790                       reptommarino       1      0  2.564751433
## 4791                              repub       1      0  2.564751433
## 4792                             rescue       1      0  2.564751433
## 4793                           research       1      0  2.564751433
## 4794                        reservation       1      0  2.564751433
## 4795                            reserve       1      0  2.564751433
## 4796                        resignation       1      0  2.564751433
## 4797                           resigned       1      0  2.564751433
## 4798                         respecting       1      0  2.564751433
## 4799                        respondents       1      0  2.564751433
## 4800                        responsible       1      0  2.564751433
## 4801                             retire       1      0  2.564751433
## 4802                          retracted       1      0  2.564751433
## 4803                            retweet       1      0  2.564751433
## 4804                         retweeting       1      0  2.564751433
## 4805                            revenue       1      0  2.564751433
## 4806                           reversed       1      0  2.564751433
## 4807                             reward       1      0  2.564751433
## 4808                           rhetoric       1      0  2.564751433
## 4809                          richlowry       1      0  2.564751433
## 4810                            rickets       1      0  2.564751433
## 4811                              rides       1      0  2.564751433
## 4812                             rifles       1      0  2.564751433
## 4813                              riots       1      0  2.564751433
## 4814                             ripped       1      0  2.564751433
## 4815                          rippedoff       1      0  2.564751433
## 4816                                rjc       1      0  2.564751433
## 4817                              roads       1      0  2.564751433
## 4818                         roadsdoors       1      0  2.564751433
## 4819                      robertgbeckel       1      0  2.564751433
## 4820                           robocall       1      0  2.564751433
## 4821                               roff       1      0  2.564751433
## 4822                         rogerstone       1      0  2.564751433
## 4823                               roll       1      0  2.564751433
## 4824                            rolling       1      0  2.564751433
## 4825                            rollout       1      0  2.564751433
## 4826                               roof       1      0  2.564751433
## 4827                           roseburg       1      0  2.564751433
## 4828                              rosie       1      0  2.564751433
## 4829                              rough       1      0  2.564751433
## 4830                            routine       1      0  2.564751433
## 4831                         rpvirginia       1      0  2.564751433
## 4832                               ruin       1      0  2.564751433
## 4833                           rumsfeld       1      0  2.564751433
## 4834                             runnot       1      0  2.564751433
## 4835                            russell       1      0  2.564751433
## 4836                               rust       1      0  2.564751433
## 4837                         ruthmarcus       1      0  2.564751433
## 4838                               sack       1      0  2.564751433
## 4839                              salah       1      0  2.564751433
## 4840                               sale       1      0  2.564751433
## 4841                            salvage       1      0  2.564751433
## 4842                             sample       1      0  2.564751433
## 4843                               sane       1      0  2.564751433
## 4844                            sarcasm       1      0  2.564751433
## 4845                               sass       1      0  2.564751433
## 4846                            savaged       1      0  2.564751433
## 4847                           scamming       1      0  2.564751433
## 4848                              scams       1      0  2.564751433
## 4849                              scape       1      0  2.564751433
## 4850                             scared       1      0  2.564751433
## 4851                              scene       1      0  2.564751433
## 4852                             school       1      0  2.564751433
## 4853                            scoffed       1      0  2.564751433
## 4854                            scottie       1      0  2.564751433
## 4855                        scottwalker       1      0  2.564751433
## 4856                          screening       1      0  2.564751433
## 4857                              screw       1      0  2.564751433
## 4858                           scripted       1      0  2.564751433
## 4859                            scripts       1      0  2.564751433
## 4860                              secof       1      0  2.564751433
## 4861                             secupp       1      0  2.564751433
## 4862                           securing       1      0  2.564751433
## 4863                        securitybut       1      0  2.564751433
## 4864                               seek       1      0  2.564751433
## 4865                             seldom       1      0  2.564751433
## 4866                          selection       1      0  2.564751433
## 4867                    selfdeportation       1      0  2.564751433
## 4868                          selfishly       1      0  2.564751433
## 4869                      selfrighteous       1      0  2.564751433
## 4870                            selfthe       1      0  2.564751433
## 4871                         sentedcruz       1      0  2.564751433
## 4872                           sentinel       1      0  2.564751433
## 4873                             sept14       1      0  2.564751433
## 4874                            servant       1      0  2.564751433
## 4875                            setback       1      0  2.564751433
## 4876                             settle       1      0  2.564751433
## 4877                             sexist       1      0  2.564751433
## 4878                            shadows       1      0  2.564751433
## 4879                             shakes       1      0  2.564751433
## 4880                           shambles       1      0  2.564751433
## 4881                              shape       1      0  2.564751433
## 4882                            sharper       1      0  2.564751433
## 4883                            sheldon       1      0  2.564751433
## 4884                            shelter       1      0  2.564751433
## 4885                           sheriffs       1      0  2.564751433
## 4886                             shield       1      0  2.564751433
## 4887                              shine       1      0  2.564751433
## 4888                            shipped       1      0  2.564751433
## 4889                             shoker       1      0  2.564751433
## 4890                           shooters       1      0  2.564751433
## 4891                           shootout       1      0  2.564751433
## 4892                       shortcomings       1      0  2.564751433
## 4893                            shouted       1      0  2.564751433
## 4894                           shouting       1      0  2.564751433
## 4895                              shown       1      0  2.564751433
## 4896                             showno       1      0  2.564751433
## 4897                             shrink       1      0  2.564751433
## 4898                           sickness       1      0  2.564751433
## 4899                              sided       1      0  2.564751433
## 4900                            signage       1      0  2.564751433
## 4901                      significantly       1      0  2.564751433
## 4902                            similar       1      0  2.564751433
## 4903                             simply       1      0  2.564751433
## 4904                               sims       1      0  2.564751433
## 4905                       simultaneous       1      0  2.564751433
## 4906                               sing       1      0  2.564751433
## 4907                            singers       1      0  2.564751433
## 4908                                sir       1      0  2.564751433
## 4909                             sirius       1      0  2.564751433
## 4910                            sixteen       1      0  2.564751433
## 4911                               size       1      0  2.564751433
## 4912                              skill       1      0  2.564751433
## 4913                           skirmish       1      0  2.564751433
## 4914                               skit       1      0  2.564751433
## 4915                            slanted       1      0  2.564751433
## 4916                               slap       1      0  2.564751433
## 4917                        slaughtered       1      0  2.564751433
## 4918                             sleaze       1      0  2.564751433
## 4919                          sleazebag       1      0  2.564751433
## 4920                           slightly       1      0  2.564751433
## 4921                               slob       1      0  2.564751433
## 4922                             slogan       1      0  2.564751433
## 4923                               slot       1      0  2.564751433
## 4924                              slots       1      0  2.564751433
## 4925                             smarts       1      0  2.564751433
## 4926                             smiles       1      0  2.564751433
## 4927                           smoothly       1      0  2.564751433
## 4928                                snd       1      0  2.564751433
## 4929                               soar       1      0  2.564751433
## 4930                          socialist       1      0  2.564751433
## 4931                             softwe       1      0  2.564751433
## 4932                           soldiers       1      0  2.564751433
## 4933                              solid       1      0  2.564751433
## 4934                           solidify       1      0  2.564751433
## 4935                            soloman       1      0  2.564751433
## 4936                          solutions       1      0  2.564751433
## 4937                             solved       1      0  2.564751433
## 4938                            solving       1      0  2.564751433
## 4939                              soooo       1      0  2.564751433
## 4940                             sooooo       1      0  2.564751433
## 4941                         sopolitico       1      0  2.564751433
## 4942                               soul       1      0  2.564751433
## 4943                             sounds       1      0  2.564751433
## 4944                        sourcesthat       1      0  2.564751433
## 4945                                 sp       1      0  2.564751433
## 4946                        speakerryan       1      0  2.564751433
## 4947                           speakers       1      0  2.564751433
## 4948                             speaks       1      0  2.564751433
## 4949                        spectacular       1      0  2.564751433
## 4950                       speechwriter       1      0  2.564751433
## 4951                              spell       1      0  2.564751433
## 4952                              spill       1      0  2.564751433
## 4953                            spinnnn       1      0  2.564751433
## 4954                            spoiled       1      0  2.564751433
## 4955                          spokesmen       1      0  2.564751433
## 4956                       spokesperson       1      0  2.564751433
## 4957                              sport       1      0  2.564751433
## 4958                                spy       1      0  2.564751433
## 4959                                sro       1      0  2.564751433
## 4960                           stabbing       1      0  2.564751433
## 4961                            staffer       1      0  2.564751433
## 4962                             staged       1      0  2.564751433
## 4963                              stake       1      0  2.564751433
## 4964                             starts       1      0  2.564751433
## 4965                             staten       1      0  2.564751433
## 4966                            station       1      0  2.564751433
## 4967                          statistic       1      0  2.564751433
## 4968                         statistics       1      0  2.564751433
## 4969                             status       1      0  2.564751433
## 4970                            staying       1      0  2.564751433
## 4971                              steal       1      0  2.564751433
## 4972                           stealing       1      0  2.564751433
## 4973                       steelworkers       1      0  2.564751433
## 4974                        steinlecome       1      0  2.564751433
## 4975                          stephanie       1      0  2.564751433
## 4976                         stevenswho       1      0  2.564751433
## 4977                           sticking       1      0  2.564751433
## 4978                              stiff       1      0  2.564751433
## 4979                             stinks       1      0  2.564751433
## 4980                             stinky       1      0  2.564751433
## 4981                             stocks       1      0  2.564751433
## 4982                              stole       1      0  2.564751433
## 4983                              store       1      0  2.564751433
## 4984                          storywant       1      0  2.564751433
## 4985                          storywith       1      0  2.564751433
## 4986                             strain       1      0  2.564751433
## 4987                            streets       1      0  2.564751433
## 4988                       strengthened       1      0  2.564751433
## 4989                    strengthstamina       1      0  2.564751433
## 4990                            strikes       1      0  2.564751433
## 4991                           striking       1      0  2.564751433
## 4992                             studio       1      0  2.564751433
## 4993                           stupidly       1      0  2.564751433
## 4994                           subpoena       1      0  2.564751433
## 4995                         subpoenaed       1      0  2.564751433
## 4996                               suck       1      0  2.564751433
## 4997                          suckersno       1      0  2.564751433
## 4998                            sucking       1      0  2.564751433
## 4999                             sudden       1      0  2.564751433
## 5000                            suffolk       1      0  2.564751433
## 5001                          suggested       1      0  2.564751433
## 5002                           suicidal       1      0  2.564751433
## 5003                            suicide       1      0  2.564751433
## 5004                           suleiman       1      0  2.564751433
## 5005                            summary       1      0  2.564751433
## 5006                           superpac       1      0  2.564751433
## 5007                          superpacs       1      0  2.564751433
## 5008                         supportive       1      0  2.564751433
## 5009                           supposed       1      0  2.564751433
## 5010                         supposedly       1      0  2.564751433
## 5011                           suppress       1      0  2.564751433
## 5012                            surging       1      0  2.564751433
## 5013                         surrounded       1      0  2.564751433
## 5014                           survival       1      0  2.564751433
## 5015                            suspect       1      0  2.564751433
## 5016                          suspended       1      0  2.564751433
## 5017                            swamped       1      0  2.564751433
## 5018                             sweats       1      0  2.564751433
## 5019                              swipe       1      0  2.564751433
## 5020                        switzerland       1      0  2.564751433
## 5021                         syndicated       1      0  2.564751433
## 5022                            tabloid       1      0  2.564751433
## 5023                         tabulation       1      0  2.564751433
## 5024                             tamara       1      0  2.564751433
## 5025                       tapesnothing       1      0  2.564751433
## 5026                          targeting       1      0  2.564751433
## 5027                           taxation       1      0  2.564751433
## 5028                          taxpayers       1      0  2.564751433
## 5029                                tea       1      0  2.564751433
## 5030                          teamsters       1      0  2.564751433
## 5031                              tears       1      0  2.564751433
## 5032                    teleprompterbut       1      0  2.564751433
## 5033                         temperment       1      0  2.564751433
## 5034                                ten       1      0  2.564751433
## 5035                              terms       1      0  2.564751433
## 5036                          territory       1      0  2.564751433
## 5037                               test       1      0  2.564751433
## 5038                       testifygreat       1      0  2.564751433
## 5039                             texans       1      0  2.564751433
## 5040                       thanksgiving       1      0  2.564751433
## 5041                       theeconomist       1      0  2.564751433
## 5042                            thehill       1      0  2.564751433
## 5043                            thembut       1      0  2.564751433
## 5044                              theme       1      0  2.564751433
## 5045                            theview       1      0  2.564751433
## 5046                          thingswhy       1      0  2.564751433
## 5047                         thisthanks       1      0  2.564751433
## 5048                           threaten       1      0  2.564751433
## 5049                          threatens       1      0  2.564751433
## 5050                            threats       1      0  2.564751433
## 5051                              threw       1      0  2.564751433
## 5052                           thrilled       1      0  2.564751433
## 5053                            thunder       1      0  2.564751433
## 5054                          thursdays       1      0  2.564751433
## 5055                             today2       1      0  2.564751433
## 5056                           todaybut       1      0  2.564751433
## 5057                           tolerate       1      0  2.564751433
## 5058                       tomllamasabc       1      0  2.564751433
## 5059                        tomorrowwhy       1      0  2.564751433
## 5060                               tone       1      0  2.564751433
## 5061                        tonightgang       1      0  2.564751433
## 5062                               tony       1      0  2.564751433
## 5063                               tool       1      0  2.564751433
## 5064                             topics       1      0  2.564751433
## 5065                             totaly       1      0  2.564751433
## 5066                            touring       1      0  2.564751433
## 5067                           townhall       1      0  2.564751433
## 5068                                toy       1      0  2.564751433
## 5069                               toys       1      0  2.564751433
## 5070                              track       1      0  2.564751433
## 5071                            traffic       1      0  2.564751433
## 5072                            trained       1      0  2.564751433
## 5073                              trans       1      0  2.564751433
## 5074                            trashes       1      0  2.564751433
## 5075                           traveled       1      0  2.564751433
## 5076                           travesty       1      0  2.564751433
## 5077                           treaties       1      0  2.564751433
## 5078                           treating       1      0  2.564751433
## 5079                       tremendously       1      0  2.564751433
## 5080                              tribe       1      0  2.564751433
## 5081                               trio       1      0  2.564751433
## 5082                            triumph       1      0  2.564751433
## 5083                             troops       1      0  2.564751433
## 5084                      troublemakers       1      0  2.564751433
## 5085                           trounced       1      0  2.564751433
## 5086                         trump=safe       1      0  2.564751433
## 5087                             trumpi       1      0  2.564751433
## 5088                         truthfully       1      0  2.564751433
## 5089                                tsa       1      0  2.564751433
## 5090                         tuesdayand       1      0  2.564751433
## 5091                            tuition       1      0  2.564751433
## 5092                             tumble       1      0  2.564751433
## 5093                              tuned       1      0  2.564751433
## 5094                             tuning       1      0  2.564751433
## 5095                             twelve       1      0  2.564751433
## 5096                             twenty       1      0  2.564751433
## 5097                              twist       1      0  2.564751433
## 5098                            twotime       1      0  2.564751433
## 5099                               type       1      0  2.564751433
## 5100                            typical       1      0  2.564751433
## 5101                              tyson       1      0  2.564751433
## 5102                                uks       1      0  2.564751433
## 5103                              ultra       1      0  2.564751433
## 5104                       unaffiliated       1      0  2.564751433
## 5105                       unaffordable       1      0  2.564751433
## 5106                          unanimous       1      0  2.564751433
## 5107                         unbalanced       1      0  2.564751433
## 5108                       unbelievably       1      0  2.564751433
## 5109                        uncertainty       1      0  2.564751433
## 5110                      uncomfortable       1      0  2.564751433
## 5111                     underachieving       1      0  2.564751433
## 5112                      understanding       1      0  2.564751433
## 5113                       undocumented       1      0  2.564751433
## 5114                        unelectable       1      0  2.564751433
## 5115                     unenthusiastic       1      0  2.564751433
## 5116                         unexpected       1      0  2.564751433
## 5117                         unfairness       1      0  2.564751433
## 5118                           unfunded       1      0  2.564751433
## 5119                            unfunny       1      0  2.564751433
## 5120                            unhappy       1      0  2.564751433
## 5121                          unimpeded       1      0  2.564751433
## 5122                          universal       1      0  2.564751433
## 5123                            unnamed       1      0  2.564751433
## 5124                         unpleasant       1      0  2.564751433
## 5125                        unqualified       1      0  2.564751433
## 5126                        unrelenting       1      0  2.564751433
## 5127                    unsubstantiated       1      0  2.564751433
## 5128                       unsuspecting       1      0  2.564751433
## 5129                                upi       1      0  2.564751433
## 5130                             uproar       1      0  2.564751433
## 5131                              upset       1      0  2.564751433
## 5132                              usand       1      0  2.564751433
## 5133                           usatoday       1      0  2.564751433
## 5134                          uschamber       1      0  2.564751433
## 5135                          ussupreme       1      0  2.564751433
## 5136                                v12       1      0  2.564751433
## 5137                             vacuum       1      0  2.564751433
## 5138                         vanityfair       1      0  2.564751433
## 5139                               vega       1      0  2.564751433
## 5140                         vehemently       1      0  2.564751433
## 5141                            verdict       1      0  2.564751433
## 5142                              verse       1      0  2.564751433
## 5143                            version       1      0  2.564751433
## 5144                         victoryhas       1      0  2.564751433
## 5145                          virginias       1      0  2.564751433
## 5146                             virtue       1      0  2.564751433
## 5147                               visa       1      0  2.564751433
## 5148                           visitors       1      0  2.564751433
## 5149                         votergrade       1      0  2.564751433
## 5150                      voteshundreds       1      0  2.564751433
## 5151                        vpcandidate       1      0  2.564751433
## 5152                               wage       1      0  2.564751433
## 5153                               wake       1      0  2.564751433
## 5154                               walk       1      0  2.564751433
## 5155                            walters       1      0  2.564751433
## 5156                            warming       1      0  2.564751433
## 5157                            warning       1      0  2.564751433
## 5158                      watchednobody       1      0  2.564751433
## 5159                            watches       1      0  2.564751433
## 5160                            weakest       1      0  2.564751433
## 5161                            wedding       1      0  2.564751433
## 5162                         wednesday1       1      0  2.564751433
## 5163                            wellwho       1      0  2.564751433
## 5164                                wgc       1      0  2.564751433
## 5165                           wheeling       1      0  2.564751433
## 5166                     whoopigoldberg       1      0  2.564751433
## 5167                              whore       1      0  2.564751433
## 5168                             wiener       1      0  2.564751433
## 5169                             wiesel       1      0  2.564751433
## 5170                              wifes       1      0  2.564751433
## 5171                           williams       1      0  2.564751433
## 5172                         wisconsins       1      0  2.564751433
## 5173                            wiseguy       1      0  2.564751433
## 5174                          witchhunt       1      0  2.564751433
## 5175                             womeni       1      0  2.564751433
## 5176                             worker       1      0  2.564751433
## 5177                        worsealmost       1      0  2.564751433
## 5178                         worsetheir       1      0  2.564751433
## 5179                        worsetrying       1      0  2.564751433
## 5180                          worstthey       1      0  2.564751433
## 5181                                 wr       1      0  2.564751433
## 5182                       wrongtotally       1      0  2.564751433
## 5183                           wthought       1      0  2.564751433
## 5184                            yearbut       1      0  2.564751433
## 5185                           yearsand       1      0  2.564751433
## 5186                             yetthe       1      0  2.564751433
## 5187                    youngdems4trump       1      0  2.564751433
## 5188                              zilch       1      0  2.564751433
## 5189                                zip       1      0  2.564751433
## 5190                              zones       1      0  2.564751433
## 5191                             @macys       4      1  2.565042288
## 5192                        advertising       4      1  2.565042288
## 5193                    africanamerican       4      1  2.565042288
## 5194                   africanamericans       4      1  2.565042288
## 5195                           announce       4      1  2.565042288
## 5196                             begins       4      1  2.565042288
## 5197                           believes       4      1  2.565042288
## 5198                               blew       4      1  2.565042288
## 5199                           brussels       4      1  2.565042288
## 5200                              carly       4      1  2.565042288
## 5201                             chosen       4      1  2.565042288
## 5202                             church       4      1  2.565042288
## 5203                           constant       4      1  2.565042288
## 5204                        destruction       4      1  2.565042288
## 5205                         difference       4      1  2.565042288
## 5206                            endorse       4      1  2.565042288
## 5207                             fairly       4      1  2.565042288
## 5208                            falling       4      1  2.565042288
## 5209                             figure       4      1  2.565042288
## 5210                               file       4      1  2.565042288
## 5211                            imagine       4      1  2.565042288
## 5212                      international       4      1  2.565042288
## 5213                      investigation       4      1  2.565042288
## 5214                               karl       4      1  2.565042288
## 5215                              kelly       4      1  2.565042288
## 5216                               line       4      1  2.565042288
## 5217                             losers       4      1  2.565042288
## 5218                             margin       4      1  2.565042288
## 5219                           networks       4      1  2.565042288
## 5220                            nominee       4      1  2.565042288
## 5221                          opponents       4      1  2.565042288
## 5222                             paying       4      1  2.565042288
## 5223                            quickly       4      1  2.565042288
## 5224                             racist       4      1  2.565042288
## 5225                              rated       4      1  2.565042288
## 5226                               rick       4      1  2.565042288
## 5227                          shootings       4      1  2.565042288
## 5228                              solve       4      1  2.565042288
## 5229                              stuff       4      1  2.565042288
## 5230                             talent       4      1  2.565042288
## 5231                             theyre       4      1  2.565042288
## 5232                            tougher       4      1  2.565042288
## 5233                              wages       4      1  2.565042288
## 5234                            wasting       4      1  2.565042288
## 5235                               wide       4      1  2.565042288
## 5236                       @morningmika       7      2  2.565333251
## 5237                         @todayshow       7      2  2.565333251
## 5238                              clown       7      2  2.565333251
## 5239                           continue       7      2  2.565333251
## 5240                              cover       7      2  2.565333251
## 5241                                don       7      2  2.565333251
## 5242                           question       7      2  2.565333251
## 5243                           scotland       7      2  2.565333251
## 5244                              thugs       7      2  2.565333251
## 5245                      @meetthepress      10      3  2.565624322
## 5246                               city      10      3  2.565624322
## 5247                            debates      10      3  2.565624322
## 5248                          editorial      10      3  2.565624322
## 5249                           magazine      10      3  2.565624322
## 5250                             spirit      10      3  2.565624322
## 5251                               mike      13      4  2.565915502
## 5252                            borders      16      5  2.566206790
## 5253                               word      16      5  2.566206790
## 5254                               call      19      6  2.566498186
## 5255                                fix      19      6  2.566498186
## 5256                            talking      25      8  2.567081304
## 5257                           watching      28      9  2.567373026
## 5258                        interviewed      76     25  2.572055391
## 5259                              media      76     25  2.572055391
## 5260                           millions      26      8  2.667916678
## 5261                          yesterday      26      8  2.667916678
## 5262                             biased      23      7  2.681035534
## 5263                             romney      23      7  2.681035534
## 5264                              trade      23      7  2.681035534
## 5265                                wow      74     23  2.718043896
## 5266                            crooked     156     49  2.719434849
## 5267                              total      52     16  2.725648493
## 5268                              fraud      14      4  2.756154183
## 5269                             strong      27      8  2.768764565
## 5270                                jeb      50     15  2.790819175
## 5271                            biggest      11      3  2.810143676
## 5272                             easily      11      3  2.810143676
## 5273                              focus      11      3  2.810143676
## 5274                             happen      11      3  2.810143676
## 5275                             russia      11      3  2.810143676
## 5276                         convention      21      6  2.830079798
## 5277                              smart      31      9  2.838151158
## 5278                              tough      28      8  2.869624968
## 5279                            beating       8      2  2.907557869
## 5280                              court       8      2  2.907557869
## 5281                         democratic       8      2  2.907557869
## 5282                               drop       8      2  2.907557869
## 5283                         pocahontas       8      2  2.907557869
## 5284                           speeches       8      2  2.907557869
## 5285                               fair      15      4  2.946416454
## 5286                              ready      15      4  2.946416454
## 5287                            wallace      15      4  2.946416454
## 5288                             crowds      22      6  2.961895128
## 5289                          fantastic      33      9  3.018725937
## 5290                               iran      19      5  3.033354100
## 5291                                2nd      12      3  3.054693346
## 5292                               clue      12      3  3.054693346
## 5293                            correct      12      3  3.054693346
## 5294                            killing      12      3  3.054693346
## 5295                                lie      12      3  3.054693346
## 5296                               talk      30      8  3.071383330
## 5297                              @time       5      1  3.135245944
## 5298                         absolutely       5      1  3.135245944
## 5299                             anchor       5      1  3.135245944
## 5300                              banks       5      1  3.135245944
## 5301                            boycott       5      1  3.135245944
## 5302                                buy       5      1  3.135245944
## 5303                          criminals       5      1  3.135245944
## 5304                          decisions       5      1  3.135245944
## 5305                           director       5      1  3.135245944
## 5306                               eyes       5      1  3.135245944
## 5307                            fiorina       5      1  3.135245944
## 5308                              folks       5      1  3.135245944
## 5309                              heart       5      1  3.135245944
## 5310                            journal       5      1  3.135245944
## 5311                           karlrove       5      1  3.135245944
## 5312                             mccain       5      1  3.135245944
## 5313                         megynkelly       5      1  3.135245944
## 5314                               nato       5      1  3.135245944
## 5315                              paris       5      1  3.135245944
## 5316                        performance       5      1  3.135245944
## 5317                           referred       5      1  3.135245944
## 5318                               rove       5      1  3.135245944
## 5319                               scam       5      1  3.135245944
## 5320                           standing       5      1  3.135245944
## 5321                             unable       5      1  3.135245944
## 5322                             womens       5      1  3.135245944
## 5323                           terrible      31      8  3.172281294
## 5324                                won      50     13  3.204738743
## 5325                            brought       9      2  3.249824909
## 5326                               dope       9      2  3.249824909
## 5327                            lindsey       9      2  3.249824909
## 5328                        republicans       9      2  3.249824909
## 5329                               wild       9      2  3.249824909
## 5330                            dollars      13      3  3.299273338
## 5331                              speak      13      3  3.299273338
## 5332                               beat      40     10  3.303128424
## 5333                                sad      44     11  3.314349487
## 5334                                ago      17      4  3.327011785
## 5335                          announced      17      4  3.327011785
## 5336                               fast      17      4  3.327011785
## 5337                              women      29      7  3.366808361
## 5338                                bad     104     26  3.386533952
## 5339                               dumb      22      5  3.500675270
## 5340                                hit      22      5  3.500675270
## 5341                           @jebbush      14      3  3.543883656
## 5342                            fortune      10      2  3.592134379
## 5343                            husband      10      2  3.592134379
## 5344                               iraq      10      2  3.592134379
## 5345                            release      10      2  3.592134379
## 5346                            treated      10      2  3.592134379
## 5347                        @morningjoe      23      5  3.656487646
## 5348                               weak      36      8  3.676959034
## 5349                            created       6      1  3.705520269
## 5350                               hate       6      1  3.705520269
## 5351                              hotel       6      1  3.705520269
## 5352                           illegals       6      1  3.705520269
## 5353                              megyn       6      1  3.705520269
## 5354                               star       6      1  3.705520269
## 5355                           strongly       6      1  3.705520269
## 5356                                tim       6      1  3.705520269
## 5357                          virtually       6      1  3.705520269
## 5358                            sanders      37      8  3.777932183
## 5359                             bernie      59     13  3.777993076
## 5360                              wrong      24      5  3.812319353
## 5361                               mitt      20      4  3.898081820
## 5362                            careful      11      2  3.934486285
## 5363                             policy      11      2  3.934486285
## 5364                           speaking      11      2  3.934486285
## 5365                               vets      11      2  3.934486285
## 5366                             boring      16      3  4.033195296
## 5367                               dems      16      3  4.033195296
## 5368                             energy      16      3  4.033195296
## 5369                          @bensasse       2      0  4.274850541
## 5370                          @brithume       2      0  4.274850541
## 5371                       @foxbusiness       2      0  4.274850541
## 5372                         @jeffbezos       2      0  4.274850541
## 5373                         @joniernst       2      0  4.274850541
## 5374                             @ncgop       2      0  4.274850541
## 5375                               @nro       2      0  4.274850541
## 5376                    @scottienhughes       2      0  4.274850541
## 5377                            @secupp       2      0  4.274850541
## 5378                      @tonyschwartz       2      0  4.274850541
## 5379                         @univision       2      0  4.274850541
## 5380                         @uschamber       2      0  4.274850541
## 5381                        @vanityfair       2      0  4.274850541
## 5382                      #neverhillary       2      0  4.274850541
## 5383                                $10       2      0  4.274850541
## 5384                            $100000       2      0  4.274850541
## 5385                               $150       2      0  4.274850541
## 5386                           $5600000       2      0  4.274850541
## 5387                                $59       2      0  4.274850541
## 5388                      abcwashington       2      0  4.274850541
## 5389                            ability       2      0  4.274850541
## 5390                              ac360       2      0  4.274850541
## 5391                        acknowledge       2      0  4.274850541
## 5392                              added       2      0  4.274850541
## 5393                             afraid       2      0  4.274850541
## 5394                           airlines       2      0  4.274850541
## 5395                           airports       2      0  4.274850541
## 5396                             alicia       2      0  4.274850541
## 5397                            alltime       2      0  4.274850541
## 5398                             amount       2      0  4.274850541
## 5399                            analyst       2      0  4.274850541
## 5400                              apple       2      0  4.274850541
## 5401                           approved       2      0  4.274850541
## 5402                             arnold       2      0  4.274850541
## 5403                           arrogant       2      0  4.274850541
## 5404                               asap       2      0  4.274850541
## 5405                               asia       2      0  4.274850541
## 5406                             asians       2      0  4.274850541
## 5407                            audited       2      0  4.274850541
## 5408                              aware       2      0  4.274850541
## 5409                           balanced       2      0  4.274850541
## 5410                             bandon       2      0  4.274850541
## 5411                             basket       2      0  4.274850541
## 5412                             battle       2      0  4.274850541
## 5413                              beast       2      0  4.274850541
## 5414                              begun       2      0  4.274850541
## 5415                             belief       2      0  4.274850541
## 5416                           belittle       2      0  4.274850541
## 5417                                bet       2      0  4.274850541
## 5418                              biden       2      0  4.274850541
## 5419                             blamed       2      0  4.274850541
## 5420                              blank       2      0  4.274850541
## 5421                              bless       2      0  4.274850541
## 5422                              blown       2      0  4.274850541
## 5423                         bodyguards       2      0  4.274850541
## 5424                          borrowing       2      0  4.274850541
## 5425                               boss       2      0  4.274850541
## 5426                              brady       2      0  4.274850541
## 5427                              brain       2      0  4.274850541
## 5428                              brave       2      0  4.274850541
## 5429                             bright       2      0  4.274850541
## 5430                           brithume       2      0  4.274850541
## 5431                         burlington       2      0  4.274850541
## 5432                             burned       2      0  4.274850541
## 5433                               bust       2      0  4.274850541
## 5434                           capacity       2      0  4.274850541
## 5435                              cards       2      0  4.274850541
## 5436                             carpet       2      0  4.274850541
## 5437                             carter       2      0  4.274850541
## 5438                         challenged       2      0  4.274850541
## 5439                            chances       2      0  4.274850541
## 5440                          circuited       2      0  4.274850541
## 5441                               code       2      0  4.274850541
## 5442                              colin       2      0  4.274850541
## 5443                         commission       2      0  4.274850541
## 5444                      communication       2      0  4.274850541
## 5445                         complaints       2      0  4.274850541
## 5446                            conduct       2      0  4.274850541
## 5447                         considered       2      0  4.274850541
## 5448                      controversial       2      0  4.274850541
## 5449                           convince       2      0  4.274850541
## 5450                          corrected       2      0  4.274850541
## 5451                              costs       2      0  4.274850541
## 5452                           covering       2      0  4.274850541
## 5453                           critical       2      0  4.274850541
## 5454                             curiel       2      0  4.274850541
## 5455                            current       2      0  4.274850541
## 5456                           defeated       2      0  4.274850541
## 5457                               deny       2      0  4.274850541
## 5458                          depending       2      0  4.274850541
## 5459                            deplore       2      0  4.274850541
## 5460                             detail       2      0  4.274850541
## 5461                       disabilities       2      0  4.274850541
## 5462                       disappointed       2      0  4.274850541
## 5463                         disrespect       2      0  4.274850541
## 5464                            distort       2      0  4.274850541
## 5465                          distorted       2      0  4.274850541
## 5466                                djt       2      0  4.274850541
## 5467                            drawing       2      0  4.274850541
## 5468                                 dt       2      0  4.274850541
## 5469                            dummies       2      0  4.274850541
## 5470                        electricity       2      0  4.274850541
## 5471                             eleven       2      0  4.274850541
## 5472                        eligibility       2      0  4.274850541
## 5473                           eligible       2      0  4.274850541
## 5474                            enemies       2      0  4.274850541
## 5475                              ethic       2      0  4.274850541
## 5476                                eve       2      0  4.274850541
## 5477                         excitement       2      0  4.274850541
## 5478                             expert       2      0  4.274850541
## 5479                             expose       2      0  4.274850541
## 5480                            express       2      0  4.274850541
## 5481                        fabrication       2      0  4.274850541
## 5482                            falsely       2      0  4.274850541
## 5483                                fat       2      0  4.274850541
## 5484                           favorite       2      0  4.274850541
## 5485                            fawning       2      0  4.274850541
## 5486                            federal       2      0  4.274850541
## 5487                              feels       2      0  4.274850541
## 5488                             firing       2      0  4.274850541
## 5489                              fixed       2      0  4.274850541
## 5490                              flags       2      0  4.274850541
## 5491                              flake       2      0  4.274850541
## 5492                              fools       2      0  4.274850541
## 5493                            forming       2      0  4.274850541
## 5494                        frontrunner       2      0  4.274850541
## 5495                            funeral       2      0  4.274850541
## 5496                             fusion       2      0  4.274850541
## 5497                              gates       2      0  4.274850541
## 5498                              giant       2      0  4.274850541
## 5499                               glad       2      0  4.274850541
## 5500                              globe       2      0  4.274850541
## 5501                              glory       2      0  4.274850541
## 5502                            gonzalo       2      0  4.274850541
## 5503                             gotcha       2      0  4.274850541
## 5504                          govkasich       2      0  4.274850541
## 5505                            graydon       2      0  4.274850541
## 5506                    gstephanopoulos       2      0  4.274850541
## 5507                               guys       2      0  4.274850541
## 5508                           haberman       2      0  4.274850541
## 5509                            happily       2      0  4.274850541
## 5510                             harder       2      0  4.274850541
## 5511                            hardest       2      0  4.274850541
## 5512                            heavily       2      0  4.274850541
## 5513                             heroin       2      0  4.274850541
## 5514                             hewitt       2      0  4.274850541
## 5515                            holding       2      0  4.274850541
## 5516                               hole       2      0  4.274850541
## 5517                            hopkins       2      0  4.274850541
## 5518                         horrendous       2      0  4.274850541
## 5519                               huff       2      0  4.274850541
## 5520                               hugh       2      0  4.274850541
## 5521                           hundreds       2      0  4.274850541
## 5522                            hurting       2      0  4.274850541
## 5523                          impressed       2      0  4.274850541
## 5524                          incapable       2      0  4.274850541
## 5525                       incompetence       2      0  4.274850541
## 5526                        incorrectly       2      0  4.274850541
## 5527                           innocent       2      0  4.274850541
## 5528                             insane       2      0  4.274850541
## 5529                         instructed       2      0  4.274850541
## 5530                       introduction       2      0  4.274850541
## 5531                               isil       2      0  4.274850541
## 5532                               jake       2      0  4.274850541
## 5533                           kayleigh       2      0  4.274850541
## 5534                            keeping       2      0  4.274850541
## 5535                            kidding       2      0  4.274850541
## 5536                              kurtz       2      0  4.274850541
## 5537                            lawsuit       2      0  4.274850541
## 5538                           lawsuits       2      0  4.274850541
## 5539                             leaked       2      0  4.274850541
## 5540                             ledger       2      0  4.274850541
## 5541                            letting       2      0  4.274850541
## 5542                              liars       2      0  4.274850541
## 5543                              lived       2      0  4.274850541
## 5544                       livetweeting       2      0  4.274850541
## 5545                           longtime       2      0  4.274850541
## 5546                              loyal       2      0  4.274850541
## 5547                             madeup       2      0  4.274850541
## 5548                             maggie       2      0  4.274850541
## 5549                             majors       2      0  4.274850541
## 5550                        masterminds       2      0  4.274850541
## 5551                               math       2      0  4.274850541
## 5552                           medicaid       2      0  4.274850541
## 5553                            medical       2      0  4.274850541
## 5554                           medicare       2      0  4.274850541
## 5555                             mental       2      0  4.274850541
## 5556                             mentor       2      0  4.274850541
## 5557                          messenger       2      0  4.274850541
## 5558                         microphone       2      0  4.274850541
## 5559                         misleading       2      0  4.274850541
## 5560                            mission       2      0  4.274850541
## 5561                             mobile       2      0  4.274850541
## 5562                             moment       2      0  4.274850541
## 5563                              month       2      0  4.274850541
## 5564                              names       2      0  4.274850541
## 5565                         negatively       2      0  4.274850541
## 5566                            newsmax       2      0  4.274850541
## 5567                         newspapers       2      0  4.274850541
## 5568                     newswashington       2      0  4.274850541
## 5569                             nicole       2      0  4.274850541
## 5570                           nonsense       2      0  4.274850541
## 5571                            norfolk       2      0  4.274850541
## 5572                               nuke       2      0  4.274850541
## 5573                                oan       2      0  4.274850541
## 5574                           obsolete       2      0  4.274850541
## 5575                             oclock       2      0  4.274850541
## 5576                           odonnell       2      0  4.274850541
## 5577                              offer       2      0  4.274850541
## 5578                         officially       2      0  4.274850541
## 5579                            omalley       2      0  4.274850541
## 5580                             openly       2      0  4.274850541
## 5581                             orange       2      0  4.274850541
## 5582                           original       2      0  4.274850541
## 5583                          overdoses       2      0  4.274850541
## 5584                                pac       2      0  4.274850541
## 5585                           panicked       2      0  4.274850541
## 5586                     peggynoonannyc       2      0  4.274850541
## 5587                           penchant       2      0  4.274850541
## 5588                         percentage       2      0  4.274850541
## 5589                              perry       2      0  4.274850541
## 5590                         phenomenal       2      0  4.274850541
## 5591                              photo       2      0  4.274850541
## 5592                             plenty       2      0  4.274850541
## 5593                        practically       2      0  4.274850541
## 5594                          primetime       2      0  4.274850541
## 5595                                pro       2      0  4.274850541
## 5596                      professionals       2      0  4.274850541
## 5597                          professor       2      0  4.274850541
## 5598                                 pt       2      0  4.274850541
## 5599                          publicity       2      0  4.274850541
## 5600                           purposes       2      0  4.274850541
## 5601                                quo       2      0  4.274850541
## 5602                          recommend       2      0  4.274850541
## 5603                          recovered       2      0  4.274850541
## 5604                                red       2      0  4.274850541
## 5605                           remained       2      0  4.274850541
## 5606                     representation       2      0  4.274850541
## 5607                             repubs       2      0  4.274850541
## 5608                            request       2      0  4.274850541
## 5609                                res       2      0  4.274850541
## 5610                       ridiculously       2      0  4.274850541
## 5611                            rigging       2      0  4.274850541
## 5612                          romneywho       2      0  4.274850541
## 5613                              rules       2      0  4.274850541
## 5614                            russian       2      0  4.274850541
## 5615                              scale       2      0  4.274850541
## 5616                             scalia       2      0  4.274850541
## 5617                             scream       2      0  4.274850541
## 5618                           secretly       2      0  4.274850541
## 5619                           senators       2      0  4.274850541
## 5620                          september       2      0  4.274850541
## 5621                           severely       2      0  4.274850541
## 5622                             sexism       2      0  4.274850541
## 5623                              shoot       2      0  4.274850541
## 5624                              slate       2      0  4.274850541
## 5625                             sleazy       2      0  4.274850541
## 5626                             sloppy       2      0  4.274850541
## 5627                               sons       2      0  4.274850541
## 5628                              sorts       2      0  4.274850541
## 5629                              sound       2      0  4.274850541
## 5630                               spin       2      0  4.274850541
## 5631                             sports       2      0  4.274850541
## 5632                            stacked       2      0  4.274850541
## 5633                             stands       2      0  4.274850541
## 5634                            starved       2      0  4.274850541
## 5635                              steve       2      0  4.274850541
## 5636                          stirewalt       2      0  4.274850541
## 5637                             stolen       2      0  4.274850541
## 5638                             stores       2      0  4.274850541
## 5639                            strange       2      0  4.274850541
## 5640                         strengthen       2      0  4.274850541
## 5641                     stuartpstevens       2      0  4.274850541
## 5642                              stuck       2      0  4.274850541
## 5643                           suffered       2      0  4.274850541
## 5644                                sun       2      0  4.274850541
## 5645                             tapper       2      0  4.274850541
## 5646                        telepromter       2      0  4.274850541
## 5647                                thr       2      0  4.274850541
## 5648                           throwing       2      0  4.274850541
## 5649                         tournament       2      0  4.274850541
## 5650                             triple       2      0  4.274850541
## 5651                              tubes       2      0  4.274850541
## 5652                            ukraine       2      0  4.274850541
## 5653                             unlike       2      0  4.274850541
## 5654                     unprofessional       2      0  4.274850541
## 5655                        unscheduled       2      0  4.274850541
## 5656                        unwatchable       2      0  4.274850541
## 5657                            vicente       2      0  4.274850541
## 5658                               view       2      0  4.274850541
## 5659                     washingtonpost       2      0  4.274850541
## 5660                            weapons       2      0  4.274850541
## 5661                              weird       2      0  4.274850541
## 5662                                 wh       2      0  4.274850541
## 5663                                 ya       2      0  4.274850541
## 5664                         experience       7      1  4.275865274
## 5665                             matter       7      1  4.275865274
## 5666                            minutes       7      1  4.275865274
## 5667                         protesters       7      1  4.275865274
## 5668                               sold       7      1  4.275865274
## 5669                            finally      12      2  4.276880637
## 5670                          happening      12      2  4.276880637
## 5671                            pushing      12      2  4.276880637
## 5672                             unfair      12      2  4.276880637
## 5673                               bush      47      9  4.284005840
## 5674                         republican      63     12  4.355932962
## 5675                               @cnn      90     17  4.440177264
## 5676                                fun      18      3  4.522628313
## 5677                               @wsj      13      2  4.619317442
## 5678                               mess      13      2  4.619317442
## 5679                         candidates      19      3  4.767390351
## 5680                            citizen       8      1  4.846280975
## 5681                         controlled       8      1  4.846280975
## 5682                         disgusting       8      1  4.846280975
## 5683                            explain       8      1  4.846280975
## 5684                               pres       8      1  4.846280975
## 5685                            reviews       8      1  4.846280975
## 5686                                set       8      1  4.846280975
## 5687                              start       8      1  4.846280975
## 5688                               stay       8      1  4.846280975
## 5689                             chance      14      2  4.961796708
## 5690                              crazy      20      3  5.012182750
## 5691                           politics      20      3  5.012182750
## 5692                               lyin      27      4  5.231405358
## 5693                         television      21      3  5.257005516
## 5694                             bought       9      1  5.416767383
## 5695                      establishment       9      1  5.416767383
## 5696                           fighting       9      1  5.416767383
## 5697                               guns       9      1  5.416767383
## 5698                            network       9      1  5.416767383
## 5699                             public       9      1  5.416767383
## 5700                          judgement      22      3  5.501858654
## 5701                           exciting      16      2  5.646882654
## 5702                     @foxandfriends      37      5  5.839892421
## 5703                            @amazon       3      0  5.985161550
## 5704                       @ariannahuff       3      0  5.985161550
## 5705                    @elizabethforma       3      0  5.985161550
## 5706                    @huffingtonpost       3      0  5.985161550
## 5707                   @kayleighmcenany       3      0  5.985161550
## 5708                    @mariabartiromo       3      0  5.985161550
## 5709                            @newday       3      0  5.985161550
## 5710                      @pennjillette       3      0  5.985161550
## 5711                        @sentedcruz       3      0  5.985161550
## 5712                               $430       3      0  5.985161550
## 5713                           admitted       3      0  5.985161550
## 5714                             advice       3      0  5.985161550
## 5715                             agenda       3      0  5.985161550
## 5716                              armed       3      0  5.985161550
## 5717                            barbara       3      0  5.985161550
## 5718                                beg       3      0  5.985161550
## 5719                           billions       3      0  5.985161550
## 5720                              blood       3      0  5.985161550
## 5721                    bobvanderplaats       3      0  5.985161550
## 5722                             boston       3      0  5.985161550
## 5723                               buzz       3      0  5.985161550
## 5724                           category       3      0  5.985161550
## 5725                          committed       3      0  5.985161550
## 5726                         confidence       3      0  5.985161550
## 5727                             covers       3      0  5.985161550
## 5728                            cutting       3      0  5.985161550
## 5729                        donaldtrump       3      0  5.985161550
## 5730                              doral       3      0  5.985161550
## 5731                             dumber       3      0  5.985161550
## 5732                               fees       3      0  5.985161550
## 5733                              fence       3      0  5.985161550
## 5734                               ford       3      0  5.985161550
## 5735                                 gq       3      0  5.985161550
## 5736                              havnt       3      0  5.985161550
## 5737                           historic       3      0  5.985161550
## 5738                            hitting       3      0  5.985161550
## 5739                               host       3      0  5.985161550
## 5740                       inaccurately       3      0  5.985161550
## 5741                            killers       3      0  5.985161550
## 5742                          knowingly       3      0  5.985161550
## 5743                               lane       3      0  5.985161550
## 5744                             levels       3      0  5.985161550
## 5745                              light       3      0  5.985161550
## 5746                              likes       3      0  5.985161550
## 5747                           likewise       3      0  5.985161550
## 5748                            lowlife       3      0  5.985161550
## 5749                            lyinted       3      0  5.985161550
## 5750                            margins       3      0  5.985161550
## 5751                       markhalperin       3      0  5.985161550
## 5752                     mathematically       3      0  5.985161550
## 5753                           meetings       3      0  5.985161550
## 5754                          mentioned       3      0  5.985161550
## 5755                              minds       3      0  5.985161550
## 5756                       misrepresent       3      0  5.985161550
## 5757                           monmouth       3      0  5.985161550
## 5758                             passed       3      0  5.985161550
## 5759                            pastors       3      0  5.985161550
## 5760                             picked       3      0  5.985161550
## 5761                             podium       3      0  5.985161550
## 5762                                pol       3      0  5.985161550
## 5763                          prisoners       3      0  5.985161550
## 5764                         productive       3      0  5.985161550
## 5765                          purposely       3      0  5.985161550
## 5766                              races       3      0  5.985161550
## 5767                         raisedgave       3      0  5.985161550
## 5768                           recieved       3      0  5.985161550
## 5769                            schultz       3      0  5.985161550
## 5770                        seanhannity       3      0  5.985161550
## 5771                             season       3      0  5.985161550
## 5772                          slaughter       3      0  5.985161550
## 5773                              stops       3      0  5.985161550
## 5774                         straighten       3      0  5.985161550
## 5775                           stronger       3      0  5.985161550
## 5776                            subject       3      0  5.985161550
## 5777                            suffers       3      0  5.985161550
## 5778                          surprised       3      0  5.985161550
## 5779                            syrians       3      0  5.985161550
## 5780                              treat       3      0  5.985161550
## 5781                          treatment       3      0  5.985161550
## 5782                               trip       3      0  5.985161550
## 5783                           vacation       3      0  5.985161550
## 5784                         wikileakes       3      0  5.985161550
## 5785                             wishes       3      0  5.985161550
## 5786                            wounded       3      0  5.985161550
## 5787                              youth       3      0  5.985161550
## 5788                            mexican      10      1  5.987324511
## 5789                             stated      10      1  5.987324511
## 5790                        @megynkelly      24      3  5.991656069
## 5791                          political      24      3  5.991656069
## 5792                               born      11      1  6.557952374
## 5793                             canada      11      1  6.557952374
## 5794                          lobbyists      11      1  6.557952374
## 5795                           reported      11      1  6.557952374
## 5796                        selffunding      11      1  6.557952374
## 5797                              spent      28      3  6.971615614
## 5798                         #demdebate       4      0  7.695684501
## 5799                            african       4      0  7.695684501
## 5800                              anger       4      0  7.695684501
## 5801                        anticipated       4      0  7.695684501
## 5802                          antitrump       4      0  7.695684501
## 5803                         apprentice       4      0  7.695684501
## 5804                             babies       4      0  7.695684501
## 5805                          baltimore       4      0  7.695684501
## 5806                               beck       4      0  7.695684501
## 5807                            billion       4      0  7.695684501
## 5808                              black       4      0  7.695684501
## 5809                              board       4      0  7.695684501
## 5810                            capitol       4      0  7.695684501
## 5811                                con       4      0  7.695684501
## 5812                            covered       4      0  7.695684501
## 5813                         criticized       4      0  7.695684501
## 5814                              death       4      0  7.695684501
## 5815                           decision       4      0  7.695684501
## 5816                          destroyed       4      0  7.695684501
## 5817                               died       4      0  7.695684501
## 5818                             double       4      0  7.695684501
## 5819                          expensive       4      0  7.695684501
## 5820                             finish       4      0  7.695684501
## 5821                               flag       4      0  7.695684501
## 5822                           football       4      0  7.695684501
## 5823                             forced       4      0  7.695684501
## 5824                            germany       4      0  7.695684501
## 5825                              heads       4      0  7.695684501
## 5826                               hell       4      0  7.695684501
## 5827                               hits       4      0  7.695684501
## 5828                               khan       4      0  7.695684501
## 5829                               kids       4      0  7.695684501
## 5830                              level       4      0  7.695684501
## 5831                            missing       4      0  7.695684501
## 5832                           mistakes       4      0  7.695684501
## 5833                         morningjoe       4      0  7.695684501
## 5834                              panel       4      0  7.695684501
## 5835                              picks       4      0  7.695684501
## 5836                           pressure       4      0  7.695684501
## 5837                           progress       4      0  7.695684501
## 5838                             pushed       4      0  7.695684501
## 5839                               quit       4      0  7.695684501
## 5840                            soundly       4      0  7.695684501
## 5841                          stupidity       4      0  7.695684501
## 5842                           unfairly       4      0  7.695684501
## 5843                                uss       4      0  7.695684501
## 5844                            vicious       4      0  7.695684501
## 5845                            viewers       4      0  7.695684501
## 5846                               wise       4      0  7.695684501
## 5847                                wsj       4      0  7.695684501
## 5848                               dead      13      1  7.699420353
## 5849                             senate      13      1  7.699420353
## 5850                              badly      34      3  8.442467399
## 5851                              china      15      1  8.841171425
## 5852                               joke      15      1  8.841171425
## 5853                       @cnnpolitics       5      0  9.406419432
## 5854                           $6000000       5      0  9.406419432
## 5855                          attacking       5      0  9.406419432
## 5856                              audit       5      0  9.406419432
## 5857                             bombed       5      0  9.406419432
## 5858                               card       5      0  9.406419432
## 5859                           champion       5      0  9.406419432
## 5860                        commercials       5      0  9.406419432
## 5861                         constantly       5      0  9.406419432
## 5862                             crimea       5      0  9.406419432
## 5863                              field       5      0  9.406419432
## 5864                         frankluntz       5      0  9.406419432
## 5865                               held       5      0  9.406419432
## 5866                               koch       5      0  9.406419432
## 5867                               loss       5      0  9.406419432
## 5868                        negotiators       5      0  9.406419432
## 5869                           opposite       5      0  9.406419432
## 5870                           returned       5      0  9.406419432
## 5871                             sleepy       5      0  9.406419432
## 5872                           socalled       5      0  9.406419432
## 5873                            trouble       5      0  9.406419432
## 5874                               usag       5      0  9.406419432
## 5875                            writing       5      0  9.406419432
## 5876                                 vp      16      1  9.412153155
## 5877                               paid      17      1  9.983205697
## 5878                              @cnbc       6      0 11.117366383
## 5879                          @donlemon       6      0 11.117366383
## 5880                              daily       6      0 11.117366383
## 5881                           democrat       6      0 11.117366383
## 5882                            divided       6      0 11.117366383
## 5883                            eastern       6      0 11.117366383
## 5884                            michael       6      0 11.117366383
## 5885                            protest       6      0 11.117366383
## 5886                            smarter       6      0 11.117366383
## 5887                        temperament       6      0 11.117366383
## 5888                            leading      19      1 11.125523272
## 5889                               @gma       7      0 12.828525393
## 5890                           $1000000       7      0 12.828525393
## 5891                                 $s       7      0 12.828525393
## 5892                                1st       7      0 12.828525393
## 5893                           onesided       7      0 12.828525393
## 5894                          primaries       7      0 12.828525393
## 5895                           southern       7      0 12.828525393
## 5896                              talks       7      0 12.828525393
## 5897                                 pm      38      2 13.194057931
## 5898                         enthusiasm       8      0 14.539896502
## 5899                             george       8      0 14.539896502
## 5900                            puppets       8      0 14.539896502
## 5901                            sources       8      0 14.539896502
## 5902                             brexit       9      0 16.251479748
## 5903                             defend       9      0 16.251479748
## 5904                              funny       9      0 16.251479748
## 5905                            playing       9      0 16.251479748
## 5906                               pols       9      0 16.251479748
## 5907                             stupid       9      0 16.251479748
## 5908                           @cbsnews      10      0 17.963275173
## 5909                              angry      10      0 17.963275173
## 5910                             bosses      10      0 17.963275173
## 5911                              write      10      0 17.963275173
## 5912                          turnberry      11      0 19.675282814
## 5913                             poorly      12      0 21.387502712
## 5914                               poor      13      0 23.099934906&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Given that several of these words are overall low frequency words, we can impose a filter based on the total frequency like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% filter(Android+iPhone &amp;gt; 100) %&amp;gt;%
  arrange(desc(or))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                      word Android iPhone          or
## 1                    @cnn      90     17 4.440177264
## 2                     bad     104     26 3.386533952
## 3                 crooked     156     49 2.719434849
## 4             interviewed      76     25 2.572055391
## 5                   media      76     25 2.572055391
## 6                     ted      84     28 2.542685288
## 7                     win      74     28 2.240380737
## 8                 hillary     289    116 2.144860377
## 9                  debate      79     32 2.096540149
## 10                   cruz     113     46 2.094308464
## 11              president      82     35 1.991734675
## 12               @foxnews      71     35 1.724988663
## 13                 people     194    109 1.524787926
## 14                  night      69     39 1.506315727
## 15                country      66     38 1.478562644
## 16                amazing      66     42 1.339014516
## 17                   time      78     54 1.232454924
## 18                  crowd      60     43 1.189666071
## 19                clinton     136    101 1.150927098
## 20                  enjoy      68     51 1.137642369
## 21                   poll     116    101 0.981067331
## 22                  trump     104     91 0.976171191
## 23                   iowa      61     65 0.801908338
## 24                tonight      70     84 0.711975848
## 25                america     114    140 0.694505648
## 26                   vote      46     67 0.587722041
## 27               tomorrow      24     99 0.209295337
## 28                   join       1    157 0.008049441
## 29             #trump2016       3    411 0.007055789
## 30 #makeamericagreatagain       0    294 0.001420463&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% filter(Android+iPhone &amp;gt; 100) %&amp;gt;%
  arrange(or)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                      word Android iPhone          or
## 1  #makeamericagreatagain       0    294 0.001420463
## 2              #trump2016       3    411 0.007055789
## 3                    join       1    157 0.008049441
## 4                tomorrow      24     99 0.209295337
## 5                    vote      46     67 0.587722041
## 6                 america     114    140 0.694505648
## 7                 tonight      70     84 0.711975848
## 8                    iowa      61     65 0.801908338
## 9                   trump     104     91 0.976171191
## 10                   poll     116    101 0.981067331
## 11                  enjoy      68     51 1.137642369
## 12                clinton     136    101 1.150927098
## 13                  crowd      60     43 1.189666071
## 14                   time      78     54 1.232454924
## 15                amazing      66     42 1.339014516
## 16                country      66     38 1.478562644
## 17                  night      69     39 1.506315727
## 18                 people     194    109 1.524787926
## 19               @foxnews      71     35 1.724988663
## 20              president      82     35 1.991734675
## 21                   cruz     113     46 2.094308464
## 22                 debate      79     32 2.096540149
## 23                hillary     289    116 2.144860377
## 24                    win      74     28 2.240380737
## 25                    ted      84     28 2.542685288
## 26            interviewed      76     25 2.572055391
## 27                  media      76     25 2.572055391
## 28                crooked     156     49 2.719434849
## 29                    bad     104     26 3.386533952
## 30                   @cnn      90     17 4.440177264&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We already see somewhat of a pattern in the types of words that are being tweeted more from one device versus the other. However, we are not interested in specific words but rather in the tone. Vaziri’s assertion is that the Android tweets are more hyperbolic. So how can we check this with data? &lt;em&gt;Hyperbolic&lt;/em&gt; is a hard sentiment to extract from words as it relies on interpreting phrases. However, words can be associated to more basic sentiment such as anger, fear, joy, and surprise. In the next section, we demonstrate basic sentiment analysis.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;sentiment-analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Sentiment analysis&lt;/h2&gt;
&lt;p&gt;In sentiment analysis, we assign a word to one or more “sentiments”. Although this approach will miss context-dependent sentiments, such as sarcasm, when performed on large numbers of words, summaries can provide insights.&lt;/p&gt;
&lt;p&gt;The first step in sentiment analysis is to assign a sentiment to each word. As we demonstrate, the &lt;strong&gt;tidytext&lt;/strong&gt; package includes several maps or lexicons. We will also be using the &lt;strong&gt;textdata&lt;/strong&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidytext)
library(textdata)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;bing&lt;/code&gt; lexicon divides words into &lt;code&gt;positive&lt;/code&gt; and &lt;code&gt;negative&lt;/code&gt; sentiments. We can see this using the &lt;em&gt;tidytext&lt;/em&gt; function &lt;code&gt;get_sentiments&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_sentiments(&amp;quot;bing&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;AFINN&lt;/code&gt; lexicon assigns a score between -5 and 5, with -5 the most negative and 5 the most positive. Note that this lexicon needs to be downloaded the first time you call the function &lt;code&gt;get_sentiment&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_sentiments(&amp;quot;afinn&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;loughran&lt;/code&gt; and &lt;code&gt;nrc&lt;/code&gt; lexicons provide several different sentiments. Note that these also have to be downloaded the first time you use them.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_sentiments(&amp;quot;loughran&amp;quot;) %&amp;gt;% count(sentiment)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 2
##   sentiment        n
##   &amp;lt;chr&amp;gt;        &amp;lt;int&amp;gt;
## 1 constraining   184
## 2 litigious      904
## 3 negative      2355
## 4 positive       354
## 5 superfluous     56
## 6 uncertainty    297&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_sentiments(&amp;quot;nrc&amp;quot;) %&amp;gt;% count(sentiment)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 x 2
##    sentiment        n
##    &amp;lt;chr&amp;gt;        &amp;lt;int&amp;gt;
##  1 anger         1247
##  2 anticipation   839
##  3 disgust       1058
##  4 fear          1476
##  5 joy            689
##  6 negative      3324
##  7 positive      2312
##  8 sadness       1191
##  9 surprise       534
## 10 trust         1231&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For our analysis, we are interested in exploring the different sentiments of each tweet so we will use the &lt;code&gt;nrc&lt;/code&gt; lexicon:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nrc &amp;lt;- get_sentiments(&amp;quot;nrc&amp;quot;) %&amp;gt;%
  select(word, sentiment)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can combine the words and sentiments using &lt;code&gt;inner_join&lt;/code&gt;, which will only keep words associated with a sentiment. Here are 10 random words extracted from the tweets:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tweet_words %&amp;gt;% inner_join(nrc, by = &amp;quot;word&amp;quot;) %&amp;gt;%
  select(source, word, sentiment) %&amp;gt;%
  sample_n(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    source     word    sentiment
## 1  iPhone  failing         fear
## 2 Android    proud        trust
## 3 Android     time anticipation
## 4  iPhone horrible      disgust
## 5 Android  failing        anger&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we are ready to perform a quantitative analysis comparing Android and iPhone by comparing the sentiments of the tweets posted from each device. Here we could perform a tweet-by-tweet analysis, assigning a sentiment to each tweet. However, this will be challenging since each tweet will have several sentiments attached to it, one for each word appearing in the lexicon. For illustrative purposes, we will perform a much simpler analysis: we will count and compare the frequencies of each sentiment appearing in each device.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sentiment_counts &amp;lt;- tweet_words %&amp;gt;%
  left_join(nrc, by = &amp;quot;word&amp;quot;) %&amp;gt;%
  count(source, sentiment) %&amp;gt;%
  spread(source, n) %&amp;gt;%
  mutate(sentiment = replace_na(sentiment, replace = &amp;quot;none&amp;quot;))
sentiment_counts&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       sentiment Android iPhone
## 1         anger     958    528
## 2  anticipation     910    715
## 3       disgust     638    322
## 4          fear     795    486
## 5           joy     688    535
## 6      negative    1641    929
## 7      positive    1806   1473
## 8       sadness     894    515
## 9      surprise     518    365
## 10        trust    1236    990
## 11         none   11904  10766&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For each sentiment, we can compute the odds of being in the device: proportion of words with sentiment versus proportion of words without, and then compute the odds ratio comparing the two devices.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sentiment_counts %&amp;gt;%
  mutate(Android = Android / (sum(Android) - Android) ,
         iPhone = iPhone / (sum(iPhone) - iPhone),
         or = Android/iPhone) %&amp;gt;%
  arrange(desc(or))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       sentiment    Android     iPhone        or
## 1       disgust 0.02988290 0.01861057 1.6056957
## 2         anger 0.04555397 0.03088442 1.4749823
## 3      negative 0.08065071 0.05564540 1.4493688
## 4       sadness 0.04238172 0.03010112 1.4079783
## 5          fear 0.03751239 0.02835803 1.3228133
## 6      surprise 0.02412669 0.02114839 1.1408288
## 7           joy 0.03230047 0.03130669 1.0317434
## 8  anticipation 0.04317298 0.04228517 1.0209956
## 9         trust 0.05956052 0.05951665 1.0007371
## 10     positive 0.08948568 0.09120178 0.9811835
## 11         none 1.18048393 1.56984544 0.7519746&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So we do see some differences and the order is interesting: the largest three sentiments are disgust, anger, and negative! But are these differences just due to chance? How does this compare if we are just assigning sentiments at random? To answer this question we can compute, for each sentiment, an odds ratio and a confidence interval, as defined in Section &lt;a href=&#34;#association-tests&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;. We will add the two values we need to form a two-by-two table and the odds ratio:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(broom)
log_or &amp;lt;- sentiment_counts %&amp;gt;%
  mutate(log_or = log((Android / (sum(Android) - Android)) /
      (iPhone / (sum(iPhone) - iPhone))),
          se = sqrt(1/Android + 1/(sum(Android) - Android) +
                      1/iPhone + 1/(sum(iPhone) - iPhone)),
          conf.low = log_or - qnorm(0.975)*se,
          conf.high = log_or + qnorm(0.975)*se) %&amp;gt;%
  arrange(desc(log_or))

log_or&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       sentiment Android iPhone        log_or         se     conf.low
## 1       disgust     638    322  0.4735570999 0.06912035  0.338083695
## 2         anger     958    528  0.3886460226 0.05517087  0.280513101
## 3      negative    1641    929  0.3711281448 0.04236574  0.288092813
## 4       sadness     894    515  0.3421548755 0.05626874  0.231870166
## 5          fear     795    486  0.2797607725 0.05848940  0.165123653
## 6      surprise     518    365  0.1317550233 0.06909953 -0.003677571
## 7           joy     688    535  0.0312500000 0.05855009 -0.083506063
## 8  anticipation     910    715  0.0207782389 0.05103024 -0.079239194
## 9         trust    1236    990  0.0007368608 0.04390294 -0.085311327
## 10     positive    1806   1473 -0.0189958333 0.03666144 -0.090850937
## 11         none   11904  10766 -0.2850526973 0.02053953 -0.325309446
##      conf.high
## 1   0.60903050
## 2   0.49677894
## 3   0.45416348
## 4   0.45243958
## 5   0.39439789
## 6   0.26718762
## 7   0.14600606
## 8   0.12079567
## 9   0.08678505
## 10  0.05285927
## 11 -0.24479595&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A graphical visualization shows some sentiments that are clearly overrepresented:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log_or %&amp;gt;%
  mutate(sentiment = reorder(sentiment, log_or)) %&amp;gt;%
  ggplot(aes(x = sentiment, ymin = conf.low, ymax = conf.high)) +
  geom_errorbar() +
  geom_point(aes(sentiment, log_or)) +
  ylab(&amp;quot;Log odds ratio for association between Android and sentiment&amp;quot;) +
  coord_flip()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/13-content_files/figure-html/tweets-log-odds-ratio-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that the disgust, anger, negative, sadness, and fear sentiments are associated with the Android in a way that is hard to explain by chance alone. Words not associated to a sentiment were strongly associated with the iPhone source, which is in agreement with the original claim about hyperbolic tweets.&lt;/p&gt;
&lt;p&gt;If we are interested in exploring which specific words are driving these differences, we can refer back to our &lt;code&gt;android_iphone_or&lt;/code&gt; object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% inner_join(nrc) %&amp;gt;%
  filter(sentiment == &amp;quot;disgust&amp;quot; &amp;amp; Android + iPhone &amp;gt; 10) %&amp;gt;%
  arrange(desc(or))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = &amp;quot;word&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         word Android iPhone        or sentiment
## 1       mess      13      2 4.6193174   disgust
## 2    finally      12      2 4.2768806   disgust
## 3     unfair      12      2 4.2768806   disgust
## 4        bad     104     26 3.3865340   disgust
## 5   terrible      31      8 3.1722813   disgust
## 6        lie      12      3 3.0546933   disgust
## 7      lying       9      3 2.3211353   disgust
## 8      waste      12      5 1.9436140   disgust
## 9    illegal      32     14 1.9179329   disgust
## 10     phony      20      9 1.8457906   disgust
## 11  pathetic      11      5 1.7880140   disgust
## 12     nasty      13      6 1.7761455   disgust
## 13  horrible      14      7 1.6533329   disgust
## 14  disaster      21     11 1.5990305   disgust
## 15   winning      14      9 1.3050736   disgust
## 16      liar       6      5 1.0103035   disgust
## 17      john      24     21 0.9741134   disgust
## 18 dishonest      36     32 0.9599928   disgust
## 19     dying       6      6 0.8548102   disgust
## 20 terrorism       9      9 0.8547832   disgust&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we can make a graph:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;android_iphone_or %&amp;gt;% inner_join(nrc, by = &amp;quot;word&amp;quot;) %&amp;gt;%
  mutate(sentiment = factor(sentiment, levels = log_or$sentiment)) %&amp;gt;%
  mutate(log_or = log(or)) %&amp;gt;%
  filter(Android + iPhone &amp;gt; 10 &amp;amp; abs(log_or)&amp;gt;1) %&amp;gt;%
  mutate(word = reorder(word, log_or)) %&amp;gt;%
  ggplot(aes(word, log_or, fill = log_or &amp;lt; 0)) +
  facet_wrap(~sentiment, scales = &amp;quot;free_x&amp;quot;, nrow = 2) +
  geom_bar(stat=&amp;quot;identity&amp;quot;, show.legend = FALSE) +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/13-content_files/figure-html/log-odds-by-word-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is just a simple example of the many analyses one can perform with tidytext.
To learn more, we again recommend the Tidy Text Mining book&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Project Gutenberg is a digital archive of public domain books. The R package &lt;strong&gt;gutenbergr&lt;/strong&gt; facilitates the importation of these texts into R.&lt;/p&gt;
&lt;p&gt;You can install and load by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;gutenbergr&amp;quot;)
library(gutenbergr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see the books that are available like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gutenberg_metadata&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Use &lt;code&gt;str_detect&lt;/code&gt; to find the ID of the novel &lt;em&gt;Pride and Prejudice&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We notice that there are several versions. The &lt;code&gt;gutenberg_works()&lt;/code&gt; function filters this table to remove replicates and include only English language works. Read the help file and use this function to find the ID for &lt;em&gt;Pride and Prejudice&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the &lt;code&gt;gutenberg_download&lt;/code&gt; function to download the text for Pride and Prejudice. Save it to an object called &lt;code&gt;book&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the &lt;strong&gt;tidytext&lt;/strong&gt; package to create a tidy table with all the words in the text. Save the table in an object called &lt;code&gt;words&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We will later make a plot of sentiment versus location in the book. For this, it will be useful to add a column with the word number to the table.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove the stop words and numbers from the &lt;code&gt;words&lt;/code&gt; object. Hint: use the &lt;code&gt;anti_join&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the &lt;code&gt;AFINN&lt;/code&gt; lexicon to assign a sentiment value to each word.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make a plot of sentiment score versus location in the book and add a smoother.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assume there are 300 words per page. Convert the locations to pages and then compute the average sentiment in each page. Plot that average score by page. Add a smoother that appears to go through data.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://twitter.com/tvaziri/status/762005541388378112/photo/1&#34; class=&#34;uri&#34;&gt;https://twitter.com/tvaziri/status/762005541388378112/photo/1&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://varianceexplained.org/r/trump-tweets/&#34; class=&#34;uri&#34;&gt;http://varianceexplained.org/r/trump-tweets/&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.tidytextmining.com/&#34; class=&#34;uri&#34;&gt;https://www.tidytextmining.com/&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.tidytextmining.com/&#34; class=&#34;uri&#34;&gt;https://www.tidytextmining.com/&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Text as Data</title>
      <link>/content/12-content/</link>
      <pubDate>Tue, 01 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/content/12-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#string-processing&#34;&gt;String processing&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#stringr&#34;&gt;The stringr package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-1-us-murders-data&#34;&gt;Case study 1: US murders data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-2-self-reported-heights&#34;&gt;Case study 2: self-reported heights&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#how-to-escape-when-defining-strings&#34;&gt;How to &lt;em&gt;escape&lt;/em&gt; when defining strings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#regular-expressions&#34;&gt;Regular expressions&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#strings-are-a-regexp&#34;&gt;Strings are a regexp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#special-characters&#34;&gt;Special characters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#character-classes&#34;&gt;Character classes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#anchors&#34;&gt;Anchors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#quantifiers&#34;&gt;Quantifiers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#white-space-s&#34;&gt;White space &lt;code&gt;\s&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#quantifiers-1&#34;&gt;Quantifiers: &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;?&lt;/code&gt;, &lt;code&gt;+&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#not&#34;&gt;Not&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#groups&#34;&gt;Groups&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#search-and-replace-with-regex&#34;&gt;Search and replace with regex&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#search-and-replace-using-groups&#34;&gt;Search and replace using groups&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#testing-and-improving&#34;&gt;Testing and improving&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#trimming&#34;&gt;Trimming&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#changing-lettercase&#34;&gt;Changing lettercase&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-2-self-reported-heights-continued&#34;&gt;Case study 2: self-reported heights (continued)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#the-extract-function&#34;&gt;The &lt;code&gt;extract&lt;/code&gt; function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#putting-it-all-together&#34;&gt;Putting it all together&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#string-splitting&#34;&gt;String splitting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-3-extracting-tables-from-a-pdf&#34;&gt;Case study 3: extracting tables from a PDF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#recode&#34;&gt;Recoding&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#web-scraping&#34;&gt;Web scraping&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#html&#34;&gt;HTML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-rvest-package&#34;&gt;The rvest package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#css-selectors&#34;&gt;CSS selectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#json&#34;&gt;JSON&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;What are some common issues with string data?&lt;/li&gt;
&lt;li&gt;What are the key ways to wrangle strings?&lt;/li&gt;
&lt;li&gt;What are &lt;em&gt;regular expressions&lt;/em&gt; and why are they magic&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;string-processing&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;String processing&lt;/h1&gt;
&lt;p&gt;One of the most common data wrangling challenges involves extracting numeric data contained in character strings and converting them into the numeric representations required to make plots, compute summaries, or fit models in R. Also common is processing unorganized text into meaningful variable names or categorical variables. Many of the string processing challenges a data scientist faces are unique and often unexpected. It is therefore quite ambitious to write a comprehensive section on this topic. Here we use a series of case studies that help us demonstrate how string processing is a necessary step for many data wrangling challenges. Specifically, we describe the process of converting the not yet shown original &lt;em&gt;raw&lt;/em&gt; data from which we extracted the &lt;code&gt;murders&lt;/code&gt;, &lt;code&gt;heights&lt;/code&gt;, and &lt;code&gt;research_funding_rates&lt;/code&gt; example into the data frames we have studied in this book.&lt;/p&gt;
&lt;p&gt;By going over these case studies, we will cover some of the most common tasks in string processing including
extracting numbers from strings,
removing unwanted characters from text,
finding and replacing characters,
extracting specific parts of strings,
converting free form text to more uniform formats, and
splitting strings into multiple values.&lt;/p&gt;
&lt;p&gt;Base R includes functions to perform all these tasks. However, they don’t follow a unifying convention, which makes them a bit hard to memorize and use. The &lt;strong&gt;stringr&lt;/strong&gt; package basically repackages this functionality, but uses a more consistent approach of naming functions and ordering their arguments. For example, in &lt;strong&gt;stringr&lt;/strong&gt;, all the string processing functions start with &lt;code&gt;str_&lt;/code&gt;. This means that if you type &lt;code&gt;str_&lt;/code&gt; and hit tab, R will auto-complete and show all the available functions. As a result, we don’t necessarily have to memorize all the function names. Another advantage is that in the functions in this package the string being processed is always the first argument, which means we can more easily use the pipe. Therefore, we will start by describing how to use the functions in the &lt;strong&gt;stringr&lt;/strong&gt; package.&lt;/p&gt;
&lt;p&gt;Most of the examples will come from the second case study which deals with self-reported heights by students and most of the chapter is dedicated to learning regular expressions (regex), and functions in the &lt;strong&gt;stringr&lt;/strong&gt; package.&lt;/p&gt;
&lt;div id=&#34;stringr&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The stringr package&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(stringr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In general, string processing tasks can be divided into &lt;strong&gt;detecting&lt;/strong&gt;, &lt;strong&gt;locating&lt;/strong&gt;, &lt;strong&gt;extracting&lt;/strong&gt;, or &lt;strong&gt;replacing&lt;/strong&gt; patterns in strings. We will see several examples. The table below includes the functions available to you in the &lt;strong&gt;stringr&lt;/strong&gt; package. We split them by task. We also include the R-base equivalent when available.&lt;/p&gt;
&lt;p&gt;All these functions take a character vector as first argument. Also, for each function, operations are vectorized: the operation gets applied to each string in the vector.&lt;/p&gt;
&lt;p&gt;Finally, note that in this table we mention &lt;em&gt;groups&lt;/em&gt;. These will be explained in Section &lt;a href=&#34;#groups&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;19%&#34; /&gt;
&lt;col width=&#34;13%&#34; /&gt;
&lt;col width=&#34;50%&#34; /&gt;
&lt;col width=&#34;17%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;stringr&lt;/th&gt;
&lt;th&gt;Task&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;R-base&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_detect&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Detect&lt;/td&gt;
&lt;td&gt;Is the pattern in the string?&lt;/td&gt;
&lt;td&gt;&lt;code&gt;grepl&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_which&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Detect&lt;/td&gt;
&lt;td&gt;Returns the index of entries that contain the pattern.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;grep&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_subset&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Detect&lt;/td&gt;
&lt;td&gt;Returns the subset of strings that contain the pattern.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;grep&lt;/code&gt; with &lt;code&gt;value = TRUE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_locate&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locate&lt;/td&gt;
&lt;td&gt;Returns positions of first occurrence of pattern in a string.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;regexpr&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_locate_all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locate&lt;/td&gt;
&lt;td&gt;Returns position of all occurrences of pattern in a string.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;gregexpr&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_view&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locate&lt;/td&gt;
&lt;td&gt;Show the first part of the string that matches pattern.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_view_all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locate&lt;/td&gt;
&lt;td&gt;Show me all the parts of the string that match the pattern.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_extract&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Extract the first part of the string that matches the pattern.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_extract_all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Extract all parts of the string that match the pattern.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_match&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Extract first part of the string that matches the groups and the patterns defined by the groups.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_match_all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Extract all parts of the string that matches the groups and the patterns defined by the groups.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_sub&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Extract a substring.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;substring&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_split&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Split a string into a list with parts separated by pattern.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;strsplit&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_split_fixed&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Extract&lt;/td&gt;
&lt;td&gt;Split a string into a matrix with parts separated by pattern.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;strsplit&lt;/code&gt; with &lt;code&gt;fixed = TRUE&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_count&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Describe&lt;/td&gt;
&lt;td&gt;Count number of times a pattern appears in a string.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_length&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Describe&lt;/td&gt;
&lt;td&gt;Number of character in string.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;nchar&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_replace&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Replace first part of a string matching a pattern with another.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_replace_all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Replace all parts of a string matching a pattern with another.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;gsub&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_to_upper&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Change all characters to upper case.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;toupper&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_to_lower&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Change all characters to lower case.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;tolower&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_to_title&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Change first character to upper and rest to lower.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_replace_na&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Replace all &lt;code&gt;NA&lt;/code&gt;s to a new value.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_trim&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;Remove white space from start and end of string.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_c&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Join multiple strings.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;paste0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_conv&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Change the encoding of the string.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_sort&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Sort the vector in alphabetical order.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;sort&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_order&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Index needed to order the vector in alphabetical order.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;order&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_trunc&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Truncate a string to a fixed size.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_pad&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Add white space to string to make it a fixed size.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_dup&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Repeat a string.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;rep&lt;/code&gt; then &lt;code&gt;paste&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;str_wrap&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;Wrap things into formatted paragraphs.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;str_interp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Manipulate&lt;/td&gt;
&lt;td&gt;String interpolation.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;sprintf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-1-us-murders-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study 1: US murders data&lt;/h2&gt;
&lt;p&gt;In this section we introduce some of the more simple string processing challenges with the following datasets as an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(rvest)
url &amp;lt;- paste0(&amp;quot;https://en.wikipedia.org/w/index.php?title=&amp;quot;,
              &amp;quot;Gun_violence_in_the_United_States_by_state&amp;quot;,
              &amp;quot;&amp;amp;direction=prev&amp;amp;oldid=810166167&amp;quot;)
murders_raw &amp;lt;- read_html(url) %&amp;gt;%
  html_node(&amp;quot;table&amp;quot;) %&amp;gt;%
  html_table() %&amp;gt;%
  setNames(c(&amp;quot;state&amp;quot;, &amp;quot;population&amp;quot;, &amp;quot;total&amp;quot;, &amp;quot;murder_rate&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The code above shows the first step in constructing the dataset&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;from the raw data, which was extracted from a Wikipedia page.&lt;/p&gt;
&lt;p&gt;In general, string processing involves a string and a pattern. In R, we usually store strings in a character vector such as &lt;code&gt;murders$population&lt;/code&gt;. The first three strings in this vector defined by the population variable are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders_raw$population[1:3]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;4,853,875&amp;quot; &amp;quot;737,709&amp;quot;   &amp;quot;6,817,565&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The usual coercion does not work here:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.numeric(murders_raw$population[1:3])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: NAs introduced by coercion&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] NA NA NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is because of the commas &lt;code&gt;,&lt;/code&gt;. The string processing we want to do here is remove the &lt;strong&gt;pattern&lt;/strong&gt;, &lt;code&gt;,&lt;/code&gt;, from the &lt;strong&gt;strings&lt;/strong&gt; in &lt;code&gt;murders_raw$population&lt;/code&gt; and then coerce to numbers.
We can use the &lt;code&gt;str_detect&lt;/code&gt; function to see that two of the three columns have commas in the entries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;commas &amp;lt;- function(x) any(str_detect(x, &amp;quot;,&amp;quot;))
murders_raw %&amp;gt;% summarize_all(commas)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   state population total murder_rate
## 1 FALSE       TRUE  TRUE       FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then use the &lt;code&gt;str_replace_all&lt;/code&gt; function to remove them:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_1 &amp;lt;- str_replace_all(murders_raw$population, &amp;quot;,&amp;quot;, &amp;quot;&amp;quot;)
test_1 &amp;lt;- as.numeric(test_1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then use &lt;code&gt;mutate_all&lt;/code&gt; to apply this operation to each column, since it won’t affect the columns without commas.&lt;/p&gt;
&lt;p&gt;It turns out that this operation is so common that &lt;code&gt;readr&lt;/code&gt; includes the function &lt;code&gt;parse_number&lt;/code&gt; specifically meant to remove non-numeric characters before coercing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_2 &amp;lt;- parse_number(murders_raw$population)
identical(test_1, test_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So we can obtain our desired table using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders_new &amp;lt;- murders_raw %&amp;gt;% mutate_at(2:3, parse_number)
head(murders_new)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population total murder_rate
## 1    Alabama    4853875   348         7.2
## 2     Alaska     737709    59         8.0
## 3    Arizona    6817565   309         4.5
## 4   Arkansas    2977853   181         6.1
## 5 California   38993940  1861         4.8
## 6   Colorado    5448819   176         3.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This case is relatively simple compared to the string processing challenges that we typically face in data science. The next example is a rather complex one and it provides several challenges that will permit us to learn many string processing techniques.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-2-self-reported-heights&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study 2: self-reported heights&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;dslabs&lt;/strong&gt; package includes the raw data from which the heights dataset was obtained. You can load it like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(reported_heights)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These heights were obtained using a web form in which students were asked to enter their heights. They could enter anything, but the instructions asked for &lt;em&gt;height in inches&lt;/em&gt;, a number. We compiled 1,095 submissions, but unfortunately the column vector with the reported heights had several non-numeric entries and as a result became a character vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(reported_heights$height)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;character&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we try to parse it into numbers, we get a warning:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- as.numeric(reported_heights$height)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: NAs introduced by coercion&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although most values appear to be height in inches as requested:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 75 70 68 74 61 65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we do end up with many &lt;code&gt;NA&lt;/code&gt;s:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum(is.na(x))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 81&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see some of the entries that are not successfully converted by using &lt;code&gt;filter&lt;/code&gt; to keep only the entries resulting in &lt;code&gt;NA&lt;/code&gt;s:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;reported_heights %&amp;gt;%
  mutate(new_height = as.numeric(height)) %&amp;gt;%
  filter(is.na(new_height)) %&amp;gt;%
  head(n=10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##             time_stamp    sex                 height new_height
## 1  2014-09-02 15:16:28   Male                  5&amp;#39; 4&amp;quot;         NA
## 2  2014-09-02 15:16:37 Female                  165cm         NA
## 3  2014-09-02 15:16:52   Male                    5&amp;#39;7         NA
## 4  2014-09-02 15:16:56   Male                  &amp;gt;9000         NA
## 5  2014-09-02 15:16:56   Male                   5&amp;#39;7&amp;quot;         NA
## 6  2014-09-02 15:17:09 Female                   5&amp;#39;3&amp;quot;         NA
## 7  2014-09-02 15:18:00   Male 5 feet and 8.11 inches         NA
## 8  2014-09-02 15:19:48   Male                   5&amp;#39;11         NA
## 9  2014-09-04 00:46:45   Male                  5&amp;#39;9&amp;#39;&amp;#39;         NA
## 10 2014-09-04 10:29:44   Male                 5&amp;#39;10&amp;#39;&amp;#39;         NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We immediately see what is happening. Some of the students did not report their heights in inches as requested. We could discard these data and continue. However, many of the entries follow patterns that, in principle, we can easily convert to inches. For example, in the output above, we see various cases that use the format &lt;code&gt;x&#39;y&#39;&#39;&lt;/code&gt; with &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; representing feet and inches, respectively. Each one of these cases can be read and converted to inches by a human, for example &lt;code&gt;5&#39;4&#39;&#39;&lt;/code&gt; is &lt;code&gt;5*12 + 4 = 64&lt;/code&gt;. So we could fix all the problematic entries &lt;em&gt;by hand&lt;/em&gt;. However, humans are prone to making mistakes, so an automated approach is preferable. Also, because we plan on continuing to collect data, it will be convenient to write code that automatically does this.&lt;/p&gt;
&lt;p&gt;A first step in this type of task is to survey the problematic entries and try to define specific patterns followed by a large groups of entries. The larger these groups, the more entries we can fix with a single programmatic approach. We want to find patterns that can be accurately described with a rule, such as “a digit, followed by a feet symbol, followed by one or two digits, followed by an inches symbol”.&lt;/p&gt;
&lt;p&gt;To look for such patterns, it helps to remove the entries that are consistent with being in inches and to view only the problematic entries. We thus write a function to automatically do this. We keep entries that either result in &lt;code&gt;NA&lt;/code&gt;s when applying &lt;code&gt;as.numeric&lt;/code&gt; or are outside a range of plausible heights. We permit a range that covers about 99.9999% of the adult population. We also use &lt;code&gt;suppressWarnings&lt;/code&gt; to avoid the warning message we know &lt;code&gt;as.numeric&lt;/code&gt; will gives us.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;not_inches &amp;lt;- function(x, smallest = 50, tallest = 84){
  inches &amp;lt;- suppressWarnings(as.numeric(x))
  ind &amp;lt;- is.na(inches) | inches &amp;lt; smallest | inches &amp;gt; tallest
  ind
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We apply this function and find the number of problematic entries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;problems &amp;lt;- reported_heights %&amp;gt;%
  filter(not_inches(height)) %&amp;gt;%
  pull(height)
length(problems)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 292&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now view all the cases by simply printing them. We don’t do that here because there are &lt;code&gt;length(problems)&lt;/code&gt;, but after surveying them carefully, we see that three patterns can be used to define three large groups within these exceptions.&lt;/p&gt;
&lt;p&gt;1. A pattern of the form &lt;code&gt;x&#39;y&lt;/code&gt; or &lt;code&gt;x&#39; y&#39;&#39;&lt;/code&gt; or &lt;code&gt;x&#39;y&#34;&lt;/code&gt; with &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; representing feet and inches, respectively. Here are ten examples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 5&amp;#39; 4&amp;quot; 5&amp;#39;7 5&amp;#39;7&amp;quot; 5&amp;#39;3&amp;quot; 5&amp;#39;11 5&amp;#39;9&amp;#39;&amp;#39; 5&amp;#39;10&amp;#39;&amp;#39; 5&amp;#39; 10 5&amp;#39;5&amp;quot; 5&amp;#39;2&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2. A pattern of the form &lt;code&gt;x.y&lt;/code&gt; or &lt;code&gt;x,y&lt;/code&gt; with &lt;code&gt;x&lt;/code&gt; feet and &lt;code&gt;y&lt;/code&gt; inches. Here are ten examples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 5.3 5.5 6.5 5.8 5.6 5,3 5.9 6,8 5.5 6.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3. Entries that were reported in centimeters rather than inches. Here are ten examples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 150 175 177 178 163 175 178 165 165 180&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once we see these large groups following specific patterns, we can develop a plan of attack. Remember that there is rarely just one way to perform these tasks. Here we pick one that helps us teach several useful techniques. But surely there is a more efficient way of performing the task.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Plan of attack&lt;/strong&gt;: we will convert entries fitting the first two patterns into a standardized one. We will then leverage the standardization to extract the feet and inches and convert to inches. We will then define a procedure for identifying entries that are in centimeters and convert them to inches. After applying these steps, we will then check again to see what entries were not fixed and see if we can tweak our approach to be more comprehensive.&lt;/p&gt;
&lt;p&gt;At the end, we hope to have a script that makes web-based data collection methods robust to the most common user mistakes.&lt;/p&gt;
&lt;p&gt;To achieve our goal, we will use a technique that enables us to accurately detect patterns and extract the parts we want: &lt;em&gt;regular expressions&lt;/em&gt; (regex). But first, we quickly describe how to &lt;em&gt;escape&lt;/em&gt; the function of certain characters so that they can be included in strings.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-to-escape-when-defining-strings&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How to &lt;em&gt;escape&lt;/em&gt; when defining strings&lt;/h2&gt;
&lt;p&gt;To define strings in R, we can use either double quotes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;Hello!&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or single quotes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;#39;Hello!&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Make sure you choose the correct single quote since using the back quote will give you an error:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- `Hello`&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Error: object &amp;#39;Hello&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, what happens if the string we want to define includes double quotes? For example, if we want to write 10 inches like this &lt;code&gt;10&#34;&lt;/code&gt;?
In this case you can’t use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;10&amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;because this is just the string &lt;code&gt;10&lt;/code&gt; followed by a double quote. If you type this into R, you get an error because you have an &lt;em&gt;unclosed&lt;/em&gt; double quote. To avoid this, we can use the single quotes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;#39;10&amp;quot;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we print out &lt;code&gt;s&lt;/code&gt; we see that the double quotes are &lt;em&gt;escaped&lt;/em&gt; with the backslash &lt;code&gt;\&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;10\&amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In fact, escaping with the backslash provides a way to define the string while still using the double quotes to define strings:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;10\&amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In R, the function &lt;code&gt;cat&lt;/code&gt; lets us see what the string actually looks like:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cat(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 10&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, what if we want our string to be 5 feet written like this &lt;code&gt;5&#39;&lt;/code&gt;? In this case, we can use the double quotes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;5&amp;#39;&amp;quot;
cat(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 5&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So we’ve learned how to write 5 feet and 10 inches separately, but what if we want to write them together to represent &lt;em&gt;5 feet and 10 inches&lt;/em&gt; like this &lt;code&gt;5&#39;10&#34;&lt;/code&gt;? In this case, neither the single nor double quotes will work. This:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;#39;5&amp;#39;10&amp;quot;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;closes the string after 5 and this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;5&amp;#39;10&amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;closes the string after 10. Keep in mind that if we type one of the above code snippets into R, it will get stuck waiting for you to close the open quote and you will have to exit the execution with the &lt;em&gt;esc&lt;/em&gt; button.&lt;/p&gt;
&lt;p&gt;In this situation, we need to escape the function of the quotes with the backslash &lt;code&gt;\&lt;/code&gt;. You can escape either character like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;#39;5\&amp;#39;10&amp;quot;&amp;#39;
cat(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 5&amp;#39;10&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;5&amp;#39;10\&amp;quot;&amp;quot;
cat(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 5&amp;#39;10&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Escaping characters is something we often have to use when processing strings.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;regular-expressions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Regular expressions&lt;/h2&gt;
&lt;p&gt;A regular expression (regex) is a way to describe specific patterns of characters of text. They can be used to determine if a given string matches the pattern. A set of rules has been defined to do this efficiently and precisely and here we show some examples. We can learn more about these rules by reading a detailed tutorials&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; &lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. This RStudio cheat sheet&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; is also very useful.&lt;/p&gt;
&lt;p&gt;The patterns supplied to the &lt;strong&gt;stringr&lt;/strong&gt; functions can be a regex rather than a standard string. We will learn how this works through a series of examples.&lt;/p&gt;
&lt;p&gt;Throughout this section you will see that we create strings to test out our regex. To do this, we define patterns that we know should match and also patterns that we know should not. We will call them &lt;code&gt;yes&lt;/code&gt; and &lt;code&gt;no&lt;/code&gt;, respectively. This permits us to check for the two types of errors: failing to match and incorrectly matching.&lt;/p&gt;
&lt;div id=&#34;strings-are-a-regexp&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Strings are a regexp&lt;/h3&gt;
&lt;p&gt;Technically any string is a regex, perhaps the simplest example is a single character. So the comma &lt;code&gt;,&lt;/code&gt; used in the next code example is a simple example of searching with regex.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;,&amp;quot;
str_detect(murders_raw$total, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We suppress the output which is logical vector telling us which entries have commas.&lt;/p&gt;
&lt;p&gt;Above, we noted that an entry included a &lt;code&gt;cm&lt;/code&gt;. This is also a simple example of a regex. We can show all the entries that used &lt;code&gt;cm&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_subset(reported_heights$height, &amp;quot;cm&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;165cm&amp;quot;  &amp;quot;170 cm&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;special-characters&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Special characters&lt;/h3&gt;
&lt;p&gt;Now let’s consider a slightly more complicated example. Which of the following strings contain the pattern &lt;code&gt;cm&lt;/code&gt; or &lt;code&gt;inches&lt;/code&gt;?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;180 cm&amp;quot;, &amp;quot;70 inches&amp;quot;)
no &amp;lt;- c(&amp;quot;180&amp;quot;, &amp;quot;70&amp;#39;&amp;#39;&amp;quot;)
s &amp;lt;- c(yes, no)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(s, &amp;quot;cm&amp;quot;) | str_detect(s, &amp;quot;inches&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, we don’t need to do this. The main feature that distinguishes the regex &lt;em&gt;language&lt;/em&gt; from plain strings is that we can use special characters. These are characters with a meaning. We start by introducing &lt;code&gt;|&lt;/code&gt; which means &lt;em&gt;or&lt;/em&gt;. So if we want to know if either &lt;code&gt;cm&lt;/code&gt; or &lt;code&gt;inches&lt;/code&gt; appears in the strings, we can use the regex &lt;code&gt;cm|inches&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(s, &amp;quot;cm|inches&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and obtain the correct answer.&lt;/p&gt;
&lt;p&gt;Another special character that will be useful for identifying feet and inches values is &lt;code&gt;\d&lt;/code&gt; which means any digit: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. The backslash is used to distinguish it from the character &lt;code&gt;d&lt;/code&gt;. In R, we have to &lt;em&gt;escape&lt;/em&gt; the backslash &lt;code&gt;\&lt;/code&gt; so we actually have to use &lt;code&gt;\\d&lt;/code&gt; to represent digits. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;5&amp;quot;, &amp;quot;6&amp;quot;, &amp;quot;5&amp;#39;10&amp;quot;, &amp;quot;5 feet&amp;quot;, &amp;quot;4&amp;#39;11&amp;quot;)
no &amp;lt;- c(&amp;quot;&amp;quot;, &amp;quot;.&amp;quot;, &amp;quot;Five&amp;quot;, &amp;quot;six&amp;quot;)
s &amp;lt;- c(yes, no)
pattern &amp;lt;- &amp;quot;\\d&amp;quot;
str_detect(s, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We take this opportunity to introduce the &lt;code&gt;str_view&lt;/code&gt; function, which is helpful for troubleshooting as it shows us the first match for each string:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(s, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-1.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;and &lt;code&gt;str_view_all&lt;/code&gt; shows us all the matches, so &lt;code&gt;3&#39;2&lt;/code&gt; has two matches and &lt;code&gt;5&#39;10&lt;/code&gt; has three.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view_all(s, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-2.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There are many other special characters. We will learn some others below, but you can see most or all of them in the cheat sheet&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt; mentioned earlier.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;character-classes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Character classes&lt;/h3&gt;
&lt;p&gt;Character classes are used to define a series of characters that can be matched. We define character classes with square brackets &lt;code&gt;[]&lt;/code&gt;. So, for example, if we want the pattern to match only if we have a &lt;code&gt;5&lt;/code&gt; or a &lt;code&gt;6&lt;/code&gt;, we use the regex &lt;code&gt;[56]&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(s, &amp;quot;[56]&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-3.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Suppose we want to match values between 4 and 7. A common way to define character classes is with ranges. So, for example, &lt;code&gt;[0-9]&lt;/code&gt; is equivalent to &lt;code&gt;\\d&lt;/code&gt;. The pattern we want is therefore &lt;code&gt;[4-7]&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- as.character(4:7)
no &amp;lt;- as.character(1:3)
s &amp;lt;- c(yes, no)
str_detect(s, &amp;quot;[4-7]&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, it is important to know that in regex everything is a character; there are no numbers. So &lt;code&gt;4&lt;/code&gt; is the character &lt;code&gt;4&lt;/code&gt; not the number four. Notice, for example, that &lt;code&gt;[1-20]&lt;/code&gt; does &lt;strong&gt;not&lt;/strong&gt; mean 1 through 20, it means the characters 1 through 2 or the character 0. So &lt;code&gt;[1-20]&lt;/code&gt; simply means the character class composed of 0, 1, and 2.&lt;/p&gt;
&lt;p&gt;Keep in mind that characters do have an order and the digits do follow the numeric order. So &lt;code&gt;0&lt;/code&gt; comes before &lt;code&gt;1&lt;/code&gt; which comes before &lt;code&gt;2&lt;/code&gt; and so on. For the same reason, we can define lower case letters as &lt;code&gt;[a-z]&lt;/code&gt;, upper case letters as &lt;code&gt;[A-Z]&lt;/code&gt;, and &lt;code&gt;[a-zA-z]&lt;/code&gt; as both.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;anchors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Anchors&lt;/h3&gt;
&lt;p&gt;What if we want a match when we have exactly 1 digit? This will be useful in our case study since feet are never more than 1 digit so a restriction will help us. One way to do this with regex is by using &lt;em&gt;anchors&lt;/em&gt;, which let us define patterns that must start or end at a specific place. The two most common anchors are
&lt;code&gt;^&lt;/code&gt; and &lt;code&gt;$&lt;/code&gt; which represent the beginning and end of a string, respectively. So the pattern &lt;code&gt;^\\d$&lt;/code&gt; is read as “start of the string followed by one digit followed by end of string”.&lt;/p&gt;
&lt;p&gt;This pattern now only detects the strings with exactly one digit:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^\\d$&amp;quot;
yes &amp;lt;- c(&amp;quot;1&amp;quot;, &amp;quot;5&amp;quot;, &amp;quot;9&amp;quot;)
no &amp;lt;- c(&amp;quot;12&amp;quot;, &amp;quot;123&amp;quot;, &amp;quot; 1&amp;quot;, &amp;quot;a4&amp;quot;, &amp;quot;b&amp;quot;)
s &amp;lt;- c(yes, no)
str_view_all(s, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-4.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;1&lt;/code&gt; does not match because it does not start with the digit but rather with a space, which is actually not easy to see.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;quantifiers&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Quantifiers&lt;/h3&gt;
&lt;p&gt;For the inches part, we can have one or two digits. This can be specified in regex with &lt;em&gt;quantifiers&lt;/em&gt;. This is done by following the pattern with curly brackets containing the number of times the previous entry can be repeated. We use an example to illustrate. The pattern for one or two digits is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^\\d{1,2}$&amp;quot;
yes &amp;lt;- c(&amp;quot;1&amp;quot;, &amp;quot;5&amp;quot;, &amp;quot;9&amp;quot;, &amp;quot;12&amp;quot;)
no &amp;lt;- c(&amp;quot;123&amp;quot;, &amp;quot;a4&amp;quot;, &amp;quot;b&amp;quot;)
str_view(c(yes, no), pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-5.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, &lt;code&gt;123&lt;/code&gt; does &lt;strong&gt;not&lt;/strong&gt; match, but &lt;code&gt;12&lt;/code&gt; does. So to look for our feet and inches pattern, we can add the symbols for feet &lt;code&gt;&#39;&lt;/code&gt; and inches &lt;code&gt;&#34;&lt;/code&gt; after the digits.&lt;/p&gt;
&lt;p&gt;With what we have learned, we can now construct an example for the pattern &lt;code&gt;x&#39;y\&#34;&lt;/code&gt; with &lt;code&gt;x&lt;/code&gt; feet and &lt;code&gt;y&lt;/code&gt; inches.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^[4-7]&amp;#39;\\d{1,2}\&amp;quot;$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The pattern is now getting complex, but you can look at it carefully and break it down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; = start of the string&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[4-7]&lt;/code&gt; = one digit, either 4,5,6 or 7&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;&lt;/code&gt; = feet symbol&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\\d{1,2}&lt;/code&gt; = one or two digits&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&#34;&lt;/code&gt; = inches symbol&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt; = end of the string&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s test it out:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;5&amp;#39;7\&amp;quot;&amp;quot;, &amp;quot;6&amp;#39;2\&amp;quot;&amp;quot;,  &amp;quot;5&amp;#39;12\&amp;quot;&amp;quot;)
no &amp;lt;- c(&amp;quot;6,2\&amp;quot;&amp;quot;, &amp;quot;6.2\&amp;quot;&amp;quot;,&amp;quot;I am 5&amp;#39;11\&amp;quot;&amp;quot;, &amp;quot;3&amp;#39;2\&amp;quot;&amp;quot;, &amp;quot;64&amp;quot;)
str_detect(yes, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE TRUE TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(no, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE FALSE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For now, we are permitting the inches to be 12 or larger. We will add a restriction later as the regex for this is a bit more complex than we are ready to show.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;white-space-s&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;White space &lt;code&gt;\s&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Another problem we have are spaces. For example, our pattern does not match &lt;code&gt;5&#39; 4&#34;&lt;/code&gt; because there is a space between &lt;code&gt;&#39;&lt;/code&gt; and &lt;code&gt;4&lt;/code&gt; which our pattern does not permit. Spaces are characters and R does not ignore them:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;identical(&amp;quot;Hi&amp;quot;, &amp;quot;Hi &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In regex, &lt;code&gt;\s&lt;/code&gt; represents white space. To find patterns like &lt;code&gt;5&#39; 4&lt;/code&gt;, we can change our pattern to:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern_2 &amp;lt;- &amp;quot;^[4-7]&amp;#39;\\s\\d{1,2}\&amp;quot;$&amp;quot;
str_subset(problems, pattern_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5&amp;#39; 4\&amp;quot;&amp;quot;  &amp;quot;5&amp;#39; 11\&amp;quot;&amp;quot; &amp;quot;5&amp;#39; 7\&amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, this will not match the patterns with no space. So do we need more than one regex pattern? It turns out we can use a quantifier for this as well.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;quantifiers-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Quantifiers: &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;?&lt;/code&gt;, &lt;code&gt;+&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;We want the pattern to permit spaces but not require them. Even if there are several spaces, like in this example &lt;code&gt;5&#39;   4&lt;/code&gt;, we still want it to match. There is a quantifier for exactly this purpose. In regex, the character &lt;code&gt;*&lt;/code&gt; means zero or more instances of the previous character. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;AB&amp;quot;, &amp;quot;A1B&amp;quot;, &amp;quot;A11B&amp;quot;, &amp;quot;A111B&amp;quot;, &amp;quot;A1111B&amp;quot;)
no &amp;lt;- c(&amp;quot;A2B&amp;quot;, &amp;quot;A21B&amp;quot;)
str_detect(yes, &amp;quot;A1*B&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE TRUE TRUE TRUE TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(no, &amp;quot;A1*B&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above matches the first string which has zero 1s and all the strings with one or more 1. We can then improve our pattern by adding the &lt;code&gt;*&lt;/code&gt; after the space character &lt;code&gt;\s&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are two other similar quantifiers. For none or once, we can use &lt;code&gt;?&lt;/code&gt;, and for one or more, we can use &lt;code&gt;+&lt;/code&gt;. You can see how they differ with this example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data.frame(string = c(&amp;quot;AB&amp;quot;, &amp;quot;A1B&amp;quot;, &amp;quot;A11B&amp;quot;, &amp;quot;A111B&amp;quot;, &amp;quot;A1111B&amp;quot;),
           none_or_more = str_detect(yes, &amp;quot;A1*B&amp;quot;),
           nore_or_once = str_detect(yes, &amp;quot;A1?B&amp;quot;),
           once_or_more = str_detect(yes, &amp;quot;A1+B&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   string none_or_more nore_or_once once_or_more
## 1     AB         TRUE         TRUE        FALSE
## 2    A1B         TRUE         TRUE         TRUE
## 3   A11B         TRUE        FALSE         TRUE
## 4  A111B         TRUE        FALSE         TRUE
## 5 A1111B         TRUE        FALSE         TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will actually use all three in our reported heights example, but we will see these in a later section.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;not&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Not&lt;/h3&gt;
&lt;p&gt;To specify patterns that we do &lt;strong&gt;not&lt;/strong&gt; want to detect, we can use the &lt;code&gt;^&lt;/code&gt; symbol but only &lt;strong&gt;inside&lt;/strong&gt; square brackets. Remember that outside the square bracket &lt;code&gt;^&lt;/code&gt; means the start of the string. So, for example, if we want to detect digits that are preceded by anything except a letter we can do the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;[^a-zA-Z]\\d&amp;quot;
yes &amp;lt;- c(&amp;quot;.3&amp;quot;, &amp;quot;+2&amp;quot;, &amp;quot;-0&amp;quot;,&amp;quot;*4&amp;quot;)
no &amp;lt;- c(&amp;quot;A3&amp;quot;, &amp;quot;B2&amp;quot;, &amp;quot;C0&amp;quot;, &amp;quot;E4&amp;quot;)
str_detect(yes, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE TRUE TRUE TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(no, pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another way to generate a pattern that searches for &lt;em&gt;everything except&lt;/em&gt; is to use the upper case of the special character. For example &lt;code&gt;\\D&lt;/code&gt; means anything other than a digit, &lt;code&gt;\\S&lt;/code&gt; means anything except a space, and so on.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;groups&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Groups&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Groups&lt;/em&gt; are a powerful aspect of regex that permits the extraction of values. Groups are defined using parentheses. They don’t affect the pattern matching per se. Instead, it permits tools to identify specific parts of the pattern so we can extract them.&lt;/p&gt;
&lt;p&gt;We want to change heights written like &lt;code&gt;5.6&lt;/code&gt; to &lt;code&gt;5&#39;6&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To avoid changing patterns such as &lt;code&gt;70.2&lt;/code&gt;, we will require that the first digit be between 4 and 7 &lt;code&gt;[4-7]&lt;/code&gt; and that the second be none or more digits &lt;code&gt;\\d*&lt;/code&gt;.
Let’s start by defining a simple pattern that matches this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern_without_groups &amp;lt;- &amp;quot;^[4-7],\\d*$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We want to extract the digits so we can then form the new version using a period. These are our two groups, so we encapsulate them with parentheses:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern_with_groups &amp;lt;-  &amp;quot;^([4-7]),(\\d*)$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We encapsulate the part of the pattern that matches the parts we want to keep for later use. Adding groups does not affect the detection, since it only signals that we want to save what is captured by the groups. Note that both patterns return the same result when using &lt;code&gt;str_detect&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;5,9&amp;quot;, &amp;quot;5,11&amp;quot;, &amp;quot;6,&amp;quot;, &amp;quot;6,1&amp;quot;)
no &amp;lt;- c(&amp;quot;5&amp;#39;9&amp;quot;, &amp;quot;,&amp;quot;, &amp;quot;2,8&amp;quot;, &amp;quot;6.1.1&amp;quot;)
s &amp;lt;- c(yes, no)
str_detect(s, pattern_without_groups)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(s, pattern_with_groups)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once we define groups, we can use the function &lt;code&gt;str_match&lt;/code&gt; to extract the values these groups define:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_match(s, pattern_with_groups)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1]   [,2] [,3]
## [1,] &amp;quot;5,9&amp;quot;  &amp;quot;5&amp;quot;  &amp;quot;9&amp;quot; 
## [2,] &amp;quot;5,11&amp;quot; &amp;quot;5&amp;quot;  &amp;quot;11&amp;quot;
## [3,] &amp;quot;6,&amp;quot;   &amp;quot;6&amp;quot;  &amp;quot;&amp;quot;  
## [4,] &amp;quot;6,1&amp;quot;  &amp;quot;6&amp;quot;  &amp;quot;1&amp;quot; 
## [5,] NA     NA   NA  
## [6,] NA     NA   NA  
## [7,] NA     NA   NA  
## [8,] NA     NA   NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that the second and third columns contain feet and inches, respectively. The first column is the part of the string matching the pattern. If no match occurred, we see an &lt;code&gt;NA&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now we can understand the difference between the functions &lt;code&gt;str_extract&lt;/code&gt; and &lt;code&gt;str_match&lt;/code&gt;: &lt;code&gt;str_extract&lt;/code&gt; extracts only strings that match a pattern, not the values defined by groups:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_extract(s, pattern_with_groups)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5,9&amp;quot;  &amp;quot;5,11&amp;quot; &amp;quot;6,&amp;quot;   &amp;quot;6,1&amp;quot;  NA     NA     NA     NA&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;search-and-replace-with-regex&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Search and replace with regex&lt;/h2&gt;
&lt;p&gt;Earlier we defined the object &lt;code&gt;problems&lt;/code&gt; containing the strings that do not appear to be in inches. We can see that not too many of our problematic strings match the pattern:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^[4-7]&amp;#39;\\d{1,2}\&amp;quot;$&amp;quot;
sum(str_detect(problems, pattern))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 14&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see why this is, we show some examples that expose why we don’t have more matches:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;problems[c(2, 10, 11, 12, 15)] %&amp;gt;% str_view(pattern)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/str_view-6.png&#34; /&gt;
An initial problem we see immediately is that some students wrote out the words “feet” and “inches”. We can see the entries that did this with the &lt;code&gt;str_subset&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_subset(problems, &amp;quot;inches&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5 feet and 8.11 inches&amp;quot; &amp;quot;Five foot eight inches&amp;quot; &amp;quot;5 feet 7inches&amp;quot;        
## [4] &amp;quot;5ft 9 inches&amp;quot;           &amp;quot;5 ft 9 inches&amp;quot;          &amp;quot;5 feet 6 inches&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We also see that some entries used two single quotes &lt;code&gt;&#39;&#39;&lt;/code&gt; instead of a double quote &lt;code&gt;&#34;&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_subset(problems, &amp;quot;&amp;#39;&amp;#39;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;5&amp;#39;9&amp;#39;&amp;#39;&amp;quot;   &amp;quot;5&amp;#39;10&amp;#39;&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;10&amp;#39;&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;3&amp;#39;&amp;#39;&amp;quot;   &amp;quot;5&amp;#39;7&amp;#39;&amp;#39;&amp;quot;   &amp;quot;5&amp;#39;6&amp;#39;&amp;#39;&amp;quot;   &amp;quot;5&amp;#39;7.5&amp;#39;&amp;#39;&amp;quot;
##  [8] &amp;quot;5&amp;#39;7.5&amp;#39;&amp;#39;&amp;quot; &amp;quot;5&amp;#39;10&amp;#39;&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;11&amp;#39;&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;10&amp;#39;&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;5&amp;#39;&amp;#39;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To correct this, we can replace the different ways of representing inches and feet with a uniform symbol. We will use &lt;code&gt;&#39;&lt;/code&gt; for feet, whereas for inches we will simply not use a symbol since some entries were of the form &lt;code&gt;x&#39;y&lt;/code&gt;. Now, if we no longer use the inches symbol, we have to change our pattern accordingly:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^[4-7]&amp;#39;\\d{1,2}$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we do this replacement before the matching, we get many more matches:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;problems %&amp;gt;%
  str_replace(&amp;quot;feet|ft|foot&amp;quot;, &amp;quot;&amp;#39;&amp;quot;) %&amp;gt;% # replace feet, ft, foot with &amp;#39;
  str_replace(&amp;quot;inches|in|&amp;#39;&amp;#39;|\&amp;quot;&amp;quot;, &amp;quot;&amp;quot;) %&amp;gt;% # remove all inches symbols
  str_detect(pattern) %&amp;gt;%
  sum()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 48&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, we still have many cases to go.&lt;/p&gt;
&lt;p&gt;Note that in the code above, we leveraged the &lt;strong&gt;stringr&lt;/strong&gt; consistency and used the pipe.&lt;/p&gt;
&lt;p&gt;For now, we improve our pattern by adding &lt;code&gt;\\s*&lt;/code&gt; in front of and after the feet symbol &lt;code&gt;&#39;&lt;/code&gt; to permit space between the feet symbol and the numbers. Now we match a few more entries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^[4-7]\\s*&amp;#39;\\s*\\d{1,2}$&amp;quot;
problems %&amp;gt;%
  str_replace(&amp;quot;feet|ft|foot&amp;quot;, &amp;quot;&amp;#39;&amp;quot;) %&amp;gt;% # replace feet, ft, foot with &amp;#39;
  str_replace(&amp;quot;inches|in|&amp;#39;&amp;#39;|\&amp;quot;&amp;quot;, &amp;quot;&amp;quot;) %&amp;gt;% # remove all inches symbols
  str_detect(pattern) %&amp;gt;%
  sum&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 53&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We might be tempted to avoid doing this by removing all the spaces with &lt;code&gt;str_replace_all&lt;/code&gt;. However, when doing such an operation we need to make sure that it does not have unintended effects. In our reported heights examples, this will be a problem because some entries are of the form &lt;code&gt;x y&lt;/code&gt; with space separating the feet from the inches. If we remove all spaces, we will incorrectly turn &lt;code&gt;x y&lt;/code&gt; into &lt;code&gt;xy&lt;/code&gt; which implies that a &lt;code&gt;6 1&lt;/code&gt; would become &lt;code&gt;61&lt;/code&gt; inches instead of &lt;code&gt;73&lt;/code&gt; inches.&lt;/p&gt;
&lt;p&gt;The second large type of problematic entries were of the form &lt;code&gt;x.y&lt;/code&gt;, &lt;code&gt;x,y&lt;/code&gt; and &lt;code&gt;x y&lt;/code&gt;. We want to change all these to our common format &lt;code&gt;x&#39;y&lt;/code&gt;. But we can’t just do a search and replace because we would change values such as &lt;code&gt;70.5&lt;/code&gt; into &lt;code&gt;70&#39;5&lt;/code&gt;.
Our strategy will therefore be to search for a very specific pattern that assures us feet and inches are being provided and then, for those that match, replace appropriately.&lt;/p&gt;
&lt;div id=&#34;search-and-replace-using-groups&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Search and replace using groups&lt;/h3&gt;
&lt;p&gt;Another powerful aspect of groups is that you can refer to the extracted values in a regex when searching and replacing.&lt;/p&gt;
&lt;p&gt;The regex special character for the &lt;code&gt;i&lt;/code&gt;-th group is &lt;code&gt;\\i&lt;/code&gt;. So &lt;code&gt;\\1&lt;/code&gt; is the value extracted from the first group, &lt;code&gt;\\2&lt;/code&gt; the value from the second and so on. As a simple example, note that the following code will replace a comma with period, but only if it is between two digits:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern_with_groups &amp;lt;-  &amp;quot;^([4-7]),(\\d*)$&amp;quot;
yes &amp;lt;- c(&amp;quot;5,9&amp;quot;, &amp;quot;5,11&amp;quot;, &amp;quot;6,&amp;quot;, &amp;quot;6,1&amp;quot;)
no &amp;lt;- c(&amp;quot;5&amp;#39;9&amp;quot;, &amp;quot;,&amp;quot;, &amp;quot;2,8&amp;quot;, &amp;quot;6.1.1&amp;quot;)
s &amp;lt;- c(yes, no)
str_replace(s, pattern_with_groups, &amp;quot;\\1&amp;#39;\\2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5&amp;#39;9&amp;quot;   &amp;quot;5&amp;#39;11&amp;quot;  &amp;quot;6&amp;#39;&amp;quot;    &amp;quot;6&amp;#39;1&amp;quot;   &amp;quot;5&amp;#39;9&amp;quot;   &amp;quot;,&amp;quot;     &amp;quot;2,8&amp;quot;   &amp;quot;6.1.1&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can use this to convert cases in our reported heights.&lt;/p&gt;
&lt;p&gt;We are now ready to define a pattern that helps us convert all the &lt;code&gt;x.y&lt;/code&gt;, &lt;code&gt;x,y&lt;/code&gt; and &lt;code&gt;x y&lt;/code&gt; to our preferred format. We need to adapt &lt;code&gt;pattern_with_groups&lt;/code&gt; to be a bit more flexible and capture all the cases.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern_with_groups &amp;lt;-&amp;quot;^([4-7])\\s*[,\\.\\s+]\\s*(\\d*)$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s break this one down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; = start of the string&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[4-7]&lt;/code&gt; = one digit, either 4, 5, 6, or 7&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\\s*&lt;/code&gt; = none or more white space&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[,\\.\\s+]&lt;/code&gt; = feet symbol is either &lt;code&gt;,&lt;/code&gt;, &lt;code&gt;.&lt;/code&gt; or at least one space&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\\s*&lt;/code&gt; = none or more white space&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\\d*&lt;/code&gt; = none or more digits&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt; = end of the string&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can see that it appears to be working:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_subset(problems, pattern_with_groups) %&amp;gt;% head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5.3&amp;quot;  &amp;quot;5.25&amp;quot; &amp;quot;5.5&amp;quot;  &amp;quot;6.5&amp;quot;  &amp;quot;5.8&amp;quot;  &amp;quot;5.6&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and will be able to perform the search and replace:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_subset(problems, pattern_with_groups) %&amp;gt;%
  str_replace(pattern_with_groups, &amp;quot;\\1&amp;#39;\\2&amp;quot;) %&amp;gt;% head&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5&amp;#39;3&amp;quot;  &amp;quot;5&amp;#39;25&amp;quot; &amp;quot;5&amp;#39;5&amp;quot;  &amp;quot;6&amp;#39;5&amp;quot;  &amp;quot;5&amp;#39;8&amp;quot;  &amp;quot;5&amp;#39;6&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, we will deal with the inches-larger-than-twelve challenge later.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;testing-and-improving&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Testing and improving&lt;/h2&gt;
&lt;p&gt;Developing the right regex on the first try is often difficult. Trial and error is a common approach to finding the regex pattern that satisfies all desired conditions. In the previous sections, we have developed a powerful string processing technique that can help us catch many of the problematic entries. Here we will test our approach, search for further problems, and tweak our approach for possible improvements. Let’s write a function that captures all the entries that can’t be converted into numbers remembering that some are in centimeters (we will deal with those later):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;not_inches_or_cm &amp;lt;- function(x, smallest = 50, tallest = 84){
  inches &amp;lt;- suppressWarnings(as.numeric(x))
  ind &amp;lt;- !is.na(inches) &amp;amp;
    ((inches &amp;gt;= smallest &amp;amp; inches &amp;lt;= tallest) |
       (inches/2.54 &amp;gt;= smallest &amp;amp; inches/2.54 &amp;lt;= tallest))
  !ind
}

problems &amp;lt;- reported_heights %&amp;gt;%
  filter(not_inches_or_cm(height)) %&amp;gt;%
  pull(height)
length(problems)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 200&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s see what proportion of these fit our pattern after the processing steps we developed above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;converted &amp;lt;- problems %&amp;gt;%
  str_replace(&amp;quot;feet|foot|ft&amp;quot;, &amp;quot;&amp;#39;&amp;quot;) %&amp;gt;% # convert feet symbols to &amp;#39;
  str_replace(&amp;quot;inches|in|&amp;#39;&amp;#39;|\&amp;quot;&amp;quot;, &amp;quot;&amp;quot;) %&amp;gt;%  # remove inches symbols
  str_replace(&amp;quot;^([4-7])\\s*[,\\.\\s+]\\s*(\\d*)$&amp;quot;, &amp;quot;\\1&amp;#39;\\2&amp;quot;)# change format

pattern &amp;lt;- &amp;quot;^[4-7]\\s*&amp;#39;\\s*\\d{1,2}$&amp;quot;
index &amp;lt;- str_detect(converted, pattern)
mean(index)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.615&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note how we leveraged the pipe, one of the advantages of using &lt;strong&gt;stringr&lt;/strong&gt;. This last piece of code shows that we have matched well over half of the strings. Let’s examine the remaining cases:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;converted[!index]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;6&amp;quot;             &amp;quot;165cm&amp;quot;         &amp;quot;511&amp;quot;           &amp;quot;6&amp;quot;            
##  [5] &amp;quot;2&amp;quot;             &amp;quot;&amp;gt;9000&amp;quot;         &amp;quot;5 &amp;#39; and 8.11 &amp;quot; &amp;quot;11111&amp;quot;        
##  [9] &amp;quot;6&amp;quot;             &amp;quot;103.2&amp;quot;         &amp;quot;19&amp;quot;            &amp;quot;5&amp;quot;            
## [13] &amp;quot;300&amp;quot;           &amp;quot;6&amp;#39;&amp;quot;            &amp;quot;6&amp;quot;             &amp;quot;Five &amp;#39; eight &amp;quot;
## [17] &amp;quot;7&amp;quot;             &amp;quot;214&amp;quot;           &amp;quot;6&amp;quot;             &amp;quot;0.7&amp;quot;          
## [21] &amp;quot;6&amp;quot;             &amp;quot;2&amp;#39;33&amp;quot;          &amp;quot;612&amp;quot;           &amp;quot;1,70&amp;quot;         
## [25] &amp;quot;87&amp;quot;            &amp;quot;5&amp;#39;7.5&amp;quot;         &amp;quot;5&amp;#39;7.5&amp;quot;         &amp;quot;111&amp;quot;          
## [29] &amp;quot;5&amp;#39; 7.78&amp;quot;       &amp;quot;12&amp;quot;            &amp;quot;6&amp;quot;             &amp;quot;yyy&amp;quot;          
## [33] &amp;quot;89&amp;quot;            &amp;quot;34&amp;quot;            &amp;quot;25&amp;quot;            &amp;quot;6&amp;quot;            
## [37] &amp;quot;6&amp;quot;             &amp;quot;22&amp;quot;            &amp;quot;684&amp;quot;           &amp;quot;6&amp;quot;            
## [41] &amp;quot;1&amp;quot;             &amp;quot;1&amp;quot;             &amp;quot;6*12&amp;quot;          &amp;quot;87&amp;quot;           
## [45] &amp;quot;6&amp;quot;             &amp;quot;1.6&amp;quot;           &amp;quot;120&amp;quot;           &amp;quot;120&amp;quot;          
## [49] &amp;quot;23&amp;quot;            &amp;quot;1.7&amp;quot;           &amp;quot;6&amp;quot;             &amp;quot;5&amp;quot;            
## [53] &amp;quot;69&amp;quot;            &amp;quot;5&amp;#39; 9 &amp;quot;         &amp;quot;5 &amp;#39; 9 &amp;quot;        &amp;quot;6&amp;quot;            
## [57] &amp;quot;6&amp;quot;             &amp;quot;86&amp;quot;            &amp;quot;708,661&amp;quot;       &amp;quot;5 &amp;#39; 6 &amp;quot;       
## [61] &amp;quot;6&amp;quot;             &amp;quot;649,606&amp;quot;       &amp;quot;10000&amp;quot;         &amp;quot;1&amp;quot;            
## [65] &amp;quot;728,346&amp;quot;       &amp;quot;0&amp;quot;             &amp;quot;6&amp;quot;             &amp;quot;6&amp;quot;            
## [69] &amp;quot;6&amp;quot;             &amp;quot;100&amp;quot;           &amp;quot;88&amp;quot;            &amp;quot;6&amp;quot;            
## [73] &amp;quot;170 cm&amp;quot;        &amp;quot;7,283,465&amp;quot;     &amp;quot;5&amp;quot;             &amp;quot;5&amp;quot;            
## [77] &amp;quot;34&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Four clear patterns arise:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Many students measuring exactly 5 or 6 feet did not enter any inches, for example &lt;code&gt;6&#39;&lt;/code&gt;, and our pattern requires that inches be included.&lt;/li&gt;
&lt;li&gt;Some students measuring exactly 5 or 6 feet entered just that number.&lt;/li&gt;
&lt;li&gt;Some of the inches were entered with decimal points. For example &lt;code&gt;5&#39;7.5&#39;&#39;&lt;/code&gt;. Our pattern only looks for two digits.&lt;/li&gt;
&lt;li&gt;Some entries have spaces at the end, for example &lt;code&gt;5 &#39; 9&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Although not as common, we also see the following problems:&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Some entries are in meters and some of these use European decimals: &lt;code&gt;1.6&lt;/code&gt;, &lt;code&gt;1,70&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Two students added &lt;code&gt;cm&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A student spelled out the numbers: &lt;code&gt;Five foot eight inches&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It is not necessarily clear that it is worth writing code to handle these last three cases since they might be rare enough. However, some of them provide us with an opportunity to learn a few more regex techniques, so we will build a fix.&lt;/p&gt;
&lt;p&gt;For case 1, if we add a &lt;code&gt;&#39;0&lt;/code&gt; after the first digit, for example, convert all &lt;code&gt;6&lt;/code&gt; to &lt;code&gt;6&#39;0&lt;/code&gt;, then our previously defined pattern will match. This can be done using groups:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;5&amp;quot;, &amp;quot;6&amp;quot;, &amp;quot;5&amp;quot;)
no &amp;lt;- c(&amp;quot;5&amp;#39;&amp;quot;, &amp;quot;5&amp;#39;&amp;#39;&amp;quot;, &amp;quot;5&amp;#39;4&amp;quot;)
s &amp;lt;- c(yes, no)
str_replace(s, &amp;quot;^([4-7])$&amp;quot;, &amp;quot;\\1&amp;#39;0&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5&amp;#39;0&amp;quot; &amp;quot;6&amp;#39;0&amp;quot; &amp;quot;5&amp;#39;0&amp;quot; &amp;quot;5&amp;#39;&amp;quot;  &amp;quot;5&amp;#39;&amp;#39;&amp;quot; &amp;quot;5&amp;#39;4&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The pattern says it has to start (&lt;code&gt;^&lt;/code&gt;) with a digit between 4 and 7 and end there (&lt;code&gt;$&lt;/code&gt;). The parenthesis defines the group that we pass as &lt;code&gt;\\1&lt;/code&gt; to generate the replacement regex string.&lt;/p&gt;
&lt;p&gt;We can adapt this code slightly to handle the case 2 as well, which covers the entry &lt;code&gt;5&#39;&lt;/code&gt;. Note &lt;code&gt;5&#39;&lt;/code&gt; is left untouched. This is because the extra &lt;code&gt;&#39;&lt;/code&gt; makes the pattern not match since we have to end with a 5 or 6. We want to permit the 5 or 6 to be followed by 0 or 1 feet sign. So we can simply add &lt;code&gt;&#39;{0,1}&lt;/code&gt; after the &lt;code&gt;&#39;&lt;/code&gt; to do this. However, we can use the none or once special character &lt;code&gt;?&lt;/code&gt;. As we saw above, this is different from &lt;code&gt;*&lt;/code&gt; which is none or more. We now see that the fourth case is also converted:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_replace(s, &amp;quot;^([56])&amp;#39;?$&amp;quot;, &amp;quot;\\1&amp;#39;0&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5&amp;#39;0&amp;quot; &amp;quot;6&amp;#39;0&amp;quot; &amp;quot;5&amp;#39;0&amp;quot; &amp;quot;5&amp;#39;0&amp;quot; &amp;quot;5&amp;#39;&amp;#39;&amp;quot; &amp;quot;5&amp;#39;4&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we only permit 5 and 6, but not 4 and 7. This is because 5 and 6 feet tall is quite common, so we assume those that typed 5 or 6 really meant &lt;code&gt;60&lt;/code&gt; or &lt;code&gt;72&lt;/code&gt; inches. However, &lt;code&gt;4&lt;/code&gt; and &lt;code&gt;7&lt;/code&gt; feet tall are so rare that, although we accept &lt;code&gt;84&lt;/code&gt; as a valid entry, we assume &lt;code&gt;7&lt;/code&gt; was entered in error.&lt;/p&gt;
&lt;p&gt;We can use quantifiers to deal with &lt;strong&gt;case 3&lt;/strong&gt;. These entries are not matched because the inches include decimals and our pattern does not permit this. We need to allow the second group to include decimals not just digits. This means we must permit zero or one period &lt;code&gt;.&lt;/code&gt; then zero or more digits. So we will be using both &lt;code&gt;?&lt;/code&gt; and &lt;code&gt;*&lt;/code&gt;.
Also remember that, for this particular case, the period needs to be escaped since it is a special character (it means any character except line break). Here is a simple example of how we can use &lt;code&gt;*&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So we can adapt our pattern, currently &lt;code&gt;^[4-7]\\s*&#39;\\s*\\d{1,2}$&lt;/code&gt; to permit a decimal at the end:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^[4-7]\\s*&amp;#39;\\s*(\\d+\\.?\\d*)$&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Case 4, meters using commas, we can approach similarly to how we converted the &lt;code&gt;x.y&lt;/code&gt; to &lt;code&gt;x&#39;y&lt;/code&gt;. A difference is that we require that the first digit be 1 or 2:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yes &amp;lt;- c(&amp;quot;1,7&amp;quot;, &amp;quot;1, 8&amp;quot;, &amp;quot;2, &amp;quot; )
no &amp;lt;- c(&amp;quot;5,8&amp;quot;, &amp;quot;5,3,2&amp;quot;, &amp;quot;1.7&amp;quot;)
s &amp;lt;- c(yes, no)
str_replace(s, &amp;quot;^([12])\\s*,\\s*(\\d*)$&amp;quot;, &amp;quot;\\1\\.\\2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1.7&amp;quot;   &amp;quot;1.8&amp;quot;   &amp;quot;2.&amp;quot;    &amp;quot;5,8&amp;quot;   &amp;quot;5,3,2&amp;quot; &amp;quot;1.7&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will later check if the entries are meters using their numeric values. We will come back to the case study after introducing two widely used functions in string processing that will come in handy when developing our final solution for the self-reported heights.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;trimming&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Trimming&lt;/h2&gt;
&lt;p&gt;In general, spaces at the start or end of the string are uninformative.
These can be particularly deceptive because sometimes they can be hard to see:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- &amp;quot;Hi &amp;quot;
cat(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Hi&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;identical(s, &amp;quot;Hi&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is a general enough problem that there is a function dedicated to removing them:
&lt;code&gt;str_trim&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_trim(&amp;quot;5 &amp;#39; 9 &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;5 &amp;#39; 9&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;changing-lettercase&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Changing lettercase&lt;/h2&gt;
&lt;p&gt;Notice that regex is case sensitive. Often we want to match a word regardless of case. One approach to doing this is to first change everything to lower case and then proceeding ignoring case. As an example, note that one of the entries writes out numbers as words &lt;code&gt;Five foot eight inches&lt;/code&gt;. Although not efficient, we could add 13 extra &lt;code&gt;str_replace&lt;/code&gt; calls to convert &lt;code&gt;zero&lt;/code&gt; to &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;one&lt;/code&gt; to &lt;code&gt;1&lt;/code&gt;, and so on. To avoid having to write two separate operations for &lt;code&gt;Zero&lt;/code&gt; and &lt;code&gt;zero&lt;/code&gt;, &lt;code&gt;One&lt;/code&gt; and &lt;code&gt;one&lt;/code&gt;, etc., we can use the &lt;code&gt;str_to_lower&lt;/code&gt; function to make all works lower case first:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- c(&amp;quot;Five feet eight inches&amp;quot;)
str_to_lower(s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;five feet eight inches&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Other related functions are &lt;code&gt;str_to_upper&lt;/code&gt; and &lt;code&gt;str_to_title&lt;/code&gt;. We are now ready to define a procedure that converts all the problematic cases to inches.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-2-self-reported-heights-continued&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study 2: self-reported heights (continued)&lt;/h2&gt;
&lt;p&gt;We now put all of what we have learned together into a function that takes a string vector and tries to convert as many strings as possible to one format. We write a function that puts together what we have done above.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;convert_format &amp;lt;- function(s){
  s %&amp;gt;%
    str_replace(&amp;quot;feet|foot|ft&amp;quot;, &amp;quot;&amp;#39;&amp;quot;) %&amp;gt;%
    str_replace_all(&amp;quot;inches|in|&amp;#39;&amp;#39;|\&amp;quot;|cm|and&amp;quot;, &amp;quot;&amp;quot;) %&amp;gt;%
    str_replace(&amp;quot;^([4-7])\\s*[,\\.\\s+]\\s*(\\d*)$&amp;quot;, &amp;quot;\\1&amp;#39;\\2&amp;quot;) %&amp;gt;%
    str_replace(&amp;quot;^([56])&amp;#39;?$&amp;quot;, &amp;quot;\\1&amp;#39;0&amp;quot;) %&amp;gt;%
    str_replace(&amp;quot;^([12])\\s*,\\s*(\\d*)$&amp;quot;, &amp;quot;\\1\\.\\2&amp;quot;) %&amp;gt;%
    str_trim()
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also write a function that converts words to numbers:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(english)
words_to_numbers &amp;lt;- function(s){
  s &amp;lt;- str_to_lower(s)
  for(i in 0:11)
    s &amp;lt;- str_replace_all(s, words(i), as.character(i))
  s
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we can perform the above operation more efficiently with the function &lt;code&gt;recode&lt;/code&gt;, which we learn about in Section &lt;a href=&#34;#recode&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;.
Now we can see which problematic entries remain:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;converted &amp;lt;- problems %&amp;gt;% words_to_numbers() %&amp;gt;% convert_format()
remaining_problems &amp;lt;- converted[not_inches_or_cm(converted)]
pattern &amp;lt;- &amp;quot;^[4-7]\\s*&amp;#39;\\s*\\d+\\.?\\d*$&amp;quot;
index &amp;lt;- str_detect(remaining_problems, pattern)
remaining_problems[!index]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;511&amp;quot;       &amp;quot;2&amp;quot;         &amp;quot;&amp;gt;9000&amp;quot;     &amp;quot;11111&amp;quot;     &amp;quot;103.2&amp;quot;     &amp;quot;19&amp;quot;       
##  [7] &amp;quot;300&amp;quot;       &amp;quot;7&amp;quot;         &amp;quot;214&amp;quot;       &amp;quot;0.7&amp;quot;       &amp;quot;2&amp;#39;33&amp;quot;      &amp;quot;612&amp;quot;      
## [13] &amp;quot;1.70&amp;quot;      &amp;quot;87&amp;quot;        &amp;quot;111&amp;quot;       &amp;quot;12&amp;quot;        &amp;quot;yyy&amp;quot;       &amp;quot;89&amp;quot;       
## [19] &amp;quot;34&amp;quot;        &amp;quot;25&amp;quot;        &amp;quot;22&amp;quot;        &amp;quot;684&amp;quot;       &amp;quot;1&amp;quot;         &amp;quot;1&amp;quot;        
## [25] &amp;quot;6*12&amp;quot;      &amp;quot;87&amp;quot;        &amp;quot;1.6&amp;quot;       &amp;quot;120&amp;quot;       &amp;quot;120&amp;quot;       &amp;quot;23&amp;quot;       
## [31] &amp;quot;1.7&amp;quot;       &amp;quot;86&amp;quot;        &amp;quot;708,661&amp;quot;   &amp;quot;649,606&amp;quot;   &amp;quot;10000&amp;quot;     &amp;quot;1&amp;quot;        
## [37] &amp;quot;728,346&amp;quot;   &amp;quot;0&amp;quot;         &amp;quot;100&amp;quot;       &amp;quot;88&amp;quot;        &amp;quot;7,283,465&amp;quot; &amp;quot;34&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;apart from the cases reported as meters, which we will fix below, they all seem to be cases that are impossible to fix.&lt;/p&gt;
&lt;div id=&#34;the-extract-function&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The &lt;code&gt;extract&lt;/code&gt; function&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;extract&lt;/code&gt; function is a useful &lt;strong&gt;tidyverse&lt;/strong&gt; function for string processing that we will use in our final solution, so we introduce it here. In a previous section, we constructed a regex that lets us identify which elements of a character vector match the feet and inches pattern. However, we want to do more. We want to extract and save the feet and number values so that we can convert them to inches when appropriate.&lt;/p&gt;
&lt;p&gt;If we have a simpler case like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- c(&amp;quot;5&amp;#39;10&amp;quot;, &amp;quot;6&amp;#39;1&amp;quot;)
tab &amp;lt;- data.frame(x = s)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In Section &lt;a href=&#34;#separate&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we learned about the &lt;code&gt;separate&lt;/code&gt; function, which can be used to achieve our current goal:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab %&amp;gt;% separate(x, c(&amp;quot;feet&amp;quot;, &amp;quot;inches&amp;quot;), sep = &amp;quot;&amp;#39;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   feet inches
## 1    5     10
## 2    6      1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;extract&lt;/code&gt; function from the &lt;strong&gt;tidyr&lt;/strong&gt; package lets us use regex groups to extract the desired values. Here is the equivalent to the code above using &lt;code&gt;separate&lt;/code&gt; but using &lt;code&gt;extract&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyr)
tab %&amp;gt;% extract(x, c(&amp;quot;feet&amp;quot;, &amp;quot;inches&amp;quot;), regex = &amp;quot;(\\d)&amp;#39;(\\d{1,2})&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   feet inches
## 1    5     10
## 2    6      1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So why do we even need the new function &lt;code&gt;extract&lt;/code&gt;? We have seen how small changes can throw off exact pattern matching. Groups in regex give us more flexibility. For example, if we define:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- c(&amp;quot;5&amp;#39;10&amp;quot;, &amp;quot;6&amp;#39;1\&amp;quot;&amp;quot;,&amp;quot;5&amp;#39;8inches&amp;quot;)
tab &amp;lt;- data.frame(x = s)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we only want the numbers, &lt;code&gt;separate&lt;/code&gt; fails:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab %&amp;gt;% separate(x, c(&amp;quot;feet&amp;quot;,&amp;quot;inches&amp;quot;), sep = &amp;quot;&amp;#39;&amp;quot;, fill = &amp;quot;right&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   feet  inches
## 1    5      10
## 2    6      1&amp;quot;
## 3    5 8inches&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, we can use &lt;code&gt;extract&lt;/code&gt;. The regex here is a bit more complicated since we have to permit &lt;code&gt;&#39;&lt;/code&gt; with spaces and &lt;code&gt;feet&lt;/code&gt;. We also do not want the &lt;code&gt;&#34;&lt;/code&gt; included in the value, so we do not include that in the group:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab %&amp;gt;% extract(x, c(&amp;quot;feet&amp;quot;, &amp;quot;inches&amp;quot;), regex = &amp;quot;(\\d)&amp;#39;(\\d{1,2})&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   feet inches
## 1    5     10
## 2    6      1
## 3    5      8&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;putting-it-all-together&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Putting it all together&lt;/h3&gt;
&lt;p&gt;We are now ready to put it all together and wrangle our reported heights data to try to recover as many heights as possible. The code is complex, but we will break it down into parts.&lt;/p&gt;
&lt;p&gt;We start by cleaning up the &lt;code&gt;height&lt;/code&gt; column so that the heights are closer to a feet’inches format. We added an original heights column so we can compare before and after.&lt;/p&gt;
&lt;p&gt;Now we are ready to wrangle our reported heights dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pattern &amp;lt;- &amp;quot;^([4-7])\\s*&amp;#39;\\s*(\\d+\\.?\\d*)$&amp;quot;

smallest &amp;lt;- 50
tallest &amp;lt;- 84
new_heights &amp;lt;- reported_heights %&amp;gt;%
  mutate(original = height,
         height = words_to_numbers(height) %&amp;gt;% convert_format()) %&amp;gt;%
  extract(height, c(&amp;quot;feet&amp;quot;, &amp;quot;inches&amp;quot;), regex = pattern, remove = FALSE) %&amp;gt;%
  mutate_at(c(&amp;quot;height&amp;quot;, &amp;quot;feet&amp;quot;, &amp;quot;inches&amp;quot;), as.numeric) %&amp;gt;%
  mutate(guess = 12 * feet + inches) %&amp;gt;%
  mutate(height = case_when(
    is.na(height) ~ as.numeric(NA),
    between(height, smallest, tallest) ~ height,  #inches
    between(height/2.54, smallest, tallest) ~ height/2.54, #cm
    between(height*100/2.54, smallest, tallest) ~ height*100/2.54, #meters
    TRUE ~ as.numeric(NA))) %&amp;gt;%
  mutate(height = ifelse(is.na(height) &amp;amp;
                           inches &amp;lt; 12 &amp;amp; between(guess, smallest, tallest),
                         guess, height)) %&amp;gt;%
  select(-guess)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can check all the entries we converted by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_heights %&amp;gt;%
  filter(not_inches(original)) %&amp;gt;%
  select(original, height) %&amp;gt;%
  arrange(height) %&amp;gt;%
  View()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A final observation is that if we look at the shortest students in our course:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_heights %&amp;gt;% arrange(height) %&amp;gt;% head(n=7)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##            time_stamp    sex height feet inches original
## 1 2017-07-04 01:30:25   Male  50.00   NA     NA       50
## 2 2017-09-07 10:40:35   Male  50.00   NA     NA       50
## 3 2014-09-02 15:18:30 Female  51.00   NA     NA       51
## 4 2016-06-05 14:07:20 Female  52.00   NA     NA       52
## 5 2016-06-05 14:07:38 Female  52.00   NA     NA       52
## 6 2014-09-23 03:39:56 Female  53.00   NA     NA       53
## 7 2015-01-07 08:57:29   Male  53.77   NA     NA    53.77&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We see heights of 53, 54, and 55. In the originals, we also have 51 and 52. These short heights are rare and it is likely that the students actually meant &lt;code&gt;5&#39;1&lt;/code&gt;, &lt;code&gt;5&#39;2&lt;/code&gt;, &lt;code&gt;5&#39;3&lt;/code&gt;, &lt;code&gt;5&#39;4&lt;/code&gt;, and &lt;code&gt;5&#39;5&lt;/code&gt;. Because we are not completely sure, we will leave them as reported. The object &lt;code&gt;new_heights&lt;/code&gt; contains our final solution for this case study.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;string-splitting&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;String splitting&lt;/h2&gt;
&lt;p&gt;Another very common data wrangling operation is string splitting. To illustrate how this comes up, we start with an illustrative example. Suppose we did not have the function &lt;code&gt;read_csv&lt;/code&gt; or &lt;code&gt;read.csv&lt;/code&gt; available to us. We instead have to read a csv file using the base R function &lt;code&gt;readLines&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filename &amp;lt;- system.file(&amp;quot;extdata/murders.csv&amp;quot;, package = &amp;quot;dslabs&amp;quot;)
lines &amp;lt;- readLines(filename)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function reads-in the data line-by-line to create a vector of strings. In this case, one string for each row in the spreadsheet. The first six lines are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lines %&amp;gt;% head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;state,abb,region,population,total&amp;quot; &amp;quot;Alabama,AL,South,4779736,135&amp;quot;     
## [3] &amp;quot;Alaska,AK,West,710231,19&amp;quot;          &amp;quot;Arizona,AZ,West,6392017,232&amp;quot;      
## [5] &amp;quot;Arkansas,AR,South,2915918,93&amp;quot;      &amp;quot;California,CA,West,37253956,1257&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We want to extract the values that are separated by a comma for each string in the vector. The command &lt;code&gt;str_split&lt;/code&gt; does exactly this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- str_split(lines, &amp;quot;,&amp;quot;)
x %&amp;gt;% head(2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
## [1] &amp;quot;state&amp;quot;      &amp;quot;abb&amp;quot;        &amp;quot;region&amp;quot;     &amp;quot;population&amp;quot; &amp;quot;total&amp;quot;     
## 
## [[2]]
## [1] &amp;quot;Alabama&amp;quot; &amp;quot;AL&amp;quot;      &amp;quot;South&amp;quot;   &amp;quot;4779736&amp;quot; &amp;quot;135&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the first entry has the column names, so we can separate that out:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;col_names &amp;lt;- x[[1]]
x &amp;lt;- x[-1]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To convert our list into a data frame, we can use a shortcut provided by the &lt;code&gt;map&lt;/code&gt; functions in the &lt;strong&gt;purrr&lt;/strong&gt; package. The map function applies the same function to each element in a list. So if we want to extract the first entry of each element in &lt;code&gt;x&lt;/code&gt;, we can write:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(purrr)
map(x, function(y) y[1]) %&amp;gt;% head(2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
## [1] &amp;quot;Alabama&amp;quot;
## 
## [[2]]
## [1] &amp;quot;Alaska&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, because this is such a common task, &lt;strong&gt;purrr&lt;/strong&gt; provides a shortcut. If the second argument receives an integer instead of a function, it assumes we want that entry. So the code above can be written more efficiently like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;map(x, 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To force &lt;code&gt;map&lt;/code&gt; to return a character vector instead of a list, we can use &lt;code&gt;map_chr&lt;/code&gt;. Similarly, &lt;code&gt;map_int&lt;/code&gt; returns integers. So to create our data frame, we can use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- tibble(map_chr(x, 1),
              map_chr(x, 2),
              map_chr(x, 3),
              map_chr(x, 4),
              map_chr(x, 5)) %&amp;gt;%
  mutate_all(parse_guess) %&amp;gt;%
  setNames(col_names)
dat %&amp;gt;% head&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 5
##   state      abb   region population total
##   &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 Alabama    AL    South     4779736   135
## 2 Alaska     AK    West       710231    19
## 3 Arizona    AZ    West      6392017   232
## 4 Arkansas   AR    South     2915918    93
## 5 California CA    West     37253956  1257
## 6 Colorado   CO    West      5029196    65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you learn more about the &lt;strong&gt;purrr&lt;/strong&gt; package, you will learn that you perform the above with the following, more efficient, code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- x %&amp;gt;%
  transpose() %&amp;gt;%
  map( ~ parse_guess(unlist(.))) %&amp;gt;%
  setNames(col_names) %&amp;gt;%
  as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It turns out that we can avoid all the work shown above after the call to &lt;code&gt;str_split&lt;/code&gt;. Specifically, if we know that the data we are extracting can be represented as a table, we can use the argument &lt;code&gt;simplify=TRUE&lt;/code&gt; and &lt;code&gt;str_split&lt;/code&gt; returns a matrix instead of a list:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- str_split(lines, &amp;quot;,&amp;quot;, simplify = TRUE)
col_names &amp;lt;- x[1,]
x &amp;lt;- x[-1,]
colnames(x) &amp;lt;- col_names
x %&amp;gt;% as_tibble() %&amp;gt;%
  mutate_all(parse_guess) %&amp;gt;%
  head(5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 5
##   state      abb   region population total
##   &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 Alabama    AL    South     4779736   135
## 2 Alaska     AK    West       710231    19
## 3 Arizona    AZ    West      6392017   232
## 4 Arkansas   AR    South     2915918    93
## 5 California CA    West     37253956  1257&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-3-extracting-tables-from-a-pdf&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study 3: extracting tables from a PDF&lt;/h2&gt;
&lt;p&gt;One of the datasets provided in &lt;strong&gt;dslabs&lt;/strong&gt; shows scientific funding rates by gender in the Netherlands:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;research_funding_rates&amp;quot;)
research_funding_rates %&amp;gt;%
  select(&amp;quot;discipline&amp;quot;, &amp;quot;success_rates_men&amp;quot;, &amp;quot;success_rates_women&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##            discipline success_rates_men success_rates_women
## 1   Chemical sciences              26.5                25.6
## 2   Physical sciences              19.3                23.1
## 3             Physics              26.9                22.2
## 4          Humanities              14.3                19.3
## 5  Technical sciences              15.9                21.0
## 6   Interdisciplinary              11.4                21.8
## 7 Earth/life sciences              24.4                14.3
## 8     Social sciences              15.3                11.5
## 9    Medical sciences              18.8                11.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data comes from a paper published in the Proceedings of the National Academy of Science (PNAS)&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;, a widely read scientific journal. However, the data is not provided in a spreadsheet; it is in a table in a PDF document. Here is a screenshot of the table:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/pnas-table-s1.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Source: Romy van der Lee and Naomi Ellemers, PNAS 2015 112 (40) 12349-12353&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;We could extract the numbers by hand, but this could lead to human error. Instead, we can try to wrangle the data using R. We start by downloading the pdf document, then importing into R:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(&amp;quot;pdftools&amp;quot;)
temp_file &amp;lt;- tempfile()
url &amp;lt;- paste0(&amp;quot;https://www.pnas.org/content/suppl/2015/09/16/&amp;quot;,
              &amp;quot;1510159112.DCSupplemental/pnas.201510159SI.pdf&amp;quot;)
download.file(url, temp_file)
txt &amp;lt;- pdf_text(temp_file)
file.remove(temp_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we examine the object text, we notice that it is a character vector with an entry for each page. So we keep the page we want:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;raw_data_research_funding_rates &amp;lt;- txt[2]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The steps above can actually be skipped because we include this raw data in the &lt;strong&gt;dslabs&lt;/strong&gt; package as well:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;raw_data_research_funding_rates&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Examining the object &lt;code&gt;raw_data_research_funding_rates&lt;/code&gt;
we see that it is a long string and each line on the page, including the table rows, are separated by the symbol for newline: &lt;code&gt;\n&lt;/code&gt;. We therefore can create a list with the lines of the text as elements as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- str_split(raw_data_research_funding_rates, &amp;quot;\n&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because we start off with just one element in the string, we end up with a list with just one entry.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- tab[[1]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By examining &lt;code&gt;tab&lt;/code&gt; we see that the information for the column names is the third and fourth entries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;the_names_1 &amp;lt;- tab[3]
the_names_2 &amp;lt;- tab[4]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first of these rows looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##                                                       Applications, n&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           Awards, n                      Success rates, %&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We want to create one vector with one name for each column. Using some of the functions we have just learned, we do this. Let’s start with &lt;code&gt;the_names_1&lt;/code&gt;, shown above. We want to remove the leading space and anything following the comma. We use regex for the latter. Then we can obtain the elements by splitting strings separated by space. We want to split only when there are 2 or more spaces to avoid splitting &lt;code&gt;Success rates&lt;/code&gt;. So we use the regex &lt;code&gt;\\s{2,}&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;the_names_1 &amp;lt;- the_names_1 %&amp;gt;%
  str_trim() %&amp;gt;%
  str_replace_all(&amp;quot;,\\s.&amp;quot;, &amp;quot;&amp;quot;) %&amp;gt;%
  str_split(&amp;quot;\\s{2,}&amp;quot;, simplify = TRUE)
the_names_1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1]           [,2]     [,3]           
## [1,] &amp;quot;Applications&amp;quot; &amp;quot;Awards&amp;quot; &amp;quot;Success rates&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we will look at &lt;code&gt;the_names_2&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##                         Discipline              Total     Men      Women&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   Total    Men       Women          Total    Men      Women&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we want to trim the leading space and then split by space as we did for the first line:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;the_names_2 &amp;lt;- the_names_2 %&amp;gt;%
  str_trim() %&amp;gt;%
  str_split(&amp;quot;\\s+&amp;quot;, simplify = TRUE)
the_names_2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1]         [,2]    [,3]  [,4]    [,5]    [,6]  [,7]    [,8]    [,9] 
## [1,] &amp;quot;Discipline&amp;quot; &amp;quot;Total&amp;quot; &amp;quot;Men&amp;quot; &amp;quot;Women&amp;quot; &amp;quot;Total&amp;quot; &amp;quot;Men&amp;quot; &amp;quot;Women&amp;quot; &amp;quot;Total&amp;quot; &amp;quot;Men&amp;quot;
##      [,10]  
## [1,] &amp;quot;Women&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then join these to generate one name for each column:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tmp_names &amp;lt;- str_c(rep(the_names_1, each = 3), the_names_2[-1], sep = &amp;quot;_&amp;quot;)
the_names &amp;lt;- c(the_names_2[1], tmp_names) %&amp;gt;%
  str_to_lower() %&amp;gt;%
  str_replace_all(&amp;quot;\\s&amp;quot;, &amp;quot;_&amp;quot;)
the_names&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;discipline&amp;quot;          &amp;quot;applications_total&amp;quot;  &amp;quot;applications_men&amp;quot;   
##  [4] &amp;quot;applications_women&amp;quot;  &amp;quot;awards_total&amp;quot;        &amp;quot;awards_men&amp;quot;         
##  [7] &amp;quot;awards_women&amp;quot;        &amp;quot;success_rates_total&amp;quot; &amp;quot;success_rates_men&amp;quot;  
## [10] &amp;quot;success_rates_women&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we are ready to get the actual data. By examining the &lt;code&gt;tab&lt;/code&gt; object, we notice that the information is in lines 6 through 14. We can use &lt;code&gt;str_split&lt;/code&gt; again to achieve our goal:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_research_funding_rates &amp;lt;- tab[6:14] %&amp;gt;%
  str_trim %&amp;gt;%
  str_split(&amp;quot;\\s{2,}&amp;quot;, simplify = TRUE) %&amp;gt;%
  data.frame(stringsAsFactors = FALSE) %&amp;gt;%
  setNames(the_names) %&amp;gt;%
  mutate_at(-1, parse_number)
new_research_funding_rates %&amp;gt;% as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 x 10
##   discipline applications_to… applications_men applications_wo… awards_total
##   &amp;lt;chr&amp;gt;                 &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;
## 1 Chemical …              122               83               39           32
## 2 Physical …              174              135               39           35
## 3 Physics                  76               67                9           20
## 4 Humanities              396              230              166           65
## 5 Technical…              251              189               62           43
## 6 Interdisc…              183              105               78           29
## 7 Earth/lif…              282              156              126           56
## 8 Social sc…              834              425              409          112
## 9 Medical s…              505              245              260           75
## # … with 5 more variables: awards_men &amp;lt;dbl&amp;gt;, awards_women &amp;lt;dbl&amp;gt;,
## #   success_rates_total &amp;lt;dbl&amp;gt;, success_rates_men &amp;lt;dbl&amp;gt;,
## #   success_rates_women &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see that the objects are identical:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;identical(research_funding_rates, new_research_funding_rates)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;recode&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Recoding&lt;/h2&gt;
&lt;p&gt;Another common operation involving strings is recoding the names of categorical variables. Let’s say you have really long names for your levels and you will be displaying them in plots, you might want to use shorter versions of these names. For example, in character vectors with country names, you might want to change “United States of America” to “USA” and “United Kingdom” to UK, and so on. We can do this with &lt;code&gt;case_when&lt;/code&gt;, although the &lt;strong&gt;tidyverse&lt;/strong&gt; offers an option that is specifically designed for this task: the &lt;code&gt;recode&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Here is an example that shows how to rename countries with long names:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;gapminder&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we want to show life expectancy time series by country for the Caribbean:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(region == &amp;quot;Caribbean&amp;quot;) %&amp;gt;%
  ggplot(aes(year, life_expectancy, color = country)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/12-content_files/figure-html/caribbean-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot is what we want, but much of the space is wasted to accommodate some of the long country names.
&lt;!--

```r
gapminder %&gt;%
  filter(region == &#34;Caribbean&#34;) %&gt;%
  filter(str_length(country) &gt;= 12) %&gt;%
  distinct(country)
```

```
##                          country
## 1            Antigua and Barbuda
## 2             Dominican Republic
## 3 St. Vincent and the Grenadines
## 4            Trinidad and Tobago
```
--&gt;
We have four countries with names longer than 12 characters. These names appear once for each year in the Gapminder dataset. Once we pick nicknames, we need to change them all consistently. The &lt;code&gt;recode&lt;/code&gt; function can be used to do this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;% filter(region==&amp;quot;Caribbean&amp;quot;) %&amp;gt;%
  mutate(country = recode(country,
                          `Antigua and Barbuda` = &amp;quot;Barbuda&amp;quot;,
                          `Dominican Republic` = &amp;quot;DR&amp;quot;,
                          `St. Vincent and the Grenadines` = &amp;quot;St. Vincent&amp;quot;,
                          `Trinidad and Tobago` = &amp;quot;Trinidad&amp;quot;)) %&amp;gt;%
  ggplot(aes(year, life_expectancy, color = country)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/12-content_files/figure-html/caribbean-with-nicknames-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There are other similar functions in other R packages, such as &lt;code&gt;recode_factor&lt;/code&gt; and &lt;code&gt;fct_recoder&lt;/code&gt; in the &lt;strong&gt;forcats&lt;/strong&gt; package.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Complete all lessons and exercises in the &lt;a href=&#34;https://regexone.com/&#34;&gt;https://regexone.com/&lt;/a&gt; online interactive tutorial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the &lt;code&gt;extdata&lt;/code&gt; directory of the &lt;strong&gt;dslabs&lt;/strong&gt; package, you will find a PDF file containing daily mortality data for Puerto Rico from Jan 1, 2015 to May 31, 2018. You can find the file like this:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fn &amp;lt;- system.file(&amp;quot;extdata&amp;quot;, &amp;quot;RD-Mortality-Report_2015-18-180531.pdf&amp;quot;,
                  package=&amp;quot;dslabs&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Find and open the file or open it directly from RStudio. On a Mac, you can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;system2(&amp;quot;open&amp;quot;, args = fn)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and on Windows, you can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;system(&amp;quot;cmd.exe&amp;quot;, input = paste(&amp;quot;start&amp;quot;, fn))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which of the following best describes this file:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;It is a table. Extracting the data will be easy.&lt;/li&gt;
&lt;li&gt;It is a report written in prose. Extracting the data will be impossible.&lt;/li&gt;
&lt;li&gt;It is a report combining graphs and tables. Extracting the data seems possible.&lt;/li&gt;
&lt;li&gt;It shows graphs of the data. Extracting the data will be difficult.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;We are going to create a tidy dataset with each row representing one observation. The variables in this dataset will be year, month, day, and deaths.
Start by installing and loading the &lt;strong&gt;pdftools&lt;/strong&gt; package:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;pdftools&amp;quot;)
library(pdftools)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now read-in &lt;code&gt;fn&lt;/code&gt; using the &lt;code&gt;pdf_text&lt;/code&gt; function and store the results in an object called &lt;code&gt;txt&lt;/code&gt;. Which of the following best describes what you see in &lt;code&gt;txt&lt;/code&gt;?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;A table with the mortality data.&lt;/li&gt;
&lt;li&gt;A character string of length 12. Each entry represents the text in each page. The mortality data is in there somewhere.&lt;/li&gt;
&lt;li&gt;A character string with one entry containing all the information in the PDF file.&lt;/li&gt;
&lt;li&gt;An html document.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Extract the ninth page of the PDF file from the object &lt;code&gt;txt&lt;/code&gt;, then use the &lt;code&gt;str_split&lt;/code&gt; from the &lt;strong&gt;stringr&lt;/strong&gt; package so that you have each line in a different entry. Call this string vector &lt;code&gt;s&lt;/code&gt;. Then look at the result and choose the one that best describes what you see.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;It is an empty string.&lt;/li&gt;
&lt;li&gt;I can see the figure shown in page 1.&lt;/li&gt;
&lt;li&gt;It is a tidy table.&lt;/li&gt;
&lt;li&gt;I can see the table! But there is a bunch of other stuff we need to get rid of.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;What kind of object is &lt;code&gt;s&lt;/code&gt; and how many entries does it have?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We see that the output is a list with one component. Redefine &lt;code&gt;s&lt;/code&gt; to be the first entry of the list. What kind of object is &lt;code&gt;s&lt;/code&gt; and how many entries does it have?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When inspecting the string we obtained above, we see a common problem: white space before and after the other characters. Trimming is a common first step in string processing. These extra spaces will eventually make splitting the strings hard so we start by removing them. We learned about the command &lt;code&gt;str_trim&lt;/code&gt; that removes spaces at the start or end of the strings. Use this function to trim &lt;code&gt;s&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We want to extract the numbers from the strings stored in &lt;code&gt;s&lt;/code&gt;. However, there are many non-numeric characters that will get in the way. We can remove these, but before doing this we want to preserve the string with the column header, which includes the month abbreviation.
Use the &lt;code&gt;str_which&lt;/code&gt; function to find the rows with a header. Save these results to &lt;code&gt;header_index&lt;/code&gt;. Hint: find the first string that matches the pattern &lt;code&gt;2015&lt;/code&gt; using the &lt;code&gt;str_which&lt;/code&gt; function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now we are going to define two objects: &lt;code&gt;month&lt;/code&gt; will store the month and &lt;code&gt;header&lt;/code&gt; will store the column names. Identify which row contains the header of the table. Save the content of the row into an object called &lt;code&gt;header&lt;/code&gt;, then use &lt;code&gt;str_split&lt;/code&gt; to help define the two objects we need. Hints: the separator here is one or more spaces. Also, consider using the &lt;code&gt;simplify&lt;/code&gt; argument.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Notice that towards the end of the page you see a &lt;em&gt;totals&lt;/em&gt; row followed by rows with other summary statistics. Create an object called &lt;code&gt;tail_index&lt;/code&gt; with the index of the &lt;em&gt;totals&lt;/em&gt; entry.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Because our PDF page includes graphs with numbers, some of our rows have just one number (from the y-axis of the plot). Use the &lt;code&gt;str_count&lt;/code&gt; function to create an object &lt;code&gt;n&lt;/code&gt; with the number of numbers in each each row. Hint: you can write a regex for number like this &lt;code&gt;\\d+&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We are now ready to remove entries from rows that we know we don’t need. The entry &lt;code&gt;header_index&lt;/code&gt; and everything before it should be removed. Entries for which &lt;code&gt;n&lt;/code&gt; is 1 should also be removed, and the entry &lt;code&gt;tail_index&lt;/code&gt; and everything that comes after it should be removed as well.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now we are ready to remove all the non-numeric entries. Do this using regex and the &lt;code&gt;str_remove_all&lt;/code&gt; function. Hint: remember that in regex, using the upper case version of a special character usually means the opposite. So &lt;code&gt;\\D&lt;/code&gt; means “not a digit”. Remember you also want to keep spaces.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To convert the strings into a table, use the &lt;code&gt;str_split_fixed&lt;/code&gt; function. Convert &lt;code&gt;s&lt;/code&gt; into a data matrix with just the day and death count data. Hints: note that the separator is one or more spaces. Make the argument &lt;code&gt;n&lt;/code&gt; a value that limits the number of columns to the values in the 4 columns and the last column captures all the extra stuff. Then keep only the first four columns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now you are almost ready to finish. Add column names to the matrix, including one called &lt;code&gt;day&lt;/code&gt;. Also, add a column with the month. Call the resulting object &lt;code&gt;dat&lt;/code&gt;. Finally, make sure the day is an integer not a character. Hint: use only the first five columns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now finish it up by tidying &lt;code&gt;tab&lt;/code&gt; with the gather function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make a plot of deaths versus day with color to denote year. Exclude 2018 since we do not have data for the entire year.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now that we have wrangled this data step-by-step, put it all together in one R chunk, using the pipe as much as possible. Hint: first define the indexes, then write one line of code that does all the string processing.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Advanced: let’s return to the MLB Payroll example from the web scraping section. Use what you have learned in the web scraping and string processing chapters to extract the payroll for the New York Yankees, Boston Red Sox, and Oakland A’s and plot them as a function of time.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;web-scraping&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Web scraping&lt;/h1&gt;
&lt;p&gt;The data we need to answer a question is not always in a spreadsheet ready for us to read. For example, the US murders dataset we used in the R Basics chapter originally comes from this Wikipedia page:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;url &amp;lt;- paste0(&amp;quot;https://en.wikipedia.org/w/index.php?title=&amp;quot;,
              &amp;quot;Gun_violence_in_the_United_States_by_state&amp;quot;,
              &amp;quot;&amp;amp;direction=prev&amp;amp;oldid=810166167&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see the data table when you visit the webpage:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/murders-data-wiki-page.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Web page courtesy of Wikipedia&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;. CC-BY-SA-3.0 license&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;. Screenshot of part of the page.)&lt;/p&gt;
&lt;p&gt;Unfortunately, there is no link to a data file. To make the data frame that is loaded when we type &lt;code&gt;data(murders)&lt;/code&gt;, we had to do some &lt;em&gt;web scraping&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Web scraping&lt;/em&gt;, or &lt;em&gt;web harvesting&lt;/em&gt;, is the term we use to describe the process of extracting data from a website. The reason we can do this is because the information used by a browser to render webpages is received as a text file from a server. The text is code written in hyper text markup language (HTML). Every browser has a way to show the html source code for a page, each one different. On Chrome, you can use Control-U on a PC and command+alt+U on a Mac. You will see something like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./12-content_files/html-code.png&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;html&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;HTML&lt;/h2&gt;
&lt;p&gt;Because this code is accessible, we can download the HTML file, import it into R, and then write programs to extract the information we need from the page. However, once we look at HTML code, this might seem like a daunting task. But we will show you some convenient tools to facilitate the process. To get an idea of how it works, here are a few lines of code from the Wikipedia page that provides the US murders data:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;table class=&amp;quot;wikitable sortable&amp;quot;&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;th&amp;gt;State&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;&amp;lt;a href=&amp;quot;/wiki/List_of_U.S._states_and_territories_by_population&amp;quot;
title=&amp;quot;List of U.S. states and territories by population&amp;quot;&amp;gt;Population&amp;lt;/a&amp;gt;&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(total inhabitants)&amp;lt;/small&amp;gt;&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(2015)&amp;lt;/small&amp;gt; &amp;lt;sup id=&amp;quot;cite_ref-1&amp;quot; class=&amp;quot;reference&amp;quot;&amp;gt;
&amp;lt;a href=&amp;quot;#cite_note-1&amp;quot;&amp;gt;[1]&amp;lt;/a&amp;gt;&amp;lt;/sup&amp;gt;&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;Murders and Nonnegligent
&amp;lt;p&amp;gt;Manslaughter&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(total deaths)&amp;lt;/small&amp;gt;&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(2015)&amp;lt;/small&amp;gt; &amp;lt;sup id=&amp;quot;cite_ref-2&amp;quot; class=&amp;quot;reference&amp;quot;&amp;gt;
&amp;lt;a href=&amp;quot;#cite_note-2&amp;quot;&amp;gt;[2]&amp;lt;/a&amp;gt;&amp;lt;/sup&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/th&amp;gt;
&amp;lt;th&amp;gt;Murder and Nonnegligent
&amp;lt;p&amp;gt;Manslaughter Rate&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(per 100,000 inhabitants)&amp;lt;/small&amp;gt;&amp;lt;br /&amp;gt;
&amp;lt;small&amp;gt;(2015)&amp;lt;/small&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/th&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;td&amp;gt;&amp;lt;a href=&amp;quot;/wiki/Alabama&amp;quot; title=&amp;quot;Alabama&amp;quot;&amp;gt;Alabama&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;4,853,875&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;348&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;7.2&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;
&amp;lt;td&amp;gt;&amp;lt;a href=&amp;quot;/wiki/Alaska&amp;quot; title=&amp;quot;Alaska&amp;quot;&amp;gt;Alaska&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;737,709&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;59&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;8.0&amp;lt;/td&amp;gt;
&amp;lt;/tr&amp;gt;
&amp;lt;tr&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can actually see the data, except data values are surrounded by html code such as &lt;code&gt;&amp;lt;td&amp;gt;&lt;/code&gt;. We can also see a pattern of how it is stored. If you know HTML, you can write programs that leverage knowledge of these patterns to extract what we want. We also take advantage of a language widely used to make webpages look “pretty” called Cascading Style Sheets (CSS). We say more about this in Section &lt;a href=&#34;#css-selectors&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Although we provide tools that make it possible to scrape data without knowing HTML, as a data scientist it is quite useful to learn some HTML and CSS. Not only does this improve your scraping skills, but it might come in handy if you are creating a webpage to showcase your work. There are plenty of online courses and tutorials for learning these. Two examples are Codeacademy&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt; and W3schools&lt;a href=&#34;#fn10&#34; class=&#34;footnote-ref&#34; id=&#34;fnref10&#34;&gt;&lt;sup&gt;10&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-rvest-package&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The rvest package&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;tidyverse&lt;/strong&gt; provides a web harvesting package called &lt;strong&gt;rvest&lt;/strong&gt;. The first step using this package is to import the webpage into R. The package makes this quite simple:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(rvest)
h &amp;lt;- read_html(url)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the entire Murders in the US Wikipedia webpage is now contained in &lt;code&gt;h&lt;/code&gt;. The class of this object is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(h)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;xml_document&amp;quot; &amp;quot;xml_node&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;rvest&lt;/strong&gt; package is actually more general; it handles XML documents. XML is a general markup language (that’s what the ML stands for) that can be used to represent any kind of data. HTML is a specific type of XML specifically developed for representing webpages. Here we focus on HTML documents.&lt;/p&gt;
&lt;p&gt;Now, how do we extract the table from the object &lt;code&gt;h&lt;/code&gt;? If we print &lt;code&gt;h&lt;/code&gt;, we don’t really see much:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;h&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## {html_document}
## &amp;lt;html class=&amp;quot;client-nojs&amp;quot; lang=&amp;quot;en&amp;quot; dir=&amp;quot;ltr&amp;quot;&amp;gt;
## [1] &amp;lt;head&amp;gt;\n&amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=UTF-8 ...
## [2] &amp;lt;body class=&amp;quot;mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject  ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see all the code that defines the downloaded webpage using the &lt;code&gt;html_text&lt;/code&gt; function like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;html_text(h)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We don’t show the output here because it includes thousands of characters, but if we look at it, we can see the data we are after are stored in an HTML table: you can see this in this line of the HTML code above &lt;code&gt;&amp;lt;table class=&#34;wikitable sortable&#34;&amp;gt;&lt;/code&gt;. The different parts of an HTML document, often defined with a message in between &lt;code&gt;&amp;lt;&lt;/code&gt; and &lt;code&gt;&amp;gt;&lt;/code&gt; are referred to as &lt;em&gt;nodes&lt;/em&gt;. The &lt;strong&gt;rvest&lt;/strong&gt; package includes functions to extract nodes of an HTML document: &lt;code&gt;html_nodes&lt;/code&gt; extracts all nodes of different types and &lt;code&gt;html_node&lt;/code&gt; extracts the first one. To extract the tables from the html code we use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- h %&amp;gt;% html_nodes(&amp;quot;table&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, instead of the entire webpage, we just have the html code for the tables in the page:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## {xml_nodeset (2)}
## [1] &amp;lt;table class=&amp;quot;wikitable sortable&amp;quot;&amp;gt;&amp;lt;tbody&amp;gt;\n&amp;lt;tr&amp;gt;\n&amp;lt;th&amp;gt;State\n&amp;lt;/th&amp;gt;\n&amp;lt;th&amp;gt;\n ...
## [2] &amp;lt;table class=&amp;quot;nowraplinks hlist mw-collapsible mw-collapsed navbox-inner&amp;quot; ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The table we are interested is the first one:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab[[1]]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## {html_node}
## &amp;lt;table class=&amp;quot;wikitable sortable&amp;quot;&amp;gt;
## [1] &amp;lt;tbody&amp;gt;\n&amp;lt;tr&amp;gt;\n&amp;lt;th&amp;gt;State\n&amp;lt;/th&amp;gt;\n&amp;lt;th&amp;gt;\n&amp;lt;a href=&amp;quot;/wiki/List_of_U.S._states ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is clearly not a tidy dataset, not even a data frame. In the code above, you can definitely see a pattern and writing code to extract just the data is very doable. In fact, &lt;strong&gt;rvest&lt;/strong&gt; includes a function just for converting HTML tables into data frames:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- tab[[1]] %&amp;gt;% html_table
class(tab)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are now much closer to having a usable data table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- tab %&amp;gt;% setNames(c(&amp;quot;state&amp;quot;, &amp;quot;population&amp;quot;, &amp;quot;total&amp;quot;, &amp;quot;murder_rate&amp;quot;))
head(tab)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population total murder_rate
## 1    Alabama  4,853,875   348         7.2
## 2     Alaska    737,709    59         8.0
## 3    Arizona  6,817,565   309         4.5
## 4   Arkansas  2,977,853   181         6.1
## 5 California 38,993,940 1,861         4.8
## 6   Colorado  5,448,819   176         3.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We still have some wrangling to do. For example, we need to remove the commas and turn characters into numbers. Before continuing with this, we will learn a more general approach to extracting information from web sites.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;css-selectors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;CSS selectors&lt;/h2&gt;
&lt;p&gt;The default look of a webpage made with the most basic HTML is quite unattractive. The aesthetically pleasing pages we see today are made using CSS to define the look and style of webpages. The fact that all pages for a company have the same style usually results from their use of the same CSS file to define the style. The general way these CSS files work is by defining how each of the elements of a webpage will look. The title, headings, itemized lists, tables, and links, for example, each receive their own style including font, color, size, and distance from the margin. CSS does this by leveraging patterns used to define these elements, referred to as &lt;em&gt;selectors&lt;/em&gt;. An example of such a pattern, which we used above, is &lt;code&gt;table&lt;/code&gt;, but there are many, many more.&lt;/p&gt;
&lt;p&gt;If we want to grab data from a webpage and we happen to know a selector that is unique to the part of the page containing this data, we can use the &lt;code&gt;html_nodes&lt;/code&gt; function. However, knowing which selector can be quite complicated.
In fact, the complexity of webpages has been increasing as they become more sophisticated. For some of the more advanced ones, it seems almost impossible to find the nodes that define a particular piece of data. However, selector gadgets actually make this possible.&lt;/p&gt;
&lt;p&gt;SelectorGadget&lt;a href=&#34;#fn11&#34; class=&#34;footnote-ref&#34; id=&#34;fnref11&#34;&gt;&lt;sup&gt;11&lt;/sup&gt;&lt;/a&gt; is piece of software that allows you to interactively determine what CSS selector you need to extract specific components from the webpage. If you plan on scraping data other than tables from html pages, we highly recommend you install it. A Chrome extension is available which permits you to turn on the gadget and then, as you click through the page, it highlights parts and shows you the selector you need to extract these parts. There are various demos of how to do this including &lt;strong&gt;rvest&lt;/strong&gt; author Hadley Wickham’s
vignette&lt;a href=&#34;#fn12&#34; class=&#34;footnote-ref&#34; id=&#34;fnref12&#34;&gt;&lt;sup&gt;12&lt;/sup&gt;&lt;/a&gt; and other tutorials based on the vignette&lt;a href=&#34;#fn13&#34; class=&#34;footnote-ref&#34; id=&#34;fnref13&#34;&gt;&lt;sup&gt;13&lt;/sup&gt;&lt;/a&gt; &lt;a href=&#34;#fn14&#34; class=&#34;footnote-ref&#34; id=&#34;fnref14&#34;&gt;&lt;sup&gt;14&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;json&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;JSON&lt;/h2&gt;
&lt;p&gt;Sharing data on the internet has become more and more common. Unfortunately, providers use different formats, which makes it harder for data scientists to wrangle data into R. Yet there are some standards that are also becoming more common. Currently, a format that is widely being adopted is the JavaScript Object Notation or JSON. Because this format is very general, it is nothing like a spreadsheet. This JSON file looks more like the code you use to define a list. Here is an example of information stored in a JSON format:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &amp;#39;jsonlite&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following object is masked from &amp;#39;package:purrr&amp;#39;:
## 
##     flatten&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [
##   {
##     &amp;quot;name&amp;quot;: &amp;quot;Miguel&amp;quot;,
##     &amp;quot;student_id&amp;quot;: 1,
##     &amp;quot;exam_1&amp;quot;: 85,
##     &amp;quot;exam_2&amp;quot;: 86
##   },
##   {
##     &amp;quot;name&amp;quot;: &amp;quot;Sofia&amp;quot;,
##     &amp;quot;student_id&amp;quot;: 2,
##     &amp;quot;exam_1&amp;quot;: 94,
##     &amp;quot;exam_2&amp;quot;: 93
##   },
##   {
##     &amp;quot;name&amp;quot;: &amp;quot;Aya&amp;quot;,
##     &amp;quot;student_id&amp;quot;: 3,
##     &amp;quot;exam_1&amp;quot;: 87,
##     &amp;quot;exam_2&amp;quot;: 88
##   },
##   {
##     &amp;quot;name&amp;quot;: &amp;quot;Cheng&amp;quot;,
##     &amp;quot;student_id&amp;quot;: 4,
##     &amp;quot;exam_1&amp;quot;: 90,
##     &amp;quot;exam_2&amp;quot;: 91
##   }
## ]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The file above actually represents a data frame. To read it, we can use the function &lt;code&gt;fromJSON&lt;/code&gt; from the &lt;strong&gt;jsonlite&lt;/strong&gt; package. Note that JSON files are often made available via the internet. Several organizations provide a JSON API or a web service that you can connect directly to and obtain data. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(jsonlite)
res &amp;lt;- fromJSON(&amp;#39;http://ergast.com/api/f1/2004/1/results.json&amp;#39;)

citi_bike &amp;lt;- fromJSON(&amp;quot;http://citibikenyc.com/stations/json&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This downloads a list. The first argument tells you when you downloaded it:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;citi_bike$executionTime&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the second is a data table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;citi_bike$stationBeanList %&amp;gt;% as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can learn much more by examining tutorials and help files from the &lt;strong&gt;jsonlite&lt;/strong&gt; package. This package is intended for relatively simple tasks such as converting data into tables. For more flexibility, we recommend &lt;code&gt;rjson&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.regular-expressions.info/tutorial.html&#34; class=&#34;uri&#34;&gt;https://www.regular-expressions.info/tutorial.html&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://r4ds.had.co.nz/strings.html#matching-patterns-with-regular-expressions&#34; class=&#34;uri&#34;&gt;http://r4ds.had.co.nz/strings.html#matching-patterns-with-regular-expressions&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf&#34; class=&#34;uri&#34;&gt;https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf&#34; class=&#34;uri&#34;&gt;https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.pnas.org/content/112/40/12349.abstract&#34; class=&#34;uri&#34;&gt;http://www.pnas.org/content/112/40/12349.abstract&lt;/a&gt;&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.pnas.org/content/112/40/12349&#34; class=&#34;uri&#34;&gt;http://www.pnas.org/content/112/40/12349&lt;/a&gt;&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/w/index.php?title=Gun_violence_in_the_United_States_by_state&amp;amp;direction=prev&amp;amp;oldid=810166167&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/w/index.php?title=Gun_violence_in_the_United_States_by_state&amp;amp;direction=prev&amp;amp;oldid=810166167&lt;/a&gt;&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License&lt;/a&gt;&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.codecademy.com/learn/learn-html&#34; class=&#34;uri&#34;&gt;https://www.codecademy.com/learn/learn-html&lt;/a&gt;&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn10&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.w3schools.com/&#34; class=&#34;uri&#34;&gt;https://www.w3schools.com/&lt;/a&gt;&lt;a href=&#34;#fnref10&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn11&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://selectorgadget.com/&#34; class=&#34;uri&#34;&gt;http://selectorgadget.com/&lt;/a&gt;&lt;a href=&#34;#fnref11&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn12&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html&#34; class=&#34;uri&#34;&gt;https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html&lt;/a&gt;&lt;a href=&#34;#fnref12&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn13&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://stat4701.github.io/edav/2015/04/02/rvest_tutorial/&#34; class=&#34;uri&#34;&gt;https://stat4701.github.io/edav/2015/04/02/rvest_tutorial/&lt;/a&gt;&lt;a href=&#34;#fnref13&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn14&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/&#34; class=&#34;uri&#34;&gt;https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/&lt;/a&gt;&lt;a href=&#34;#fnref14&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Data Wrangling</title>
      <link>/content/11-content/</link>
      <pubDate>Thu, 19 Nov 2020 00:00:00 +0000</pubDate>
      <guid>/content/11-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#introduction-to-data-wrangling&#34;&gt;Introduction to data wrangling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#reshaping-data&#34;&gt;Reshaping data&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#gather&#34;&gt;&lt;code&gt;gather&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#spread&#34;&gt;&lt;code&gt;spread&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#separate&#34;&gt;&lt;code&gt;separate&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#unite&#34;&gt;&lt;code&gt;unite&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#joining-tables&#34;&gt;Joining tables&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#joins&#34;&gt;Joins&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#left-join&#34;&gt;Left join&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#right-join&#34;&gt;Right join&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#inner-join&#34;&gt;Inner join&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#full-join&#34;&gt;Full join&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#semi-join&#34;&gt;Semi join&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#anti-join&#34;&gt;Anti join&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#binding&#34;&gt;Binding&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#binding-columns&#34;&gt;Binding columns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#binding-by-rows&#34;&gt;Binding by rows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#set-operators&#34;&gt;Set operators&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#intersect&#34;&gt;Intersect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#union&#34;&gt;Union&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setdiff&#34;&gt;&lt;code&gt;setdiff&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#setequal&#34;&gt;&lt;code&gt;setequal&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#parsing-dates-and-times&#34;&gt;Parsing dates and times&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#the-date-data-type&#34;&gt;The date data type&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lubridate&#34;&gt;The lubridate package&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How can we reshape data into a useable &lt;code&gt;tidy&lt;/code&gt; form?&lt;/li&gt;
&lt;li&gt;What is a &lt;em&gt;join&lt;/em&gt; and why is it a common data wrangling maneuver?&lt;/li&gt;
&lt;li&gt;What is a &lt;em&gt;primary key&lt;/em&gt; and why is it important to think about our data in this way?&lt;/li&gt;
&lt;li&gt;How do we deal with messy date variables?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;introduction-to-data-wrangling&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction to data wrangling&lt;/h1&gt;
&lt;p&gt;Many of the datasets used in this class have been made available to you as &lt;code&gt;R&lt;/code&gt; objects, specifically as data frames. The US murders data, the reported heights data, and the Gapminder data were all data frames. Furthermore, much of the data is available in what is referred to as &lt;code&gt;tidy&lt;/code&gt; form. The tidyverse packages and functions assume that the data is &lt;code&gt;tidy&lt;/code&gt; and this assumption is a big part of the reason these packages work so well together.&lt;/p&gt;
&lt;p&gt;However, very rarely in a data science project is data easily available as part of a package. People did quite a bit of work “behind the scenes” to get the original raw data into the &lt;em&gt;tidy&lt;/em&gt; tables. Much more typical is for the data to be in a file, a database, or extracted from a document, including web pages, tweets, or PDFs. In these cases, the first step is to import the data into &lt;code&gt;R&lt;/code&gt; and, when using the &lt;strong&gt;tidyverse&lt;/strong&gt;, tidy up the data. This initial step in the data analysis process usually involves several, often complicated, steps to convert data from its raw form to the &lt;em&gt;tidy&lt;/em&gt; form that greatly facilitates the rest of the analysis. We refer to this process as &lt;code&gt;data wrangling&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here we cover several common steps of the data wrangling process including tidying data, string processing, html parsing, working with dates and times, and text mining. Rarely are &lt;strong&gt;all&lt;/strong&gt; these wrangling steps necessary in a single analysis, but data scientists will likely face them all at some point.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;reshaping-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Reshaping data&lt;/h1&gt;
&lt;p&gt;As we have seen through the class, having data in &lt;em&gt;tidy&lt;/em&gt; format is what makes the tidyverse flow. After the first step in the data analysis process, importing data, a common next step is to reshape the data into a form that facilitates the rest of the analysis. The &lt;strong&gt;tidyr&lt;/strong&gt; package includes several functions that are useful for tidying data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
path &amp;lt;- system.file(&amp;quot;extdata&amp;quot;, package=&amp;quot;dslabs&amp;quot;)
filename &amp;lt;- file.path(path, &amp;quot;fertility-two-countries-example.csv&amp;quot;)
wide_data &amp;lt;- read_csv(filename)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;gather&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;gather&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;One of the most used functions in the &lt;strong&gt;tidyr&lt;/strong&gt; package is &lt;code&gt;gather&lt;/code&gt;, which is useful for converting wide data into tidy data.&lt;/p&gt;
&lt;p&gt;As with most tidyverse functions, the &lt;code&gt;gather&lt;/code&gt; function’s first argument is the data frame that will be converted. Here we want to reshape the &lt;code&gt;wide_data&lt;/code&gt; dataset so that each row represents a fertility observation, which implies we need three columns to store the year, country, and the observed value. In its current form, data from different years are in different columns with the year values stored in the column names. Through the second and third argument we will tell &lt;code&gt;gather&lt;/code&gt; the column names we want to assign to the columns containing the current column names and observations, respectively. In this case a good choice for these two arguments would be &lt;code&gt;year&lt;/code&gt; and &lt;code&gt;fertility&lt;/code&gt;. Note that nowhere in the data file does it tell us this is fertility data. Instead, we deciphered this from the file name. Through the fourth argument we specify the columns containing observed values; these are the columns that will be &lt;em&gt;gathered&lt;/em&gt;. The default is to gather all columns so, in most cases, we have to specify the columns. In our example we want columns &lt;code&gt;1960&lt;/code&gt;, &lt;code&gt;1961&lt;/code&gt; up to &lt;code&gt;2015&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The code to gather the fertility data therefore looks like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_tidy_data &amp;lt;- gather(wide_data, year, fertility, `1960`:`2015`)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also use the pipe like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_tidy_data &amp;lt;- wide_data %&amp;gt;% gather(year, fertility, `1960`:`2015`)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see that the data have been converted to tidy format with columns &lt;code&gt;year&lt;/code&gt; and &lt;code&gt;fertility&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(new_tidy_data)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 3
##   country     year  fertility
##   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 Germany     1960       2.41
## 2 South Korea 1960       6.16
## 3 Germany     1961       2.44
## 4 South Korea 1961       5.99
## 5 Germany     1962       2.47
## 6 South Korea 1962       5.79&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and that each year resulted in two rows since we have two countries and this column was not gathered.
A somewhat quicker way to write this code is to specify which column will &lt;strong&gt;not&lt;/strong&gt; be gathered, rather than all the columns that will be gathered:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_tidy_data &amp;lt;- wide_data %&amp;gt;%
  gather(year, fertility, -country)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;new_tidy_data&lt;/code&gt; object looks like the original &lt;code&gt;tidy_data&lt;/code&gt; we defined this way&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;gapminder&amp;quot;)
tidy_data &amp;lt;- gapminder %&amp;gt;%
  filter(country %in% c(&amp;quot;South Korea&amp;quot;, &amp;quot;Germany&amp;quot;) &amp;amp; !is.na(fertility)) %&amp;gt;%
  select(country, year, fertility)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with just one minor difference. Can you spot it? Look at the data type of the year column:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(tidy_data$year)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;integer&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(new_tidy_data$year)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;character&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;gather&lt;/code&gt; function assumes that column names are characters. So we need a bit more wrangling before we are ready to make a plot. We need to convert the year column to be numbers. The &lt;code&gt;gather&lt;/code&gt; function includes the &lt;code&gt;convert&lt;/code&gt; argument for this purpose:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_tidy_data &amp;lt;- wide_data %&amp;gt;%
  gather(year, fertility, -country, convert = TRUE)
class(new_tidy_data$year)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;integer&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we could have also used the &lt;code&gt;mutate&lt;/code&gt; and &lt;code&gt;as.numeric&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now that the data is tidy, we can use this relatively simple ggplot code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_tidy_data %&amp;gt;% ggplot(aes(year, fertility, color = country)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;spread&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;spread&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;As we will see in later examples, it is sometimes useful for data wrangling purposes to convert tidy data into wide data. We often use this as an intermediate step in tidying up data. The &lt;code&gt;spread&lt;/code&gt; function is basically the inverse of &lt;code&gt;gather&lt;/code&gt;. The first argument is for the data, but since we are using the pipe, we don’t show it. The second argument tells &lt;code&gt;spread&lt;/code&gt; which variable will be used as the column names. The third argument specifies which variable to use to fill out the cells:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_wide_data &amp;lt;- new_tidy_data %&amp;gt;% spread(year, fertility)
select(new_wide_data, country, `1960`:`1967`)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 9
##   country     `1960` `1961` `1962` `1963` `1964` `1965` `1966` `1967`
##   &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
## 1 Germany       2.41   2.44   2.47   2.49   2.49   2.48   2.44   2.37
## 2 South Korea   6.16   5.99   5.79   5.57   5.36   5.16   4.99   4.85&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The following diagram can help remind you how these two functions work:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./11-content_files/gather-spread.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Image courtesy of RStudio&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;. CC-BY-4.0 license&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. Cropped from original.)
&lt;!-- (Source: RStudio. The image is a section of this [cheat sheet](https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf).)--&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;separate&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;separate&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The data wrangling shown above was simple compared to what is usually required. In our example spreadsheet files, we include an illustration that is slightly more complicated. It contains two variables: life expectancy and fertility. However, the way it is stored is not tidy and, as we will explain, not optimal.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;path &amp;lt;- system.file(&amp;quot;extdata&amp;quot;, package = &amp;quot;dslabs&amp;quot;)

filename &amp;lt;- &amp;quot;life-expectancy-and-fertility-two-countries-example.csv&amp;quot;
filename &amp;lt;-  file.path(path, filename)

raw_dat &amp;lt;- read_csv(filename)
select(raw_dat, 1:5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 5
##   country  `1960_fertility` `1960_life_expec… `1961_fertility` `1961_life_expec…
##   &amp;lt;chr&amp;gt;               &amp;lt;dbl&amp;gt;             &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;             &amp;lt;dbl&amp;gt;
## 1 Germany              2.41              69.3             2.44              69.8
## 2 South K…             6.16              53.0             5.99              53.8&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;First, note that the data is in wide format. Second, notice that this table includes values for two variables, fertility and life expectancy, with the column name encoding which column represents which variable. Encoding information in the column names is not recommended but, unfortunately, it is quite common. We will put our wrangling skills to work to extract this information and store it in a tidy fashion.&lt;/p&gt;
&lt;p&gt;We can start the data wrangling with the &lt;code&gt;gather&lt;/code&gt; function, but we should no longer use the column name &lt;code&gt;year&lt;/code&gt; for the new column since it also contains the variable type. We will call it &lt;code&gt;key&lt;/code&gt;, the default, for now:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- raw_dat %&amp;gt;% gather(key, value, -country)
head(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 3
##   country     key                  value
##   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;                &amp;lt;dbl&amp;gt;
## 1 Germany     1960_fertility        2.41
## 2 South Korea 1960_fertility        6.16
## 3 Germany     1960_life_expectancy 69.3 
## 4 South Korea 1960_life_expectancy 53.0 
## 5 Germany     1961_fertility        2.44
## 6 South Korea 1961_fertility        5.99&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The result is not exactly what we refer to as tidy since each observation is associated with two, not one, rows. We want to have the values from the two variables, fertility and life expectancy, in two separate columns. The first challenge to achieve this is to separate the &lt;code&gt;key&lt;/code&gt; column into the year and the variable type. Notice that the entries in this column separate the year from the variable name with an underscore:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat$key[1:5]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1960_fertility&amp;quot;       &amp;quot;1960_fertility&amp;quot;       &amp;quot;1960_life_expectancy&amp;quot;
## [4] &amp;quot;1960_life_expectancy&amp;quot; &amp;quot;1961_fertility&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Encoding multiple variables in a column name is such a common problem that the &lt;strong&gt;readr&lt;/strong&gt; package includes a function to separate these columns into two or more. Apart from the data, the &lt;code&gt;separate&lt;/code&gt; function takes three arguments: the name of the column to be separated, the names to be used for the new columns, and the character that separates the variables. So, a first attempt at this is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% separate(key, c(&amp;quot;year&amp;quot;, &amp;quot;variable_name&amp;quot;), &amp;quot;_&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because &lt;code&gt;_&lt;/code&gt; is the default separator assumed by &lt;code&gt;separate&lt;/code&gt;, we do not have to include it in the code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% separate(key, c(&amp;quot;year&amp;quot;, &amp;quot;variable_name&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Expected 2 pieces. Additional pieces discarded in 112 rows [3, 4, 7, 8,
## 11, 12, 15, 16, 19, 20, 23, 24, 27, 28, 31, 32, 35, 36, 39, 40, ...].&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 224 x 4
##    country     year  variable_name value
##    &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;         &amp;lt;dbl&amp;gt;
##  1 Germany     1960  fertility      2.41
##  2 South Korea 1960  fertility      6.16
##  3 Germany     1960  life          69.3 
##  4 South Korea 1960  life          53.0 
##  5 Germany     1961  fertility      2.44
##  6 South Korea 1961  fertility      5.99
##  7 Germany     1961  life          69.8 
##  8 South Korea 1961  life          53.8 
##  9 Germany     1962  fertility      2.47
## 10 South Korea 1962  fertility      5.79
## # … with 214 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The function does separate the values, but we run into a new problem. We receive the warning &lt;code&gt;Too many values at 112 locations:&lt;/code&gt; and that the &lt;code&gt;life_expectancy&lt;/code&gt; variable is truncated to &lt;code&gt;life&lt;/code&gt;. This is because the &lt;code&gt;_&lt;/code&gt; is used to separate &lt;code&gt;life&lt;/code&gt; and &lt;code&gt;expectancy&lt;/code&gt;, not just year and variable name! We could add a third column to catch this and let the &lt;code&gt;separate&lt;/code&gt; function know which column to &lt;em&gt;fill in&lt;/em&gt; with missing values, &lt;code&gt;NA&lt;/code&gt;, when there is no third value. Here we tell it to fill the column on the right:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;var_names &amp;lt;- c(&amp;quot;year&amp;quot;, &amp;quot;first_variable_name&amp;quot;, &amp;quot;second_variable_name&amp;quot;)
dat %&amp;gt;% separate(key, var_names, fill = &amp;quot;right&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 224 x 5
##    country     year  first_variable_name second_variable_name value
##    &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;               &amp;lt;chr&amp;gt;                &amp;lt;dbl&amp;gt;
##  1 Germany     1960  fertility           &amp;lt;NA&amp;gt;                  2.41
##  2 South Korea 1960  fertility           &amp;lt;NA&amp;gt;                  6.16
##  3 Germany     1960  life                expectancy           69.3 
##  4 South Korea 1960  life                expectancy           53.0 
##  5 Germany     1961  fertility           &amp;lt;NA&amp;gt;                  2.44
##  6 South Korea 1961  fertility           &amp;lt;NA&amp;gt;                  5.99
##  7 Germany     1961  life                expectancy           69.8 
##  8 South Korea 1961  life                expectancy           53.8 
##  9 Germany     1962  fertility           &amp;lt;NA&amp;gt;                  2.47
## 10 South Korea 1962  fertility           &amp;lt;NA&amp;gt;                  5.79
## # … with 214 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, if we read the &lt;code&gt;separate&lt;/code&gt; help file, we find that a better approach is to merge the last two variables when there is an extra separation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% separate(key, c(&amp;quot;year&amp;quot;, &amp;quot;variable_name&amp;quot;), extra = &amp;quot;merge&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 224 x 4
##    country     year  variable_name   value
##    &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;           &amp;lt;dbl&amp;gt;
##  1 Germany     1960  fertility        2.41
##  2 South Korea 1960  fertility        6.16
##  3 Germany     1960  life_expectancy 69.3 
##  4 South Korea 1960  life_expectancy 53.0 
##  5 Germany     1961  fertility        2.44
##  6 South Korea 1961  fertility        5.99
##  7 Germany     1961  life_expectancy 69.8 
##  8 South Korea 1961  life_expectancy 53.8 
##  9 Germany     1962  fertility        2.47
## 10 South Korea 1962  fertility        5.79
## # … with 214 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This achieves the separation we wanted. However, we are not done yet. We need to create a column for each variable. As we learned, the &lt;code&gt;spread&lt;/code&gt; function can do this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  separate(key, c(&amp;quot;year&amp;quot;, &amp;quot;variable_name&amp;quot;), extra = &amp;quot;merge&amp;quot;) %&amp;gt;%
  spread(variable_name, value)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 112 x 4
##    country year  fertility life_expectancy
##    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;
##  1 Germany 1960       2.41            69.3
##  2 Germany 1961       2.44            69.8
##  3 Germany 1962       2.47            70.0
##  4 Germany 1963       2.49            70.1
##  5 Germany 1964       2.49            70.7
##  6 Germany 1965       2.48            70.6
##  7 Germany 1966       2.44            70.8
##  8 Germany 1967       2.37            71.0
##  9 Germany 1968       2.28            70.6
## 10 Germany 1969       2.17            70.5
## # … with 102 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data is now in tidy format with one row for each observation with three variables: year, fertility, and life expectancy.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;unite&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;unite&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;It is sometimes useful to do the inverse of &lt;code&gt;separate&lt;/code&gt;, unite two columns into one. To demonstrate how to use &lt;code&gt;unite&lt;/code&gt;, we show code that, although &lt;em&gt;not&lt;/em&gt; the optimal approach, serves as an illustration. Suppose that we did not know about &lt;code&gt;extra&lt;/code&gt; and used this command to separate:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  separate(key, var_names, fill = &amp;quot;right&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 224 x 5
##    country     year  first_variable_name second_variable_name value
##    &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;               &amp;lt;chr&amp;gt;                &amp;lt;dbl&amp;gt;
##  1 Germany     1960  fertility           &amp;lt;NA&amp;gt;                  2.41
##  2 South Korea 1960  fertility           &amp;lt;NA&amp;gt;                  6.16
##  3 Germany     1960  life                expectancy           69.3 
##  4 South Korea 1960  life                expectancy           53.0 
##  5 Germany     1961  fertility           &amp;lt;NA&amp;gt;                  2.44
##  6 South Korea 1961  fertility           &amp;lt;NA&amp;gt;                  5.99
##  7 Germany     1961  life                expectancy           69.8 
##  8 South Korea 1961  life                expectancy           53.8 
##  9 Germany     1962  fertility           &amp;lt;NA&amp;gt;                  2.47
## 10 South Korea 1962  fertility           &amp;lt;NA&amp;gt;                  5.79
## # … with 214 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can achieve the same final result by uniting the second and third columns, then spreading the columns and renaming &lt;code&gt;fertility_NA&lt;/code&gt; to &lt;code&gt;fertility&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  separate(key, var_names, fill = &amp;quot;right&amp;quot;) %&amp;gt;%
  unite(variable_name, first_variable_name, second_variable_name) %&amp;gt;%
  spread(variable_name, value) %&amp;gt;%
  rename(fertility = fertility_NA)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 112 x 4
##    country year  fertility life_expectancy
##    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;
##  1 Germany 1960       2.41            69.3
##  2 Germany 1961       2.44            69.8
##  3 Germany 1962       2.47            70.0
##  4 Germany 1963       2.49            70.1
##  5 Germany 1964       2.49            70.7
##  6 Germany 1965       2.48            70.6
##  7 Germany 1966       2.44            70.8
##  8 Germany 1967       2.37            71.0
##  9 Germany 1968       2.28            70.6
## 10 Germany 1969       2.17            70.5
## # … with 102 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Run the following command to define the &lt;code&gt;co2_wide&lt;/code&gt; object:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;co2_wide &amp;lt;- data.frame(matrix(co2, ncol = 12, byrow = TRUE)) %&amp;gt;%
  setNames(1:12) %&amp;gt;%
  mutate(year = as.character(1959:1997))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use the gather function to wrangle this into a tidy dataset. Call the column with the CO2 measurements &lt;code&gt;co2&lt;/code&gt; and call the month column &lt;code&gt;month&lt;/code&gt;. Call the resulting object &lt;code&gt;co2_tidy&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Plot CO2 versus month with a different curve for each year using this code:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;co2_tidy %&amp;gt;% ggplot(aes(month, co2, color = year)) + geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the expected plot is not made, it is probably because &lt;code&gt;co2_tidy$month&lt;/code&gt; is not numeric:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(co2_tidy$month)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Rewrite the call to gather using an argument that assures the month column will be numeric. Then make the plot.&lt;/p&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;What do we learn from this plot?&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;CO2 measures increase monotonically from 1959 to 1997.&lt;/li&gt;
&lt;li&gt;CO2 measures are higher in the summer and the yearly average increased from 1959 to 1997.&lt;/li&gt;
&lt;li&gt;CO2 measures appear constant and random variability explains the differences.&lt;/li&gt;
&lt;li&gt;CO2 measures do not have a seasonal trend.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Now load the &lt;code&gt;admissions&lt;/code&gt; data set, which contains admission information for men and women across six majors and keep only the admitted percentage column:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;load(admissions)
dat &amp;lt;- admissions %&amp;gt;% select(-applicants)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we think of an observation as a major, and that each observation has two variables (men admitted percentage and women admitted percentage) then this is not tidy. Use the &lt;code&gt;spread&lt;/code&gt; function to wrangle into tidy shape: one row for each major.&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Now we will try a more advanced wrangling challenge. We want to wrangle the admissions data so that for each major we have 4 observations: &lt;code&gt;admitted_men&lt;/code&gt;, &lt;code&gt;admitted_women&lt;/code&gt;, &lt;code&gt;applicants_men&lt;/code&gt; and &lt;code&gt;applicants_women&lt;/code&gt;. The &lt;em&gt;trick&lt;/em&gt; we perform here is actually quite common: first gather to generate an intermediate data frame and then spread to obtain the tidy data we want. We will go step by step in this and the next two exercises.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Use the gather function to create a &lt;code&gt;tmp&lt;/code&gt; data.frame with a column containing the type of observation &lt;code&gt;admitted&lt;/code&gt; or &lt;code&gt;applicants&lt;/code&gt;. Call the new columns &lt;code&gt;key&lt;/code&gt; and value.&lt;/p&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Now you have an object &lt;code&gt;tmp&lt;/code&gt; with columns &lt;code&gt;major&lt;/code&gt;, &lt;code&gt;gender&lt;/code&gt;, &lt;code&gt;key&lt;/code&gt; and &lt;code&gt;value&lt;/code&gt;. Note that if you combine the key and gender, we get the column names we want: &lt;code&gt;admitted_men&lt;/code&gt;, &lt;code&gt;admitted_women&lt;/code&gt;, &lt;code&gt;applicants_men&lt;/code&gt; and &lt;code&gt;applicants_women&lt;/code&gt;. Use the function &lt;code&gt;unite&lt;/code&gt; to create a new column called &lt;code&gt;column_name&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the &lt;code&gt;spread&lt;/code&gt; function to generate the tidy data with four variables for each major.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the pipe to write a line of code that turns &lt;code&gt;admissions&lt;/code&gt; to the table produced in the previous exercise.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;joining-tables&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Joining tables&lt;/h1&gt;
&lt;p&gt;The information we need for a given analysis may not be just in one table. For example, when forecasting elections we used the function &lt;code&gt;left_join&lt;/code&gt; to combine the information from two tables. Here we use a simpler example to illustrate the general challenge of combining tables.&lt;/p&gt;
&lt;p&gt;Suppose we want to explore the relationship between population size for US states and electoral votes. We have the population size in this table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
data(murders)
head(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total
## 1    Alabama  AL  South    4779736   135
## 2     Alaska  AK   West     710231    19
## 3    Arizona  AZ   West    6392017   232
## 4   Arkansas  AR  South    2915918    93
## 5 California  CA   West   37253956  1257
## 6   Colorado  CO   West    5029196    65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and electoral votes in this one:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(polls_us_election_2016)
head(results_us_election_2016)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          state electoral_votes clinton trump others
## 1   California              55    61.7  31.6    6.7
## 2        Texas              38    43.2  52.2    4.5
## 3      Florida              29    47.8  49.0    3.2
## 4     New York              29    59.0  36.5    4.5
## 5     Illinois              20    55.8  38.8    5.4
## 6 Pennsylvania              20    47.9  48.6    3.6&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Just concatenating these two tables together will not work since the order of the states is not the same.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;identical(results_us_election_2016$state, murders$state)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;em&gt;join&lt;/em&gt; functions, described below, are designed to handle this challenge.&lt;/p&gt;
&lt;div id=&#34;joins&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Joins&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;join&lt;/em&gt; functions in the &lt;strong&gt;dplyr&lt;/strong&gt; package make sure that the tables are combined so that matching rows are together. If you know SQL, you will see that the approach and syntax is very similar. The general idea is that one needs to identify one or more columns that will serve to match the two tables. Then a new table with the combined information is returned. Notice what happens if we join the two tables above by state using &lt;code&gt;left_join&lt;/code&gt; (we will remove the &lt;code&gt;others&lt;/code&gt; column and rename &lt;code&gt;electoral_votes&lt;/code&gt; so that the tables fit on the page):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- left_join(murders, results_us_election_2016, by = &amp;quot;state&amp;quot;) %&amp;gt;%
  select(-others) %&amp;gt;% rename(ev = electoral_votes)
head(tab)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total ev clinton trump
## 1    Alabama  AL  South    4779736   135  9    34.4  62.1
## 2     Alaska  AK   West     710231    19  3    36.6  51.3
## 3    Arizona  AZ   West    6392017   232 11    45.1  48.7
## 4   Arkansas  AR  South    2915918    93  6    33.7  60.6
## 5 California  CA   West   37253956  1257 55    61.7  31.6
## 6   Colorado  CO   West    5029196    65  9    48.2  43.3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data has been successfully joined and we can now, for example, make a plot to explore the relationship:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggrepel)
tab %&amp;gt;% ggplot(aes(population/10^6, ev, label = abb)) +
  geom_point() +
  geom_text_repel() +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;) +
  scale_y_continuous(trans = &amp;quot;log2&amp;quot;) +
  geom_smooth(method = &amp;quot;lm&amp;quot;, se = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/11-content_files/figure-html/ev-vs-population-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see the relationship is close to linear with about 2 electoral votes for every million persons, but with very small states getting higher ratios.&lt;/p&gt;
&lt;p&gt;In practice, it is not always the case that each row in one table has a matching row in the other. For this reason, we have several versions of join. To illustrate this challenge, we will take subsets of the tables above. We create the tables &lt;code&gt;tab1&lt;/code&gt; and &lt;code&gt;tab2&lt;/code&gt; so that they have some states in common but not all:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- slice(murders, 1:6) %&amp;gt;% select(state, population)
tab_1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population
## 1    Alabama    4779736
## 2     Alaska     710231
## 3    Arizona    6392017
## 4   Arkansas    2915918
## 5 California   37253956
## 6   Colorado    5029196&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_2 &amp;lt;- results_us_election_2016 %&amp;gt;%
  filter(state%in%c(&amp;quot;Alabama&amp;quot;, &amp;quot;Alaska&amp;quot;, &amp;quot;Arizona&amp;quot;,
                    &amp;quot;California&amp;quot;, &amp;quot;Connecticut&amp;quot;, &amp;quot;Delaware&amp;quot;)) %&amp;gt;%
  select(state, electoral_votes) %&amp;gt;% rename(ev = electoral_votes)
tab_2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         state ev
## 1  California 55
## 2     Arizona 11
## 3     Alabama  9
## 4 Connecticut  7
## 5      Alaska  3
## 6    Delaware  3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will use these two tables as examples in the next sections.&lt;/p&gt;
&lt;div id=&#34;left-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Left join&lt;/h3&gt;
&lt;p&gt;Suppose we want a table like &lt;code&gt;tab_1&lt;/code&gt;, but adding electoral votes to whatever states we have available. For this, we use &lt;code&gt;left_join&lt;/code&gt; with &lt;code&gt;tab_1&lt;/code&gt; as the first argument. We specify which column to use to match with the &lt;code&gt;by&lt;/code&gt; argument.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;left_join(tab_1, tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population ev
## 1    Alabama    4779736  9
## 2     Alaska     710231  3
## 3    Arizona    6392017 11
## 4   Arkansas    2915918 NA
## 5 California   37253956 55
## 6   Colorado    5029196 NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that &lt;code&gt;NA&lt;/code&gt;s are added to the two states not appearing in &lt;code&gt;tab_2&lt;/code&gt;. Also, notice that this function, as well as all the other joins, can receive the first arguments through the pipe:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 %&amp;gt;% left_join(tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;right-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Right join&lt;/h3&gt;
&lt;p&gt;If instead of a table with the same rows as first table, we want one with the same rows as second table, we can use &lt;code&gt;right_join&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 %&amp;gt;% right_join(tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         state population ev
## 1     Alabama    4779736  9
## 2      Alaska     710231  3
## 3     Arizona    6392017 11
## 4  California   37253956 55
## 5 Connecticut         NA  7
## 6    Delaware         NA  3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now the NAs are in the column coming from &lt;code&gt;tab_1&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;inner-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Inner join&lt;/h3&gt;
&lt;p&gt;If we want to keep only the rows that have information in both tables, we use &lt;code&gt;inner_join&lt;/code&gt;. You can think of this as an intersection:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;inner_join(tab_1, tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population ev
## 1    Alabama    4779736  9
## 2     Alaska     710231  3
## 3    Arizona    6392017 11
## 4 California   37253956 55&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;full-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Full join&lt;/h3&gt;
&lt;p&gt;If we want to keep all the rows and fill the missing parts with NAs, we can use &lt;code&gt;full_join&lt;/code&gt;. You can think of this as a union:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;full_join(tab_1, tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         state population ev
## 1     Alabama    4779736  9
## 2      Alaska     710231  3
## 3     Arizona    6392017 11
## 4    Arkansas    2915918 NA
## 5  California   37253956 55
## 6    Colorado    5029196 NA
## 7 Connecticut         NA  7
## 8    Delaware         NA  3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;semi-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Semi join&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;semi_join&lt;/code&gt; function lets us keep the part of first table for which we have information in the second. It does not add the columns of the second:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;semi_join(tab_1, tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state population
## 1    Alabama    4779736
## 2     Alaska     710231
## 3    Arizona    6392017
## 4 California   37253956&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;anti-join&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Anti join&lt;/h3&gt;
&lt;p&gt;The function &lt;code&gt;anti_join&lt;/code&gt; is the opposite of &lt;code&gt;semi_join&lt;/code&gt;. It keeps the elements of the first table for which there is no information in the second:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anti_join(tab_1, tab_2, by = &amp;quot;state&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      state population
## 1 Arkansas    2915918
## 2 Colorado    5029196&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The following diagram summarizes the above joins:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./11-content_files/joins.png&#34; /&gt;
(Image courtesy of RStudio&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. CC-BY-4.0 license&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. Cropped from original.)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;binding&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Binding&lt;/h2&gt;
&lt;p&gt;Although we have yet to use it in this book, another common way in which datasets are combined is by &lt;em&gt;binding&lt;/em&gt; them. Unlike the join function, the binding functions do not try to match by a variable, but instead simply combine datasets. If the datasets don’t match by the appropriate dimensions, one obtains an error.&lt;/p&gt;
&lt;div id=&#34;binding-columns&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Binding columns&lt;/h3&gt;
&lt;p&gt;The &lt;strong&gt;dplyr&lt;/strong&gt; function &lt;em&gt;bind_cols&lt;/em&gt; binds two objects by making them columns in a tibble. For example, we quickly want to make a data frame consisting of numbers we can use.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bind_cols(a = 1:3, b = 4:6)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 2
##       a     b
##   &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;
## 1     1     4
## 2     2     5
## 3     3     6&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function requires that we assign names to the columns. Here we chose &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Note that there is an R-base function &lt;code&gt;cbind&lt;/code&gt; with the exact same functionality. An important difference is that &lt;code&gt;cbind&lt;/code&gt; can create different types of objects, while &lt;code&gt;bind_cols&lt;/code&gt; always produces a data frame.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bind_cols&lt;/code&gt; can also bind two different data frames. For example, here we break up the &lt;code&gt;tab&lt;/code&gt; data frame and then bind them back together:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- tab[, 1:3]
tab_2 &amp;lt;- tab[, 4:6]
tab_3 &amp;lt;- tab[, 7:8]
new_tab &amp;lt;- bind_cols(tab_1, tab_2, tab_3)
head(new_tab)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total ev clinton trump
## 1    Alabama  AL  South    4779736   135  9    34.4  62.1
## 2     Alaska  AK   West     710231    19  3    36.6  51.3
## 3    Arizona  AZ   West    6392017   232 11    45.1  48.7
## 4   Arkansas  AR  South    2915918    93  6    33.7  60.6
## 5 California  CA   West   37253956  1257 55    61.7  31.6
## 6   Colorado  CO   West    5029196    65  9    48.2  43.3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;binding-by-rows&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Binding by rows&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;bind_rows&lt;/code&gt; function is similar to &lt;code&gt;bind_cols&lt;/code&gt;, but binds rows instead of columns:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- tab[1:2,]
tab_2 &amp;lt;- tab[3:4,]
bind_rows(tab_1, tab_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      state abb region population total ev clinton trump
## 1  Alabama  AL  South    4779736   135  9    34.4  62.1
## 2   Alaska  AK   West     710231    19  3    36.6  51.3
## 3  Arizona  AZ   West    6392017   232 11    45.1  48.7
## 4 Arkansas  AR  South    2915918    93  6    33.7  60.6&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is based on an R-base function &lt;code&gt;rbind&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;set-operators&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Set operators&lt;/h2&gt;
&lt;p&gt;Another set of commands useful for combining datasets are the set operators. When applied to vectors, these behave as their names suggest. Examples are &lt;code&gt;intersect&lt;/code&gt;, &lt;code&gt;union&lt;/code&gt;, &lt;code&gt;setdiff&lt;/code&gt;, and &lt;code&gt;setequal&lt;/code&gt;. However, if the &lt;strong&gt;tidyverse&lt;/strong&gt;, or more specifically &lt;strong&gt;dplyr&lt;/strong&gt;, is loaded, these functions can be used on data frames as opposed to just on vectors.&lt;/p&gt;
&lt;div id=&#34;intersect&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Intersect&lt;/h3&gt;
&lt;p&gt;You can take intersections of vectors of any type, such as numeric:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;intersect(1:10, 6:15)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  6  7  8  9 10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or characters:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;intersect(c(&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;), c(&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;,&amp;quot;d&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;b&amp;quot; &amp;quot;c&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;dplyr&lt;/strong&gt; package includes an &lt;code&gt;intersect&lt;/code&gt; function that can be applied to tables with the same column names. This function returns the rows in common between two tables. To make sure we use the &lt;strong&gt;dplyr&lt;/strong&gt; version of &lt;code&gt;intersect&lt;/code&gt; rather than the base package version, we can use &lt;code&gt;dplyr::intersect&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- tab[1:5,]
tab_2 &amp;lt;- tab[3:7,]
dplyr::intersect(tab_1, tab_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total ev clinton trump
## 1    Arizona  AZ   West    6392017   232 11    45.1  48.7
## 2   Arkansas  AR  South    2915918    93  6    33.7  60.6
## 3 California  CA   West   37253956  1257 55    61.7  31.6&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;union&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Union&lt;/h3&gt;
&lt;p&gt;Similarly &lt;em&gt;union&lt;/em&gt; takes the union of vectors. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;union(1:10, 6:15)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;union(c(&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;), c(&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;,&amp;quot;d&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a&amp;quot; &amp;quot;b&amp;quot; &amp;quot;c&amp;quot; &amp;quot;d&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;dplyr&lt;/strong&gt; package includes a version of &lt;code&gt;union&lt;/code&gt; that combines all the rows of two tables with the same column names.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- tab[1:5,]
tab_2 &amp;lt;- tab[3:7,]
dplyr::union(tab_1, tab_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         state abb    region population total ev clinton trump
## 1     Alabama  AL     South    4779736   135  9    34.4  62.1
## 2      Alaska  AK      West     710231    19  3    36.6  51.3
## 3     Arizona  AZ      West    6392017   232 11    45.1  48.7
## 4    Arkansas  AR     South    2915918    93  6    33.7  60.6
## 5  California  CA      West   37253956  1257 55    61.7  31.6
## 6    Colorado  CO      West    5029196    65  9    48.2  43.3
## 7 Connecticut  CT Northeast    3574097    97  7    54.6  40.9&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;setdiff&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;setdiff&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The set difference between a first and second argument can be obtained with &lt;code&gt;setdiff&lt;/code&gt;. Unlike &lt;code&gt;intersect&lt;/code&gt; and &lt;code&gt;union&lt;/code&gt;, this function is not symmetric:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;setdiff(1:10, 6:15)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1 2 3 4 5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;setdiff(6:15, 1:10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 11 12 13 14 15&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As with the functions shown above, &lt;strong&gt;dplyr&lt;/strong&gt; has a version for data frames:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- tab[1:5,]
tab_2 &amp;lt;- tab[3:7,]
dplyr::setdiff(tab_1, tab_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     state abb region population total ev clinton trump
## 1 Alabama  AL  South    4779736   135  9    34.4  62.1
## 2  Alaska  AK   West     710231    19  3    36.6  51.3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;setequal&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;setequal&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Finally, the function &lt;code&gt;setequal&lt;/code&gt; tells us if two sets are the same, regardless of order. So notice that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;setequal(1:5, 1:6)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;setequal(1:5, 5:1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When applied to data frames that are not equal, regardless of order, the &lt;strong&gt;dplyr&lt;/strong&gt; version provides a useful message letting us know how the sets are different:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dplyr::setequal(tab_1, tab_2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Install and load the &lt;strong&gt;Lahman&lt;/strong&gt; library. This database includes data related to baseball teams. It includes summary statistics about how the players performed on offense and defense for several years. It also includes personal information about the players.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The &lt;code&gt;Batting&lt;/code&gt; data frame contains the offensive statistics for all players for many years. You can see, for example, the top 10 hitters by running this code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(Lahman)

top &amp;lt;- Batting %&amp;gt;%
  filter(yearID == 2016) %&amp;gt;%
  arrange(desc(HR)) %&amp;gt;%
  slice(1:10)

top %&amp;gt;% as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But who are these players? We see an ID, but not the names. The player names are in this table&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Master %&amp;gt;% as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see column names &lt;code&gt;nameFirst&lt;/code&gt; and &lt;code&gt;nameLast&lt;/code&gt;. Use the &lt;code&gt;left_join&lt;/code&gt; function to create a table of the top home run hitters. The table should have &lt;code&gt;playerID&lt;/code&gt;, first name, last name, and number of home runs (HR). Rewrite the object &lt;code&gt;top&lt;/code&gt; with this new table.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Now use the &lt;code&gt;Salaries&lt;/code&gt; data frame to add each player’s salary to the table you created in exercise 1. Note that salaries are different every year so make sure to filter for the year 2016, then use &lt;code&gt;right_join&lt;/code&gt;. This time show first name, last name, team, HR, and salary.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In a previous exercise, we created a tidy version of the &lt;code&gt;co2&lt;/code&gt; dataset:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;co2_wide &amp;lt;- data.frame(matrix(co2, ncol = 12, byrow = TRUE)) %&amp;gt;%
  setNames(1:12) %&amp;gt;%
  mutate(year = 1959:1997) %&amp;gt;%
  gather(month, co2, -year, convert = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We want to see if the monthly trend is changing so we are going to remove the year effects and then plot the results. We will first compute the year averages. Use the &lt;code&gt;group_by&lt;/code&gt; and &lt;code&gt;summarize&lt;/code&gt; to compute the average co2 for each year. Save in an object called &lt;code&gt;yearly_avg&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Now use the &lt;code&gt;left_join&lt;/code&gt; function to add the yearly average to the &lt;code&gt;co2_wide&lt;/code&gt; dataset. Then compute the residuals: observed co2 measure - yearly average.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make a plot of the seasonal trends by year but only after removing the year effect.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;parsing-dates-and-times&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Parsing dates and times&lt;/h1&gt;
&lt;div id=&#34;the-date-data-type&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The date data type&lt;/h2&gt;
&lt;p&gt;We have described three main types of vectors: numeric, character, and logical. In data science projects, we very often encounter variables that are dates. Although we can represent a date with a string, for example &lt;code&gt;November 2, 2017&lt;/code&gt;, once we pick a reference day, referred to as the &lt;em&gt;epoch&lt;/em&gt;, they can be converted to numbers by calculating the number of days since the epoch. Computer languages usually use January 1, 1970, as the epoch. So, for example, January 2, 2017 is day 1, December 31, 1969 is day -1, and November 2, 2017, is day 17,204.&lt;/p&gt;
&lt;p&gt;Now how should we represent dates and times when analyzing data in R? We could just use days since the epoch, but then it is almost impossible to interpret. If I tell you it’s November 2, 2017, you know what this means immediately. If I tell you it’s day 17,204, you will be quite confused. Similar problems arise with times and even more complications can appear due to time zones.&lt;/p&gt;
&lt;p&gt;For this reason, &lt;code&gt;R&lt;/code&gt; defines a data type just for dates and times. We saw an example in the polls data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
data(&amp;quot;polls_us_election_2016&amp;quot;)
polls_us_election_2016$startdate %&amp;gt;% head&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2016-11-03&amp;quot; &amp;quot;2016-11-01&amp;quot; &amp;quot;2016-11-02&amp;quot; &amp;quot;2016-11-04&amp;quot; &amp;quot;2016-11-03&amp;quot;
## [6] &amp;quot;2016-11-03&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These look like strings, but they are not:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(polls_us_election_2016$startdate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Date&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Look at what happens when we convert them to numbers:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.numeric(polls_us_election_2016$startdate) %&amp;gt;% head&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 17108 17106 17107 17109 17108 17108&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It turns them into days since the epoch. The &lt;code&gt;as.Date&lt;/code&gt; function can convert a character into a date. So to see that the epoch is day 0 we can type&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.Date(&amp;quot;1970-01-01&amp;quot;) %&amp;gt;% as.numeric&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Plotting functions, such as those in ggplot, are aware of the date format. This means that, for example, a scatterplot can use the numeric representation to decide on the position of the point, but include the string in the labels:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;polls_us_election_2016 %&amp;gt;% filter(pollster == &amp;quot;Ipsos&amp;quot; &amp;amp; state ==&amp;quot;U.S.&amp;quot;) %&amp;gt;%
  ggplot(aes(startdate, rawpoll_trump)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/11-content_files/figure-html/rawpolls-vs-time-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note in particular that the month names are displayed, a very convenient feature.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;lubridate&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The lubridate package&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;tidyverse&lt;/strong&gt; includes functionality for dealing with dates through the &lt;strong&gt;lubridate&lt;/strong&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(lubridate)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will take a random sample of dates to show some of the useful things one can do:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(2002)
dates &amp;lt;- sample(polls_us_election_2016$startdate, 10) %&amp;gt;% sort
dates&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;2016-05-31&amp;quot; &amp;quot;2016-08-08&amp;quot; &amp;quot;2016-08-19&amp;quot; &amp;quot;2016-09-22&amp;quot; &amp;quot;2016-09-27&amp;quot;
##  [6] &amp;quot;2016-10-12&amp;quot; &amp;quot;2016-10-24&amp;quot; &amp;quot;2016-10-26&amp;quot; &amp;quot;2016-10-29&amp;quot; &amp;quot;2016-10-30&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The functions &lt;code&gt;year&lt;/code&gt;, &lt;code&gt;month&lt;/code&gt; and &lt;code&gt;day&lt;/code&gt; extract those values:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tibble(date = dates,
       month = month(dates),
       day = day(dates),
       year = year(dates))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 x 4
##    date       month   day  year
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;
##  1 2016-05-31     5    31  2016
##  2 2016-08-08     8     8  2016
##  3 2016-08-19     8    19  2016
##  4 2016-09-22     9    22  2016
##  5 2016-09-27     9    27  2016
##  6 2016-10-12    10    12  2016
##  7 2016-10-24    10    24  2016
##  8 2016-10-26    10    26  2016
##  9 2016-10-29    10    29  2016
## 10 2016-10-30    10    30  2016&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also extract the month labels:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;month(dates, label = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] May Aug Aug Sep Sep Oct Oct Oct Oct Oct
## 12 Levels: Jan &amp;lt; Feb &amp;lt; Mar &amp;lt; Apr &amp;lt; May &amp;lt; Jun &amp;lt; Jul &amp;lt; Aug &amp;lt; Sep &amp;lt; ... &amp;lt; Dec&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another useful set of functions are the &lt;em&gt;parsers&lt;/em&gt; that convert strings into dates. The function &lt;code&gt;ymd&lt;/code&gt; assumes the dates are in the format YYYY-MM-DD and tries to parse as well as possible.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(20090101, &amp;quot;2009-01-02&amp;quot;, &amp;quot;2009 01 03&amp;quot;, &amp;quot;2009-1-4&amp;quot;,
       &amp;quot;2009-1, 5&amp;quot;, &amp;quot;Created on 2009 1 6&amp;quot;, &amp;quot;200901 !!! 07&amp;quot;)
ymd(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2009-01-01&amp;quot; &amp;quot;2009-01-02&amp;quot; &amp;quot;2009-01-03&amp;quot; &amp;quot;2009-01-04&amp;quot; &amp;quot;2009-01-05&amp;quot;
## [6] &amp;quot;2009-01-06&amp;quot; &amp;quot;2009-01-07&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A further complication comes from the fact that dates often come in different formats in which the order of year, month, and day are different. The preferred format is to show year (with all four digits), month (two digits), and then day, or what is called the ISO 8601. Specifically we use YYYY-MM-DD so that if we order the string, it will be ordered by date. You can see the function &lt;code&gt;ymd&lt;/code&gt; returns them in this format.&lt;/p&gt;
&lt;p&gt;But, what if you encounter dates such as “09/01/02”? This could be September 1, 2002 or January 2, 2009 or January 9, 2002.
In these cases, examining the entire vector of dates will help you determine what format it is by process of elimination. Once you know, you can use the many parses provided by &lt;strong&gt;lubridate&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For example, if the string is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- &amp;quot;09/01/02&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;ymd&lt;/code&gt; function assumes the first entry is the year, the second is the month, and the third is the day, so it converts it to:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ymd(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2009-01-02&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;mdy&lt;/code&gt; function assumes the first entry is the month, then the day, then the year:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mdy(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2002-09-01&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;em&gt;lubridate&lt;/em&gt; package provides a function for every possibility:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ydm(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2009-02-01&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;myd(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2001-09-02&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dmy(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2002-01-09&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dym(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2001-02-09&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;lubridate&lt;/strong&gt; package is also useful for dealing with times. In R base, you can get the current time typing &lt;code&gt;Sys.time()&lt;/code&gt;. The &lt;strong&gt;lubridate&lt;/strong&gt; package provides a slightly more advanced function, &lt;code&gt;now&lt;/code&gt;, that permits you to define the time zone:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in with_tz(Sys.time(), tzone): Unrecognized time zone &amp;#39;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2020-11-30 15:24:15 EST&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now(&amp;quot;GMT&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in with_tz(Sys.time(), tzone): Unrecognized time zone &amp;#39;GMT&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2020-11-30 20:24:15 GMT&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see all the available time zones with &lt;code&gt;OlsonNames()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;We can also extract hours, minutes, and seconds:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now() %&amp;gt;% hour()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in with_tz(Sys.time(), tzone): Unrecognized time zone &amp;#39;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 15&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now() %&amp;gt;% minute()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in with_tz(Sys.time(), tzone): Unrecognized time zone &amp;#39;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 24&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;now() %&amp;gt;% second()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in with_tz(Sys.time(), tzone): Unrecognized time zone &amp;#39;&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 15.79435&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The package also includes a function to parse strings into times as well as parsers for time objects that include dates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(&amp;quot;12:34:56&amp;quot;)
hms(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;12H 34M 56S&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- &amp;quot;Nov/2/2012 12:34:56&amp;quot;
mdy_hms(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2012-11-02 12:34:56 UTC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This package has many other useful functions. We describe two of these here that we find particularly useful.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;make_date&lt;/code&gt; function can be used to quickly create a date object. It takes three arguments: year, month, day, hour, minute, seconds, and time zone defaulting to the epoch values on UTC time. So create an date object representing, for example, July 6, 2019 we write:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;make_date(2019, 7, 6)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2019-07-06&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To make a vector of January 1 for the 80s we write:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;make_date(1980:1989)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;1980-01-01&amp;quot; &amp;quot;1981-01-01&amp;quot; &amp;quot;1982-01-01&amp;quot; &amp;quot;1983-01-01&amp;quot; &amp;quot;1984-01-01&amp;quot;
##  [6] &amp;quot;1985-01-01&amp;quot; &amp;quot;1986-01-01&amp;quot; &amp;quot;1987-01-01&amp;quot; &amp;quot;1988-01-01&amp;quot; &amp;quot;1989-01-01&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another very useful function is the &lt;code&gt;round_date&lt;/code&gt;. It can be used to &lt;em&gt;round&lt;/em&gt; dates to nearest year, quarter, month, week, day, hour, minutes, or seconds. So if we want to group all the polls by week of the year we can do the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;polls_us_election_2016 %&amp;gt;%
  mutate(week = round_date(startdate, &amp;quot;week&amp;quot;)) %&amp;gt;%
  group_by(week) %&amp;gt;%
  summarize(margin = mean(rawpoll_clinton - rawpoll_trump)) %&amp;gt;%
  qplot(week, margin, data = .)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/11-content_files/figure-html/poll-margin-versus-week-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/cheatsheets&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/cheatsheets&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/cheatsheets/blob/master/LICENSE&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/cheatsheets/blob/master/LICENSE&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/cheatsheets&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/cheatsheets&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/cheatsheets/blob/master/LICENSE&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/cheatsheets/blob/master/LICENSE&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Classification</title>
      <link>/content/10-content/</link>
      <pubDate>Mon, 09 Nov 2020 00:00:00 +0000</pubDate>
      <guid>/content/10-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#classification-overview&#34;&gt;Overview&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#visualization-for-classification&#34;&gt;Visualization for Classification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#a-simple-classifier&#34;&gt;A Simple Classifier&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#metrics-for-classification&#34;&gt;Metrics for Classification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#logistic-regression&#34;&gt;Logistic Regression&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#linear-regression-and-binary-responses&#34;&gt;Linear Regression and Binary Responses&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bayes-classifier&#34;&gt;Bayes Classifier&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#logistic-regression-with-glm&#34;&gt;Logistic Regression with &lt;code&gt;glm()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#roc-curves&#34;&gt;ROC Curves&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#multinomial-logistic-regression&#34;&gt;Multinomial Logistic Regression&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://trevorhastie.github.io/ISLR/ISLR%20Seventh%20Printing.pdf&#34;&gt;Chapter 4&lt;/a&gt; in &lt;em&gt;Introduction to Statistical Learning with Applications in R&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How do we make predictions about binary responses?&lt;/li&gt;
&lt;li&gt;Why should we be concerned about using simple linear regression?&lt;/li&gt;
&lt;li&gt;What is the right way to assess the accuracy of such a model?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;classification-overview&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Overview&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Classification&lt;/strong&gt; is a form of &lt;strong&gt;supervised learning&lt;/strong&gt; where the response variable is categorical, as opposed to numeric for regression. &lt;em&gt;Our goal is to find a rule, algorithm, or function which takes as input a feature vector, and outputs a category which is the true category as often as possible.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./10-content_files/classification.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;That is, the classifier &lt;span class=&#34;math inline&#34;&gt;\(\hat{C}(x)\)&lt;/span&gt; returns the predicted category &lt;span class=&#34;math inline&#34;&gt;\(\hat{y}(X)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{y}(x) = \hat{C}(x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To build our first classifier, we will use the &lt;code&gt;Default&lt;/code&gt; dataset from the &lt;code&gt;ISLR&lt;/code&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ISLR)
library(tibble)
as_tibble(Default)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10,000 x 4
##    default student balance income
##    &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;     &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1 No      No         730. 44362.
##  2 No      Yes        817. 12106.
##  3 No      No        1074. 31767.
##  4 No      No         529. 35704.
##  5 No      No         786. 38463.
##  6 No      Yes        920.  7492.
##  7 No      No         826. 24905.
##  8 No      Yes        809. 17600.
##  9 No      No        1161. 37469.
## 10 No      No           0  29275.
## # … with 9,990 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Our goal is to properly classify individuals as defaulters based on student status, credit card balance, and income. Be aware that the response &lt;code&gt;default&lt;/code&gt; is a factor, as is the predictor &lt;code&gt;student&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;is.factor(Default$default)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;is.factor(Default$student)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As we did with regression, we test-train split our data. In this case, using 50% for each.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(42069)
default_idx   = sample(nrow(Default), 5000)
default_trn = Default[default_idx, ]
default_tst = Default[-default_idx, ]&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;visualization-for-classification&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Visualization for Classification&lt;/h2&gt;
&lt;p&gt;Often, some simple visualizations can suggest simple classification rules. To quickly create some useful visualizations, we use the &lt;code&gt;featurePlot()&lt;/code&gt; function from the &lt;code&gt;caret()&lt;/code&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(caret)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A density plot can often suggest a simple split based on a numeric predictor. Essentially this plot graphs a density estimate&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{f}_{X_i}(x_i \mid Y = k)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;for each numeric predictor &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; and each category &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; of the response &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;featurePlot(x = default_trn[, c(&amp;quot;balance&amp;quot;, &amp;quot;income&amp;quot;)],
            y = default_trn$default,
            plot = &amp;quot;density&amp;quot;,
            scales = list(x = list(relation = &amp;quot;free&amp;quot;),
                          y = list(relation = &amp;quot;free&amp;quot;)),
            adjust = 1.5,
            pch = &amp;quot;|&amp;quot;,
            layout = c(2, 1),
            auto.key = list(columns = 2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Some notes about the arguments to this function:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt; is a data frame containing only &lt;strong&gt;numeric predictors&lt;/strong&gt;. It would be nonsensical to estimate a density for a categorical predictor.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; is the response variable. It needs to be a factor variable. If coded as &lt;code&gt;0&lt;/code&gt; and &lt;code&gt;1&lt;/code&gt;, you will need to coerce to factor for plotting.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot&lt;/code&gt; specifies the type of plot, here &lt;code&gt;density&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scales&lt;/code&gt; defines the scale of the axes for each plot. By default, the axis of each plot would be the same, which often is not useful, so the arguments here, a different axis for each plot, will almost always be used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adjust&lt;/code&gt; specifies the amount of smoothing used for the density estimate.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pch&lt;/code&gt; specifies the &lt;strong&gt;p&lt;/strong&gt;lot &lt;strong&gt;ch&lt;/strong&gt;aracter used for the bottom of the plot.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;layout&lt;/code&gt; places the individual plots into rows and columns. For some odd reason, it is given as (col, row).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;auto.key&lt;/code&gt; defines the key at the top of the plot. The number of columns should be the number of categories.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It seems that the income variable by itself is not particularly useful. However, there seems to be a big difference in default status at a &lt;code&gt;balance&lt;/code&gt; of about 1400. We will use this information shortly.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;featurePlot(x = default_trn[, c(&amp;quot;balance&amp;quot;, &amp;quot;income&amp;quot;)],
            y = default_trn$student,
            plot = &amp;quot;density&amp;quot;,
            scales = list(x = list(relation = &amp;quot;free&amp;quot;),
                          y = list(relation = &amp;quot;free&amp;quot;)),
            adjust = 1.5,
            pch = &amp;quot;|&amp;quot;,
            layout = c(2, 1),
            auto.key = list(columns = 2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Above, we create a similar plot, except with &lt;code&gt;student&lt;/code&gt; as the response. We see that students often carry a slightly larger balance, and have far lower income. This will be useful to know when making more complicated classifiers.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;featurePlot(x = default_trn[, c(&amp;quot;student&amp;quot;, &amp;quot;balance&amp;quot;, &amp;quot;income&amp;quot;)],
            y = default_trn$default,
            plot = &amp;quot;pairs&amp;quot;,
            auto.key = list(columns = 2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;576&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can use &lt;code&gt;plot = &#34;pairs&#34;&lt;/code&gt; to consider multiple variables at the same time. This plot reinforces using &lt;code&gt;balance&lt;/code&gt; to create a classifier, and again shows that &lt;code&gt;income&lt;/code&gt; seems not that useful.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ellipse)
featurePlot(x = default_trn[, c(&amp;quot;balance&amp;quot;, &amp;quot;income&amp;quot;)],
            y = default_trn$default,
            plot = &amp;quot;ellipse&amp;quot;,
            auto.key = list(columns = 2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;576&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Similar to &lt;code&gt;pairs&lt;/code&gt; is a plot of type &lt;code&gt;ellipse&lt;/code&gt;, which requires the &lt;code&gt;ellipse&lt;/code&gt; package. Here we only use numeric predictors, as essentially we are assuming multivariate normality. The ellipses mark points of equal density. This will be useful later when discussing LDA and QDA.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;a-simple-classifier&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;A Simple Classifier&lt;/h2&gt;
&lt;p&gt;A very simple classifier is a rule based on a boundary &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt; for a particular input variable &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(x) =
\begin{cases}
      1 &amp;amp; x &amp;gt; b \\
      0 &amp;amp; x \leq b
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Based on the first plot, we believe we can use &lt;code&gt;balance&lt;/code&gt; to create a reasonable classifier. In particular,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(\texttt{balance}) =
\begin{cases}
      \text{Yes} &amp;amp; \texttt{balance} &amp;gt; 1400 \\
      \text{No} &amp;amp; \texttt{balance} \leq 1400
   \end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So we predict an individual is a defaulter if their &lt;code&gt;balance&lt;/code&gt; is above 1400, and not a defaulter if the balance is 1400 or less.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;simple_class = function(x, boundary, above = 1, below = 0) {
  ifelse(x &amp;gt; boundary, above, below)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We write a simple &lt;code&gt;R&lt;/code&gt; function that compares a variable to a boundary, then use it to make predictions on the train and test sets with our chosen variable and boundary.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;default_trn_pred = simple_class(x = default_trn$balance,
                                boundary = 1400, above = &amp;quot;Yes&amp;quot;, below = &amp;quot;No&amp;quot;)
default_tst_pred = simple_class(x = default_tst$balance,
                                boundary = 1400, above = &amp;quot;Yes&amp;quot;, below = &amp;quot;No&amp;quot;)
head(default_tst_pred, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot; &amp;quot;No&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;metrics-for-classification&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Metrics for Classification&lt;/h2&gt;
&lt;p&gt;In the classification setting, there are a large number of metrics to assess how well a classifier is performing.&lt;/p&gt;
&lt;p&gt;One of the most obvious things to do is arrange predictions and true values in a cross table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(trn_tab = table(predicted = default_trn_pred, actual = default_trn$default))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          actual
## predicted   No  Yes
##       No  4361   24
##       Yes  464  151&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(tst_tab = table(predicted = default_tst_pred, actual = default_tst$default))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          actual
## predicted   No  Yes
##       No  4319   28
##       Yes  523  130&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Often we give specific names to individual cells of these tables, and in the predictive setting, we would call this table a &lt;a href=&#34;https://en.wikipedia.org/wiki/Confusion_matrix&#34;&gt;&lt;strong&gt;confusion matrix&lt;/strong&gt;&lt;/a&gt;. Be aware, that the placement of Actual and Predicted values affects the names of the cells, and often the matrix may be presented transposed.&lt;/p&gt;
&lt;p&gt;In statistics, we label the errors Type I and Type II, but these are hard to remember. False Positive and False Negative are more descriptive, so we choose to use these.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;images/confusion.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;confusionMatrix()&lt;/code&gt; function from the &lt;code&gt;caret&lt;/code&gt; package can be used to obtain a wealth of additional information, which we see output below for the test data. Note that we specify which category is considered “positive.”&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;trn_con_mat  = confusionMatrix(trn_tab, positive = &amp;quot;Yes&amp;quot;)
(tst_con_mat = confusionMatrix(tst_tab, positive = &amp;quot;Yes&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Confusion Matrix and Statistics
## 
##          actual
## predicted   No  Yes
##       No  4319   28
##       Yes  523  130
##                                           
##                Accuracy : 0.8898          
##                  95% CI : (0.8808, 0.8984)
##     No Information Rate : 0.9684          
##     P-Value [Acc &amp;gt; NIR] : 1               
##                                           
##                   Kappa : 0.2842          
##                                           
##  Mcnemar&amp;#39;s Test P-Value : &amp;lt;2e-16          
##                                           
##             Sensitivity : 0.8228          
##             Specificity : 0.8920          
##          Pos Pred Value : 0.1991          
##          Neg Pred Value : 0.9936          
##              Prevalence : 0.0316          
##          Detection Rate : 0.0260          
##    Detection Prevalence : 0.1306          
##       Balanced Accuracy : 0.8574          
##                                           
##        &amp;#39;Positive&amp;#39; Class : Yes             
## &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The most common, and most important metric is the &lt;strong&gt;classification error rate&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{err}(\hat{C}, \text{Data}) = \frac{1}{n}\sum_{i = 1}^{n}I(y_i \neq \hat{C}(x_i))
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here, &lt;span class=&#34;math inline&#34;&gt;\(I\)&lt;/span&gt; is an indicator function, so we are essentially calculating the proportion of predicted classes that match the true class.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
I(y_i \neq \hat{C}(x)) =
\begin{cases}
  1 &amp;amp; y_i \neq \hat{C}(x) \\
  0 &amp;amp; y_i = \hat{C}(x) \\
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;It is also common to discuss the &lt;strong&gt;accuracy&lt;/strong&gt;, which is simply one minus the error.&lt;/p&gt;
&lt;p&gt;Like regression, we often split the data, and then consider Train (Classification) Error and Test (Classification) Error will be used as a measure of how well a classifier will work on unseen future data.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{err}_{\texttt{trn}}(\hat{C}, \text{Train Data}) = \frac{1}{n_{\texttt{trn}}}\sum_{i \in \texttt{trn}}^{}I(y_i \neq \hat{C}(x_i))
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{err}_{\texttt{tst}}(\hat{C}, \text{Test Data}) = \frac{1}{n_{\texttt{tst}}}\sum_{i \in \texttt{tst}}^{}I(y_i \neq \hat{C}(x_i))
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Accuracy values can be found by calling &lt;code&gt;confusionMatrix()&lt;/code&gt;, or, if stored, can be accessed directly. Here, we use them to obtain error rates.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1 - trn_con_mat$overall[&amp;quot;Accuracy&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Accuracy 
##   0.0976&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1 - tst_con_mat$overall[&amp;quot;Accuracy&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Accuracy 
##   0.1102&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sometimes guarding against making certain errors, FP or FN, are more important than simply finding the best accuracy. Thus, sometimes we will consider &lt;strong&gt;sensitivity&lt;/strong&gt; and &lt;strong&gt;specificity&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{Sens} = \text{True Positive Rate} = \frac{\text{TP}}{\text{P}} = \frac{\text{TP}}{\text{TP + FN}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tst_con_mat$byClass[&amp;quot;Sensitivity&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Sensitivity 
##   0.8227848&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{Spec} = \text{True Negative Rate} = \frac{\text{TN}}{\text{N}} = \frac{\text{TN}}{\text{TN + FP}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tst_con_mat$byClass[&amp;quot;Specificity&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Specificity 
##   0.8919868&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Like accuracy, these can easily be found using &lt;code&gt;confusionMatrix()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When considering how well a classifier is performing, often, it is understandable to assume that any accuracy in a binary classification problem above 0.50, is a reasonable classifier. This however is not the case. We need to consider the &lt;strong&gt;balance&lt;/strong&gt; of the classes. To do so, we look at the &lt;strong&gt;prevalence&lt;/strong&gt; of positive cases.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{Prev} = \frac{\text{P}}{\text{Total Obs}}= \frac{\text{TP + FN}}{\text{Total Obs}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;trn_con_mat$byClass[&amp;quot;Prevalence&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Prevalence 
##      0.035&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tst_con_mat$byClass[&amp;quot;Prevalence&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Prevalence 
##     0.0316&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here, we see an extremely low prevalence, which suggests an even simpler classifier than our current based on &lt;code&gt;balance&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(\texttt{balance}) =
\begin{cases}
      \text{No} &amp;amp; \texttt{balance} &amp;gt; 1400 \\
      \text{No} &amp;amp; \texttt{balance} \leq 1400
   \end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This classifier simply classifies all observations as negative cases.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pred_all_no = simple_class(default_tst$balance,
                           boundary = 1400, above = &amp;quot;No&amp;quot;, below = &amp;quot;No&amp;quot;)
table(predicted = pred_all_no, actual = default_tst$default)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          actual
## predicted   No  Yes
##        No 4842  158&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;confusionMatrix()&lt;/code&gt; function won’t even accept this table as input, because it isn’t a full matrix, only one row, so we calculate error rates directly. To do so, we write a function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_class_err = function(actual, predicted) {
  mean(actual != predicted)
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_class_err(actual = default_tst$default,
               predicted = pred_all_no)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0316&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we see that the error rate is exactly the prevelance of the minority class.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;table(default_tst$default) / length(default_tst$default)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##     No    Yes 
## 0.9684 0.0316&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This classifier does better than the previous. But the point is, in reality, to create a good classifier, we should obtain a test error better than 0.033, which is obtained by simply manipulating the prevalences. Next section, we’ll introduce much better classifiers which should have no problem accomplishing this task.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;logistic-regression&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Logistic Regression&lt;/h1&gt;
&lt;p&gt;In this section, we continue our discussion of classification. We introduce our first model for classification, logistic regression. To begin, we return to the &lt;code&gt;Default&lt;/code&gt; dataset from above.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ISLR)
library(tibble)
as_tibble(Default)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10,000 x 4
##    default student balance income
##    &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;     &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1 No      No         730. 44362.
##  2 No      Yes        817. 12106.
##  3 No      No        1074. 31767.
##  4 No      No         529. 35704.
##  5 No      No         786. 38463.
##  6 No      Yes        920.  7492.
##  7 No      No         826. 24905.
##  8 No      Yes        809. 17600.
##  9 No      No        1161. 37469.
## 10 No      No           0  29275.
## # … with 9,990 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We also repeat the test-train split from above (you need not repeat this step if you have this saved).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(42)
default_idx = sample(nrow(Default), 5000)
default_trn = Default[default_idx, ]
default_tst = Default[-default_idx, ]&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;linear-regression-and-binary-responses&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Linear Regression and Binary Responses&lt;/h2&gt;
&lt;p&gt;Before moving on to logistic regression, why not plain, old, linear regression?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;default_trn_lm = default_trn
default_tst_lm = default_tst&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Since linear regression expects a numeric response variable, we coerce the response to be numeric. (Notice that we also shift the results, as we require &lt;code&gt;0&lt;/code&gt; and &lt;code&gt;1&lt;/code&gt;, not &lt;code&gt;1&lt;/code&gt; and &lt;code&gt;2&lt;/code&gt;.) Notice we have also copied the dataset so that we can return the original data with factors later.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;default_trn_lm$default = as.numeric(default_trn_lm$default) - 1
default_tst_lm$default = as.numeric(default_tst_lm$default) - 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Why would we think this should work? Recall that,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{\mathbb{E}}[Y \mid X = x] = X\hat{\beta}.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; is limited to values of &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;, we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}[Y \mid X = x] = P(Y = 1 \mid X = x).
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;It would then seem reasonable that &lt;span class=&#34;math inline&#34;&gt;\(\mathbf{X}\hat{\beta}\)&lt;/span&gt; is a reasonable estimate of &lt;span class=&#34;math inline&#34;&gt;\(P(Y = 1 \mid X = x)\)&lt;/span&gt;. We test this on the &lt;code&gt;Default&lt;/code&gt; data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_lm = lm(default ~ balance, data = default_trn_lm)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Everything seems to be working, until we plot the results.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(default ~ balance, data = default_trn_lm,
     col = &amp;quot;darkorange&amp;quot;, pch = &amp;quot;|&amp;quot;, ylim = c(-0.2, 1),
     main = &amp;quot;Using Linear Regression for Classification&amp;quot;)
abline(h = 0, lty = 3)
abline(h = 1, lty = 3)
abline(h = 0.5, lty = 2)
abline(model_lm, lwd = 3, col = &amp;quot;dodgerblue&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-28-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Two issues arise. First, all of the predicted probabilities are below 0.5. That means, we would classify every observation as a &lt;code&gt;&#34;No&#34;&lt;/code&gt;. This is certainly possible, but not what we would expect.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;all(predict(model_lm) &amp;lt; 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The next, and bigger issue, is predicted probabilities less than 0.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;any(predict(model_lm) &amp;lt; 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;bayes-classifier&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Bayes Classifier&lt;/h2&gt;
&lt;p&gt;Why are we using a predicted probability of 0.5 as the cutoff for classification? Recall, the Bayes Classifier, which minimizes the classification error:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
C^B(x) = \underset{g}{\mathrm{argmax}} \ P(Y = g \mid  X = x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, in the binary classification problem, we will use predicted probabilities&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{p}(x) = \hat{P}(Y = 1 \mid { X = x})
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{P}(Y = 0 \mid { X = x})
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and then classify to the larger of the two. We actually only need to consider a single probability, usually &lt;span class=&#34;math inline&#34;&gt;\(\hat{P}(Y = 1 \mid { X = x})\)&lt;/span&gt;. Since we use it so often, we give it the shorthand notation, &lt;span class=&#34;math inline&#34;&gt;\(\hat{p}(x)\)&lt;/span&gt;. Then the classifier is written,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(x) =
\begin{cases}
      1 &amp;amp; \hat{p}(x) &amp;gt; 0.5 \\
      0 &amp;amp; \hat{p}(x) \leq 0.5
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This classifier is essentially estimating the Bayes Classifier, thus, is seeking to minimize classification errors.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;logistic-regression-with-glm&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Logistic Regression with &lt;code&gt;glm()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;To better estimate the probability&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
p(x) = P(Y = 1 \mid {X = x})
\]&lt;/span&gt;
we turn to logistic regression. The model is written&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\log\left(\frac{p(x)}{1 - p(x)}\right) = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots  + \beta_p x_p.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Rearranging, we see the probabilities can be written as&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
p(x) = \frac{1}{1 + e^{-(\beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots  + \beta_p x_p)}} = \sigma(\beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots  + \beta_p x_p)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Notice, we use the sigmoid function as shorthand notation, which appears often in deep learning literature. It takes any real input, and outputs a number between 0 and 1. How useful! (This is actualy a particular sigmoid function called the logistic function, but since it is by far the most popular sigmoid function, often sigmoid function is used to refer to the logistic function)&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\sigma(x) = \frac{e^x}{1 + e^x} = \frac{1}{1 + e^{-x}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The model is fit by numerically maximizing the likelihood, which we will let &lt;code&gt;R&lt;/code&gt; take care of.&lt;/p&gt;
&lt;p&gt;We start with a single predictor example, again using &lt;code&gt;balance&lt;/code&gt; as our single predictor.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_glm = glm(default ~ balance, data = default_trn, family = &amp;quot;binomial&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Fitting this model looks very similar to fitting a simple linear regression. Instead of &lt;code&gt;lm()&lt;/code&gt; we use &lt;code&gt;glm()&lt;/code&gt;. The only other difference is the use of &lt;code&gt;family = &#34;binomial&#34;&lt;/code&gt; which indicates that we have a two-class categorical response. Using &lt;code&gt;glm()&lt;/code&gt; with &lt;code&gt;family = &#34;gaussian&#34;&lt;/code&gt; would perform the usual linear regression.&lt;/p&gt;
&lt;p&gt;First, we can obtain the fitted coefficients the same way we did with linear regression.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;coef(model_glm)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   (Intercept)       balance 
## -10.493158288   0.005424994&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The next thing we should understand is how the &lt;code&gt;predict()&lt;/code&gt; function works with &lt;code&gt;glm()&lt;/code&gt;. So, let’s look at some predictions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(predict(model_glm))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      2369      5273      9290      1252      8826       356 
## -5.376670 -4.875653 -5.018746 -4.007664 -6.538414 -6.601582&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, &lt;code&gt;predict.glm()&lt;/code&gt; uses &lt;code&gt;type = &#34;link&#34;&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(predict(model_glm, type = &amp;quot;link&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      2369      5273      9290      1252      8826       356 
## -5.376670 -4.875653 -5.018746 -4.007664 -6.538414 -6.601582&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, &lt;code&gt;R&lt;/code&gt; is returning&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{\beta}_0 + \hat{\beta}_1 x_1 + \hat{\beta}_2 x_2 + \cdots  + \hat{\beta}_p x_p
\]&lt;/span&gt;
for each observation.&lt;/p&gt;
&lt;p&gt;Importantly, these are &lt;strong&gt;not&lt;/strong&gt; predicted probabilities. To obtain the predicted probabilities&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{p}(x) = \hat{P}(Y = 1 \mid X = x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;we need to use &lt;code&gt;type = &#34;response&#34;&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(predict(model_glm, type = &amp;quot;response&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        2369        5273        9290        1252        8826         356 
## 0.004601914 0.007572331 0.006569370 0.017851333 0.001444691 0.001356375&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that these are probabilities, &lt;strong&gt;not&lt;/strong&gt; classifications. To obtain classifications, we will need to compare to the correct cutoff value with an &lt;code&gt;ifelse()&lt;/code&gt; statement.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_glm_pred = ifelse(predict(model_glm, type = &amp;quot;link&amp;quot;) &amp;gt; 0, &amp;quot;Yes&amp;quot;, &amp;quot;No&amp;quot;)
# model_glm_pred = ifelse(predict(model_glm, type = &amp;quot;response&amp;quot;) &amp;gt; 0.5, &amp;quot;Yes&amp;quot;, &amp;quot;No&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The line that is run is performing&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(x) =
\begin{cases}
      1 &amp;amp; \hat{f}(x) &amp;gt; 0 \\
      0 &amp;amp; \hat{f}(x) \leq 0
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{f}(x) =\hat{\beta}_0 + \hat{\beta}_1 x_1 + \hat{\beta}_2 x_2 + \cdots  + \hat{\beta}_p x_p.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The commented line, which would give the same results, is performing&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(x) =
\begin{cases}
      1 &amp;amp; \hat{p}(x) &amp;gt; 0.5 \\
      0 &amp;amp; \hat{p}(x) \leq 0.5
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{p}(x) = \hat{P}(Y = 1 \mid X = x).
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once we have classifications, we can calculate metrics such as the trainging classification error rate.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_class_err = function(actual, predicted) {
  mean(actual != predicted)
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_class_err(actual = default_trn$default, predicted = model_glm_pred)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0284&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As we saw previously, the &lt;code&gt;table()&lt;/code&gt; and &lt;code&gt;confusionMatrix()&lt;/code&gt; functions can be used to quickly obtain many more metrics.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;train_tab = table(predicted = model_glm_pred, actual = default_trn$default)
library(caret)
train_con_mat = confusionMatrix(train_tab, positive = &amp;quot;Yes&amp;quot;)
c(train_con_mat$overall[&amp;quot;Accuracy&amp;quot;],
  train_con_mat$byClass[&amp;quot;Sensitivity&amp;quot;],
  train_con_mat$byClass[&amp;quot;Specificity&amp;quot;])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    Accuracy Sensitivity Specificity 
##   0.9716000   0.2941176   0.9954451&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could also write a custom function for the error for use with trained logist regression models.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_logistic_error = function(mod, data, res = &amp;quot;y&amp;quot;, pos = 1, neg = 0, cut = 0.5) {
  probs = predict(mod, newdata = data, type = &amp;quot;response&amp;quot;)
  preds = ifelse(probs &amp;gt; cut, pos, neg)
  calc_class_err(actual = data[, res], predicted = preds)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function will be useful later when calculating train and test errors for several models at the same time.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_logistic_error(model_glm, data = default_trn,
                   res = &amp;quot;default&amp;quot;, pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0284&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see how much better logistic regression is for this task, we create the same plot we used for linear regression.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(default ~ balance, data = default_trn_lm,
     col = &amp;quot;darkorange&amp;quot;, pch = &amp;quot;|&amp;quot;, ylim = c(-0.2, 1),
     main = &amp;quot;Using Logistic Regression for Classification&amp;quot;)
abline(h = 0, lty = 3)
abline(h = 1, lty = 3)
abline(h = 0.5, lty = 2)
curve(predict(model_glm, data.frame(balance = x), type = &amp;quot;response&amp;quot;),
      add = TRUE, lwd = 3, col = &amp;quot;dodgerblue&amp;quot;)
abline(v = -coef(model_glm)[1] / coef(model_glm)[2], lwd = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-42-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot contains a wealth of information.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The orange &lt;code&gt;|&lt;/code&gt; characters are the data, &lt;span class=&#34;math inline&#34;&gt;\((x_i, y_i)\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;The blue “curve” is the predicted probabilities given by the fitted logistic regression. That is,
&lt;span class=&#34;math display&#34;&gt;\[
\hat{p}(x) = \hat{P}(Y = 1 \mid { X = x})
\]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;The solid vertical black line represents the &lt;strong&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Decision_boundary&#34;&gt;decision boundary&lt;/a&gt;&lt;/strong&gt;, the &lt;code&gt;balance&lt;/code&gt; that obtains a predicted probability of 0.5. In this case &lt;code&gt;balance&lt;/code&gt; = 1934.2247145.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The decision boundary is found by solving for points that satisfy&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{p}(x) = \hat{P}(Y = 1 \mid { X = x}) = 0.5
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is equivalent to point that satisfy&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{\beta}_0 + \hat{\beta}_1 x_1 = 0.
\]&lt;/span&gt;
Thus, for logistic regression with a single predictor, the decision boundary is given by the &lt;em&gt;point&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
x_1 = \frac{-\hat{\beta}_0}{\hat{\beta}_1}.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The following is not run, but an alternative way to add the logistic curve to the plot.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;grid = seq(0, max(default_trn$balance), by = 0.01)

sigmoid = function(x) {
  1 / (1 + exp(-x))
}

lines(grid, sigmoid(coef(model_glm)[1] + coef(model_glm)[2] * grid), lwd = 3)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the usual formula syntax, it is easy to add or remove complexity from logistic regressions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_1 = glm(default ~ 1, data = default_trn, family = &amp;quot;binomial&amp;quot;)
model_2 = glm(default ~ ., data = default_trn, family = &amp;quot;binomial&amp;quot;)
model_3 = glm(default ~ . ^ 2 + I(balance ^ 2),
              data = default_trn, family = &amp;quot;binomial&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that, using polynomial transformations of predictors will allow a linear model to have non-linear decision boundaries.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_list = list(model_1, model_2, model_3)
train_errors = sapply(model_list, get_logistic_error, data = default_trn,
                      res = &amp;quot;default&amp;quot;, pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.5)
test_errors  = sapply(model_list, get_logistic_error, data = default_tst,
                      res = &amp;quot;default&amp;quot;, pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we see the misclassification error rates for each model. The train decreases, and the test decreases, until it starts to increases. Everything we learned about the bias-variance tradeoff for regression also applies here.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diff(train_errors)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -0.0066  0.0000&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diff(test_errors)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -0.0068  0.0006&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We call &lt;code&gt;model_2&lt;/code&gt; the &lt;strong&gt;additive&lt;/strong&gt; logistic model, which we will use quite often.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;roc-curves&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;ROC Curves&lt;/h2&gt;
&lt;p&gt;Let’s return to our simple model with only balance as a predictor.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_glm = glm(default ~ balance, data = default_trn, family = &amp;quot;binomial&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We write a function which allows use to make predictions based on different probability cutoffs.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_logistic_pred = function(mod, data, res = &amp;quot;y&amp;quot;, pos = 1, neg = 0, cut = 0.5) {
  probs = predict(mod, newdata = data, type = &amp;quot;response&amp;quot;)
  ifelse(probs &amp;gt; cut, pos, neg)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{C}(x) =
\begin{cases}
      1 &amp;amp; \hat{p}(x) &amp;gt; c \\
      0 &amp;amp; \hat{p}(x) \leq c
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s use this to obtain predictions using a low, medium, and high cutoff. (0.1, 0.5, and 0.9)&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_pred_10 = get_logistic_pred(model_glm, data = default_tst, res = &amp;quot;default&amp;quot;,
                                 pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.1)
test_pred_50 = get_logistic_pred(model_glm, data = default_tst, res = &amp;quot;default&amp;quot;,
                                 pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.5)
test_pred_90 = get_logistic_pred(model_glm, data = default_tst, res = &amp;quot;default&amp;quot;,
                                 pos = &amp;quot;Yes&amp;quot;, neg = &amp;quot;No&amp;quot;, cut = 0.9)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we evaluate accuracy, sensitivity, and specificity for these classifiers.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;test_tab_10 = table(predicted = test_pred_10, actual = default_tst$default)
test_tab_50 = table(predicted = test_pred_50, actual = default_tst$default)
test_tab_90 = table(predicted = test_pred_90, actual = default_tst$default)

test_con_mat_10 = confusionMatrix(test_tab_10, positive = &amp;quot;Yes&amp;quot;)
test_con_mat_50 = confusionMatrix(test_tab_50, positive = &amp;quot;Yes&amp;quot;)
test_con_mat_90 = confusionMatrix(test_tab_90, positive = &amp;quot;Yes&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;metrics = rbind(

  c(test_con_mat_10$overall[&amp;quot;Accuracy&amp;quot;],
    test_con_mat_10$byClass[&amp;quot;Sensitivity&amp;quot;],
    test_con_mat_10$byClass[&amp;quot;Specificity&amp;quot;]),

  c(test_con_mat_50$overall[&amp;quot;Accuracy&amp;quot;],
    test_con_mat_50$byClass[&amp;quot;Sensitivity&amp;quot;],
    test_con_mat_50$byClass[&amp;quot;Specificity&amp;quot;]),

  c(test_con_mat_90$overall[&amp;quot;Accuracy&amp;quot;],
    test_con_mat_90$byClass[&amp;quot;Sensitivity&amp;quot;],
    test_con_mat_90$byClass[&amp;quot;Specificity&amp;quot;])

)

rownames(metrics) = c(&amp;quot;c = 0.10&amp;quot;, &amp;quot;c = 0.50&amp;quot;, &amp;quot;c = 0.90&amp;quot;)
metrics&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          Accuracy Sensitivity Specificity
## c = 0.10   0.9328  0.71779141   0.9400455
## c = 0.50   0.9730  0.31288344   0.9952450
## c = 0.90   0.9688  0.04294479   1.0000000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We see then sensitivity decreases as the cutoff is increased. Conversely, specificity increases as the cutoff increases. This is useful if we are more interested in a particular error, instead of giving them equal weight.&lt;/p&gt;
&lt;p&gt;Note that usually the best accuracy will be seen near &lt;span class=&#34;math inline&#34;&gt;\(c = 0.50\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Instead of manually checking cutoffs, we can create an ROC curve (receiver operating characteristic curve) which will sweep through all possible cutoffs, and plot the sensitivity and specificity.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(pROC)
test_prob = predict(model_glm, newdata = default_tst, type = &amp;quot;response&amp;quot;)
test_roc = roc(default_tst$default ~ test_prob, plot = TRUE, print.auc = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/10-content_files/figure-html/unnamed-chunk-52-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.numeric(test_roc$auc)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9492866&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A good model will have a high AUC, that is as often as possible a high sensitivity and specificity.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;multinomial-logistic-regression&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Multinomial Logistic Regression&lt;/h2&gt;
&lt;p&gt;What if the response contains more than two categories? For that we need multinomial logistic regression.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
P(Y = k \mid { X = x}) = \frac{e^{\beta_{0k} + \beta_{1k} x_1 + \cdots +  + \beta_{pk} x_p}}{\sum_{g = 1}^{G} e^{\beta_{0g} + \beta_{1g} x_1 + \cdots + \beta_{pg} x_p}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will omit the details, as ISL has as well. If you are interested, the &lt;a href=&#34;https://en.wikipedia.org/wiki/Multinomial_logistic_regression&#34;&gt;Wikipedia page&lt;/a&gt; provides a rather thorough coverage. Also note that the above is an example of the &lt;a href=&#34;https://en.wikipedia.org/wiki/Softmax_function&#34;&gt;softmax function&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As an example of a dataset with a three category response, we use the &lt;code&gt;iris&lt;/code&gt; dataset, which is so famous, it has its own &lt;a href=&#34;https://en.wikipedia.org/wiki/Iris_flower_data_set&#34;&gt;Wikipedia entry&lt;/a&gt;. It is also a default dataset in &lt;code&gt;R&lt;/code&gt;, so no need to load it.&lt;/p&gt;
&lt;p&gt;Before proceeding, we test-train split this data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(430)
iris_obs = nrow(iris)
iris_idx = sample(iris_obs, size = trunc(0.50 * iris_obs))
iris_trn = iris[iris_idx, ]
iris_test = iris[-iris_idx, ]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To perform multinomial logistic regression, we use the &lt;code&gt;multinom&lt;/code&gt; function from the &lt;code&gt;nnet&lt;/code&gt; package. Training using &lt;code&gt;multinom()&lt;/code&gt; is done using similar syntax to &lt;code&gt;lm()&lt;/code&gt; and &lt;code&gt;glm()&lt;/code&gt;. We add the &lt;code&gt;trace = FALSE&lt;/code&gt; argument to suppress information about updates to the optimization routine as the model is trained.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(nnet)
model_multi = multinom(Species ~ ., data = iris_trn, trace = FALSE)
summary(model_multi)$coefficients&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##            (Intercept) Sepal.Length Sepal.Width Petal.Length Petal.Width
## versicolor    16.77474    -7.855576   -13.98668     25.13860    4.270375
## virginica    -33.94895   -37.519645   -94.22846     97.82691   73.487162&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice we are only given coefficients for two of the three class, much like only needing coefficients for one class in logistic regression.&lt;/p&gt;
&lt;p&gt;A difference between &lt;code&gt;glm()&lt;/code&gt; and &lt;code&gt;multinom()&lt;/code&gt; is how the &lt;code&gt;predict()&lt;/code&gt; function operates.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(predict(model_multi, newdata = iris_trn))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] setosa     versicolor versicolor setosa     virginica  versicolor
## Levels: setosa versicolor virginica&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(predict(model_multi, newdata = iris_trn, type = &amp;quot;prob&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           setosa   versicolor     virginica
## 1   1.000000e+00 1.910554e-16 6.118616e-176
## 92  8.542846e-22 1.000000e+00  1.372168e-18
## 77  8.343856e-23 1.000000e+00  2.527471e-14
## 38  1.000000e+00 1.481126e-16 5.777917e-180
## 108 1.835279e-73 1.403654e-36  1.000000e+00
## 83  1.256090e-16 1.000000e+00  2.223689e-32&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that by default, classifications are returned. When obtaining probabilities, we are given the predicted probability for &lt;strong&gt;each&lt;/strong&gt; class.&lt;/p&gt;
&lt;p&gt;Interestingly, you’ve just fit a neural network, and you didn’t even know it! (Hence the &lt;code&gt;nnet&lt;/code&gt; package.) Later we will discuss the connections between logistic regression, multinomial logistic regression, and simple neural networks.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>The Bias-Variance Tradeoff</title>
      <link>/content/09-content/</link>
      <pubDate>Thu, 05 Nov 2020 00:00:00 +0000</pubDate>
      <guid>/content/09-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-biasvariance-tradeoff&#34;&gt;The Bias–Variance Tradeoff&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#r-setup-and-source&#34;&gt;R Setup and Source&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-regression-setup&#34;&gt;The Regression Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#reducible-and-irreducible-error&#34;&gt;Reducible and Irreducible Error&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bias-variance-decomposition&#34;&gt;Bias-Variance Decomposition&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#using-simulation-to-estimate-bias-and-variance&#34;&gt;Using Simulation to Estimate Bias and Variance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#estimating-expected-prediction-error&#34;&gt;Estimating Expected Prediction Error&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#model-flexibility&#34;&gt;Model Flexibility&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#linear-models&#34;&gt;Linear Models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#k-nearest-neighbors&#34;&gt;k-Nearest Neighbors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#decision-trees&#34;&gt;Decision Trees&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://trevorhastie.github.io/ISLR/ISLR%20Seventh%20Printing.pdf&#34;&gt;Chapter 2&lt;/a&gt; in &lt;em&gt;Introduction to Statistical Learning with Applications in R&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;What is the relationship between &lt;strong&gt;bias&lt;/strong&gt;, &lt;strong&gt;variance&lt;/strong&gt;, and &lt;strong&gt;mean squared error?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;What is the relationship between &lt;strong&gt;model flexibility&lt;/strong&gt; and training error?&lt;/li&gt;
&lt;li&gt;What is the relationship between &lt;strong&gt;model flexibility&lt;/strong&gt; and validation (or test) error?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-biasvariance-tradeoff&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;The Bias–Variance Tradeoff&lt;/h1&gt;
&lt;p&gt;This lecture will begin to dig into some theoretical details of estimating regression functions, in particular how the &lt;strong&gt;bias-variance tradeoff&lt;/strong&gt; helps explain the relationship between &lt;strong&gt;model flexibility&lt;/strong&gt; and the errors a model makes.&lt;/p&gt;
&lt;p&gt;This content is currently &lt;strong&gt;under construction&lt;/strong&gt;. You can expect it to be a lot less polished than other sections.&lt;/p&gt;
&lt;p&gt;Don’t freak out if this seems mathematically overwhelming. We’ll walk through relatively slowly. It’s not super important to follow the nitty-gritty details; but the broad takeaways are quite important.&lt;/p&gt;
&lt;div id=&#34;r-setup-and-source&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;R Setup and Source&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tibble)     # data frame printing
library(dplyr)      # data manipulation

library(caret)      # fitting knn
library(rpart)      # fitting trees
library(rpart.plot) # plotting trees&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;the-regression-setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The Regression Setup&lt;/h2&gt;
&lt;p&gt;Consider the general regression setup where we are given a random pair &lt;span class=&#34;math inline&#34;&gt;\((X, Y) \in \mathbb{R}^p \times \mathbb{R}\)&lt;/span&gt;. We would like to “predict” &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; with some function of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, say, &lt;span class=&#34;math inline&#34;&gt;\(f(X)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;To clarify what we mean by “predict,” we specify that we would like &lt;span class=&#34;math inline&#34;&gt;\(f(X)\)&lt;/span&gt; to be “close” to &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;. To further clarify what we mean by “close,” we define the &lt;strong&gt;squared error loss&lt;/strong&gt; of estimating &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(f(X)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
L(Y, f(X)) \triangleq (Y - f(X)) ^ 2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now we can clarify the goal of regression, which is to minimize the above loss, on average. We call this the &lt;strong&gt;risk&lt;/strong&gt; of estimating &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(f(X)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
R(Y, f(X)) \triangleq \mathbb{E}[L(Y, f(X))] = \mathbb{E}_{X, Y}[(Y - f(X)) ^ 2]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Before attempting to minimize the risk, we first re-write the risk after conditioning on &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}_{X, Y} \left[ (Y - f(X)) ^ 2 \right] = \mathbb{E}_{X} \mathbb{E}_{Y \mid X} \left[ ( Y - f(X) ) ^ 2 \mid X = x \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Minimizing the right-hand side is much easier, as it simply amounts to minimizing the inner expectation with respect to &lt;span class=&#34;math inline&#34;&gt;\(Y \mid X\)&lt;/span&gt;, essentially minimizing the risk pointwise, for each &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;It turns out, that the risk is minimized by setting &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; to be equal the conditional mean of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; given &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
f(x) = \mathbb{E}(Y \mid X = x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which we call the &lt;strong&gt;regression function&lt;/strong&gt;.&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that the choice of squared error loss is somewhat arbitrary. Suppose instead we chose absolute error loss.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
L(Y, f(X)) \triangleq | Y - f(X) |
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The risk would then be minimized setting &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; equal to the conditional median.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
f(x) = \text{median}(Y \mid X = x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Despite this possibility, our preference will still be for squared error loss. The reasons for this are numerous, including: historical, ease of optimization, and protecting against large deviations.&lt;/p&gt;
&lt;p&gt;Now, given data &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D} = (x_i, y_i) \in \mathbb{R}^p \times \mathbb{R}\)&lt;/span&gt;, our goal becomes finding some &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; that is a good estimate of the regression function &lt;span class=&#34;math inline&#34;&gt;\(f\)&lt;/span&gt;. We’ll see that this amounts to minimizing what we call the reducible error.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;reducible-and-irreducible-error&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Reducible and Irreducible Error&lt;/h2&gt;
&lt;p&gt;Suppose that we obtain some &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt;, how well does it estimate &lt;span class=&#34;math inline&#34;&gt;\(f\)&lt;/span&gt;? We define the &lt;strong&gt;expected prediction error&lt;/strong&gt; of predicting &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X)\)&lt;/span&gt;. A good &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; will have a low expected prediction error.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}(X)\right) \triangleq \mathbb{E}_{X, Y, \mathcal{D}} \left[  \left( Y - \hat{f}(X) \right)^2 \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This expectation is over &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, and also &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;. The estimate &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; is actually random depending on the data, &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;, used to estimate &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt;. We could actually write &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X, \mathcal{D})\)&lt;/span&gt; to make this dependence explicit, but our notation will become cumbersome enough as it is.&lt;/p&gt;
&lt;p&gt;Like before, we’ll condition on &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. This results in the expected prediction error of predicting &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X)\)&lt;/span&gt; when &lt;span class=&#34;math inline&#34;&gt;\(X = x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}(x)\right) =
\mathbb{E}_{Y \mid X, \mathcal{D}} \left[  \left(Y - \hat{f}(X) \right)^2 \mid X = x \right] =
\underbrace{\mathbb{E}_{\mathcal{D}} \left[  \left(f(x) - \hat{f}(x) \right)^2 \right]}_\textrm{reducible error} +
\underbrace{\mathbb{V}_{Y \mid X} \left[ Y \mid X = x \right]}_\textrm{irreducible error}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A number of things to note here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The expected prediction error is for a random &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; given a fixed &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; and a random &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt;. As such, the expectation is over &lt;span class=&#34;math inline&#34;&gt;\(Y \mid X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;. Our estimated function &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; is random depending on the data, &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;, which is used to perform the estimation.&lt;/li&gt;
&lt;li&gt;The expected prediction error of predicting &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X)\)&lt;/span&gt; when &lt;span class=&#34;math inline&#34;&gt;\(X = x\)&lt;/span&gt; has been decomposed into two errors:
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;reducible error&lt;/strong&gt;, which is the expected squared error loss of estimation &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(x)\)&lt;/span&gt; at a fixed point &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. The only thing that is random here is &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;, the data used to obtain &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt;. (Both &lt;span class=&#34;math inline&#34;&gt;\(f\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; are fixed.) We’ll often call this reducible error the &lt;strong&gt;mean squared error&lt;/strong&gt; of estimating &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; at a fixed point &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.
&lt;span class=&#34;math display&#34;&gt;\[ \text{MSE}\left(f(x), \hat{f}(x)\right) \triangleq \mathbb{E}_{\mathcal{D}} \left[  \left(f(x) - \hat{f}(x) \right)^2 \right]\]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;irreducible error&lt;/strong&gt;. This is simply the variance of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; given that &lt;span class=&#34;math inline&#34;&gt;\(X = x\)&lt;/span&gt;, essentially noise that we do not want to learn. This is also called the &lt;strong&gt;Bayes error&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As the name suggests, the reducible error is the error that we have some control over. But how do we control this error?&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;bias-variance-decomposition&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Bias-Variance Decomposition&lt;/h2&gt;
&lt;p&gt;After decomposing the expected prediction error into reducible and irreducible error, we can further decompose the reducible error.&lt;/p&gt;
&lt;p&gt;Recall the definition of the &lt;strong&gt;bias&lt;/strong&gt; of an estimator.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{bias}(\hat{\theta}) \triangleq \mathbb{E}\left[\hat{\theta}\right] - \theta
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Also recall the definition of the &lt;strong&gt;variance&lt;/strong&gt; of an estimator.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{V}(\hat{\theta}) = \text{var}(\hat{\theta}) \triangleq \mathbb{E}\left [ ( \hat{\theta} -\mathbb{E}\left[\hat{\theta}\right] )^2 \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Using this, we further decompose the reducible error (mean squared error) into bias squared and variance.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{MSE}\left(f(x), \hat{f}(x)\right) =
\mathbb{E}_{\mathcal{D}} \left[  \left(f(x) - \hat{f}(x) \right)^2 \right] =
\underbrace{\left(f(x) - \mathbb{E} \left[ \hat{f}(x) \right]  \right)^2}_{\text{bias}^2 \left(\hat{f}(x) \right)} +
\underbrace{\mathbb{E} \left[ \left( \hat{f}(x) - \mathbb{E} \left[ \hat{f}(x) \right] \right)^2 \right]}_{\text{var} \left(\hat{f}(x) \right)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is actually a common fact in estimation theory, but we have stated it here specifically for estimation of some regression function &lt;span class=&#34;math inline&#34;&gt;\(f\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; at some point &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{MSE}\left(f(x), \hat{f}(x)\right) = \text{bias}^2 \left(\hat{f}(x) \right) + \text{var} \left(\hat{f}(x) \right)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In a perfect world, we would be able to find some &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; which is &lt;strong&gt;unbiased&lt;/strong&gt;, that is &lt;span class=&#34;math inline&#34;&gt;\(\text{bias}\left(\hat{f}(x) \right) = 0\)&lt;/span&gt;, which also has low variance. In practice, this isn’t always possible.&lt;/p&gt;
&lt;p&gt;It turns out, there is a &lt;strong&gt;bias-variance tradeoff&lt;/strong&gt;. That is, often, the more bias in our estimation, the lesser the variance. Similarly, less variance is often accompanied by more bias. Flexible models tend to be unbiased, but highly variable. Simple models are often extremely biased, but have low variance.&lt;/p&gt;
&lt;p&gt;In the context of regression, models are biased when:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parametric: The form of the model &lt;a href=&#34;https://en.wikipedia.org/wiki/Omitted-variable_bias&#34;&gt;does not incorporate all the necessary variables&lt;/a&gt;, or the form of the relationship is too simple. For example, a parametric model assumes a linear relationship, but the true relationship is quadratic.&lt;/li&gt;
&lt;li&gt;Non-parametric: The model provides too much smoothing.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the context of regression, models are variable when:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parametric: The form of the model incorporates too many variables, or the form of the relationship is too flexible. For example, a parametric model assumes a cubic relationship, but the true relationship is linear.&lt;/li&gt;
&lt;li&gt;Non-parametric: The model does not provide enough smoothing. It is very, “wiggly.”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So for us, to select a model that appropriately balances the tradeoff between bias and variance, and thus minimizes the reducible error, we need to select a model of the appropriate flexibility for the data.&lt;/p&gt;
&lt;p&gt;Recall that when fitting models, we’ve seen that train RMSE decreases as model flexibility is increasing. (Technically it is non-increasing.) For validation RMSE, we expect to see a U-shaped curve. Importantly, validation RMSE decreases, until a certain flexibility, then begins to increase.&lt;/p&gt;
&lt;p&gt;Now we can understand why this is happening. The expected test RMSE is essentially the expected prediction error, which we now known decomposes into (squared) bias, variance, and the irreducible Bayes error. The following plots show three examples of this.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The three plots show three examples of the bias-variance tradeoff. In the left panel, the variance influences the expected prediction error more than the bias. In the right panel, the opposite is true. The middle panel is somewhat neutral. In all cases, the difference between the Bayes error (the horizontal dashed grey line) and the expected prediction error (the solid black curve) is exactly the mean squared error, which is the sum of the squared bias (blue curve) and variance (orange curve). The vertical line indicates the flexibility that minimizes the prediction error.&lt;/p&gt;
&lt;p&gt;To summarize, if we assume that irreducible error can be written as&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{V}[Y \mid X = x] = \sigma ^ 2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;then we can write the full decomposition of the expected prediction error of predicting &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}\)&lt;/span&gt; when &lt;span class=&#34;math inline&#34;&gt;\(X = x\)&lt;/span&gt; as&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}(x)\right) =
\underbrace{\text{bias}^2\left(\hat{f}(x)\right) + \text{var}\left(\hat{f}(x)\right)}_\textrm{reducible error} + \sigma^2.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As model flexibility increases, bias decreases, while variance increases. By understanding the tradeoff between bias and variance, we can manipulate model flexibility to find a model that will predict well on unseen observations.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/error-vs-flex-1.png&#34; width=&#34;960&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Tying this all together, the above image shows how we “expect” training and validation error to behavior in relation to model flexibility.&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; In practice, we won’t always see such a nice “curve” in the validation error, but we expect to see the general trends.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;using-simulation-to-estimate-bias-and-variance&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Using Simulation to Estimate Bias and Variance&lt;/h2&gt;
&lt;p&gt;We will illustrate these decompositions, most importantly the bias-variance tradeoff, through simulation. Suppose we would like to train a model to learn the true regression function function &lt;span class=&#34;math inline&#34;&gt;\(f(x) = x^2\)&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;f = function(x) {
  x ^ 2
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More specifically, we’d like to predict an observation, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, given that &lt;span class=&#34;math inline&#34;&gt;\(X = x\)&lt;/span&gt; by using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(x)\)&lt;/span&gt; where&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}[Y \mid X = x] = f(x) = x^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{V}[Y \mid X = x] = \sigma ^ 2.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Alternatively, we could write this as&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y = f(X) + \epsilon
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&#34;math inline&#34;&gt;\(\mathbb{E}[\epsilon] = 0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\mathbb{V}[\epsilon] = \sigma ^ 2\)&lt;/span&gt;. In this formulation, we call &lt;span class=&#34;math inline&#34;&gt;\(f(X)\)&lt;/span&gt; the &lt;strong&gt;signal&lt;/strong&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\epsilon\)&lt;/span&gt; the &lt;strong&gt;noise&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;To carry out a concrete simulation example, we need to fully specify the data generating process. We do so with the following &lt;code&gt;R&lt;/code&gt; code.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gen_sim_data = function(f, sample_size = 100) {
  x = runif(n = sample_size, min = 0, max = 1)
  y = rnorm(n = sample_size, mean = f(x), sd = 0.3)
  tibble(x, y)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Also note that if you prefer to think of this situation using the &lt;span class=&#34;math inline&#34;&gt;\(Y = f(X) + \epsilon\)&lt;/span&gt; formulation, the following code represents the same data generating process.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gen_sim_data = function(f, sample_size = 100) {
  x = runif(n = sample_size, min = 0, max = 1)
  eps = rnorm(n = sample_size, mean = 0, sd = 0.75)
  y = f(x) + eps
  tibble(x, y)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To completely specify the data generating process, we have made more model assumptions than simply &lt;span class=&#34;math inline&#34;&gt;\(\mathbb{E}[Y \mid X = x] = x^2\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\mathbb{V}[Y \mid X = x] = \sigma ^ 2\)&lt;/span&gt;. In particular,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; in &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt; are sampled from a uniform distribution over &lt;span class=&#34;math inline&#34;&gt;\([0, 1]\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\epsilon\)&lt;/span&gt; are independent.&lt;/li&gt;
&lt;li&gt;The &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; in &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt; are sampled from the conditional normal distribution.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y \mid X \sim N(f(x), \sigma^2)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Using this setup, we will generate datasets, &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;, with a sample size &lt;span class=&#34;math inline&#34;&gt;\(n = 100\)&lt;/span&gt; and fit four models.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{aligned}
\texttt{predict(fit0, x)} &amp;amp;= \hat{f}_0(x) = \hat{\beta}_0\\
\texttt{predict(fit1, x)} &amp;amp;= \hat{f}_1(x) = \hat{\beta}_0 + \hat{\beta}_1 x \\
\texttt{predict(fit2, x)} &amp;amp;= \hat{f}_2(x) = \hat{\beta}_0 + \hat{\beta}_1 x + \hat{\beta}_2 x^2 \\
\texttt{predict(fit9, x)} &amp;amp;= \hat{f}_9(x) = \hat{\beta}_0 + \hat{\beta}_1 x + \hat{\beta}_2 x^2 + \ldots + \hat{\beta}_9 x^9
\end{aligned}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To get a sense of the data and these four models, we generate one simulated dataset, and fit the four models.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
sim_data = gen_sim_data(f)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit_0 = lm(y ~ 1,                   data = sim_data)
fit_1 = lm(y ~ poly(x, degree = 1), data = sim_data)
fit_2 = lm(y ~ poly(x, degree = 2), data = sim_data)
fit_9 = lm(y ~ poly(x, degree = 9), data = sim_data)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that technically we’re being lazy and using orthogonal polynomials, but the fitted values are the same, so this makes no difference for our purposes.&lt;/p&gt;
&lt;p&gt;Plotting these four trained models, we see that the zero predictor model does very poorly. The first degree model is reasonable, but we can see that the second degree model fits much better. The ninth degree model seem rather wild.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;864&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The following three plots were created using three additional simulated datasets. The zero predictor and ninth degree polynomial were fit to each.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot should make clear the difference between the bias and variance of these two models. The zero predictor model is clearly wrong, that is, biased, but nearly the same for each of the datasets, since it has very low variance.&lt;/p&gt;
&lt;p&gt;While the ninth degree model doesn’t appear to be correct for any of these three simulations, we’ll see that on average it is, and thus is performing unbiased estimation. These plots do however clearly illustrate that the ninth degree polynomial is extremely variable. Each dataset results in a very different fitted model. Correct on average isn’t the only goal we’re after, since in practice, we’ll only have a single dataset. This is why we’d also like our models to exhibit low variance.&lt;/p&gt;
&lt;p&gt;We could have also fit &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;-nearest neighbors models to these three datasets.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-11-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here we see that when &lt;span class=&#34;math inline&#34;&gt;\(k = 100\)&lt;/span&gt; we have a biased model with very low variance.&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; When &lt;span class=&#34;math inline&#34;&gt;\(k = 5\)&lt;/span&gt;, we again have a highly variable model.&lt;/p&gt;
&lt;p&gt;These two sets of plots reinforce our intuition about the bias-variance tradeoff. Flexible models (ninth degree polynomial and &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; = 5) are highly variable, and often unbiased. Simple models (zero predictor linear model and &lt;span class=&#34;math inline&#34;&gt;\(k = 100\)&lt;/span&gt;) are very biased, but have extremely low variance.&lt;/p&gt;
&lt;p&gt;We will now complete a simulation study to understand the relationship between the bias, variance, and mean squared error for the estimates of &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; given by these four models at the point &lt;span class=&#34;math inline&#34;&gt;\(x = 0.90\)&lt;/span&gt;. We use simulation to complete this task, as performing the analytical calculations would prove to be rather tedious and difficult.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
n_sims = 250
n_models = 4
x = data.frame(x = 0.90) # fixed point at which we make predictions
predictions = matrix(0, nrow = n_sims, ncol = n_models)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;for (sim in 1:n_sims) {

  # simulate new, random, training data
  # this is the only random portion of the bias, var, and mse calculations
  # this allows us to calculate the expectation over D
  sim_data = gen_sim_data(f)

  # fit models
  fit_0 = lm(y ~ 1,                   data = sim_data)
  fit_1 = lm(y ~ poly(x, degree = 1), data = sim_data)
  fit_2 = lm(y ~ poly(x, degree = 2), data = sim_data)
  fit_9 = lm(y ~ poly(x, degree = 9), data = sim_data)

  # get predictions
  predictions[sim, 1] = predict(fit_0, x)
  predictions[sim, 2] = predict(fit_1, x)
  predictions[sim, 3] = predict(fit_2, x)
  predictions[sim, 4] = predict(fit_9, x)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that this is one of many ways we could have accomplished this task using &lt;code&gt;R&lt;/code&gt;. For example we could have used a combination of &lt;code&gt;replicate()&lt;/code&gt; and &lt;code&gt;*apply()&lt;/code&gt; functions. Alternatively, we could have used a &lt;a href=&#34;https://www.tidyverse.org/&#34;&gt;&lt;code&gt;tidyverse&lt;/code&gt;&lt;/a&gt; approach, which likely would have used some combination of &lt;a href=&#34;http://dplyr.tidyverse.org/&#34;&gt;&lt;code&gt;dplyr&lt;/code&gt;&lt;/a&gt;, &lt;a href=&#34;http://tidyr.tidyverse.org/&#34;&gt;&lt;code&gt;tidyr&lt;/code&gt;&lt;/a&gt;, and &lt;a href=&#34;http://purrr.tidyverse.org/&#34;&gt;&lt;code&gt;purrr&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Our approach, which would be considered a &lt;code&gt;base&lt;/code&gt; &lt;code&gt;R&lt;/code&gt; approach, was chosen to make it as clear as possible what is being done. The &lt;code&gt;tidyverse&lt;/code&gt; approach is rapidly gaining popularity in the &lt;code&gt;R&lt;/code&gt; community, but might make it more difficult to see what is happening here, unless you are already familiar with that approach.&lt;/p&gt;
&lt;p&gt;Also of note, while it may seem like the output stored in &lt;code&gt;predictions&lt;/code&gt; would meet the definition of &lt;a href=&#34;http://vita.had.co.nz/papers/tidy-data.html&#34;&gt;tidy data&lt;/a&gt; given by &lt;a href=&#34;http://hadley.nz/&#34;&gt;Hadley Wickham&lt;/a&gt; since each row represents a simulation, it actually falls slightly short. For our data to be tidy, a row should store the simulation number, the model, and the resulting prediction. We’ve actually already aggregated one level above this. Our observational unit is a simulation (with four predictions), but for tidy data, it should be a single prediction.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-15-1.png&#34; width=&#34;864&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The above plot shows the predictions for each of the 250 simulations of each of the four models of different polynomial degrees. The truth, &lt;span class=&#34;math inline&#34;&gt;\(f(x = 0.90) = (0.9)^2 = 0.81\)&lt;/span&gt;, is given by the solid black horizontal line.&lt;/p&gt;
&lt;p&gt;Two things are immediately clear:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;As flexibility &lt;em&gt;increases&lt;/em&gt;, &lt;strong&gt;bias decreases&lt;/strong&gt;. The mean of a model’s predictions is closer to the truth.&lt;/li&gt;
&lt;li&gt;As flexibility &lt;em&gt;increases&lt;/em&gt;, &lt;strong&gt;variance increases&lt;/strong&gt;. The variance about the mean of a model’s predictions increases.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The goal of this simulation study is to show that the following holds true for each of the four models.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{MSE}\left(f(0.90), \hat{f}_k(0.90)\right) =
\underbrace{\left(\mathbb{E} \left[ \hat{f}_k(0.90) \right] - f(0.90) \right)^2}_{\text{bias}^2 \left(\hat{f}_k(0.90) \right)} +
\underbrace{\mathbb{E} \left[ \left( \hat{f}_k(0.90) - \mathbb{E} \left[ \hat{f}_k(0.90) \right] \right)^2 \right]}_{\text{var} \left(\hat{f}_k(0.90) \right)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We’ll use the empirical results of our simulations to estimate these quantities. (Yes, we’re using estimation to justify facts about estimation.) Note that we’ve actually used a rather small number of simulations. In practice we should use more, but for the sake of computation time, we’ve performed just enough simulations to obtain the desired results. (Since we’re estimating estimation, the bigger the sample size, the better.)&lt;/p&gt;
&lt;p&gt;To estimate the mean squared error of our predictions, we’ll use&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\widehat{\text{MSE}}\left(f(0.90), \hat{f}_k(0.90)\right) = \frac{1}{n_{\texttt{sims}}}\sum_{i = 1}^{n_{\texttt{sims}}} \left(f(0.90) - \hat{f}_k^{[i]}(0.90) \right)^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}_k^{[i]}(0.90)\)&lt;/span&gt; is the estimate of &lt;span class=&#34;math inline&#34;&gt;\(f(0.90)\)&lt;/span&gt; using the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;-th from the polynomial degree &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; model.&lt;/p&gt;
&lt;p&gt;We also write an accompanying &lt;code&gt;R&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_mse = function(truth, estimate) {
  mean((estimate - truth) ^ 2)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Similarly, for the bias of our predictions we use,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\widehat{\text{bias}} \left(\hat{f}(0.90) \right)  = \frac{1}{n_{\texttt{sims}}}\sum_{i = 1}^{n_{\texttt{sims}}} \left(\hat{f}_k^{[i]}(0.90) \right) - f(0.90)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And again, we write an accompanying &lt;code&gt;R&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_bias = function(estimate, truth) {
  mean(estimate) - truth
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lastly, for the variance of our predictions we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\widehat{\text{var}} \left(\hat{f}(0.90) \right) = \frac{1}{n_{\texttt{sims}}}\sum_{i = 1}^{n_{\texttt{sims}}} \left(\hat{f}_k^{[i]}(0.90) - \frac{1}{n_{\texttt{sims}}}\sum_{i = 1}^{n_{\texttt{sims}}}\hat{f}_k^{[i]}(0.90) \right)^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;While there is already &lt;code&gt;R&lt;/code&gt; function for variance, the following is more appropriate in this situation.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_var = function(estimate) {
  mean((estimate - mean(estimate)) ^ 2)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To quickly obtain these results for each of the four models, we utilize the &lt;code&gt;apply()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bias = apply(predictions, 2, get_bias, truth = f(x = 0.90))
variance = apply(predictions, 2, get_var)
mse = apply(predictions, 2, get_mse, truth = f(x = 0.90))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We summarize these results in the following table.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;center&#34;&gt;Degree&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Mean Squared Error&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Bias Squared&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Variance&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;center&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.22643&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.22476&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00167&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;center&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00829&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00508&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00322&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;center&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00387&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00005&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00381&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;center&#34;&gt;9&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.01019&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.00002&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;0.01017&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;A number of things to notice here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We use squared bias in this table. Since bias can be positive or negative, squared bias is more useful for observing the trend as flexibility increases.&lt;/li&gt;
&lt;li&gt;The squared bias trend which we see here is &lt;strong&gt;decreasing&lt;/strong&gt; as flexibility increases, which we expect to see in general.&lt;/li&gt;
&lt;li&gt;The exact opposite is true of variance. As model flexibility increases, variance &lt;strong&gt;increases&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;The mean squared error, which is a function of the bias and variance, decreases, then increases. This is a result of the bias-variance tradeoff. We can decrease bias, by increasing variance. Or, we can decrease variance by increasing bias. By striking the correct balance, we can find a good mean squared error!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check for these trends with the &lt;code&gt;diff()&lt;/code&gt; function in &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;all(diff(bias ^ 2) &amp;lt; 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;all(diff(variance) &amp;gt; 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diff(mse) &amp;lt; 0&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     1     2     9 
##  TRUE  TRUE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The models with polynomial degrees 2 and 9 are both essentially unbiased. We see some bias here as a result of using simulation. If we increased the number of simulations, we would see both biases go down. Since they are both unbiased, the model with degree 2 outperforms the model with degree 9 due to its smaller variance.&lt;/p&gt;
&lt;p&gt;Models with degree 0 and 1 are biased because they assume the wrong form of the regression function. While the degree 9 model does this as well, it does include all the necessary polynomial degrees.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{f}_9(x) = \hat{\beta}_0 + \hat{\beta}_1 x + \hat{\beta}_2 x^2 + \ldots + \hat{\beta}_9 x^9
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then, since least squares estimation is unbiased, importantly,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}\left[\hat{\beta}_d\right] = \beta_d = 0
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;for &lt;span class=&#34;math inline&#34;&gt;\(d = 3, 4, \ldots 9\)&lt;/span&gt;, we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}\left[\hat{f}_9(x)\right] = \beta_0 + \beta_1 x + \beta_2 x^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now we can finally verify the bias-variance decomposition.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bias ^ 2 + variance == mse&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     0     1     2     9 
## FALSE FALSE FALSE  TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But wait, this says it isn’t true, except for the degree 9 model? It turns out, this is simply a computational issue. If we allow for some very small error tolerance, we see that the bias-variance decomposition is indeed true for predictions from these for models.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;all.equal(bias ^ 2 + variance, mse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;code&gt;?all.equal()&lt;/code&gt; for details.&lt;/p&gt;
&lt;p&gt;So far, we’ve focused our efforts on looking at the mean squared error of estimating &lt;span class=&#34;math inline&#34;&gt;\(f(0.90)\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(0.90)\)&lt;/span&gt;. We could also look at the expected prediction error of using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X)\)&lt;/span&gt; when &lt;span class=&#34;math inline&#34;&gt;\(X = 0.90\)&lt;/span&gt; to estimate &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}_k(0.90)\right) =
\mathbb{E}_{Y \mid X, \mathcal{D}} \left[  \left(Y - \hat{f}_k(X) \right)^2 \mid X = 0.90 \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can estimate this quantity for each of the four models using the simulation study we already performed.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_epe = function(realized, estimate) {
  mean((realized - estimate) ^ 2)
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;y = rnorm(n = nrow(predictions), mean = f(x = 0.9), sd = 0.3)
epe = apply(predictions, 2, get_epe, realized = y)
epe&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##         0         1         2         9 
## 0.3180470 0.1104055 0.1095955 0.1205570&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What about the unconditional expected prediction error. That is, for any &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, not just &lt;span class=&#34;math inline&#34;&gt;\(0.90\)&lt;/span&gt;. Specifically, the expected prediction error of estimating &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; using &lt;span class=&#34;math inline&#34;&gt;\(\hat{f}(X)\)&lt;/span&gt;. The following (new) simulation study provides an estimate of&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}_k(X)\right) = \mathbb{E}_{X, Y, \mathcal{D}} \left[  \left( Y - \hat{f}_k(X) \right)^2 \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;for the quadratic model, that is &lt;span class=&#34;math inline&#34;&gt;\(k = 2\)&lt;/span&gt; as we have defined &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(42)
n_sims = 2500
X = runif(n = n_sims, min = 0, max = 1)
Y = rnorm(n = n_sims, mean = f(X), sd = 0.3)

f_hat_X = rep(0, length(X))

for (i in seq_along(X)) {
  sim_data = gen_sim_data(f)
  fit_2 = lm(y ~ poly(x, degree = 2), data = sim_data)
  f_hat_X[i] = predict(fit_2, newdata = data.frame(x = X[i]))
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# truth
0.3 ^ 2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.09&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# via simulation
mean((Y - f_hat_X) ^ 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.09566445&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that in practice, we should use many more simulations in this study.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;estimating-expected-prediction-error&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Estimating Expected Prediction Error&lt;/h2&gt;
&lt;p&gt;While previously, we only decomposed the expected prediction error conditionally, a similar argument holds unconditionally.&lt;/p&gt;
&lt;p&gt;Assuming&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{V}[Y \mid X = x] = \sigma ^ 2.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{EPE}\left(Y, \hat{f}(X)\right) =
\mathbb{E}_{X, Y, \mathcal{D}} \left[  (Y - \hat{f}(X))^2 \right] =
\underbrace{\mathbb{E}_{X} \left[\text{bias}^2\left(\hat{f}(X)\right)\right] + \mathbb{E}_{X} \left[\text{var}\left(\hat{f}(X)\right)\right]}_\textrm{reducible error} + \sigma^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Lastly, we note that if&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathcal{D} = \mathcal{D}_{\texttt{trn}} \cup \mathcal{D}_{\texttt{tst}} = (x_i, y_i) \in \mathbb{R}^p \times \mathbb{R}, \ i = 1, 2, \ldots n
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathcal{D}_{\texttt{trn}} = (x_i, y_i) \in \mathbb{R}^p \times \mathbb{R}, \ i \in \texttt{trn}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathcal{D}_{\texttt{tst}} = (x_i, y_i) \in \mathbb{R}^p \times \mathbb{R}, \ i \in \texttt{tst}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then, if we have a model fit to the training data &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}_{\texttt{trn}}\)&lt;/span&gt;, we can use the test mean squared error&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\sum_{i \in \texttt{tst}}\left(y_i - \hat{f}(x_i)\right) ^ 2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;as an estimate of&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}_{X, Y, \mathcal{D}} \left[  (Y - \hat{f}(X))^2 \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;the expected prediction error.&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;How good is this estimate? Well, if &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt; is a random sample from &lt;span class=&#34;math inline&#34;&gt;\((X, Y)\)&lt;/span&gt;, and the &lt;span class=&#34;math inline&#34;&gt;\(\texttt{tst}\)&lt;/span&gt; data are randomly sampled observations randomly sampled from &lt;span class=&#34;math inline&#34;&gt;\(i = 1, 2, \ldots, n\)&lt;/span&gt;, then it is a reasonable estimate. However, it is rather variable due to the randomness of selecting the observations for the test set, if the test set is small.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;model-flexibility&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Model Flexibility&lt;/h2&gt;
&lt;p&gt;Let’s return to the simiulated dataset we used occaisionally in the linear regression content. Recall there was a single feature &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; with the following properties:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# define regression function
cubic_mean = function(x) {
  1 - 2 * x - 3 * x ^ 2 + 5 * x ^ 3
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We then generated some data around this function with some added noise:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# define full data generating process
gen_slr_data = function(sample_size = 100, mu) {
  x = runif(n = sample_size, min = -1, max = 1)
  y = mu(x) + rnorm(n = sample_size)
  tibble(x, y)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After defining the data generating process, we generate and split the data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# simulate entire dataset
set.seed(3)
sim_slr_data = gen_slr_data(sample_size = 100, mu = cubic_mean)

# test-train split
slr_trn_idx = sample(nrow(sim_slr_data), size = 0.8 * nrow(sim_slr_data))
slr_trn = sim_slr_data[slr_trn_idx, ]
slr_tst = sim_slr_data[-slr_trn_idx, ]

# estimation-validation split
slr_est_idx = sample(nrow(slr_trn), size = 0.8 * nrow(slr_trn))
slr_est = slr_trn[slr_est_idx, ]
slr_val = slr_trn[-slr_est_idx, ]

# check data
head(slr_trn, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 x 2
##         x      y
##     &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1  0.573 -1.18 
##  2  0.807  0.576
##  3  0.272 -0.973
##  4 -0.813 -1.78 
##  5 -0.161  0.833
##  6  0.736  1.07 
##  7 -0.242  2.97 
##  8  0.520 -1.64 
##  9 -0.664  0.269
## 10 -0.777 -2.02&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For validating models, we will use RMSE.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# helper function for calculating RMSE
calc_rmse = function(actual, predicted) {
  sqrt(mean((actual - predicted) ^ 2))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s check how linear, k-nearest neighbors, and decision tree models fit to this data make errors, while paying attention to their flexibility.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/error-vs-flex-1.png&#34; width=&#34;960&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This picture is an idealized version of what we expect to see, but we’ll illustrate the sorts of validate “curves” that we might see in practice.&lt;/p&gt;
&lt;p&gt;Note that in the following three sub-sections, a significant portion of the code is suppressed for visual clarity. See the source document for full details.&lt;/p&gt;
&lt;div id=&#34;linear-models&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Linear Models&lt;/h3&gt;
&lt;p&gt;First up, linear models. We will fit polynomial models with degree from one to nine, and then validate.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# fit polynomial models
poly_mod_est_list = list(
  poly_mod_1_est = lm(y ~ poly(x, degree = 1), data = slr_est),
  poly_mod_2_est = lm(y ~ poly(x, degree = 2), data = slr_est),
  poly_mod_3_est = lm(y ~ poly(x, degree = 3), data = slr_est),
  poly_mod_4_est = lm(y ~ poly(x, degree = 4), data = slr_est),
  poly_mod_5_est = lm(y ~ poly(x, degree = 5), data = slr_est),
  poly_mod_6_est = lm(y ~ poly(x, degree = 6), data = slr_est),
  poly_mod_7_est = lm(y ~ poly(x, degree = 7), data = slr_est),
  poly_mod_8_est = lm(y ~ poly(x, degree = 8), data = slr_est),
  poly_mod_9_est = lm(y ~ poly(x, degree = 9), data = slr_est)
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The plot below visualizes the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-35-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;What do we see here? As the polynomial degree &lt;em&gt;increases&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The training error &lt;em&gt;decreases&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;The validation error &lt;em&gt;decreases&lt;/em&gt;, then &lt;em&gt;increases&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This more of less matches the idealized version above, but the validation “curve” is much more jagged. This is something that we can expect in practice.&lt;/p&gt;
&lt;p&gt;We have previously noted that training error isn’t particularly useful for validating models. That is still true. However, it can be useful for checking that everything is working as planned. In this case, since we known that training error decreases as model flexibility increases, we can verify our intuition that a higher degree polynomial is indeed more flexible.&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;k-nearest-neighbors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;k-Nearest Neighbors&lt;/h3&gt;
&lt;p&gt;Next up, k-nearest neighbors. We will consider values for &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; that are odd and between &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(45\)&lt;/span&gt; inclusive.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# helper function for fitting knn models
fit_knn_mod = function(neighbors) {
  knnreg(y ~ x, data = slr_est, k = neighbors)
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# define values of tuning parameter k to evaluate
k_to_try = seq(from = 1, to = 45, by = 2)

# fit knn models
knn_mod_est_list = lapply(k_to_try, fit_knn_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The plot below visualizes the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-39-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here we see the “opposite” of the usual plot. Why? Because with k-nearest neighbors, a small value of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; generates a flexible model compared to larger values of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;. So visually, this plot is flipped. That is we see that as &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; &lt;em&gt;increases&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The training error &lt;em&gt;increases&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;The validation error &lt;em&gt;decreases&lt;/em&gt;, then &lt;em&gt;increases&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Important to note here: the pattern above only holds “in general,” that is, there can be minor deviations in the validation pattern along the way. This is due to the random nature of selection the data for the validate set.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;decision-trees&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Decision Trees&lt;/h3&gt;
&lt;p&gt;Lastly, we evaluate some decision tree models. We choose some arbitrary values of &lt;code&gt;cp&lt;/code&gt; to evaluate, while holding &lt;code&gt;minsplit&lt;/code&gt; constant at &lt;code&gt;5&lt;/code&gt;. There are arbitrary choices that produce a plot that is useful for discussion.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# helper function for fitting decision tree models
tree_knn_mod = function(flex) {
  rpart(y ~ x, data = slr_est, cp = flex, minsplit = 5)
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# define values of tuning parameter cp to evaluate
cp_to_try = c(0.5, 0.3, 0.1, 0.05, 0.01, 0.001, 0.0001)

# fit decision tree models
tree_mod_est_list = lapply(cp_to_try, tree_knn_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The plot below visualizes the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/09-content_files/figure-html/unnamed-chunk-43-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Based on this plot, how is &lt;code&gt;cp&lt;/code&gt; related to model flexibility?&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Note that in this section, we will refer to &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; as the regression function instead of &lt;span class=&#34;math inline&#34;&gt;\(\mu(x)\)&lt;/span&gt; for unimportant and arbitrary reasons.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;Someday, someone will tell you this is a lie. They aren’t wrong. In modern deep learning, there is a concept called &lt;a href=&#34;https://openai.com/blog/deep-double-descent/&#34;&gt;Deep Double Descent&lt;/a&gt;. See also &lt;span class=&#34;citation&#34;&gt;@belkin2018reconciling&lt;/span&gt;.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;It’s actually the same as the 0 predictor linear model. Can you see why?&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;In practice we prefer RMSE to MSE for comparing models and reporting because of the units.&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;In practice, if you already know how your model’s flexibility works, by checking that the training error goes down as you increase flexibility, you can check that you have done your coding and model training correctly.&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;As &lt;code&gt;cp&lt;/code&gt; increases, model flexibility decreases.&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Nonparametric Regression</title>
      <link>/content/08-content/</link>
      <pubDate>Tue, 27 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/content/08-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-ideas&#34;&gt;Guiding Ideas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nonparametric-regression&#34;&gt;Nonparametric Regression&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#r-setup&#34;&gt;R Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mathematical-setup&#34;&gt;Mathematical Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#k-nearest-neighbors&#34;&gt;k-Nearest Neighbors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#decision-trees&#34;&gt;Decision Trees&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#example-credit-card-data&#34;&gt;Example: Credit Card Data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-ideas&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Ideas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How to use &lt;strong&gt;k-nearest neighbors&lt;/strong&gt; for regression through the use of the &lt;code&gt;knnreg()&lt;/code&gt; function from the &lt;code&gt;caret&lt;/code&gt; package&lt;/li&gt;
&lt;li&gt;How to use &lt;strong&gt;decision trees&lt;/strong&gt; for regression through the use of the &lt;code&gt;rpart()&lt;/code&gt; function from the &lt;code&gt;rpart&lt;/code&gt; package.&lt;/li&gt;
&lt;li&gt;How “making predictions” can be thought of as &lt;strong&gt;estimating the regression function&lt;/strong&gt;, that is, the conditional mean of the response given values of the features.&lt;/li&gt;
&lt;li&gt;The difference between &lt;strong&gt;parametric&lt;/strong&gt; and &lt;strong&gt;nonparametric&lt;/strong&gt; methods.&lt;/li&gt;
&lt;li&gt;The difference between &lt;strong&gt;model parameters&lt;/strong&gt; and &lt;strong&gt;tuning parameters&lt;/strong&gt; methods.&lt;/li&gt;
&lt;li&gt;How these nonparametric methods deal with &lt;strong&gt;categorical variables&lt;/strong&gt; and &lt;strong&gt;interactions&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;What is &lt;strong&gt;model flexibility&lt;/strong&gt;?&lt;/li&gt;
&lt;li&gt;What is &lt;strong&gt;overfitting&lt;/strong&gt; and how do we avoid it?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;nonparametric-regression&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Nonparametric Regression&lt;/h1&gt;
&lt;p&gt;In the next weeks, we will continue to explore models for making &lt;strong&gt;predictions&lt;/strong&gt;, but now we will introduce &lt;strong&gt;nonparametric models&lt;/strong&gt; that will contrast the &lt;strong&gt;parametric models&lt;/strong&gt; that we have used previously.&lt;/p&gt;
&lt;p&gt;This content is currently &lt;strong&gt;under construction&lt;/strong&gt;. You can expect it to be a lot less polished than other sections.&lt;/p&gt;
&lt;div id=&#34;r-setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;R Setup&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tibble)     # data frame printing
library(dplyr)      # data manipulation

library(caret)      # fitting knn
library(rpart)      # fitting trees
library(rpart.plot) # plotting trees

library(knitr)      # creating tables
library(kableExtra) # styling tables&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;mathematical-setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Mathematical Setup&lt;/h2&gt;
&lt;p&gt;Let’s return to the setup we defined in the previous lectures. Consider a random variable &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; which represents a &lt;strong&gt;response&lt;/strong&gt; variable, and &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; &lt;strong&gt;feature&lt;/strong&gt; variables &lt;span class=&#34;math inline&#34;&gt;\(\boldsymbol{X} = (X_1, X_2, \ldots, X_p)\)&lt;/span&gt;. We assume that the response variable &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; is some function of the features, plus some random noise.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y = f(\boldsymbol{X}) + \epsilon
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Our goal is to find some &lt;span class=&#34;math inline&#34;&gt;\(f\)&lt;/span&gt; such that &lt;span class=&#34;math inline&#34;&gt;\(f(\boldsymbol{X})\)&lt;/span&gt; is close to &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;. More specifically we want to minimize the risk under squared error loss.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mathbb{E}_{\boldsymbol{X}, Y} \left[ (Y - f(\boldsymbol{X})) ^ 2 \right] = \mathbb{E}_{\boldsymbol{X}} \mathbb{E}_{Y \mid \boldsymbol{X}} \left[ ( Y - f(\boldsymbol{X}) ) ^ 2 \mid \boldsymbol{X} = \boldsymbol{x} \right]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We saw previously (see the slides from last two content days) that this risk is minimized by the &lt;strong&gt;conditional mean&lt;/strong&gt; of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; given &lt;span class=&#34;math inline&#34;&gt;\(\boldsymbol{X}\)&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu(\boldsymbol{x}) \triangleq \mathbb{E}[Y \mid \boldsymbol{X} = \boldsymbol{x}]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which we call the &lt;strong&gt;regression function&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Our goal then is to &lt;strong&gt;estimate&lt;/strong&gt; this &lt;strong&gt;regression function&lt;/strong&gt;. Let’s use an example where we know the true probability model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y = 1 - 2x - 3x ^ 2 + 5x ^ 3 + \epsilon
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&#34;math inline&#34;&gt;\(\epsilon \sim \text{N}(0, \sigma^2)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Recall that this implies that the regression function is&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu(x) = \mathbb{E}[Y \mid \boldsymbol{X} = \boldsymbol{x}] = 1 - 2x - 3x ^ 2 + 5x ^ 3
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s also pretend that we do not actually know this information, but instead have some data, &lt;span class=&#34;math inline&#34;&gt;\((x_i, y_i)\)&lt;/span&gt; for &lt;span class=&#34;math inline&#34;&gt;\(i = 1, 2, \ldots, n\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;We simulate enough data to make the “pattern” clear-ish to recognize.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;When we use a linear model, we first need to make an &lt;strong&gt;assumption&lt;/strong&gt; about the form of the regression function.&lt;/p&gt;
&lt;p&gt;For example, we could assume that&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu(x) = \mathbb{E}[Y \mid \boldsymbol{X} = \boldsymbol{x}] = \beta_0 + \beta_1 x + \beta_2 x^2 + \beta_3 x^3
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which is fit in R using the &lt;code&gt;lm()&lt;/code&gt; function&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lm(y ~ x + I(x ^ 2) + I(x ^ 3), data = sim_slr_data)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = y ~ x + I(x^2) + I(x^3), data = sim_slr_data)
## 
## Coefficients:
## (Intercept)            x       I(x^2)       I(x^3)  
##      0.8397      -2.7257      -2.3752       6.0906&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that what is returned are (maximum likelihood or least squares) estimates of the unknown &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt; coefficients. That is, the “learning” that takes place with a linear models is “learning” the values of the coefficients.&lt;/p&gt;
&lt;p&gt;For this reason, we call linear regression models &lt;strong&gt;parametric&lt;/strong&gt; models. They have unknown &lt;strong&gt;model parameters&lt;/strong&gt;, in this case the &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt; coefficients that must be learned from the data. The form of the regression function is assumed.&lt;/p&gt;
&lt;p&gt;What if we don’t want to make an assumption about the form of the regression function? While in this case, you might look at the plot and arrive at a reasonable guess of assuming a third order polynomial, what if it isn’t so clear? What if you have 100 features? Making strong assumptions might not work well.&lt;/p&gt;
&lt;p&gt;Enter &lt;strong&gt;nonparametric&lt;/strong&gt; models. We will consider two examples: &lt;strong&gt;k-nearest neighbors&lt;/strong&gt; and &lt;strong&gt;decision trees&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;k-nearest-neighbors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;k-Nearest Neighbors&lt;/h2&gt;
&lt;p&gt;We’ll start with &lt;strong&gt;k-nearest neighbors&lt;/strong&gt; which is possibly a more intuitive procedure than linear models.&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If our goal is to estimate the mean function,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu(x) = \mathbb{E}[Y \mid \boldsymbol{X} = \boldsymbol{x}]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;the most natural approach would be to use&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{average}(\{ y_i : x_i = x \}).
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;That is, to estimate the conditional mean at &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, average the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values for each data point where &lt;span class=&#34;math inline&#34;&gt;\(x_i = x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;While this sounds nice, it has an obvious flaw. For most values of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; there will not be any &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; in the data where &lt;span class=&#34;math inline&#34;&gt;\(x_i = x\)&lt;/span&gt;!&lt;/p&gt;
&lt;p&gt;So what’s the next best thing? Pick values of &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; that are “close” to &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\text{average}( \{ y_i : x_i \text{ equal to (or very close to) x} \} ).
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is the main idea behind many nonparametric approaches. The details often just amount to very specifically defining what “close” means.&lt;/p&gt;
&lt;p&gt;In the case of k-nearest neighbors we use&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\hat{\mu}_k(x) = \frac{1}{k} \sum_{ \{i \ : \ x_i \in \mathcal{N}_k(x, \mathcal{D}) \} } y_i
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;as our estimate of the regression function at &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. While this looks complicated, it is actually very simple. Here, we are using an average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values of for the &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; nearest neighbors to &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; “nearest” neighbors are the &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; data points &lt;span class=&#34;math inline&#34;&gt;\((x_i, y_i)\)&lt;/span&gt; that have &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; values that are nearest to &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. We can define “nearest” using any distance we like, but unless otherwise noted, we are referring to euclidean distance.&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; We are using the notation &lt;span class=&#34;math inline&#34;&gt;\(\{i \ : \ x_i \in \mathcal{N}_k(x, \mathcal{D}) \}\)&lt;/span&gt; to define the &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; observations that have &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; values that are nearest to the value &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; in a dataset &lt;span class=&#34;math inline&#34;&gt;\(\mathcal{D}\)&lt;/span&gt;, in other words, the &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; nearest neighbors.&lt;/p&gt;
&lt;p&gt;The plots below begin to illustrate this idea.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;864&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In the left plot, to estimate the mean of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; at &lt;span class=&#34;math inline&#34;&gt;\(x = -0.5\)&lt;/span&gt; we use the three nearest neighbors, which are highlighted with green. Our estimate is the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values of these three points indicated by the black x.&lt;/li&gt;
&lt;li&gt;In the middle plot, to estimate the mean of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; at &lt;span class=&#34;math inline&#34;&gt;\(x = 0\)&lt;/span&gt; we use the five nearest neighbors, which are highlighted with green. Our estimate is the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values of these five points indicated by the black x.&lt;/li&gt;
&lt;li&gt;In the right plot, to estimate the mean of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; at &lt;span class=&#34;math inline&#34;&gt;\(x = 0.75\)&lt;/span&gt; we use the nine nearest neighbors, which are highlighted with green. Our estimate is the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values of these nine points indicated by the black x.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You might begin to notice a bit of an issue here. We have to do a new calculation each time we want to estimate the regression function at a different value of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;! For this reason, k-nearest neighbors is often said to be “fast to train” and “slow to predict.” Training, is instant. You just memorize the data! Prediction involves finding the distance between the &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; considered and all &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; in the data!&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So, how then, do we choose the value of the &lt;strong&gt;tuning&lt;/strong&gt; parameter &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;? We &lt;em&gt;&lt;strong&gt;validate&lt;/strong&gt;&lt;/em&gt;!&lt;/p&gt;
&lt;p&gt;First, let’s take a look at what happens with this data if we consider three different values of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For each plot, the black dashed curve is the true mean function.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In the left plot we use &lt;span class=&#34;math inline&#34;&gt;\(k = 25\)&lt;/span&gt;. The red “curve” is the estimate of the mean function for each &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; shown in the plot.&lt;/li&gt;
&lt;li&gt;In the left plot we use &lt;span class=&#34;math inline&#34;&gt;\(k = 5\)&lt;/span&gt;. The blue “curve” is the estimate of the mean function for each &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; shown in the plot.&lt;/li&gt;
&lt;li&gt;In the left plot we use &lt;span class=&#34;math inline&#34;&gt;\(k = 1\)&lt;/span&gt;. The green “curve” is the estimate of the mean function for each &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; shown in the plot.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some things to notice here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The left plot with &lt;span class=&#34;math inline&#34;&gt;\(k = 25\)&lt;/span&gt; is performing poorly. The estimated “curve” does not “move” enough. This is an example of an &lt;strong&gt;inflexible&lt;/strong&gt; model.&lt;/li&gt;
&lt;li&gt;The right plot with &lt;span class=&#34;math inline&#34;&gt;\(k = 1\)&lt;/span&gt; might not perform too well. The estimated “curve” seems to “move” too much. (Notice, that it goes through each point. We’ve fit to the noise.) This is an example of a &lt;strong&gt;flexible&lt;/strong&gt; model.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While the middle plot with &lt;span class=&#34;math inline&#34;&gt;\(k = 5\)&lt;/span&gt; is not “perfect” it seems to roughly capture the “motion” of the true regression function. We can begin to see that if we generated new data, this estimated regression function would perform better than the other two.&lt;/p&gt;
&lt;p&gt;But remember, in practice, we won’t know the true regression function, so we will need to determine how our model performs using only the available data!&lt;/p&gt;
&lt;p&gt;This &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;, the number of neighbors, is an example of a &lt;strong&gt;tuning parameter&lt;/strong&gt;. Instead of being learned from the data, like model parameters such as the &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt; coefficients in linear regression, a tuning parameter tells us &lt;em&gt;how&lt;/em&gt; to learn from data. It is user-specified. To determine the value of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; that should be used, many models are fit to the estimation data, then evaluated on the validation. Using the information from the validation data, a value of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; is chosen. (More on this in a bit.)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Model parameters&lt;/strong&gt; are “learned” using the same data that was used to fit the model.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tuning parameters&lt;/strong&gt; are “chosen” using data not used to fit the model.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This tuning parameter &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; also defines the &lt;strong&gt;flexibility&lt;/strong&gt; of the model. In KNN, a small value of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; is a flexible model, while a large value of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; is inflexible.&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Before moving to an example of tuning a KNN model, we will first introduce decision trees.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;decision-trees&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Decision Trees&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Decision trees&lt;/strong&gt; are similar to k-nearest neighbors but instead of looking for neighbors, decision trees create neighborhoods. We won’t explore the full details of trees, but just start to understand the basic concepts, as well as learn to fit them in R.&lt;/p&gt;
&lt;p&gt;Neighborhoods are created via recursive binary partitions. In simpler terms, pick a feature and a possible cutoff value. Data that have a value less than the cutoff for the selected feature are in one neighborhood (the left) and data that have a value greater than the cutoff are in another (the right). Within these two neighborhoods, repeat this procedure until a stopping rule is satisfied. To make a prediction, check which neighborhood a new piece of data would belong to and predict the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values of data in that neighborhood.&lt;/p&gt;
&lt;p&gt;With the data above, which has a single feature &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, consider three possible cutoffs: -0.5, 0.0, and 0.75.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-11-1.png&#34; width=&#34;864&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For each plot, the black vertical line defines the neighborhoods. The green horizontal lines are the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values for the points in the left neighborhood. The red horizontal lines are the average of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; values for the points in the right neighborhood.&lt;/p&gt;
&lt;p&gt;What makes a cutoff good? Large differences in the average &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; between the two neighborhoods. More formally we want to find a cutoff value that minimizes&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\sum_{i \in N_L} \left( y_i - \hat{\mu}_{N_L} \right) ^ 2 + \sum_{i \in N_R} \left(y_i - \hat{\mu}_{N_R} \right) ^ 2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;math inline&#34;&gt;\(N_L\)&lt;/span&gt; are the data in the left neighborhood, that is &lt;span class=&#34;math inline&#34;&gt;\(x &amp;lt; c\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;math inline&#34;&gt;\(N_R\)&lt;/span&gt; are the data in the right neighborhood, that is &lt;span class=&#34;math inline&#34;&gt;\(x &amp;gt; c\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;math inline&#34;&gt;\(\hat{\mu}_{N_L}\)&lt;/span&gt; is the mean of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; for data in the left neighborhood&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;math inline&#34;&gt;\(\hat{\mu}_{N_R}\)&lt;/span&gt; is the mean of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; for data in the right neighborhood&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This quantity is the sum of two sum of squared errors, one for the left neighborhood, and one for the right neighborhood.&lt;/p&gt;
&lt;table class=&#34;table&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Cutoff
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Total SSE
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Left SSE
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Right SSE
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
45.02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
23.74
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
58.94
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
44.68
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.26
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.75
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
56.71
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
55.46
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.25
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The table above summarizes the results of the three potential splits. We see that (of the splits considered, which are not exhaustive&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;) the split based on a cutoff of &lt;span class=&#34;math inline&#34;&gt;\(x = -0.50\)&lt;/span&gt; creates the best partitioning of the space.&lt;/p&gt;
&lt;p&gt;Now let’s consider building a full tree.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-15-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the plot above, the true regression function is the dashed black curve, and the solid orange curve is the estimated regression function using a decision tree. We see that there are two splits, which we can visualize as a tree.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-16-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The above “tree”&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt; shows the splits that were made. It informs us of the variable used, the cutoff value, and some summary of the resulting neighborhood. In “tree” terminology the resulting neighborhoods are “terminal nodes” of the tree. In contrast, “internal nodes” are neighborhoods that are created, but then further split.&lt;/p&gt;
&lt;p&gt;The “root node” is the neighborhood contains all observations, before any splitting, and can be seen at the top of the image above. We see that this node represents 100% of the data. The other number, 0.21, is the mean of the response variable, in this case, &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Looking at a terminal node, for example the bottom left node, we see that 23% of the data is in this node. The average value of the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; in this node is -1, which can be seen in the plot above.&lt;/p&gt;
&lt;p&gt;We also see that the first split is based on the &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; variable, and a cutoff of &lt;span class=&#34;math inline&#34;&gt;\(x = -0.52\)&lt;/span&gt;. Note that because there is only one variable here, all splits are based on &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, but in the future, we will have multiple features that can be split and neighborhoods will no longer be one-dimensional. However, this is hard to plot.&lt;/p&gt;
&lt;p&gt;Let’s build a bigger, more flexible tree.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-18-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-19-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There are two tuning parameters at play here which we will call by their names in R which we will see soon:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cp&lt;/code&gt; or the “complexity parameter” as it is called.&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt; This parameter determines which splits are accepted. A split must improve the performance of the tree by more than &lt;code&gt;cp&lt;/code&gt; in order to be used. When we get to R, we will see that the default value is 0.1.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minsplit&lt;/code&gt;, the minimum number of observations in a node (neighborhood) in order to consider splitting within a neighborhood.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are actually many more possible tuning parameters for trees, possibly differing depending on who wrote the code you’re using. We will limit discussion to these two.&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt; Note that they effect each other, and they effect other parameters which we are not discussing. The main takeaway should be how they effect model flexibility.&lt;/p&gt;
&lt;p&gt;First let’s look at what happens for a fixed &lt;code&gt;minsplit&lt;/code&gt; by variable &lt;code&gt;cp&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-21-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that as &lt;code&gt;cp&lt;/code&gt; &lt;em&gt;decreases&lt;/em&gt;, model flexibility &lt;strong&gt;increases&lt;/strong&gt;. We see more splits, because the increase in performance needed to accept a split is smaller as &lt;code&gt;cp&lt;/code&gt; is reduced.&lt;/p&gt;
&lt;p&gt;Now the reverse, fix &lt;code&gt;cp&lt;/code&gt; and vary &lt;code&gt;minsplit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-23-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that as &lt;code&gt;minsplit&lt;/code&gt; &lt;em&gt;decreases&lt;/em&gt;, model flexibility &lt;strong&gt;increases&lt;/strong&gt;. By allowing splits of neighborhoods with fewer observations, we obtain more splits, which results in a more flexible model.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;example-credit-card-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Example: Credit Card Data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load data, coerce to tibble
crdt = as_tibble(ISLR::Credit)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, we are using the &lt;code&gt;Credit&lt;/code&gt; data form the &lt;code&gt;ISLR&lt;/code&gt; package. Note: &lt;strong&gt;this is not real data.&lt;/strong&gt; It has been simulated.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# data prep
crdt = crdt %&amp;gt;%
  select(-ID) %&amp;gt;%
  select(-Rating, everything())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We remove the &lt;code&gt;ID&lt;/code&gt; variable as it should have no predictive power. We also move the &lt;code&gt;Rating&lt;/code&gt; variable to the last column with a clever &lt;code&gt;dplyr&lt;/code&gt; trick. This is in no way necessary, but is useful in creating some plots.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# test-train split
set.seed(1)
crdt_trn_idx = sample(nrow(crdt), size = 0.8 * nrow(crdt))
crdt_trn = crdt[crdt_trn_idx, ]
crdt_tst = crdt[-crdt_trn_idx, ]&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# estimation-validation split
crdt_est_idx = sample(nrow(crdt_trn), size = 0.8 * nrow(crdt_trn))
crdt_est = crdt_trn[crdt_est_idx, ]
crdt_val = crdt_trn[-crdt_est_idx, ]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After train-test (with 80% of the data) and estimation-validation splitting the data, we look at the train data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# check data
head(crdt_trn, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 x 11
##    Income Limit Cards   Age Education Gender Student Married Ethnicity Balance
##     &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;     &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;  &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;       &amp;lt;int&amp;gt;
##  1  183.  13913     4    98        17 &amp;quot; Mal… No      Yes     Caucasian    1999
##  2   35.7  2880     2    35        15 &amp;quot; Mal… No      No      African …       0
##  3  123.   8376     2    89        17 &amp;quot; Mal… Yes     No      African …    1259
##  4   20.8  2672     1    70        18 &amp;quot;Fema… No      No      African …       0
##  5   39.1  5565     4    48        18 &amp;quot;Fema… No      Yes     Caucasian     772
##  6   36.5  3806     2    52        13 &amp;quot; Mal… No      No      African …     188
##  7   45.1  3762     3    80         8 &amp;quot; Mal… No      Yes     Caucasian      70
##  8   43.5  2906     4    69        11 &amp;quot; Mal… No      No      Caucasian       0
##  9   23.1  3476     2    50        15 &amp;quot;Fema… No      No      Caucasian     209
## 10   53.2  4943     2    46        16 &amp;quot;Fema… No      Yes     Asian         382
## # … with 1 more variable: Rating &amp;lt;int&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this simulated data, we would like to predict the &lt;code&gt;Rating&lt;/code&gt; variable. For now, let’s try to use only demographic information as predictors.&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt; In particular, let’s focus on &lt;code&gt;Age&lt;/code&gt; (numeric), &lt;code&gt;Gender&lt;/code&gt; (categorical), and &lt;code&gt;Student&lt;/code&gt; (categorical).&lt;/p&gt;
&lt;p&gt;Let’s fit KNN models with these features, and various values of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;. To do so, we use the &lt;code&gt;knnreg()&lt;/code&gt; function from the &lt;code&gt;caret&lt;/code&gt; package.&lt;a href=&#34;#fn10&#34; class=&#34;footnote-ref&#34; id=&#34;fnref10&#34;&gt;&lt;sup&gt;10&lt;/sup&gt;&lt;/a&gt; Use &lt;code&gt;?knnreg&lt;/code&gt; for documentation and details.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crdt_knn_01 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 1)
crdt_knn_10 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 10)
crdt_knn_25 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 25)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here, we fit three models to the estimation data. We supply the variables that will be used as features as we would with &lt;code&gt;lm()&lt;/code&gt;. We also specify how many neighbors to consider via the &lt;code&gt;k&lt;/code&gt; argument.&lt;/p&gt;
&lt;p&gt;But wait a second, what is the distance from non-student to student? From male to female? In other words, how does KNN handle categorical variables? It doesn’t! Like &lt;code&gt;lm()&lt;/code&gt; it creates dummy variables under the hood.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To this point, and until we specify otherwise, we will always coerce categorical variables to be factor variables in R. We will then let modeling functions such as &lt;code&gt;lm()&lt;/code&gt; or &lt;code&gt;knnreg()&lt;/code&gt; deal with the creation of dummy variables internally.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(crdt_knn_10$learn$X)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   Age GenderFemale StudentYes
## 1  30            0          0
## 2  25            0          0
## 3  44            0          0
## 4  73            1          0
## 5  44            0          1
## 6  71            0          0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once these dummy variables have been created, we have a numeric &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; matrix, which makes distance calculations easy.&lt;a href=&#34;#fn11&#34; class=&#34;footnote-ref&#34; id=&#34;fnref11&#34;&gt;&lt;sup&gt;11&lt;/sup&gt;&lt;/a&gt; For example, the distance between the 3rd and 4th observation here is 29.017.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dist(head(crdt_knn_10$learn$X))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           1         2         3         4         5
## 2  5.000000                                        
## 3 14.000000 19.000000                              
## 4 43.011626 48.010416 29.017236                    
## 5 14.035669 19.026298  1.000000 29.034462          
## 6 41.000000 46.000000 27.000000  2.236068 27.018512&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sqrt(sum((crdt_knn_10$learn$X[3, ] - crdt_knn_10$learn$X[4, ]) ^ 2))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 29.01724&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What about interactions? Basically, you’d have to create them the same way as you do for linear models. We only mention this to contrast with trees in a bit.&lt;/p&gt;
&lt;p&gt;OK, so of these three models, which one performs best? (Where for now, “best” is obtaining the lowest validation RMSE.)&lt;/p&gt;
&lt;p&gt;First, note that we return to the &lt;code&gt;predict()&lt;/code&gt; function as we did with &lt;code&gt;lm()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;predict(crdt_knn_10, crdt_val[1:5, ])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 337.7857 356.0000 295.7692 360.8182 306.8000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This uses the 10-NN (10 nearest neighbors) model to make predictions (estimate the regression function) given the first five observations of the validation data. &lt;strong&gt;Note:&lt;/strong&gt; We did not name the second argument to &lt;code&gt;predict()&lt;/code&gt;. Again, you’ve been warned.&lt;/p&gt;
&lt;p&gt;Now that we know how to use the &lt;code&gt;predict()&lt;/code&gt; function, let’s calculate the validation RMSE for each of these models.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knn_mod_list = list(
  crdt_knn_01 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 1),
  crdt_knn_10 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 10),
  crdt_knn_25 = knnreg(Rating ~ Age + Gender + Student, data = crdt_est, k = 25)
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knn_val_pred = lapply(knn_mod_list, predict, crdt_val)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_rmse = function(actual, predicted) {
  sqrt(mean((actual - predicted) ^ 2))
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(knn_val_pred, calc_rmse, crdt_val$Rating)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## crdt_knn_01 crdt_knn_10 crdt_knn_25 
##    182.3469    149.2172    138.6527&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, of these three values of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;, the model with &lt;span class=&#34;math inline&#34;&gt;\(k = 25\)&lt;/span&gt; achieves the lowest validation RMSE.&lt;/p&gt;
&lt;p&gt;This process, fitting a number of models with different values of the &lt;em&gt;tuning parameter&lt;/em&gt;, in this case &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;, and then finding the “best” tuning parameter value based on performance on the validation data is called &lt;strong&gt;tuning&lt;/strong&gt;. In practice, we would likely consider more values of &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;, but this should illustrate the point.&lt;/p&gt;
&lt;p&gt;In the next lectures, we will discuss the details of model flexibility and model tuning, and how these concepts are tied together. However, even though we will present some theory behind this relationship, in practice, &lt;strong&gt;you must tune and validate your models&lt;/strong&gt;. There is no theory that will inform you ahead of tuning and validation which model will be the best. By teaching you &lt;em&gt;how&lt;/em&gt; to fit KNN models in R and how to calculate validation RMSE, you already have all a set of tools you can use to find a good model.&lt;/p&gt;
&lt;p&gt;Let’s turn to decision trees which we will fit with the &lt;code&gt;rpart()&lt;/code&gt; function from the &lt;code&gt;rpart&lt;/code&gt; package. Use &lt;code&gt;?rpart&lt;/code&gt; and &lt;code&gt;?rpart.control&lt;/code&gt; for documentation and details. In particular, &lt;code&gt;?rpart.control&lt;/code&gt; will detail the many tuning parameters of this implementation of decision tree models in R.&lt;/p&gt;
&lt;p&gt;We’ll start by using default tuning parameters.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crdt_tree = rpart(Rating ~ Age + Gender + Student, data = crdt_est)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crdt_tree&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## n= 256 
## 
## node), split, n, deviance, yval
##       * denotes terminal node
## 
##  1) root 256 6667400.0 357.0781  
##    2) Age&amp;lt; 82.5 242 5865419.0 349.3719  
##      4) Age&amp;gt;=69.5 52 1040678.0 313.0385 *
##      5) Age&amp;lt; 69.5 190 4737307.0 359.3158  
##       10) Age&amp;lt; 38.5 55  700013.2 326.6000 *
##       11) Age&amp;gt;=38.5 135 3954443.0 372.6444  
##         22) Student=Yes 14  180764.4 297.7857 *
##         23) Student=No 121 3686148.0 381.3058  
##           46) Age&amp;gt;=50.5 64 1881299.0 359.2344  
##             92) Age&amp;lt; 53.5 9   48528.0 278.3333 *
##             93) Age&amp;gt;=53.5 55 1764228.0 372.4727 *
##           47) Age&amp;lt; 50.5 57 1738665.0 406.0877 *
##    3) Age&amp;gt;=82.5 14  539190.9 490.2857 *&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Above we see the resulting tree printed, however, this is difficult to read. Instead, we use the &lt;code&gt;rpart.plot()&lt;/code&gt; function from the &lt;code&gt;rpart.plot&lt;/code&gt; package to better visualize the tree.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rpart.plot(crdt_tree)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-40-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;At each split, the variable used to split is listed together with a condition. If the condition is true for a data point, send it to the left neighborhood. Although the &lt;code&gt;Gender&lt;/code&gt; available for creating splits, we only see splits based on &lt;code&gt;Age&lt;/code&gt; and &lt;code&gt;Student&lt;/code&gt;. This hints at the relative importance of these variables for prediction. More on this much later.&lt;/p&gt;
&lt;p&gt;Categorical variables are split based on potential categories! This is &lt;em&gt;excellent&lt;/em&gt;. This means that trees naturally handle categorical features without needing to convert to numeric under the hood. We see a split that puts students into one neighborhood, and non-students into another.&lt;/p&gt;
&lt;p&gt;Notice that the splits happen in order. So for example, the third terminal node (with an average rating of 298) is based on splits of:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Age &amp;lt; 83&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Age &amp;lt; 70&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Age &amp;gt; 39&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Student = Yes&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In other words, individuals in this terminal node are students who are between the ages of 39 and 70. (Only 5% of the data is represented here.) This is basically an interaction between &lt;code&gt;Age&lt;/code&gt; and &lt;code&gt;Student&lt;/code&gt; without any need to directly specify it! What a great feature of trees.&lt;/p&gt;
&lt;p&gt;To recap:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trees do not make assumptions about the form of the regression function.&lt;/li&gt;
&lt;li&gt;Trees automatically handle categorical features.&lt;/li&gt;
&lt;li&gt;Trees naturally incorporate interaction.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now let’s fit another tree that is more flexible by relaxing some tuning parameters. Recall that by default, &lt;code&gt;cp = 0.1&lt;/code&gt; and &lt;code&gt;minsplit = 20&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crdt_tree_big = rpart(Rating ~ Age + Gender + Student, data = crdt_est,
                      cp = 0.0, minsplit = 20)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rpart.plot(crdt_tree_big)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-42-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To make the tree even bigger, we could reduce &lt;code&gt;minsplit&lt;/code&gt;, but in practice we mostly consider the &lt;code&gt;cp&lt;/code&gt; parameter. Since &lt;code&gt;minsplit&lt;/code&gt; has been kept the same, but &lt;code&gt;cp&lt;/code&gt; was reduced, we see the same splits as the smaller tree, but many additional splits.&lt;/p&gt;
&lt;p&gt;Now let’s fit a bunch of trees, with different values of &lt;code&gt;cp&lt;/code&gt;, for tuning.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tree_mod_list = list(
  crdt_tree_0000 = rpart(Rating ~ Age + Gender + Student, data = crdt_est, cp = 0.000),
  crdt_tree_0001 = rpart(Rating ~ Age + Gender + Student, data = crdt_est, cp = 0.001),
  crdt_tree_0010 = rpart(Rating ~ Age + Gender + Student, data = crdt_est, cp = 0.010),
  crdt_tree_0100 = rpart(Rating ~ Age + Gender + Student, data = crdt_est, cp = 0.100)
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tree_val_pred = lapply(tree_mod_list, predict, crdt_val)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sapply(tree_val_pred, calc_rmse, crdt_val$Rating)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## crdt_tree_0000 crdt_tree_0001 crdt_tree_0010 crdt_tree_0100 
##       156.3527       155.4262       151.9081       140.0806&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we see the least flexible model, with &lt;code&gt;cp = 0.100&lt;/code&gt;, performs best.&lt;/p&gt;
&lt;p&gt;Note that by only using these three features, we are severely limiting our models performance. Let’s quickly assess using all available predictors.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crdt_tree_all = rpart(Rating ~ ., data = crdt_est)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rpart.plot(crdt_tree_all)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/08-content_files/figure-html/unnamed-chunk-47-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice that this model &lt;strong&gt;only&lt;/strong&gt; splits based on &lt;code&gt;Limit&lt;/code&gt; despite using all features. This should be a big hint about which variables are useful for prediction.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;calc_rmse(
  actual = crdt_val$Rating,
  predicted = predict(crdt_tree_all, crdt_val)
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 28.8498&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This model performs much better. You should try something similar with the KNN models above. Also, consider comparing this result to results from last lectures using linear models.&lt;/p&gt;
&lt;p&gt;Notice that we’ve been using that trusty &lt;code&gt;predict()&lt;/code&gt; function here again.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;predict(crdt_tree_all, crdt_val[1:5, ])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        1        2        3        4        5 
## 292.8182 467.5152 467.5152 467.5152 772.4000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What does this code do? It estimates the mean &lt;code&gt;Rating&lt;/code&gt; given the feature information (the “x” values) from the first five observations from the validation data using a decision tree model with default tuning parameters. Hopefully a theme is emerging.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;We chose to start with linear regression because most students the social sciences should already be familiar with the basic notion.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;The usual distance when you hear distance. That is, unless you drive a &lt;a href=&#34;https://en.wikipedia.org/wiki/Taxicab_geometry&#34;&gt;taxicab&lt;/a&gt;.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;For this reason, KNN is often not used in practice, but it is very useful learning tool.&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;Many texts use the term complex instead of flexible. We feel this is confusing as complex is often associated with difficult. KNN with &lt;span class=&#34;math inline&#34;&gt;\(k = 1\)&lt;/span&gt; is actually a very simple model to understand, but it is very flexible as defined here.&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;To exhaust all possible splits of a variable, we would need to consider the midpoint between each of the order statistics of the variable. To exhaust all possible splits, we would need to do this for each of the feature variables.&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;It’s really an upside tree isn’t it?&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;Flexibility parameter would be a better name.&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;The &lt;code&gt;rpart&lt;/code&gt; function in R would allow us to use others, but we will always just leave their values as the default values.&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;There is a question of whether or not we &lt;em&gt;should&lt;/em&gt; use these variables. For example, should men and women be given different ratings when all other variables are the same? Using the &lt;code&gt;Gender&lt;/code&gt; variable allows for this to happen. Also, you might think, just don’t use the &lt;code&gt;Gender&lt;/code&gt; variable. Unfortunately, it’s not that easy. There is an increasingly popular field of study centered around these ideas called &lt;a href=&#34;https://en.wikipedia.org/wiki/Fairness_(machine_learning)&#34;&gt;machine learning &lt;strong&gt;fairness&lt;/strong&gt;&lt;/a&gt;.&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn10&#34;&gt;&lt;p&gt;There are many other KNN functions in &lt;code&gt;R&lt;/code&gt;. However, the operation and syntax of &lt;code&gt;knnreg()&lt;/code&gt; better matches other functions we use in this course.&lt;a href=&#34;#fnref10&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn11&#34;&gt;&lt;p&gt;Wait. Doesn’t this sort of create an arbitrary distance between the categories? Why &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; and not &lt;span class=&#34;math inline&#34;&gt;\(-42\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(51\)&lt;/span&gt;? Good question. This hints at the notion of pre-processing. We’re going to hold off on this for now, but, often when performing k-nearest neighbors, you should try scaling all of the features to have mean &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; and variance &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;.&lt;a href=&#34;#fnref11&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Linear Regression III</title>
      <link>/content/07-content/</link>
      <pubDate>Thu, 22 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/content/07-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-question&#34;&gt;Guiding Question&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#association-is-not-causation&#34;&gt;Association is not causation&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#spurious-correlation&#34;&gt;Spurious correlation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#outliers&#34;&gt;Outliers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#reversing-cause-and-effect&#34;&gt;Reversing cause and effect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#confounders&#34;&gt;Confounders&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#example-uc-berkeley-admissions&#34;&gt;Example: UC Berkeley admissions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#confounding-explained-graphically&#34;&gt;Confounding explained graphically&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#average-after-stratifying&#34;&gt;Average after stratifying&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#simpsons-paradox&#34;&gt;Simpson’s paradox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-question&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Question&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;When can we make causal claims about the relationship between variables?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;p&gt;Note that the slides below are from last lecture; we will reference these and they contain a lot of useful information.&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#Introduction&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;As with recent weeks, we will work with real data during the lecture. Please download the following dataset and load it into &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/data/ames.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;Ames.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;association-is-not-causation&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Association is not causation&lt;/h1&gt;
&lt;p&gt;&lt;em&gt;Association is not causation&lt;/em&gt; is perhaps the most important lesson one learns in a statistics class. &lt;em&gt;Correlation is not causation&lt;/em&gt; is another way to say this. Throughout the previous parts of this class, we have described tools useful for quantifying associations between variables. However, we must be careful not to over-interpret these associations.&lt;/p&gt;
&lt;p&gt;There are many reasons that a variable &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; can be correlated with a variable &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; without having any direct effect on &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;. Here we examine four common ways that can lead to misinterpreting data.&lt;/p&gt;
&lt;div id=&#34;spurious-correlation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Spurious correlation&lt;/h2&gt;
&lt;p&gt;The following comical example underscores that correlation is not causation. It shows a very strong correlation between divorce rates and margarine consumption.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/divorce-versus-margarine-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Does this mean that margarine causes divorces? Or do divorces cause people to eat more margarine? Of course the answer to both these questions is no. This is just an example of what we call a &lt;em&gt;spurious correlation&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You can see many more absurd examples on the Spurious Correlations website&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The cases presented in the spurious correlation site are all instances of what is generally called &lt;em&gt;data dredging&lt;/em&gt;, &lt;em&gt;data fishing&lt;/em&gt;, or &lt;em&gt;data snooping&lt;/em&gt;. It’s basically a form of what in the US they call &lt;em&gt;cherry picking&lt;/em&gt;. An example of data dredging would be if you look through many results produced by a random process and pick the one that shows a relationship that supports a theory you want to defend.&lt;/p&gt;
&lt;p&gt;A Monte Carlo simulation can be used to show how data dredging can result in finding high correlations among uncorrelated variables. We will save the results of our simulation into a tibble:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;N &amp;lt;- 25
g &amp;lt;- 1000000
sim_data &amp;lt;- tibble(group = rep(1:g, each=N),
                   x = rnorm(N * g),
                   y = rnorm(N * g))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first column denotes group. We created groups and for each one we generated a pair of independent vectors, &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, with 25 observations each, stored in the second and third columns. Because we constructed the simulation, we know that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; are not correlated.&lt;/p&gt;
&lt;p&gt;Next, we compute the correlation between &lt;code&gt;X&lt;/code&gt; and &lt;code&gt;Y&lt;/code&gt; for each group and look at the max:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;res &amp;lt;- sim_data %&amp;gt;%
  group_by(group) %&amp;gt;%
  summarize(r = cor(x, y)) %&amp;gt;%
  arrange(desc(r))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;res&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,000,000 x 2
##     group     r
##     &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;
##  1 861679 0.815
##  2 387275 0.786
##  3 455283 0.786
##  4 442746 0.783
##  5 737678 0.777
##  6 113036 0.775
##  7 454360 0.773
##  8 553579 0.766
##  9 656133 0.758
## 10 660249 0.749
## # … with 999,990 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We see a maximum correlation of 0.8146411 and if you just plot the data from the group achieving this correlation, it shows a convincing plot that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; are in fact correlated:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sim_data %&amp;gt;% filter(group == res$group[which.max(res$r)]) %&amp;gt;%
  ggplot(aes(x, y)) +
  geom_point() +
  geom_smooth(method = &amp;quot;lm&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/dredging-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that the correlation summary is a random variable. Here is the distribution generated by the Monte Carlo simulation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;res %&amp;gt;% ggplot(aes(x=r)) + geom_histogram(binwidth = 0.1, color = &amp;quot;black&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/null-corr-hist-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It’s just a mathematical fact that if we observe random correlations that are expected to be 0, but have a standard error of 0.2041007, the largest one will be close to 1.&lt;/p&gt;
&lt;p&gt;If we performed regression on this group and interpreted the p-value, we would incorrectly claim this was a statistically significant relation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(broom)
sim_data %&amp;gt;%
  filter(group == res$group[which.max(res$r)]) %&amp;gt;%
  do(tidy(lm(y ~ x, data = .))) %&amp;gt;%
  filter(term == &amp;quot;x&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 5
##   term  estimate std.error statistic     p.value
##   &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;
## 1 x         1.04     0.154      6.74 0.000000716&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This particular form of data dredging is referred to as &lt;em&gt;p-hacking&lt;/em&gt;. P-hacking is a topic of much discussion because it is a problem in scientific publications. Because publishers tend to reward statistically significant results over negative results, there is an incentive to report significant results. In epidemiology and the social sciences, for example, researchers may look for associations between an adverse outcome and several exposures and report only the one exposure that resulted in a small p-value. Furthermore, they might try fitting several different models to account for confounding and pick the one that yields the smallest p-value. In experimental disciplines, an experiment might be repeated more than once, yet only the results of the one experiment with a small p-value reported. This does not necessarily happen due to unethical behavior, but rather as a result of statistical ignorance or wishful thinking. In advanced statistics courses, you can learn methods to adjust for these multiple comparisons.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;outliers&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Outliers&lt;/h2&gt;
&lt;p&gt;Suppose we take measurements from two independent outcomes, &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, and we standardize the measurements. However, imagine we make a mistake and forget to standardize entry 23. We can simulate such data using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1985)
x &amp;lt;- rnorm(100,100,1)
y &amp;lt;- rnorm(100,84,1)
x[-23] &amp;lt;- scale(x[-23])
y[-23] &amp;lt;- scale(y[-23])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data look like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qplot(x, y)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/outlier-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Not surprisingly, the correlation is very high:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cor(x,y)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9878382&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But this is driven by the one outlier. If we remove this outlier, the correlation is greatly reduced to almost 0, which is what it should be:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cor(x[-23], y[-23])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -0.04419032&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Previously, we (briefly) described alternatives to the average and standard deviation that are robust to outliers. There is also an alternative to the sample correlation for estimating the population correlation that is robust to outliers. It is called &lt;em&gt;Spearman correlation&lt;/em&gt;. The idea is simple: compute the correlation on the ranks of the values. Here is a plot of the ranks plotted against each other:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qplot(rank(x), rank(y))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/scatter-plot-of-ranks-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The outlier is no longer associated with a very large value and the correlation comes way down:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cor(rank(x), rank(y))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.002508251&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Spearman correlation can also be calculated like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cor(x, y, method = &amp;quot;spearman&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.002508251&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are also methods for robust fitting of linear models which you can learn about in, for instance, this book: Robust Statistics: Edition 2 by Peter J. Huber &amp;amp; Elvezio M. Ronchetti.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;reversing-cause-and-effect&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Reversing cause and effect&lt;/h2&gt;
&lt;p&gt;Another way association is confused with causation is when the cause and effect are reversed. An example of this is claiming that tutoring makes students perform worse because they test lower than peers that are not tutored. In this case, the tutoring is not causing the low test scores, but the other way around.&lt;/p&gt;
&lt;p&gt;A form of this claim actually made it into an op-ed in the New York Times titled Parental Involvement Is Overrated&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. Consider this quote from the article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When we examined whether regular help with homework had a positive impact on children’s academic performance, we were quite startled by what we found. Regardless of a family’s social class, racial or ethnic background, or a child’s grade level, consistent homework help almost never improved test scores or grades… Even more surprising to us was that when parents regularly helped with homework, kids usually performed worse.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A very likely possibility is that the children needing regular parental help, receive this help because they don’t perform well in school.&lt;/p&gt;
&lt;p&gt;We can easily construct an example of cause and effect reversal using the father and son height data. If we fit the model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[X_i = \beta_0 + \beta_1 y_i + \varepsilon_i, i=1, \dots, N\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;to the father and son height data, with &lt;span class=&#34;math inline&#34;&gt;\(X_i\)&lt;/span&gt; the father height and &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; the son height, we do get a statistically significant result:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(HistData)
data(&amp;quot;GaltonFamilies&amp;quot;)
GaltonFamilies %&amp;gt;%
  filter(childNum == 1 &amp;amp; gender == &amp;quot;male&amp;quot;) %&amp;gt;%
  select(father, childHeight) %&amp;gt;%
  rename(son = childHeight) %&amp;gt;%
  do(tidy(lm(father ~ son, data = .)))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 (Intercept)   34.0      4.57        7.44 4.31e-12
## 2 son            0.499    0.0648      7.70 9.47e-13&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The model fits the data very well. If we look at the mathematical formulation of the model above, it could easily be incorrectly interpreted so as to suggest that the son being tall caused the father to be tall. But given what we know about genetics and biology, we know it’s the other way around. The model is technically correct. The estimates and p-values were obtained correctly as well. What is wrong here is the interpretation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;confounders&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Confounders&lt;/h2&gt;
&lt;p&gt;Confounders are perhaps the most common reason that leads to associations begin misinterpreted.&lt;/p&gt;
&lt;p&gt;If &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; are correlated, we call &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; a &lt;em&gt;confounder&lt;/em&gt; if changes in &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; causes changes in both &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;. Earlier, when studying baseball data, we saw how Home Runs was a confounder that resulted in a higher correlation than expected when studying the relationship between Bases on Balls and Runs. In some cases, we can use linear models to account for confounders. However, this is not always the case.&lt;/p&gt;
&lt;p&gt;Incorrect interpretation due to confounders is ubiquitous in the lay press and they are often hard to detect. Here, we present a widely used example related to college admissions.&lt;/p&gt;
&lt;div id=&#34;example-uc-berkeley-admissions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Example: UC Berkeley admissions&lt;/h3&gt;
&lt;p&gt;Admission data from six U.C. Berkeley majors, from 1973, showed that more men were being admitted than women: 44% men were admitted compared to 30% women. PJ Bickel, EA Hammel, and JW O’Connell. Science (1975). We can load the data and
&lt;!--compute the percent of men and women that were accepted like this:


```r
data(admissions)
admissions %&gt;% group_by(gender) %&gt;%
  summarize(percentage =
              round(sum(admitted*applicants)/sum(applicants),1))
```

```
## `summarise()` ungrouping output (override with `.groups` argument)
```

```
## # A tibble: 2 x 2
##   gender percentage
##   &lt;chr&gt;       &lt;dbl&gt;
## 1 men          44.5
## 2 women        30.3
```
--&gt;
a statistical test, which clearly rejects the hypothesis that gender and admission are independent:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(admissions)
admissions %&amp;gt;% group_by(gender) %&amp;gt;%
  summarize(total_admitted = round(sum(admitted / 100 * applicants)),
            not_admitted = sum(applicants) - sum(total_admitted)) %&amp;gt;%
  select(-gender) %&amp;gt;%
  do(tidy(chisq.test(.))) %&amp;gt;% .$p.value&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1.055797e-21&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But closer inspection shows a paradoxical result. Here are the percent admissions by major:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;admissions %&amp;gt;% select(major, gender, admitted) %&amp;gt;%
  spread(gender, admitted) %&amp;gt;%
  mutate(women_minus_men = women - men)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   major men women women_minus_men
## 1     A  62    82              20
## 2     B  63    68               5
## 3     C  37    34              -3
## 4     D  33    35               2
## 5     E  28    24              -4
## 6     F   6     7               1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Four out of the six majors favor women. More importantly, all the differences are much smaller than the 14.2 difference that we see when examining the totals.&lt;/p&gt;
&lt;p&gt;The paradox is that analyzing the totals suggests a dependence between admission and gender, but when the data is grouped by major, this dependence seems to disappear. What’s going on? This actually can happen if an uncounted confounder is driving most of the variability.&lt;/p&gt;
&lt;p&gt;So let’s define three variables: &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is 1 for men and 0 for women, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; is 1 for those admitted and 0 otherwise, and &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; quantifies the selectivity of the major. A gender bias claim would be based on the fact that &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(Y=1 | X = x)\)&lt;/span&gt; is higher for &lt;span class=&#34;math inline&#34;&gt;\(x=1\)&lt;/span&gt; than &lt;span class=&#34;math inline&#34;&gt;\(x=0\)&lt;/span&gt;. However, &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; is an important confounder to consider. Clearly &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; is associated with &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, as the more selective a major, the lower &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(Y=1 | Z = z)\)&lt;/span&gt;. But is major selectivity &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; associated with gender &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;?&lt;/p&gt;
&lt;p&gt;One way to see this is to plot the total percent admitted to a major versus the percent of women that made up the applicants:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;admissions %&amp;gt;%
  group_by(major) %&amp;gt;%
  summarize(major_selectivity = sum(admitted * applicants)/sum(applicants),
            percent_women_applicants = sum(applicants * (gender==&amp;quot;women&amp;quot;)) /
                                             sum(applicants) * 100) %&amp;gt;%
  ggplot(aes(major_selectivity, percent_women_applicants, label = major)) +
  geom_text()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/uc-berkeley-majors-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There seems to be association. The plot suggests that women were much more likely to apply to the two “hard” majors: gender and major’s selectivity are confounded. Compare, for example, major B and major E. Major E is much harder to enter than major B and over 60% of applicants to major E were women, while less than 30% of the applicants of major B were women.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;confounding-explained-graphically&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Confounding explained graphically&lt;/h3&gt;
&lt;p&gt;The following plot shows the number of applicants that were admitted and those that were not by:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/confounding-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;!--

```r
admissions %&gt;%
  mutate(percent_admitted = admitted * applicants/sum(applicants)) %&gt;%
  ggplot(aes(gender, y = percent_admitted, fill = major)) +
  geom_bar(stat = &#34;identity&#34;, position = &#34;stack&#34;)
```

&lt;img src=&#34;/content/07-content_files/figure-html/confounding-2-1.png&#34; width=&#34;672&#34; /&gt;
--&gt;
&lt;p&gt;It also breaks down the acceptances by major. This breakdown allows us to see that the majority of accepted men came from two majors: A and B. It also lets us see that few women applied to these majors.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;average-after-stratifying&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Average after stratifying&lt;/h3&gt;
&lt;p&gt;In this plot, we can see that if we condition or stratify by major, and then look at differences, we control for the confounder and this effect goes away:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;admissions %&amp;gt;%
  ggplot(aes(major, admitted, col = gender, size = applicants)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/admission-by-major-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we see that major by major, there is not much difference. The size of the dot represents the number of applicants, and explains the paradox: we see large red dots and small blue dots for the easiest majors, A and B.&lt;/p&gt;
&lt;p&gt;If we average the difference by major, we find that the percent is actually 3.5% higher for women.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;admissions %&amp;gt;%  group_by(gender) %&amp;gt;% summarize(average = mean(admitted))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 2
##   gender average
##   &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 men       38.2
## 2 women     41.7&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;simpsons-paradox&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Simpson’s paradox&lt;/h2&gt;
&lt;p&gt;The case we have just covered is an example of Simpson’s paradox. It is called a paradox because we see the sign of the correlation flip when comparing the entire publication and specific strata. As an illustrative example, suppose you have three random variables &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; and that we observe realizations of these. Here is a plot of simulated observations for &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; along with the sample correlation:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/simpsons-paradox-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can see that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; are negatively correlated. However, once we stratify by &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; (shown in different colors below) another pattern emerges:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/07-content_files/figure-html/simpsons-paradox-explained-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It is really &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt; that is negatively correlated with &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. If we stratify by &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt;, the &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; are actually positively correlated as seen in the plot above.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://tylervigen.com/spurious-correlations&#34; class=&#34;uri&#34;&gt;http://tylervigen.com/spurious-correlations&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://opinionator.blogs.nytimes.com/2014/04/12/parental-involvement-is-overrated&#34; class=&#34;uri&#34;&gt;https://opinionator.blogs.nytimes.com/2014/04/12/parental-involvement-is-overrated&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Linear Regression II</title>
      <link>/content/06-content/</link>
      <pubDate>Tue, 13 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/content/06-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#supplemental-readings&#34;&gt;Supplemental Readings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#linear-models-ii&#34;&gt;Linear Models II&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-moneyball&#34;&gt;Case study: Moneyball&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#sabermetics&#34;&gt;Sabermetics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#baseball-basics&#34;&gt;Baseball basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#no-awards-for-bb&#34;&gt;No awards for BB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#base-on-balls-or-stolen-bases&#34;&gt;Base on balls or stolen bases?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#regression-applied-to-baseball-statistics&#34;&gt;Regression applied to baseball statistics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#confounding&#34;&gt;Confounding&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#understanding-confounding-through-stratification&#34;&gt;Understanding confounding through stratification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#multivariate-regression&#34;&gt;Multivariate regression&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lse&#34;&gt;Least squares estimates&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#interpreting-linear-models&#34;&gt;Interpreting linear models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#least-squares-estimates-lse&#34;&gt;Least Squares Estimates (LSE)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-lm-function&#34;&gt;The &lt;code&gt;lm&lt;/code&gt; function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lse-are-random-variables&#34;&gt;LSE are random variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#predicted-values-are-random-variables&#34;&gt;Predicted values are random variables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exercises&#34;&gt;Exercises&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#linear-regression-in-the-tidyverse&#34;&gt;Linear regression in the tidyverse&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#the-broom-package&#34;&gt;The broom package&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-moneyball-continued&#34;&gt;Case study: Moneyball (continued)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#adding-salary-and-position-information&#34;&gt;Adding salary and position information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#picking-nine-players&#34;&gt;Picking nine players&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-regression-fallacy&#34;&gt;The regression fallacy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#measurement-error-models&#34;&gt;Measurement error models&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;supplemental-readings&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Supplemental Readings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 3 in &lt;a href=&#34;http://faculty.marshall.usc.edu/gareth-james/ISL/ISLR%20Seventh%20Printing.pdf&#34;&gt;Introduction to Statistical Learning&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How do we interpret linear regression outputs?&lt;/li&gt;
&lt;li&gt;How are the standard errors derived?&lt;/li&gt;
&lt;li&gt;When should we turn to linear regression versus alternative approaches?&lt;/li&gt;
&lt;li&gt;Why do we use linear regression so often in data analytics?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#Introduction&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;As with recent weeks, we will work with real data during the lecture. Please download the following dataset and load it into &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/data/ames.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;Ames.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;linear-models-ii&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Linear Models II&lt;/h1&gt;
&lt;p&gt;Since Galton’s original development, regression has become one of the most widely used tools in data science. One reason has to do with the fact that regression permits us to find relationships between two variables taking into account the effects of other variables that affect both. This has been particularly popular in fields where randomized experiments are hard to run, such as economics and epidemiology.&lt;/p&gt;
&lt;p&gt;When we are not able to randomly assign each individual to a treatment or control group, confounding is particularly prevalent. For example, consider estimating the effect of eating fast foods on life expectancy using data collected from a random sample of people in a jurisdiction. Fast food consumers are more likely to be smokers, drinkers, and have lower incomes. Therefore, a naive regression model may lead to an overestimate of the negative health effect of fast food. So how do we account for confounding in practice? In this lecture we learn how linear models can help with such situations and can be used to describe how one or more variables affect an outcome variable.&lt;/p&gt;
&lt;div id=&#34;case-study-moneyball&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: Moneyball&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Moneyball: The Art of Winning an Unfair Game&lt;/em&gt; is a book by Michael Lewis about the Oakland Athletics (A’s) baseball team and its general manager, the person tasked with building the team, Billy Beane.&lt;/p&gt;
&lt;p&gt;Traditionally, baseball teams use &lt;em&gt;scouts&lt;/em&gt; to help them decide what players to hire. These scouts evaluate players by observing them perform. Scouts tend to favor athletic players with observable physical abilities. For this reason, scouts tend to agree on who the best players are and, as a result, these players tend to be in high demand. This in turn drives up their salaries.&lt;/p&gt;
&lt;p&gt;From 1989 to 1991, the A’s had one of the highest payrolls in baseball. They were able to buy the best players and, during that time, they were one of the best teams. However, in 1995 the A’s team owner changed and the new management cut the budget drastically, leaving then general manager, Sandy Alderson, with one of the lowest payrolls in baseball. He could no longer afford the most sought-after players. Alderson began using a statistical approach to find inefficiencies in the market. Alderson was a mentor to Billy Beane, who succeeded him in 1998 and fully embraced data science, as opposed to scouts, as a method for finding low-cost players that data predicted would help the team win. Today, this strategy has been adapted by most baseball teams. As we will see, regression plays a large role in this approach.&lt;/p&gt;
&lt;p&gt;As motivation for this lecture, we will pretend it is 2002 (holy shit I’m old) and try to build a baseball team with a limited budget, just like the A’s had to do. To appreciate what you are up against, note that in 2002 the Yankees’ payroll of $125,928,583 more than tripled the Oakland A’s $39,679,746:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/mlb-2002-payroll-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;sabermetics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Sabermetics&lt;/h3&gt;
&lt;p&gt;Statistics have been used in baseball since its beginnings. The dataset we will be using, included in the &lt;strong&gt;Lahman&lt;/strong&gt; library, goes back to the 19th century. For example, a summary statistics we will describe soon, the &lt;em&gt;batting average&lt;/em&gt;, has been used for decades to summarize a batter’s success. Other statistics&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; such as home runs (HR), runs batted in (RBI), and stolen bases (SB) are reported for each player in the game summaries included in the sports section of newspapers, with players rewarded for high numbers. Although summary statistics such as these were widely used in baseball, data analysis per se was not. These statistics were arbitrarily decided on without much thought as to whether they actually predicted anything or were related to helping a team win.&lt;/p&gt;
&lt;p&gt;This changed with Bill James&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. In the late 1970s, this aspiring writer and baseball fan started publishing articles describing more in-depth analysis of baseball data. He named the approach of using data to predict what outcomes best predicted if a team would win &lt;em&gt;sabermetrics&lt;/em&gt;&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. Until Billy Beane made sabermetrics the center of his baseball operation, Bill James’ work was mostly ignored by the baseball world. Currently, sabermetrics popularity is no longer limited to just baseball; other sports have started to use this approach as well.&lt;/p&gt;
&lt;p&gt;In this lecture, to simplify the exercise, we will focus on scoring runs and ignore the two other important aspects of the game: pitching and fielding. We will see how regression analysis can help develop strategies to build a competitive baseball team with a constrained budget. The approach can be divided into two separate data analyses. In the first, we determine which recorded player-specific statistics predict runs. In the second, we examine if players were undervalued based on what our first analysis predicts.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;baseball-basics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Baseball basics&lt;/h3&gt;
&lt;p&gt;To see how regression will help us find undervalued players, we actually don’t need to understand all the details about the game of baseball, which has over 100 rules. Here, we distill the sport to the basic knowledge one needs to know how to effectively attack the data science problem.&lt;/p&gt;
&lt;p&gt;The goal of a baseball game is to score more runs (points) than the other team. Each team has 9 batters that have an opportunity to hit a ball with a bat in a predetermined order. After the 9th batter has had their turn, the first batter bats again, then the second, and so on. Each time a batter has an opportunity to bat, we call it a plate appearance (PA). At each PA, the other team’s &lt;em&gt;pitcher&lt;/em&gt; throws the ball and the batter tries to hit it. The PA ends with an binary outcome: the batter either makes an &lt;em&gt;out&lt;/em&gt; (failure) and returns to the bench or the batter doesn’t (success) and can run around the bases, and potentially score a run (reach all 4 bases). Each team gets nine tries, referred to as &lt;em&gt;innings&lt;/em&gt;, to score runs and each inning ends after three outs (three failures).&lt;/p&gt;
&lt;p&gt;Here is a video showing a success: &lt;a href=&#34;https://www.youtube.com/watch?v=HL-XjMCPfio&#34;&gt;https://www.youtube.com/watch?v=HL-XjMCPfio&lt;/a&gt;. And here is one showing a failure: &lt;a href=&#34;https://www.youtube.com/watch?v=NeloljCx-1g&#34;&gt;https://www.youtube.com/watch?v=NeloljCx-1g&lt;/a&gt;. In these videos, we see how luck is involved in the process. When at bat, the batter wants to hit the ball hard. If the batter hits it hard enough, it is a HR, the best possible outcome as the batter gets at least one automatic run. But sometimes, due to chance, the batter hits the ball very hard and a defender catches it, resulting in an out. In contrast, sometimes the batter hits the ball softly, but it lands just in the right place. The fact that there is chance involved hints at why probability models will be involved.&lt;/p&gt;
&lt;p&gt;Now there are several ways to succeed. Understanding this distinction will be important for our analysis. When the batter hits the ball, the batter wants to pass as many &lt;em&gt;bases&lt;/em&gt; as possible. There are four bases with the fourth one called &lt;em&gt;home plate&lt;/em&gt;. Home plate is where batters start by trying to hit, so the bases form a cycle.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./06-content_files/Baseball_Diamond1.png&#34; /&gt;
(Courtesy of Cburnett&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. CC BY-SA 3.0 license&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;.)
&lt;!--Source: [Wikipedia Commons](https://commons.wikimedia.org/wiki/File:Baseball_diamond_simplified.svg))--&gt;&lt;/p&gt;
&lt;p&gt;A batter who &lt;em&gt;goes around the bases&lt;/em&gt; and arrives home, scores a run.&lt;/p&gt;
&lt;p&gt;We are simplifying a bit, but there are five ways a batter can succeed, that is, not make an out:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bases on balls (BB) - the pitcher fails to throw the ball through a predefined area considered to be hittable (the strikezone), so the batter is permitted to go to first base.&lt;/li&gt;
&lt;li&gt;Single - Batter hits the ball and gets to first base.&lt;/li&gt;
&lt;li&gt;Double (2B) - Batter hits the ball and gets to second base.&lt;/li&gt;
&lt;li&gt;Triple (3B) - Batter hits the ball and gets to third base.&lt;/li&gt;
&lt;li&gt;Home Run (HR) - Batter hits the ball and goes all the way home and scores a run.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here is an example of a HR:
&lt;a href=&#34;https://www.youtube.com/watch?v=xYxSZJ9GZ-w&#34;&gt;https://www.youtube.com/watch?v=xYxSZJ9GZ-w&lt;/a&gt;.
If a batter gets to a base, the batter still has a chance of getting home and scoring a run if the next batter hits successfully. While the batter is &lt;em&gt;on base&lt;/em&gt;, the batter can also try to steal a base (SB). If a batter runs fast enough, the batter can try to go from one base to the next without the other team tagging the runner. [Here] is an example of a stolen base: &lt;a href=&#34;https://www.youtube.com/watch?v=JSE5kfxkzfk&#34;&gt;https://www.youtube.com/watch?v=JSE5kfxkzfk&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;All these events are kept track of during the season and are available to us through the &lt;strong&gt;Lahman&lt;/strong&gt; package. Now we will start discussing how data analysis can help us decide how to use these statistics to evaluate players.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;no-awards-for-bb&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;No awards for BB&lt;/h3&gt;
&lt;p&gt;Historically, the &lt;em&gt;batting average&lt;/em&gt; has been considered the most important offensive statistic. To define this average, we define a &lt;em&gt;hit&lt;/em&gt; (H) and an &lt;em&gt;at bat&lt;/em&gt; (AB). Singles, doubles, triples, and home runs are hits. The fifth way to be successful, BB, is not a hit. An AB is the number of times you either get a hit or make an out; BBs are excluded. The batting average is simply H/AB and is considered the main measure of a success rate. Today this success rate ranges from 20% to 38%. We refer to the batting average in thousands so, for example, if your success rate is 28%, we call it &lt;em&gt;batting 280&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./06-content_files/JumboTron.png&#34; /&gt;
(Picture courtesy of Keith Allison&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;. CC BY-SA 2.0 license&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;One of Bill James’ first important insights is that the batting average ignores BB, but a BB is a success. He proposed we use the &lt;em&gt;on base percentage&lt;/em&gt; (OBP) instead of batting average. He defined OBP as (H+BB)/(AB+BB) which is simply the proportion of plate appearances that don’t result in an out, a very intuitive measure. He noted that a player that gets many more BB than the average player might not be recognized if the batter does not excel in batting average. But is this player not helping produce runs? No award is given to the player with the most BB. However, bad habits are hard to break and baseball did not immediately adopt OBP as an important statistic. In contrast, total stolen bases were considered important and an award&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt; given to the player with the most. But players with high totals of SB also made more outs as they did not always succeed. Does a player with high SB total help produce runs? Can we use data science to determine if it’s better to pay for players with high BB or SB?&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;base-on-balls-or-stolen-bases&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Base on balls or stolen bases?&lt;/h3&gt;
&lt;p&gt;One of the challenges in this analysis is that it is not obvious how to determine if a player produces runs because so much depends on his teammates. We do keep track of the number of runs scored by a player. However, remember that if a player X bats right before someone who hits many HRs, batter X will score many runs. But these runs don’t necessarily happen if we hire player X but not his HR hitting teammate. However, we can examine team-level statistics. How do teams with many SB compare to teams with few? How about BB? We have data! Let’s examine some.&lt;/p&gt;
&lt;p&gt;Let’s start with an obvious one: HRs. Do teams that hit more home runs score more runs? We examine data from 1961 to 2001. The visualization of choice when exploring the relationship between two variables, such as HRs and wins, is a scatterplot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(Lahman)

Teams %&amp;gt;% filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(HR_per_game = HR / G, R_per_game = R / G) %&amp;gt;%
  ggplot(aes(HR_per_game, R_per_game)) +
  geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/runs-vs-hrs-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot shows a strong association: teams with more HRs tend to score more runs. Now let’s examine the relationship between stolen bases and runs:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;% filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(SB_per_game = SB / G, R_per_game = R / G) %&amp;gt;%
  ggplot(aes(SB_per_game, R_per_game)) +
  geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/runs-vs-sb-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here the relationship is not as clear. Finally, let’s examine the relationship between BB and runs:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;% filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(BB_per_game = BB/G, R_per_game = R/G) %&amp;gt;%
  ggplot(aes(BB_per_game, R_per_game)) +
  geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/runs-vs-bb-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here again we see a clear association. But does this mean that increasing a team’s BBs &lt;strong&gt;causes&lt;/strong&gt; an increase in runs? One of the most important lessons you learn in this book is that &lt;strong&gt;association is not causation.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In fact, it looks like BBs and HRs are also associated:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;% filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(HR_per_game = HR/G, BB_per_game = BB/G) %&amp;gt;%
  ggplot(aes(HR_per_game, BB_per_game)) +
  geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/bb-vs-hrs-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We know that HRs cause runs because, as the name “home run” implies, when a player hits a HR they are guaranteed at least one run. Could it be that HRs also cause BB and this makes it appear as if BB cause runs? When this happens we say there is &lt;em&gt;confounding&lt;/em&gt;, an important concept we will learn more about throughout this lecture.&lt;/p&gt;
&lt;p&gt;Linear regression will help us parse all this out and quantify the associations. This will then help us determine what players to recruit. Specifically, we will try to predict things like how many more runs will a team score if we increase the number of BBs, but keep the HRs fixed? Regression will help us answer questions like this one.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;regression-applied-to-baseball-statistics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Regression applied to baseball statistics&lt;/h3&gt;
&lt;p&gt;Can we use regression with these data? First, notice that the HR and Run data appear to be bivariate normal. We save the plot into the object &lt;code&gt;p&lt;/code&gt; as we will use it again later.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(Lahman)
p &amp;lt;- Teams %&amp;gt;% filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(HR_per_game = HR/G, R_per_game = R/G) %&amp;gt;%
  ggplot(aes(HR_per_game, R_per_game)) +
  geom_point(alpha = 0.5)
p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/hr-runs-bivariate-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The qq-plots confirm that the normal approximation is useful here:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;% filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(z_HR = round((HR - mean(HR))/sd(HR)),
         R_per_game = R/G) %&amp;gt;%
  filter(z_HR %in% -2:3) %&amp;gt;%
  ggplot() +
  stat_qq(aes(sample=R_per_game)) +
  facet_wrap(~z_HR)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/hr-by-runs-qq-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we are ready to use linear regression to predict the number of runs a team will score if we know how many home runs the team hits. All we need to do is compute the five summary statistics:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary_stats &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(HR_per_game = HR/G, R_per_game = R/G) %&amp;gt;%
  summarize(avg_HR = mean(HR_per_game),
            s_HR = sd(HR_per_game),
            avg_R = mean(R_per_game),
            s_R = sd(R_per_game),
            r = cor(HR_per_game, R_per_game))
summary_stats&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      avg_HR      s_HR    avg_R       s_R         r
## 1 0.8547104 0.2429707 4.355262 0.5885791 0.7615597&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and use the formulas given above to create the regression lines:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;reg_line &amp;lt;- summary_stats %&amp;gt;% summarize(slope = r*s_R/s_HR,
                            intercept = avg_R - slope*avg_HR)

p + geom_abline(intercept = reg_line$intercept, slope = reg_line$slope)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/hr-versus-runs-regression-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Soon we will learn R functions, such as &lt;code&gt;lm&lt;/code&gt;, that make fitting regression lines much easier. Another example is the &lt;strong&gt;ggplot2&lt;/strong&gt; function &lt;code&gt;geom_smooth&lt;/code&gt; which computes and adds a regression line to plot along with confidence intervals, which we also learn about later. We use the argument &lt;code&gt;method = &#34;lm&#34;&lt;/code&gt; which stands for &lt;em&gt;linear model&lt;/em&gt;, the title of an upcoming section. So we can simplify the code above like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p + geom_smooth(method = &amp;quot;lm&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/hr-versus-runs-regression-easy-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the example above, the slope is 1.8448241. So this tells us that teams that hit 1 more HR per game than the average team, score 1.8448241 more runs per game than the average team. Given that the most common final score is a difference of a run, this can certainly lead to a large increase in wins. Not surprisingly, HR hitters are very expensive. Because we are working on a budget, we will need to find some other way to increase wins. So in the next section we move our attention to BB.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;confounding&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Confounding&lt;/h2&gt;
&lt;p&gt;Previously, we noted a strong relationship between Runs and BB. If we find the regression line for predicting runs from bases on balls, we a get slope of:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(Lahman)
get_slope &amp;lt;- function(x, y) cor(x, y) * sd(y) / sd(x)

bb_slope &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(BB_per_game = BB/G, R_per_game = R/G) %&amp;gt;%
  summarize(slope = get_slope(BB_per_game, R_per_game))

bb_slope&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       slope
## 1 0.7353288&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So does this mean that if we go and hire low salary players with many BB, and who therefore increase the number of walks per game by 2, our team will score 1.5 more runs per game?&lt;/p&gt;
&lt;p&gt;We are again reminded that association is not causation. The data does provide strong evidence that a team with two more BB per game than the average team, scores 1.5 runs per game. But this does not mean that BB are the cause.&lt;/p&gt;
&lt;p&gt;Note that if we compute the regression line slope for singles we get:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;singles_slope &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(Singles_per_game = (H-HR-X2B-X3B)/G, R_per_game = R/G) %&amp;gt;%
  summarize(slope = get_slope(Singles_per_game, R_per_game))

singles_slope&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       slope
## 1 0.4494253&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which is a lower value than what we obtain for BB.&lt;/p&gt;
&lt;p&gt;Also, notice that a single gets you to first base just like a BB. Those that know about baseball will tell you that with a single, runners on base have a better chance of scoring than with a BB. So how can BB be more predictive of runs? The reason this happen is because of confounding. Here we show the correlation between HR, BB, and singles:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;%
  filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(Singles = (H-HR-X2B-X3B)/G, BB = BB/G, HR = HR/G) %&amp;gt;%
  summarize(cor(BB, HR), cor(Singles, HR), cor(BB, Singles))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   cor(BB, HR) cor(Singles, HR) cor(BB, Singles)
## 1   0.4039313       -0.1737435      -0.05603822&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It turns out that pitchers, afraid of HRs, will sometimes avoid throwing strikes to HR hitters. As a result, HR hitters tend to have more BBs and a team with many HRs will also have more BBs. Although it may appear that BBs cause runs, it is actually the HRs that cause most of these runs. We say that BBs are &lt;em&gt;confounded&lt;/em&gt; with HRs. Nonetheless, could it be that BBs still help? To find out, we somehow have to adjust for the HR effect. Regression can help with this as well.&lt;/p&gt;
&lt;div id=&#34;understanding-confounding-through-stratification&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Understanding confounding through stratification&lt;/h3&gt;
&lt;p&gt;A first approach is to keep HRs fixed at a certain value and then examine the relationship between BB and runs. As we did when we stratified fathers by rounding to the closest inch, here we can stratify HR per game to the closest ten. We filter out the strata with few points to avoid highly variable estimates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- Teams %&amp;gt;% filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(HR_strata = round(HR/G, 1),
         BB_per_game = BB / G,
         R_per_game = R / G) %&amp;gt;%
  filter(HR_strata &amp;gt;= 0.4 &amp;amp; HR_strata &amp;lt;=1.2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then make a scatterplot for each strata:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  ggplot(aes(BB_per_game, R_per_game)) +
  geom_point(alpha = 0.5) +
  geom_smooth(method = &amp;quot;lm&amp;quot;) +
  facet_wrap( ~ HR_strata)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/runs-vs-bb-by-hr-strata-1.png&#34; width=&#34;80%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that the regression slope for predicting runs with BB was 0.7. Once we stratify by HR, these slopes are substantially reduced:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR_strata) %&amp;gt;%
  summarize(slope = get_slope(BB_per_game, R_per_game))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 x 2
##   HR_strata slope
##       &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1       0.4 0.734
## 2       0.5 0.566
## 3       0.6 0.412
## 4       0.7 0.285
## 5       0.8 0.365
## 6       0.9 0.261
## 7       1   0.512
## 8       1.1 0.454
## 9       1.2 0.440&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The slopes are reduced, but they are not 0, which indicates that BBs are helpful for producing runs, just not as much as previously thought.
In fact, the values above are closer to the slope we obtained from singles, 0.45, which is more consistent with our intuition. Since both singles and BB get us to first base, they should have about the same predictive power.&lt;/p&gt;
&lt;p&gt;Although our understanding of the application tells us that HR cause BB but not the other way around, we can still check if stratifying by BB makes the effect of BB go down. To do this, we use the same code except that we swap HR and BBs to get this plot:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/runs-vs-hr-by-bb-strata-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, the slopes do not change much from the original:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% group_by(BB_strata) %&amp;gt;%
   summarize(slope = get_slope(HR_per_game, R_per_game))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 12 x 2
##    BB_strata slope
##        &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1       2.8  1.52
##  2       2.9  1.57
##  3       3    1.52
##  4       3.1  1.49
##  5       3.2  1.58
##  6       3.3  1.56
##  7       3.4  1.48
##  8       3.5  1.63
##  9       3.6  1.83
## 10       3.7  1.45
## 11       3.8  1.70
## 12       3.9  1.30&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;They are reduced a bit, which is consistent with the fact that BB do in fact cause some runs.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;hr_slope &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001 ) %&amp;gt;%
  mutate(HR_per_game = HR/G, R_per_game = R/G) %&amp;gt;%
  summarize(slope = get_slope(HR_per_game, R_per_game))

hr_slope&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      slope
## 1 1.844824&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Regardless, it seems that if we stratify by HR, we have bivariate distributions for runs versus BB. Similarly, if we stratify by BB, we have approximate bivariate normal distributions for HR versus runs.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;multivariate-regression&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Multivariate regression&lt;/h3&gt;
&lt;p&gt;It is somewhat complex to be computing regression lines for each strata. We are essentially fitting models like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[R \mid BB = x_1, \, HR = x_2] = \beta_0 + \beta_1(x_2) x_1 + \beta_2(x_1) x_2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with the slopes for &lt;span class=&#34;math inline&#34;&gt;\(x_1\)&lt;/span&gt; changing for different values of &lt;span class=&#34;math inline&#34;&gt;\(x_2\)&lt;/span&gt; and vice versa. But is there an easier approach?&lt;/p&gt;
&lt;p&gt;If we take random variability into account, the slopes in the strata don’t appear to change much. If these slopes are in fact the same, this implies that &lt;span class=&#34;math inline&#34;&gt;\(\beta_1(x_2)\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_2(x_1)\)&lt;/span&gt; are constants. This in turn implies that the expectation of runs conditioned on HR and BB can be written like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[R \mid BB = x_1, \, HR = x_2] = \beta_0 + \beta_1 x_1 + \beta_2 x_2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This model suggests that if the number of HR is fixed at &lt;span class=&#34;math inline&#34;&gt;\(x_2\)&lt;/span&gt;, we observe a linear relationship between runs and BB with an intercept of &lt;span class=&#34;math inline&#34;&gt;\(\beta_0 + \beta_2 x_2\)&lt;/span&gt;. Our exploratory data analysis suggested this. The model also suggests that as the number of HR grows, the intercept growth is linear as well and determined by &lt;span class=&#34;math inline&#34;&gt;\(\beta_1 x_1\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;In this analysis, referred to as &lt;em&gt;multivariate regression&lt;/em&gt;, you will often hear people say that the BB slope &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; is &lt;em&gt;adjusted&lt;/em&gt; for the HR effect. If the model is correct then confounding has been accounted for. But how do we estimate &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_2\)&lt;/span&gt; from the data? For this, we learn about linear models and least squares estimates.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;lse&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Least squares estimates&lt;/h2&gt;
&lt;p&gt;We have described how if data is bivariate normal then the conditional expectations follow the regression line. The fact that the conditional expectation is a line is not an extra assumption but rather a derived result. However, in practice it is common to explicitly write down a model that describes the relationship between two or more variables using a &lt;em&gt;linear model&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We note that “linear” here does not refer to lines exclusively, but rather to the fact that the conditional expectation is a linear combination of known quantities. In mathematics, when we multiply each variable by a constant and then add them together, we say we formed a linear combination of the variables. For example, &lt;span class=&#34;math inline&#34;&gt;\(3x - 4y + 5z\)&lt;/span&gt; is a linear combination of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(z\)&lt;/span&gt;. We can also add a constant so &lt;span class=&#34;math inline&#34;&gt;\(2 + 3x - 4y + 5z\)&lt;/span&gt; is also linear combination of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(z\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So &lt;span class=&#34;math inline&#34;&gt;\(\beta_0 + \beta_1 x_1 + \beta_2 x_2\)&lt;/span&gt;, is a linear combination of &lt;span class=&#34;math inline&#34;&gt;\(x_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(x_2\)&lt;/span&gt;.
The simplest linear model is a constant &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt;; the second simplest is a line &lt;span class=&#34;math inline&#34;&gt;\(\beta_0 + \beta_1 x\)&lt;/span&gt;. If we were to specify a linear model for Galton’s data, we would denote the &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; observed father heights with &lt;span class=&#34;math inline&#34;&gt;\(x_1, \dots, x_n\)&lt;/span&gt;, then we model the &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; son heights we are trying to predict with:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y_i = \beta_0 + \beta_1 x_i + \varepsilon_i, \, i=1,\dots,N.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; is the father’s height, which is fixed (not random) due to the conditioning, and &lt;span class=&#34;math inline&#34;&gt;\(Y_i\)&lt;/span&gt; is the random son’s height that we want to predict. We further assume that &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon_i\)&lt;/span&gt; are independent from each other, have expected value 0 and the standard deviation, call it &lt;span class=&#34;math inline&#34;&gt;\(\sigma\)&lt;/span&gt;, does not depend on &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;In the above model, we know the &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt;, but to have a useful model for prediction, we need &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt;. We estimate these from the data. Once we do this, we can predict son’s heights for any father’s height &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. We show how to do this in the next section.&lt;/p&gt;
&lt;p&gt;Note that if we further assume that the &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon\)&lt;/span&gt; is normally distributed, then this model is exactly the same one we derived earlier by assuming bivariate normal data. A somewhat nuanced difference is that in the first approach we assumed the data was bivariate normal and that the linear model was derived, not assumed. In practice, linear models are just assumed without necessarily assuming normality: the distribution of the &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon\)&lt;/span&gt;s is not specified. Nevertheless, if your data is bivariate normal, the above linear model holds. If your data is not bivariate normal, then you will need to have other ways of justifying the model.&lt;/p&gt;
&lt;div id=&#34;interpreting-linear-models&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Interpreting linear models&lt;/h3&gt;
&lt;p&gt;One reason linear models are popular is that they are interpretable. In the case of Galton’s data, we can interpret the data like this: due to inherited genes, the son’s height prediction grows by &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; for each inch we increase the father’s height &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. Because not all sons with fathers of height &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; are of equal height, we need the term &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon\)&lt;/span&gt;, which explains the remaining variability. This remaining variability includes the mother’s genetic effect, environmental factors, and other biological randomness.&lt;/p&gt;
&lt;p&gt;Given how we wrote the model above, the intercept &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; is not very interpretable as it is the predicted height of a son with a father with no height. Due to regression to the mean, the prediction will usually be a bit larger than 0. To make the slope parameter more interpretable, we can rewrite the model slightly as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y_i = \beta_0 + \beta_1 (x_i - \bar{x}) + \varepsilon_i, \, i=1,\dots,N
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(\bar{x} = 1/N \sum_{i=1}^N x_i\)&lt;/span&gt; the average of the &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. In this case &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; represents the height when &lt;span class=&#34;math inline&#34;&gt;\(x_i = \bar{x}\)&lt;/span&gt;, which is the height of the son of an average father.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;least-squares-estimates-lse&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Least Squares Estimates (LSE)&lt;/h3&gt;
&lt;p&gt;For linear models to be useful, we have to estimate the unknown &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt;s. The standard approach in science is to find the values that minimize the distance of the fitted model to the data. The following is called the least squares (LS) equation and we will see it often in this lecture. For Galton’s data, we would write:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
RSS = \sum_{i=1}^n \left\{  y_i - \left(\beta_0 + \beta_1 x_i \right)\right\}^2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This quantity is called the residual sum of squares (RSS). Once we find the values that minimize the RSS, we will call the values the least squares estimates (LSE) and denote them with &lt;span class=&#34;math inline&#34;&gt;\(\hat{\beta}_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\hat{\beta}_1\)&lt;/span&gt;. Let’s demonstrate this with the previously defined dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(HistData)
data(&amp;quot;GaltonFamilies&amp;quot;)
set.seed(1983)
galton_heights &amp;lt;- GaltonFamilies %&amp;gt;%
  filter(gender == &amp;quot;male&amp;quot;) %&amp;gt;%
  group_by(family) %&amp;gt;%
  sample_n(1) %&amp;gt;%
  ungroup() %&amp;gt;%
  select(father, childHeight) %&amp;gt;%
  rename(son = childHeight)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s write a function that computes the RSS for any pair of values &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rss &amp;lt;- function(beta0, beta1, data){
  resid &amp;lt;- galton_heights$son - (beta0+beta1*galton_heights$father)
  return(sum(resid^2))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So for any pair of values, we get an RSS. Here is a plot of the RSS as a function of &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; when we keep the &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; fixed at 25.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;beta1 = seq(0, 1, len=nrow(galton_heights))
results &amp;lt;- data.frame(beta1 = beta1,
                      rss = sapply(beta1, rss, beta0 = 25))
results %&amp;gt;% ggplot(aes(beta1, rss)) + geom_line() +
  geom_line(aes(beta1, rss))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/rss-versus-estimate-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can see a clear minimum for &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; at around 0.65. However, this minimum for &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; is for when &lt;span class=&#34;math inline&#34;&gt;\(\beta_0 = 25\)&lt;/span&gt;, a value we arbitrarily picked. We don’t know if (25, 0.65) is the pair that minimizes the equation across all possible pairs.&lt;/p&gt;
&lt;p&gt;Trial and error is not going to work in this case. We could search for a minimum within a fine grid of &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; values, but this is unnecessarily time-consuming since we can use calculus: take the partial derivatives, set them to 0 and solve for &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_2\)&lt;/span&gt;. Of course, if we have many parameters, these equations can get rather complex. But there are functions in R that do these calculations for us. We will learn these next. To learn the mathematics behind this, you can consult a book on linear models.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-lm-function&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The &lt;code&gt;lm&lt;/code&gt; function&lt;/h3&gt;
&lt;p&gt;In R, we can obtain the least squares estimates using the &lt;code&gt;lm&lt;/code&gt; function. To fit the model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y_i = \beta_0 + \beta_1 x_i + \varepsilon_i
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(Y_i\)&lt;/span&gt; the son’s height and &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; the father’s height, we can use this code to obtain the least squares estimates.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit &amp;lt;- lm(son ~ father, data = galton_heights)
fit$coef&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## (Intercept)      father 
##   37.287605    0.461392&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The most common way we use &lt;code&gt;lm&lt;/code&gt; is by using the character &lt;code&gt;~&lt;/code&gt; to let &lt;code&gt;lm&lt;/code&gt; know which is the variable we are predicting (left of &lt;code&gt;~&lt;/code&gt;) and which we are using to predict (right of &lt;code&gt;~&lt;/code&gt;). The intercept is added automatically to the model that will be fit.&lt;/p&gt;
&lt;p&gt;The object &lt;code&gt;fit&lt;/code&gt; includes more information about the fit. We can use the function &lt;code&gt;summary&lt;/code&gt; to extract more of this information (not shown):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(fit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = son ~ father, data = galton_heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -9.3543 -1.5657 -0.0078  1.7263  9.4150 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept) 37.28761    4.98618   7.478 3.37e-12 ***
## father       0.46139    0.07211   6.398 1.36e-09 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 2.45 on 177 degrees of freedom
## Multiple R-squared:  0.1878, Adjusted R-squared:  0.1833 
## F-statistic: 40.94 on 1 and 177 DF,  p-value: 1.36e-09&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To understand some of the information included in this summary we need to remember that the LSE are random variables. Mathematical statistics gives us some ideas of the distribution of these random variables&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;lse-are-random-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;LSE are random variables&lt;/h3&gt;
&lt;p&gt;The LSE is derived from the data &lt;span class=&#34;math inline&#34;&gt;\(y_1,\dots,y_N\)&lt;/span&gt;, which are a realization of random variables &lt;span class=&#34;math inline&#34;&gt;\(Y_1, \dots, Y_N\)&lt;/span&gt;. This implies that our estimates are random variables. To see this, we can run a Monte Carlo simulation in which we assume the son and father height data defines a population, take a random sample of size &lt;span class=&#34;math inline&#34;&gt;\(N=50\)&lt;/span&gt;, and compute the regression slope coefficient for each one:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 1000
N &amp;lt;- 50
lse &amp;lt;- replicate(B, {
  sample_n(galton_heights, N, replace = TRUE) %&amp;gt;%
    lm(son ~ father, data = .) %&amp;gt;%
    .$coef
})
lse &amp;lt;- data.frame(beta_0 = lse[1,], beta_1 = lse[2,])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see the variability of the estimates by plotting their distributions:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &amp;#39;gridExtra&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following object is masked from &amp;#39;package:dplyr&amp;#39;:
## 
##     combine&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/lse-distributions-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The reason these look normal is because the central limit theorem applies here as well: for large enough &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt;, the least squares estimates will be approximately normal with expected value &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt;, respectively. The standard errors are a bit complicated to compute, but mathematical theory does allow us to compute them and they are included in the summary provided by the &lt;code&gt;lm&lt;/code&gt; function. Here it is for one of our simulated data sets:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt; sample_n(galton_heights, N, replace = TRUE) %&amp;gt;%
  lm(son ~ father, data = .) %&amp;gt;%
  summary %&amp;gt;% .$coef&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##               Estimate Std. Error  t value     Pr(&amp;gt;|t|)
## (Intercept) 19.2791952 11.6564590 1.653950 0.1046637693
## father       0.7198756  0.1693834 4.249977 0.0000979167&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see that the standard errors estimates reported by the &lt;code&gt;summary&lt;/code&gt; are close to the standard errors from the simulation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lse %&amp;gt;% summarize(se_0 = sd(beta_0), se_1 = sd(beta_1))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      se_0      se_1
## 1 8.83591 0.1278812&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;summary&lt;/code&gt; function also reports t-statistics (&lt;code&gt;t value&lt;/code&gt;) and p-values (&lt;code&gt;Pr(&amp;gt;|t|)&lt;/code&gt;). The t-statistic is not actually based on the central limit theorem but rather on the assumption that the &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon\)&lt;/span&gt;s follow a normal distribution. Under this assumption, mathematical theory tells us that the LSE divided by their standard error, &lt;span class=&#34;math inline&#34;&gt;\(\hat{\beta}_0 / \hat{\mbox{SE}}(\hat{\beta}_0 )\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\hat{\beta}_1 / \hat{\mbox{SE}}(\hat{\beta}_1 )\)&lt;/span&gt;, follow a t-distribution with &lt;span class=&#34;math inline&#34;&gt;\(N-p\)&lt;/span&gt; degrees of freedom, with &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; the number of parameters in our model. In the case of height &lt;span class=&#34;math inline&#34;&gt;\(p=2\)&lt;/span&gt;, the two p-values are testing the null hypothesis that &lt;span class=&#34;math inline&#34;&gt;\(\beta_0 = 0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\beta_1=0\)&lt;/span&gt;, respectively.&lt;/p&gt;
&lt;p&gt;Remember that, as we described in Section &lt;a href=&#34;#t-dist&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; for large enough &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt;, the CLT works and the t-distribution becomes almost the same as the normal distribution. Also, notice that we can construct confidence intervals, but we will soon learn about &lt;strong&gt;broom&lt;/strong&gt;, an add-on package that makes this easy.&lt;/p&gt;
&lt;p&gt;Although we do not show examples in this book, hypothesis testing with regression models is commonly used in epidemiology and economics to make statements such as “the effect of A on B was statistically significant after adjusting for X, Y, and Z”. However, several assumptions have to hold for these statements to be true.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;predicted-values-are-random-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Predicted values are random variables&lt;/h3&gt;
&lt;p&gt;Once we fit our model, we can obtain prediction of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; by plugging in the estimates into the regression model. For example, if the father’s height is &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, then our prediction &lt;span class=&#34;math inline&#34;&gt;\(\hat{Y}\)&lt;/span&gt; for the son’s height will be:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\hat{Y} = \hat{\beta}_0 + \hat{\beta}_1 x\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When we plot &lt;span class=&#34;math inline&#34;&gt;\(\hat{Y}\)&lt;/span&gt; versus &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, we see the regression line.&lt;/p&gt;
&lt;p&gt;Keep in mind that the prediction &lt;span class=&#34;math inline&#34;&gt;\(\hat{Y}\)&lt;/span&gt; is also a random variable and mathematical theory tells us what the standard errors are. If we assume the errors are normal, or have a large enough sample size, we can use theory to construct confidence intervals as well. In fact, the &lt;strong&gt;ggplot2&lt;/strong&gt; layer &lt;code&gt;geom_smooth(method = &#34;lm&#34;)&lt;/code&gt; that we previously used plots &lt;span class=&#34;math inline&#34;&gt;\(\hat{Y}\)&lt;/span&gt; and surrounds it by confidence intervals:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;% ggplot(aes(son, father)) +
  geom_point() +
  geom_smooth(method = &amp;quot;lm&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/father-son-regression-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The R function &lt;code&gt;predict&lt;/code&gt; takes an &lt;code&gt;lm&lt;/code&gt; object as input and returns the prediction. If requested, the standard errors and other information from which we can construct confidence intervals is provided:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit &amp;lt;- galton_heights %&amp;gt;% lm(son ~ father, data = .)

y_hat &amp;lt;- predict(fit, se.fit = TRUE)

names(y_hat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;fit&amp;quot;            &amp;quot;se.fit&amp;quot;         &amp;quot;df&amp;quot;             &amp;quot;residual.scale&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Exercises&lt;/h2&gt;
&lt;p&gt;We have shown how BB and singles have similar predictive power for scoring runs. Another way to compare the usefulness of these baseball metrics is by assessing how stable they are across the years. Since we have to pick players based on their previous performances, we will prefer metrics that are more stable. In these exercises, we will compare the stability of singles and BBs.&lt;/p&gt;
&lt;p&gt;1. Before we get started, we want to generate two tables. One for 2002 and another for the average of 1999-2001 seasons. We want to define per plate appearance statistics. Here is how we create the 2017 table. Keeping only players with more than 100 plate appearances.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(Lahman)
dat &amp;lt;- Batting %&amp;gt;% filter(yearID == 2002) %&amp;gt;%
  mutate(pa = AB + BB,
         singles = (H - X2B - X3B - HR) / pa, bb = BB / pa) %&amp;gt;%
  filter(pa &amp;gt;= 100) %&amp;gt;%
  select(playerID, singles, bb)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now compute a similar table but with rates computed over 1999-2001.&lt;/p&gt;
&lt;p&gt;2. In Section &lt;a href=&#34;#joins&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we learn about the &lt;code&gt;inner_join&lt;/code&gt;, which you can use to have the 2001 data and averages in the same table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- inner_join(dat, avg, by = &amp;quot;playerID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Compute the correlation between 2002 and the previous seasons for singles and BB.&lt;/p&gt;
&lt;p&gt;3. Note that the correlation is higher for BB. To quickly get an idea of the uncertainty associated with this correlation estimate, we will fit a linear model and compute confidence intervals for the slope coefficient. However, first make scatterplots to confirm that fitting a linear model is appropriate.&lt;/p&gt;
&lt;p&gt;4. Now fit a linear model for each metric and use the &lt;code&gt;confint&lt;/code&gt; function to compare the estimates.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;linear-regression-in-the-tidyverse&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Linear regression in the tidyverse&lt;/h2&gt;
&lt;p&gt;To see how we use the &lt;code&gt;lm&lt;/code&gt; function in a more complex analysis, let’s go back to the baseball example. In a previous example, we estimated regression lines to predict runs for BB in different HR strata. We first constructed a data frame similar to this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- Teams %&amp;gt;% filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(HR = round(HR/G, 1),
         BB = BB/G,
         R = R/G) %&amp;gt;%
  select(HR, BB, R) %&amp;gt;%
  filter(HR &amp;gt;= 0.4 &amp;amp; HR&amp;lt;=1.2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Since we didn’t know the &lt;code&gt;lm&lt;/code&gt; function, to compute the regression line in each strata, we used the formula directly like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_slope &amp;lt;- function(x, y) cor(x, y) * sd(y) / sd(x)
dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  summarize(slope = get_slope(BB, R))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We argued that the slopes are similar and that the differences were perhaps due to random variation. To provide a more rigorous defense of the slopes being the same, which led to our multivariate model, we could compute confidence intervals for each slope. We have not learned the formula for this, but the &lt;code&gt;lm&lt;/code&gt; function provides enough information to construct them.&lt;/p&gt;
&lt;p&gt;First, note that if we try to use the &lt;code&gt;lm&lt;/code&gt; function to get the estimated slope like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  lm(R ~ BB, data = .) %&amp;gt;% .$coef&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## (Intercept)          BB 
##   2.1983658   0.6378804&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we don’t get the result we want. The &lt;code&gt;lm&lt;/code&gt; function ignores the &lt;code&gt;group_by&lt;/code&gt;. This is expected because &lt;code&gt;lm&lt;/code&gt; is not part of the &lt;strong&gt;tidyverse&lt;/strong&gt; and does not know how to handle the outcome of a grouped tibble.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;tidyverse&lt;/strong&gt; functions know how to interpret grouped tibbles. Furthermore, to facilitate stringing commands through the pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt;, &lt;strong&gt;tidyverse&lt;/strong&gt; functions consistently return data frames, since this assures that the output of a function is accepted as the input of another.
But most R functions do not recognize grouped tibbles nor do they return data frames. The &lt;code&gt;lm&lt;/code&gt; function is an example. The &lt;code&gt;do&lt;/code&gt; functions serves as a bridge between R functions, such as &lt;code&gt;lm&lt;/code&gt;, and the &lt;strong&gt;tidyverse&lt;/strong&gt;. The &lt;code&gt;do&lt;/code&gt; function understands grouped tibbles and always returns a data frame.&lt;/p&gt;
&lt;p&gt;So, let’s try to use the &lt;code&gt;do&lt;/code&gt; function to fit a regression line to each HR strata:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(fit = lm(R ~ BB, data = .))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 x 2
## # Rowwise: 
##      HR fit   
##   &amp;lt;dbl&amp;gt; &amp;lt;list&amp;gt;
## 1   0.4 &amp;lt;lm&amp;gt;  
## 2   0.5 &amp;lt;lm&amp;gt;  
## 3   0.6 &amp;lt;lm&amp;gt;  
## 4   0.7 &amp;lt;lm&amp;gt;  
## 5   0.8 &amp;lt;lm&amp;gt;  
## 6   0.9 &amp;lt;lm&amp;gt;  
## 7   1   &amp;lt;lm&amp;gt;  
## 8   1.1 &amp;lt;lm&amp;gt;  
## 9   1.2 &amp;lt;lm&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that we did in fact fit a regression line to each strata. The &lt;code&gt;do&lt;/code&gt; function will create a data frame with the first column being the strata value and a column named &lt;code&gt;fit&lt;/code&gt; (we chose the name, but it can be anything). The column will contain the result of the &lt;code&gt;lm&lt;/code&gt; call. Therefore, the returned tibble has a column with &lt;code&gt;lm&lt;/code&gt; objects, which is not very useful.&lt;/p&gt;
&lt;p&gt;Also, if we do not name a column (note above we named it &lt;code&gt;fit&lt;/code&gt;), then &lt;code&gt;do&lt;/code&gt; will return the actual output of &lt;code&gt;lm&lt;/code&gt;, not a data frame, and this will result in an error since &lt;code&gt;do&lt;/code&gt; is expecting a data frame as output.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(lm(R ~ BB, data = .))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Error: Results 1, 2, 3, 4, 5, ... must be data frames, not lm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For a useful data frame to be constructed, the output of the function must be a data frame too. We could build a function that returns only what we want in the form of a data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_slope &amp;lt;- function(data){
  fit &amp;lt;- lm(R ~ BB, data = data)
  data.frame(slope = fit$coefficients[2],
             se = summary(fit)$coefficient[2,2])
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then use &lt;code&gt;do&lt;/code&gt; &lt;strong&gt;without&lt;/strong&gt; naming the output, since we are already getting a data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(get_slope(.))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 x 3
## # Groups:   HR [9]
##      HR slope     se
##   &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
## 1   0.4 0.734 0.208 
## 2   0.5 0.566 0.110 
## 3   0.6 0.412 0.0974
## 4   0.7 0.285 0.0705
## 5   0.8 0.365 0.0653
## 6   0.9 0.261 0.0751
## 7   1   0.512 0.0751
## 8   1.1 0.454 0.0855
## 9   1.2 0.440 0.0801&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we name the output, then we get something we do not want, a column containing data frames:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(slope = get_slope(.))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 x 2
## # Rowwise: 
##      HR slope           
##   &amp;lt;dbl&amp;gt; &amp;lt;list&amp;gt;          
## 1   0.4 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 2   0.5 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 3   0.6 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 4   0.7 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 5   0.8 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 6   0.9 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 7   1   &amp;lt;df[,2] [1 × 2]&amp;gt;
## 8   1.1 &amp;lt;df[,2] [1 × 2]&amp;gt;
## 9   1.2 &amp;lt;df[,2] [1 × 2]&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is not very useful, so let’s cover one last feature of &lt;code&gt;do&lt;/code&gt;. If the data frame being returned has more than one row, these will be concatenated appropriately. Here is an example in which we return both estimated parameters:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_lse &amp;lt;- function(data){
  fit &amp;lt;- lm(R ~ BB, data = data)
  data.frame(term = names(fit$coefficients),
    slope = fit$coefficients,
    se = summary(fit)$coefficient[,2])
}

dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(get_lse(.))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18 x 4
## # Groups:   HR [9]
##       HR term        slope     se
##    &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1   0.4 (Intercept) 1.36  0.631 
##  2   0.4 BB          0.734 0.208 
##  3   0.5 (Intercept) 2.01  0.344 
##  4   0.5 BB          0.566 0.110 
##  5   0.6 (Intercept) 2.53  0.305 
##  6   0.6 BB          0.412 0.0974
##  7   0.7 (Intercept) 3.21  0.225 
##  8   0.7 BB          0.285 0.0705
##  9   0.8 (Intercept) 3.07  0.213 
## 10   0.8 BB          0.365 0.0653
## 11   0.9 (Intercept) 3.54  0.251 
## 12   0.9 BB          0.261 0.0751
## 13   1   (Intercept) 2.88  0.256 
## 14   1   BB          0.512 0.0751
## 15   1.1 (Intercept) 3.21  0.300 
## 16   1.1 BB          0.454 0.0855
## 17   1.2 (Intercept) 3.40  0.291 
## 18   1.2 BB          0.440 0.0801&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you think this is all a bit too complicated, you are not alone. To simplify things, we introduce the &lt;strong&gt;broom&lt;/strong&gt; package which was designed to facilitate the use of model fitting functions, such as &lt;code&gt;lm&lt;/code&gt;, with the &lt;strong&gt;tidyverse&lt;/strong&gt;.&lt;/p&gt;
&lt;div id=&#34;the-broom-package&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The broom package&lt;/h3&gt;
&lt;p&gt;Our original task was to provide an estimate and confidence interval for the slope estimates of each strata. The &lt;strong&gt;broom&lt;/strong&gt; package will make this quite easy.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;broom&lt;/strong&gt; package has three main functions, all of which extract information from the object returned by &lt;code&gt;lm&lt;/code&gt; and return it in a &lt;strong&gt;tidyverse&lt;/strong&gt; friendly data frame. These functions are &lt;code&gt;tidy&lt;/code&gt;, &lt;code&gt;glance&lt;/code&gt;, and &lt;code&gt;augment&lt;/code&gt;. The &lt;code&gt;tidy&lt;/code&gt; function returns estimates and related information as a data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(broom)
fit &amp;lt;- lm(R ~ BB, data = dat)
tidy(fit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 (Intercept)    2.20     0.113       19.4 1.12e-70
## 2 BB             0.638    0.0344      18.5 1.35e-65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can add other important summaries, such as confidence intervals:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(fit, conf.int = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 7
##   term        estimate std.error statistic  p.value conf.low conf.high
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 (Intercept)    2.20     0.113       19.4 1.12e-70    1.98      2.42 
## 2 BB             0.638    0.0344      18.5 1.35e-65    0.570     0.705&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because the outcome is a data frame, we can immediately use it with &lt;code&gt;do&lt;/code&gt; to string together the commands that produce the table we are after. Because a data frame is returned, we can filter and select the rows and columns we want, which facilitates working with &lt;strong&gt;ggplot2&lt;/strong&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  group_by(HR) %&amp;gt;%
  do(tidy(lm(R ~ BB, data = .), conf.int = TRUE)) %&amp;gt;%
  filter(term == &amp;quot;BB&amp;quot;) %&amp;gt;%
  select(HR, estimate, conf.low, conf.high) %&amp;gt;%
  ggplot(aes(HR, y = estimate, ymin = conf.low, ymax = conf.high)) +
  geom_errorbar() +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/do-tidy-example-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we return to discussing our original task of determining if slopes changed. The plot we just made, using &lt;code&gt;do&lt;/code&gt; and &lt;code&gt;tidy&lt;/code&gt;, shows that the confidence intervals overlap, which provides a nice visual confirmation that our assumption that the slope does not change is safe.&lt;/p&gt;
&lt;p&gt;The other functions provided by &lt;strong&gt;broom&lt;/strong&gt;, &lt;code&gt;glance&lt;/code&gt;, and &lt;code&gt;augment&lt;/code&gt;, relate to model-specific and observation-specific outcomes, respectively. Here, we can see the model fit summaries &lt;code&gt;glance&lt;/code&gt; returns:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;glance(fit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 12
##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1     0.266         0.265 0.454      343. 1.35e-65     1  -596. 1199. 1214.
## # … with 3 more variables: deviance &amp;lt;dbl&amp;gt;, df.residual &amp;lt;int&amp;gt;, nobs &amp;lt;int&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can learn more about these summaries in any regression text book.&lt;/p&gt;
&lt;p&gt;We will see an example of &lt;code&gt;augment&lt;/code&gt; in the next section.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-moneyball-continued&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: Moneyball (continued)&lt;/h2&gt;
&lt;p&gt;In trying to answer how well BBs predict runs, data exploration led us to a model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[R \mid BB = x_1, HR = x_2] = \beta_0 + \beta_1 x_1 + \beta_2 x_2
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here, the data is approximately normal and conditional distributions were also normal. Thus, we are justified in using a linear model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y_i = \beta_0 + \beta_1 x_{i,1} + \beta_2 x_{i,2} + \varepsilon_i
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(Y_i\)&lt;/span&gt; runs per game for team &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(x_{i,1}\)&lt;/span&gt; walks per game, and &lt;span class=&#34;math inline&#34;&gt;\(x_{i,2}\)&lt;/span&gt;. To use &lt;code&gt;lm&lt;/code&gt; here, we need to let the function know we have two predictor variables. So we use the &lt;code&gt;+&lt;/code&gt; symbol as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(BB = BB/G, HR = HR/G,  R = R/G) %&amp;gt;%
  lm(R ~ BB + HR, data = .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can use &lt;code&gt;tidy&lt;/code&gt; to see a nice summary:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(fit, conf.int = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 7
##   term        estimate std.error statistic   p.value conf.low conf.high
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 (Intercept)    1.74     0.0824      21.2 7.62e- 83    1.58      1.91 
## 2 BB             0.387    0.0270      14.3 1.20e- 42    0.334     0.440
## 3 HR             1.56     0.0490      31.9 1.78e-155    1.47      1.66&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When we fit the model with only one variable, the estimated slopes were 0.7353288 and 1.8448241 for BB and HR, respectively. Note that when fitting the multivariate model both go down, with the BB effect decreasing much more.&lt;/p&gt;
&lt;p&gt;Now we want to construct a metric to pick players, we need to consider singles, doubles, and triples as well. Can we build a model that predicts runs based on all these outcomes?&lt;/p&gt;
&lt;p&gt;We now are going to take somewhat of a “leap of faith” and assume that these five variables are jointly normal. This means that if we pick any one of them, and hold the other four fixed, the relationship with the outcome is linear and the slope does not depend on the four values held constant. If this is true, then a linear model for our data is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y_i = \beta_0 + \beta_1 x_{i,1} + \beta_2 x_{i,2} + \beta_3 x_{i,3}+ \beta_4 x_{i,4} + \beta_5 x_{i,5} + \varepsilon_i
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(x_{i,1}, x_{i,2}, x_{i,3}, x_{i,4}, x_{i,5}\)&lt;/span&gt; representing BB, singles, doubles, triples, and HR respectively.&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;lm&lt;/code&gt;, we can quickly find the LSE for the parameters using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit &amp;lt;- Teams %&amp;gt;%
  filter(yearID %in% 1961:2001) %&amp;gt;%
  mutate(BB = BB / G,
         singles = (H - X2B - X3B - HR) / G,
         doubles = X2B / G,
         triples = X3B / G,
         HR = HR / G,
         R = R / G) %&amp;gt;%
  lm(R ~ BB + singles + doubles + triples + HR, data = .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see the coefficients using &lt;code&gt;tidy&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;coefs &amp;lt;- tidy(fit, conf.int = TRUE)

coefs&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 7
##   term        estimate std.error statistic   p.value conf.low conf.high
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 (Intercept)   -2.77     0.0862     -32.1 4.76e-157   -2.94     -2.60 
## 2 BB             0.371    0.0117      31.6 1.87e-153    0.348     0.394
## 3 singles        0.519    0.0127      40.8 8.67e-217    0.494     0.544
## 4 doubles        0.771    0.0226      34.1 8.44e-171    0.727     0.816
## 5 triples        1.24     0.0768      16.1 2.12e- 52    1.09      1.39 
## 6 HR             1.44     0.0243      59.3 0.           1.40      1.49&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see how well our metric actually predicts runs, we can predict the number of runs for each team in 2002 using the function &lt;code&gt;predict&lt;/code&gt;, then make a plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Teams %&amp;gt;%
  filter(yearID %in% 2002) %&amp;gt;%
  mutate(BB = BB/G,
         singles = (H-X2B-X3B-HR)/G,
         doubles = X2B/G,
         triples =X3B/G,
         HR=HR/G,
         R=R/G)  %&amp;gt;%
  mutate(R_hat = predict(fit, newdata = .)) %&amp;gt;%
  ggplot(aes(R_hat, R, label = teamID)) +
  geom_point() +
  geom_text(nudge_x=0.1, cex = 2) +
  geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/model-predicts-runs-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Our model does quite a good job as demonstrated by the fact that points from the observed versus predicted plot fall close to the identity line.&lt;/p&gt;
&lt;p&gt;So instead of using batting average, or just number of HR, as a measure of picking players, we can use our fitted model to form a metric that relates more directly to run production. Specifically, to define a metric for player A, we imagine a team made up of players just like player A and use our fitted regression model to predict how many runs this team would produce. The formula would look like this:
-2.7691857 +
0.3712147 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; BB +
0.5193923 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; singles +
0.7711444 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; doubles +
1.2399696 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; triples +
1.4433701 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; HR.&lt;/p&gt;
&lt;p&gt;To define a player-specific metric, we have a bit more work to do. A challenge here is that we derived the metric for teams, based on team-level summary statistics. For example, the HR value that is entered into the equation is HR per game for the entire team. If we compute the HR per game for a player, it will be much lower since the total is accumulated by 9 batters. Furthermore, if a player only plays part of the game and gets fewer opportunities than average, it is still considered a game played. For players, a rate that takes into account opportunities is the per-plate-appearance rate.&lt;/p&gt;
&lt;p&gt;To make the per-game team rate comparable to the per-plate-appearance player rate, we compute the average number of team plate appearances per game:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pa_per_game &amp;lt;- Batting %&amp;gt;% filter(yearID == 2002) %&amp;gt;%
  group_by(teamID) %&amp;gt;%
  summarize(pa_per_game = sum(AB+BB)/max(G)) %&amp;gt;%
  pull(pa_per_game) %&amp;gt;%
  mean&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We compute the per-plate-appearance rates for players available in 2002 on data from 1997-2001. To avoid small sample artifacts, we filter players with less than 200 plate appearances per year. Here is the entire calculation in one line:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players &amp;lt;- Batting %&amp;gt;% filter(yearID %in% 1997:2001) %&amp;gt;%
  group_by(playerID) %&amp;gt;%
  mutate(PA = BB + AB) %&amp;gt;%
  summarize(G = sum(PA)/pa_per_game,
    BB = sum(BB)/G,
    singles = sum(H-X2B-X3B-HR)/G,
    doubles = sum(X2B)/G,
    triples = sum(X3B)/G,
    HR = sum(HR)/G,
    AVG = sum(H)/sum(AB),
    PA = sum(PA)) %&amp;gt;%
  filter(PA &amp;gt;= 1000) %&amp;gt;%
  select(-G) %&amp;gt;%
  mutate(R_hat = predict(fit, newdata = .))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The player-specific predicted runs computed here can be interpreted as the number of runs we predict a team will score if all batters are exactly like that player. The distribution shows that there is wide variability across players:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qplot(R_hat, data = players, binwidth = 0.5, color = I(&amp;quot;black&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/r-hat-hist-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;adding-salary-and-position-information&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Adding salary and position information&lt;/h3&gt;
&lt;p&gt;To actually build the team, we will need to know their salaries as well as their defensive position. For this, we join the &lt;code&gt;players&lt;/code&gt; data frame we just created with the player information data frame included in some of the other Lahman data tables. We will learn more about the join function (and we will discuss this further in a later lecture).&lt;/p&gt;
&lt;p&gt;Start by adding the 2002 salary of each player:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players &amp;lt;- Salaries %&amp;gt;%
  filter(yearID == 2002) %&amp;gt;%
  select(playerID, salary) %&amp;gt;%
  right_join(players, by=&amp;quot;playerID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, we add their defensive position. This is a somewhat complicated task because players play more than one position each year. The &lt;strong&gt;Lahman&lt;/strong&gt; package table &lt;code&gt;Appearances&lt;/code&gt; tells how many games each player played in each position, so we can pick the position that was most played using &lt;code&gt;which.max&lt;/code&gt; on each row. We use &lt;code&gt;apply&lt;/code&gt; to do this. However, because some players are traded, they appear more than once on the table, so we first sum their appearances across teams.
Here, we pick the one position the player most played using the &lt;code&gt;top_n&lt;/code&gt; function. To make sure we only pick one position, in the case of ties, we pick the first row of the resulting data frame. We also remove the &lt;code&gt;OF&lt;/code&gt; position which stands for outfielder, a generalization of three positions: left field (LF), center field (CF), and right field (RF). We also remove pitchers since they don’t bat in the league in which the A’s play.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;position_names &amp;lt;-
  paste0(&amp;quot;G_&amp;quot;, c(&amp;quot;p&amp;quot;,&amp;quot;c&amp;quot;,&amp;quot;1b&amp;quot;,&amp;quot;2b&amp;quot;,&amp;quot;3b&amp;quot;,&amp;quot;ss&amp;quot;,&amp;quot;lf&amp;quot;,&amp;quot;cf&amp;quot;,&amp;quot;rf&amp;quot;, &amp;quot;dh&amp;quot;))

tmp &amp;lt;- Appearances %&amp;gt;%
  filter(yearID == 2002) %&amp;gt;%
  group_by(playerID) %&amp;gt;%
  summarize_at(position_names, sum) %&amp;gt;%
  ungroup()

pos &amp;lt;- tmp %&amp;gt;%
  select(position_names) %&amp;gt;%
  apply(., 1, which.max)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Note: Using an external vector in selections is ambiguous.
## ℹ Use `all_of(position_names)` instead of `position_names` to silence this message.
## ℹ See &amp;lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&amp;gt;.
## This message is displayed once per session.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players &amp;lt;- tibble(playerID = tmp$playerID, POS = position_names[pos]) %&amp;gt;%
  mutate(POS = str_to_upper(str_remove(POS, &amp;quot;G_&amp;quot;))) %&amp;gt;%
  filter(POS != &amp;quot;P&amp;quot;) %&amp;gt;%
  right_join(players, by=&amp;quot;playerID&amp;quot;) %&amp;gt;%
  filter(!is.na(POS)  &amp;amp; !is.na(salary))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, we add their first and last name:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players &amp;lt;- Master %&amp;gt;%
  select(playerID, nameFirst, nameLast, debut) %&amp;gt;%
  mutate(debut = as.Date(debut)) %&amp;gt;%
  right_join(players, by=&amp;quot;playerID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you are a baseball fan, you will recognize the top 10 players:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players %&amp;gt;% select(nameFirst, nameLast, POS, salary, R_hat) %&amp;gt;%
  arrange(desc(R_hat)) %&amp;gt;% top_n(10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Selecting by R_hat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    nameFirst nameLast POS   salary    R_hat
## 1      Barry    Bonds  LF 15000000 8.441480
## 2      Larry   Walker  RF 12666667 8.344316
## 3       Todd   Helton  1B  5000000 7.764649
## 4      Manny  Ramirez  LF 15462727 7.714582
## 5      Sammy     Sosa  RF 15000000 7.559582
## 6       Jeff  Bagwell  1B 11000000 7.405572
## 7       Mike   Piazza   C 10571429 7.343984
## 8      Jason   Giambi  1B 10428571 7.263690
## 9      Edgar Martinez  DH  7086668 7.259399
## 10       Jim    Thome  1B  8000000 7.231955&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;picking-nine-players&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Picking nine players&lt;/h3&gt;
&lt;p&gt;On average, players with a higher metric have higher salaries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;players %&amp;gt;% ggplot(aes(salary, R_hat, color = POS)) +
  geom_point() +
  scale_x_log10()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/predicted-runs-vs-salary-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;!--Notice the very high salaries for most players. We do see some low-cost players with very high metrics. These will be great for our team. Some of these are likely young players that have not yet been able to negotiate a salary and are unavailable.

Here we remake plot without players that debuted before 1998. We use the __lubridate__ function `year`, introduced in Section \@ref(lubridate).

```r
library(lubridate)
players %&gt;% filter(year(debut) &lt; 1998) %&gt;%
 ggplot(aes(salary, R_hat, color = POS)) +
  geom_point() +
  scale_x_log10()
```

&lt;img src=&#34;/content/06-content_files/figure-html/predicted-runs-vs-salary-no-rookies-1.png&#34; width=&#34;672&#34; /&gt;
--&gt;
&lt;p&gt;We can search for good deals by looking at players who produce many more runs than others with similar salaries. We can use this table to decide what players to pick and keep our total salary below the 40 million dollars Billy Beane had to work with. This can be done using what computer scientists call linear programming. This is not something we teach, but here are the position players selected with this approach:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameFirst
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameLast
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
POS
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
salary
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
R_hat
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Todd
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Helton
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1B
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5000000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7.764649
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Mike
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Piazza
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
C
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
10571429
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7.343984
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Edgar
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Martinez
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
DH
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7086668
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7.259399
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Jim
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Edmonds
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CF
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7333333
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.552456
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Jeff
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Kent
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2B
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6000000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.391614
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Phil
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Nevin
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
3B
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2600000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.163936
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Matt
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Stairs
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
RF
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
500000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.062372
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Henry
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Rodriguez
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
LF
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
300000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5.938315
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
John
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Valentin
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SS
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
550000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5.273441
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;We see that all these players have above average BB and most have above average HR rates, while the same is not true for singles. Here is a table with statistics standardized across players so that, for example, above average HR hitters have values above 0.&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameLast
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
BB
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
singles
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
doubles
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
triples
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
HR
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
AVG
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
R_hat
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Helton
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9088340
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.2147828
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.6489997
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.3105275
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.5221254
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.6704562
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.5316660
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Piazza
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3281058
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4231217
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2037161
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.4181571
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.8253653
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.1990055
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.0890701
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Martinez
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.1352215
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.0051702
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.2649044
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.2242578
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8079817
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.2032836
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.0000756
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Edmonds
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0706548
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.5579104
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7912381
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.1517126
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9730052
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8543566
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.2562767
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Kent
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2316321
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.7322902
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.0113988
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4483097
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7658693
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7871932
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0870488
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Nevin
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3066863
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.9051225
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4787634
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.1908955
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1927055
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1048721
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8475017
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Stairs
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0996635
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.5127562
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.0460876
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.1285395
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1209081
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.5608456
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7406428
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Rodriguez
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2011513
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-1.5963595
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3324557
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.7823620
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.3202734
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.6723416
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.6101181
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Valentin
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1802855
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.9287069
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.7940379
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.4348410
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.0452462
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.4717038
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.0894187
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-regression-fallacy&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The regression fallacy&lt;/h2&gt;
&lt;p&gt;Wikipedia defines the &lt;em&gt;sophomore slump&lt;/em&gt; as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A sophomore slump or sophomore jinx or sophomore jitters refers to an instance in which a second, or sophomore, effort fails to live up to the standards of the first effort. It is commonly used to refer to the apathy of students (second year of high school, college or university), the performance of athletes (second season of play), singers/bands (second album), television shows (second seasons) and movies (sequels/prequels).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In Major League Baseball, the rookie of the year (ROY) award is given to the first-year player who is judged to have performed the best. The &lt;em&gt;sophmore slump&lt;/em&gt; phrase is used to describe the observation that ROY award winners don’t do as well during their second year. For example, this Fox Sports article&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt; asks “Will MLB’s tremendous rookie class of 2015 suffer a sophomore slump?”.&lt;/p&gt;
&lt;p&gt;Does the data confirm the existence of a sophomore slump? Let’s take a look. Examining the data for batting average, we see that this observation holds true for the top performing ROYs:&lt;/p&gt;
&lt;!--The data is available in the Lahman library, but we have to do some work to create a table with the statistics for all the ROY. First we create a table with player ID, their names, and their most played position.--&gt;
&lt;!--
Now, we will create a table with only the ROY award winners and add their batting statistics. We filter out pitchers, since pitchers are not given awards for batting and we are going to focus on offense. Specifically, we will focus on batting average since it is the summary that most pundits talk about when discussing the sophomore slump:
--&gt;
&lt;!--
We also will keep only the rookie and sophomore seasons and remove players that did not play sophomore seasons:
--&gt;
&lt;!--
Finally, we will use the `spread` function to have one column for the rookie and sophomore years batting averages:
--&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameFirst
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameLast
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
rookie_year
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
rookie
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sophomore
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Willie
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
McCovey
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1959
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3541667
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2384615
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Ichiro
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Suzuki
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2001
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3497110
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3214838
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Al
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Bumbry
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1973
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3370787
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2333333
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Fred
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Lynn
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1975
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3314394
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3136095
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Albert
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Pujols
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2001
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3288136
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3135593
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;In fact, the proportion of players that have a lower batting average their sophomore year is 0.6862745.&lt;/p&gt;
&lt;p&gt;So is it “jitters” or “jinx”? To answer this question, let’s turn our attention to all players that played the 2013 and 2014 seasons and batted more than 130 times (minimum to win Rookie of the Year).&lt;/p&gt;
&lt;!--We perform similar operations to what we did above: --&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` regrouping output by &amp;#39;playerID&amp;#39; (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The same pattern arises when we look at the top performers: batting averages go down for most of the top performers.&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameFirst
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameLast
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2013
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2014
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Miguel
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Cabrera
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3477477
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3126023
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Hanley
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Ramirez
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3453947
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2828508
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Michael
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Cuddyer
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3312883
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3315789
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Scooter
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Gennett
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3239437
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2886364
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Joe
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Mauer
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3235955
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2769231
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;But these are not rookies! Also, look at what happens to the worst performers of 2013:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameFirst
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
nameLast
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2013
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2014
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Danny
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Espinosa
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1582278
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2192192
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Dan
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Uggla
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1785714
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1489362
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Jeff
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Mathis
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1810345
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2000000
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
B. J.
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Upton
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1841432
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2080925
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Adam
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Rosales
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1904762
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2621951
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Their batting averages mostly go up! Is this some sort of reverse sophomore slump? It is not. There is no such thing as the sophomore slump. This is all explained with a simple statistical fact: the correlation for performance in two separate years is high, but not perfect:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/regression-fallacy-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The correlation is 0.460254 and
the data look very much like a bivariate normal distribution, which means we predict a 2014 batting average &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; for any given player that had a 2013 batting average &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; with:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ \frac{Y - .255}{.032} = 0.46 \left( \frac{X - .261}{.023}\right) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Because the correlation is not perfect, regression tells us that, on average, expect high performers from 2013 to do a bit worse in 2014. It’s not a jinx; it’s just due to chance. The ROY are selected from the top values of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; so it is expected that &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; will regress to the mean.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;measurement-error-models&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Measurement error models&lt;/h2&gt;
&lt;p&gt;Up to now, all our linear regression examples have been applied to two or more random variables. We assume the pairs are bivariate normal and use this to motivate a linear model. This approach covers most real-life examples of linear regression. The other major application comes from measurement errors models. In these applications, it is common to have a non-random covariate, such as time, and randomness is introduced from measurement error rather than sampling or natural variability.&lt;/p&gt;
&lt;p&gt;To understand these models, imagine you are Galileo in the 16th century trying to describe the velocity of a falling object. An assistant climbs the Tower of Pisa and drops a ball, while several other assistants record the position at different times. Let’s simulate some data using the equations we know today and adding some measurement error. The &lt;strong&gt;dslabs&lt;/strong&gt; function &lt;code&gt;rfalling_object&lt;/code&gt; generates these simulations:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
falling_object &amp;lt;- rfalling_object()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The assistants hand the data to Galileo and this is what he sees:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;falling_object %&amp;gt;%
  ggplot(aes(time, observed_distance)) +
  geom_point() +
  ylab(&amp;quot;Distance in meters&amp;quot;) +
  xlab(&amp;quot;Time in seconds&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/gravity-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Galileo does not know the exact equation, but by looking at the plot above, he deduces that the position should follow a parabola, which we can write like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ f(x) = \beta_0 + \beta_1 x + \beta_2 x^2\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The data does not fall exactly on a parabola. Galileo knows this is due to measurement error. His helpers make mistakes when measuring the distance. To account for this, he models the data with:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ Y_i = \beta_0 + \beta_1 x_i + \beta_2 x_i^2 + \varepsilon_i, i=1,\dots,n \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(Y_i\)&lt;/span&gt; representing distance in meters, &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; representing time in seconds, and &lt;span class=&#34;math inline&#34;&gt;\(\varepsilon\)&lt;/span&gt; accounting for measurement error. The measurement error is assumed to be random, independent from each other, and having the same distribution for each &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;. We also assume that there is no bias, which means the expected value &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}[\varepsilon] = 0\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Note that this is a linear model because it is a linear combination of known quantities (&lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(x^2\)&lt;/span&gt; are known) and unknown parameters (the &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt;s are unknown parameters to Galileo). Unlike our previous examples, here &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is a fixed quantity; we are not conditioning.&lt;/p&gt;
&lt;p&gt;To pose a new physical theory and start making predictions about other falling objects, Galileo needs actual numbers, rather than unknown parameters. Using LSE seems like a reasonable approach. How do we find the LSE?&lt;/p&gt;
&lt;p&gt;LSE calculations do not require the errors to be approximately normal. The &lt;code&gt;lm&lt;/code&gt; function will find the &lt;span class=&#34;math inline&#34;&gt;\(\beta\)&lt;/span&gt; s that will minimize the residual sum of squares:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit &amp;lt;- falling_object %&amp;gt;%
  mutate(time_sq = time^2) %&amp;gt;%
  lm(observed_distance~time+time_sq, data=.)
tidy(fit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 5
##   term        estimate std.error statistic  p.value
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 (Intercept)   56.1       0.592    94.9   2.23e-17
## 2 time          -0.786     0.845    -0.930 3.72e- 1
## 3 time_sq       -4.53      0.251   -18.1   1.58e- 9&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s check if the estimated parabola fits the data. The &lt;strong&gt;broom&lt;/strong&gt; function &lt;code&gt;augment&lt;/code&gt; lets us do this easily:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;augment(fit) %&amp;gt;%
  ggplot() +
  geom_point(aes(time, observed_distance)) +
  geom_line(aes(time, .fitted), col = &amp;quot;blue&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/06-content_files/figure-html/falling-object-fit-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Thanks to my high school physics teacher, I know that the equation for the trajectory of a falling object is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[d = h_0 + v_0 t -  0.5 \times 9.8 t^2\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(h_0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(v_0\)&lt;/span&gt; the starting height and velocity, respectively. The data we simulated above followed this equation and added measurement error to simulate &lt;code&gt;n&lt;/code&gt; observations for dropping the ball &lt;span class=&#34;math inline&#34;&gt;\((v_0=0)\)&lt;/span&gt; from the tower of Pisa &lt;span class=&#34;math inline&#34;&gt;\((h_0=55.86)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;These are consistent with the parameter estimates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(fit, conf.int = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 7
##   term        estimate std.error statistic  p.value conf.low conf.high
##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 (Intercept)   56.1       0.592    94.9   2.23e-17    54.8      57.4 
## 2 time          -0.786     0.845    -0.930 3.72e- 1    -2.65      1.07
## 3 time_sq       -4.53      0.251   -18.1   1.58e- 9    -5.08     -3.98&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The Tower of Pisa height is within the confidence interval for &lt;span class=&#34;math inline&#34;&gt;\(\beta_0\)&lt;/span&gt;, the initial velocity 0 is in the confidence interval for &lt;span class=&#34;math inline&#34;&gt;\(\beta_1\)&lt;/span&gt; (note the p-value is larger than 0.05), and the acceleration constant is in a confidence interval for &lt;span class=&#34;math inline&#34;&gt;\(-2 \times \beta_2\)&lt;/span&gt;.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Since the 1980s, sabermetricians have used a summary statistic different from batting average to evaluate players. They realized walks were important and that doubles, triples, and HRs, should be weighed more than singles. As a result, they proposed the following metric:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\frac{\mbox{BB}}{\mbox{PA}} + \frac{\mbox{Singles} + 2 \mbox{Doubles} + 3 \mbox{Triples} + 4\mbox{HR}}{\mbox{AB}}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;They called this on-base-percentage plus slugging percentage (OPS). Although the sabermetricians probably did not use regression, here we show how this metric is close to what one gets with regression.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Compute the OPS for each team in the 2001 season. Then plot Runs per game versus OPS.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For every year since 1961, compute the correlation between runs per game and OPS; then plot these correlations as a function of year.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that we can rewrite OPS as a weighted average of BBs, singles, doubles, triples, and HRs. We know that the weights for doubles, triples, and HRs are 2, 3, and 4 times that of singles. But what about BB? What is the weight for BB relative to singles? Hint: the weight for BB relative to singles will be a function of AB and PA.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that the weight for BB, &lt;span class=&#34;math inline&#34;&gt;\(\frac{\mbox{AB}}{\mbox{PA}}\)&lt;/span&gt;, will change from team to team. To see how variable it is, compute and plot this quantity for each team for each year since 1961. Then plot it again, but instead of computing it for every team, compute and plot the ratio for the entire year. Then, once you are convinced that there is not much of a time or team trend, report the overall average.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So now we know that the formula for OPS is proportional to &lt;span class=&#34;math inline&#34;&gt;\(0.91 \times \mbox{BB} + \mbox{singles} + 2 \times \mbox{doubles} + 3 \times \mbox{triples} + 4 \times \mbox{HR}\)&lt;/span&gt;. Let’s see how these coefficients compare to those obtained with regression. Fit a regression model to the data after 1961, as done earlier: using per game statistics for each year for each team. After fitting this model, report the coefficients as weights relative to the coefficient for singles.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We see that our linear regression model coefficients follow the same general trend as those used by OPS, but with slightly less weight for metrics other than singles. For each team in years after 1961, compute the OPS, the predicted runs with the regression model and compute the correlation between the two as well as the correlation with runs per game.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://mlb.mlb.com/stats/league_leaders.jsp&#34; class=&#34;uri&#34;&gt;http://mlb.mlb.com/stats/league_leaders.jsp&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Bill_James&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Bill_James&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Sabermetrics&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Sabermetrics&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/User:Cburnett&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/User:Cburnett&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://creativecommons.org/licenses/by-sa/3.0/deed.en&#34; class=&#34;uri&#34;&gt;https://creativecommons.org/licenses/by-sa/3.0/deed.en&lt;/a&gt;&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.flickr.com/people/27003603@N00&#34; class=&#34;uri&#34;&gt;https://www.flickr.com/people/27003603@N00&lt;/a&gt;&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://creativecommons.org/licenses/by-sa/2.0&#34; class=&#34;uri&#34;&gt;https://creativecommons.org/licenses/by-sa/2.0&lt;/a&gt;&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.baseball-almanac.com/awards/lou_brock_award.shtml&#34; class=&#34;uri&#34;&gt;http://www.baseball-almanac.com/awards/lou_brock_award.shtml&lt;/a&gt;&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.foxsports.com/mlb/story/kris-bryant-carlos-correa-rookies-of-year-award-matt-duffy-francisco-lindor-kang-sano-120715&#34; class=&#34;uri&#34;&gt;http://www.foxsports.com/mlb/story/kris-bryant-carlos-correa-rookies-of-year-award-matt-duffy-francisco-lindor-kang-sano-120715&lt;/a&gt;&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Introduction to Regression</title>
      <link>/content/05-content/</link>
      <pubDate>Tue, 06 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/content/05-content/</guid>
      <description>

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#supplemental-readings&#34;&gt;Supplemental Readings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#regression&#34;&gt;Introduction to Linear Regression&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-is-height-hereditary&#34;&gt;Case study: is height hereditary?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#corr-coef&#34;&gt;The correlation coefficient&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#sample-correlation-is-a-random-variable&#34;&gt;Sample correlation is a random variable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#correlation-is-not-always-a-useful-summary&#34;&gt;Correlation is not always a useful summary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conditional-expectation&#34;&gt;Conditional expectations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-regression-line&#34;&gt;The regression line&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#regression-improves-precision&#34;&gt;Regression improves precision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bivariate-normal-distribution-advanced&#34;&gt;Bivariate normal distribution (advanced)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#variance-explained&#34;&gt;Variance explained&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#warning-there-are-two-regression-lines&#34;&gt;Warning: there are two regression lines&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;supplemental-readings&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Supplemental Readings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Coming soon.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Coming soon.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/05-slides.html#Introduction&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Today’s lecture will ask you to touch real data during the lecture. Please download the following dataset and load it into &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/data/ames.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;Ames.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This dataset is from houses in Ames, Iowa. (Thrilling!) We will use this dataset during the lecture to illustrate some of the points discussed below.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;regression&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction to Linear Regression&lt;/h1&gt;
&lt;p&gt;Up to this point, this class has focused mainly on single variables. However, in data analytics applications, it is very common to be interested in the &lt;strong&gt;relationship&lt;/strong&gt; between two or more variables. For instance, in the coming days we will use a data-driven approach that examines the relationship between player statistics and success to guide the building of a baseball team with a limited budget. Before delving into this more complex example, we introduce necessary concepts needed to understand regression using a simpler illustration. We actually use the dataset from which regression was born.&lt;/p&gt;
&lt;p&gt;The example is from genetics. Francis Galton&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; studied the variation and heredity of human traits. Among many other traits, Galton collected and studied height data from families to try to understand heredity. While doing this, he developed the concepts of correlation and regression, as well as a connection to pairs of data that follow a normal distribution. Of course, at the time this data was collected our knowledge of genetics was quite limited compared to what we know today. A very specific question Galton tried to answer was: how well can we predict a child’s height based on the parents’ height? The technique he developed to answer this question, regression, can also be applied to our baseball question. Regression can be applied in many other circumstances as well.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Historical note&lt;/strong&gt;: Galton made important contributions to statistics and genetics, but he was also one of the first proponents of eugenics, a scientifically flawed philosophical movement favored by many biologists of Galton’s time but with horrific historical consequences. These consequences still reverberate to this day, and form the basis for much of the Western world’s racist policies. You can read more about it here: &lt;a href=&#34;https://pged.org/history-eugenics-and-genetics/&#34;&gt;https://pged.org/history-eugenics-and-genetics/&lt;/a&gt;.&lt;/p&gt;
&lt;div id=&#34;case-study-is-height-hereditary&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: is height hereditary?&lt;/h2&gt;
&lt;p&gt;We have access to Galton’s family height data through the &lt;strong&gt;HistData&lt;/strong&gt; package. This data contains heights on several dozen families: mothers, fathers, daughters, and sons. To imitate Galton’s analysis, we will create a dataset with the heights of fathers and a randomly selected son of each family:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(HistData)
data(&amp;quot;GaltonFamilies&amp;quot;)

set.seed(1983)
galton_heights &amp;lt;- GaltonFamilies %&amp;gt;%
  filter(gender == &amp;quot;male&amp;quot;) %&amp;gt;%
  group_by(family) %&amp;gt;%
  sample_n(1) %&amp;gt;%
  ungroup() %&amp;gt;%
  select(father, childHeight) %&amp;gt;%
  rename(son = childHeight)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the exercises, we will look at other relationships including mothers and daughters.&lt;/p&gt;
&lt;p&gt;Suppose we were asked to summarize the father and son data. Since both distributions are well approximated by the normal distribution, we could use the two averages and two standard deviations as summaries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;%
  summarize(mean(father), sd(father), mean(son), sd(son))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 4
##   `mean(father)` `sd(father)` `mean(son)` `sd(son)`
##            &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1           69.1         2.55        69.2      2.71&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, this summary fails to describe an important characteristic of the data: the trend that the taller the father, the taller the son.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;% ggplot(aes(father, son)) +
  geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/scatterplot-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We will learn that the correlation coefficient is an informative summary of how two variables move together and then see how this can be used to predict one variable using the other.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;corr-coef&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The correlation coefficient&lt;/h2&gt;
&lt;p&gt;The correlation coefficient is defined for a list of pairs &lt;span class=&#34;math inline&#34;&gt;\((x_1, y_1), \dots, (x_n,y_n)\)&lt;/span&gt; as the average of the product of the standardized values:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\rho = \frac{1}{n} \sum_{i=1}^n \left( \frac{x_i-\mu_x}{\sigma_x} \right)\left( \frac{y_i-\mu_y}{\sigma_y} \right)
\]&lt;/span&gt;
with &lt;span class=&#34;math inline&#34;&gt;\(\mu_x, \mu_y\)&lt;/span&gt; the averages of &lt;span class=&#34;math inline&#34;&gt;\(x_1,\dots, x_n\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(y_1, \dots, y_n\)&lt;/span&gt;, respectively, and &lt;span class=&#34;math inline&#34;&gt;\(\sigma_x, \sigma_y\)&lt;/span&gt; the standard deviations. The Greek letter &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt; is commonly used in statistics books to denote the correlation. The Greek letter for &lt;span class=&#34;math inline&#34;&gt;\(r\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt;, because it is the first letter of regression. Soon we learn about the connection between correlation and regression. We can represent the formula above with R code using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rho &amp;lt;- mean(scale(x) * scale(y))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To understand why this equation does in fact summarize how two variables move together, consider the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;-th entry of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is &lt;span class=&#34;math inline&#34;&gt;\(\left( \frac{x_i-\mu_x}{\sigma_x} \right)\)&lt;/span&gt; SDs away from the average. Similarly, the &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; that is paired with &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt;, is &lt;span class=&#34;math inline&#34;&gt;\(\left( \frac{y_1-\mu_y}{\sigma_y} \right)\)&lt;/span&gt; SDs away from the average &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;. If &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt; are unrelated, the product &lt;span class=&#34;math inline&#34;&gt;\(\left( \frac{x_i-\mu_x}{\sigma_x} \right)\left( \frac{y_i-\mu_y}{\sigma_y} \right)\)&lt;/span&gt; will be positive ( &lt;span class=&#34;math inline&#34;&gt;\(+ \times +\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(- \times -\)&lt;/span&gt; ) as often as negative (&lt;span class=&#34;math inline&#34;&gt;\(+ \times -\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(- \times +\)&lt;/span&gt;) and will average out to about 0. This correlation is the average and therefore unrelated variables will have 0 correlation. If instead the quantities vary together, then we are averaging mostly positive products ( &lt;span class=&#34;math inline&#34;&gt;\(+ \times +\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(- \times -\)&lt;/span&gt;) and we get a positive correlation. If they vary in opposite directions, we get a negative correlation.&lt;/p&gt;
&lt;p&gt;The correlation coefficient is always between -1 and 1. We can show this mathematically: consider that we can’t have higher correlation than when we compare a list to itself (perfect correlation) and in this case the correlation is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\rho = \frac{1}{n} \sum_{i=1}^n \left( \frac{x_i-\mu_x}{\sigma_x} \right)^2 =
\frac{1}{\sigma_x^2} \frac{1}{n} \sum_{i=1}^n \left( x_i-\mu_x \right)^2 =
\frac{1}{\sigma_x^2} \sigma^2_x =
1
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A similar derivation, but with &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; and its exact opposite, proves the correlation has to be bigger or equal to -1.&lt;/p&gt;
&lt;p&gt;For other pairs, the correlation is in between -1 and 1. The correlation between father and son’s heights is about 0.5:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;% summarize(r = cor(father, son)) %&amp;gt;% pull(r)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.4334102&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see what data looks like for different values of &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt;, here are six examples of pairs with correlations ranging from -0.9 to 0.99:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/what-correlation-looks-like-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;sample-correlation-is-a-random-variable&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Sample correlation is a random variable&lt;/h3&gt;
&lt;p&gt;Before we continue connecting correlation to regression, let’s remind ourselves about random variability.&lt;/p&gt;
&lt;p&gt;In most data science applications, we observe data that includes random variation. For example, in many cases, we do not observe data for the entire population of interest but rather for a random sample. As with the average and standard deviation, the &lt;em&gt;sample correlation&lt;/em&gt; is the most commonly used estimate of the population correlation. This implies that the correlation we compute and use as a summary is a random variable.&lt;/p&gt;
&lt;p&gt;By way of illustration, let’s assume that the 179 pairs of fathers and sons is our entire population. A less fortunate geneticist can only afford measurements from a random sample of 25 pairs. The sample correlation can be computed with:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;R &amp;lt;- sample_n(galton_heights, 25, replace = TRUE) %&amp;gt;%
  summarize(r = cor(father, son)) %&amp;gt;% pull(r)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;R&lt;/code&gt; is a random variable. We can run a Monte Carlo simulation to see its distribution:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 1000
N &amp;lt;- 25
R &amp;lt;- replicate(B, {
  sample_n(galton_heights, N, replace = TRUE) %&amp;gt;%
    summarize(r=cor(father, son)) %&amp;gt;%
    pull(r)
})
qplot(R, geom = &amp;quot;histogram&amp;quot;, binwidth = 0.05, color = I(&amp;quot;black&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/sample-correlation-distribution-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that the expected value of &lt;code&gt;R&lt;/code&gt; is the population correlation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(R)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.4307393&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and that it has a relatively high standard error relative to the range of values &lt;code&gt;R&lt;/code&gt; can take:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(R)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1609393&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, when interpreting correlations, remember that correlations derived from samples are estimates containing uncertainty.&lt;/p&gt;
&lt;p&gt;Also, note that because the sample correlation is an average of independent draws, the central limit actually applies. Therefore, for large enough &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt;, the distribution of &lt;code&gt;R&lt;/code&gt; is approximately normal with expected value &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt;. The standard deviation, which is somewhat complex to derive, is &lt;span class=&#34;math inline&#34;&gt;\(\sqrt{\frac{1-r^2}{N-2}}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;In our example, &lt;span class=&#34;math inline&#34;&gt;\(N=25\)&lt;/span&gt; does not seem to be large enough to make the approximation a good one:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(aes(sample=R), data = data.frame(R)) +
  stat_qq() +
  geom_abline(intercept = mean(R), slope = sqrt((1-mean(R)^2)/(N-2)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/small-sample-correlation-not-normal-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you increase &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt;, you will see the distribution converging to normal.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;correlation-is-not-always-a-useful-summary&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Correlation is not always a useful summary&lt;/h3&gt;
&lt;p&gt;Correlation is not always a good summary of the relationship between two variables. The following four artificial datasets, referred to as Anscombe’s quartet, famously illustrate this point. All these pairs have a correlation of 0.82:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/ascombe-quartet-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Correlation is only meaningful in a particular context. To help us understand when it is that correlation is meaningful as a summary statistic, we will return to the example of predicting a son’s height using his father’s height. This will help motivate and define linear regression. We start by demonstrating how correlation can be useful for prediction.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conditional-expectation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conditional expectations&lt;/h2&gt;
&lt;p&gt;Suppose we are asked to guess the height of a randomly selected son and we don’t know his father’s height. Because the distribution of sons’ heights is approximately normal, we know the average height, 69.2, is the value with the highest proportion and would be the prediction with the highest chance of minimizing the error. But what if we are told that the father is taller than average, say 72 inches tall, do we still guess 69.2 for the son?&lt;/p&gt;
&lt;p&gt;It turns out that if we were able to collect data from a very large number of fathers that are 72 inches, the distribution of their sons’ heights would be normally distributed. This implies that the average of the distribution computed on this subset would be our best prediction.&lt;/p&gt;
&lt;p&gt;In general, we call this approach &lt;em&gt;conditioning&lt;/em&gt;. The general idea is that we stratify a population into groups and compute summaries in each group. To provide a mathematical description of conditioning, consider we have a population of pairs of values &lt;span class=&#34;math inline&#34;&gt;\((x_1,y_1),\dots,(x_n,y_n)\)&lt;/span&gt;, for example all father and son heights in England. In the previous week’s content, we learned that if you take a random pair &lt;span class=&#34;math inline&#34;&gt;\((X,Y)\)&lt;/span&gt;, the expected value and best predictor of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; is &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}(Y) = \mu_y\)&lt;/span&gt;, the population average &lt;span class=&#34;math inline&#34;&gt;\(1/n\sum_{i=1}^n y_i\)&lt;/span&gt;. However, we are no longer interested in the general population, instead we are interested in only the subset of a population with a specific &lt;span class=&#34;math inline&#34;&gt;\(x_i\)&lt;/span&gt; value, 72 inches in our example. This subset of the population, is also a population and thus the same principles and properties we have learned apply. The &lt;span class=&#34;math inline&#34;&gt;\(y_i\)&lt;/span&gt; in the subpopulation have a distribution, referred to as the &lt;em&gt;conditional distribution&lt;/em&gt;, and this distribution has an expected value referred to as the &lt;em&gt;conditional expectation&lt;/em&gt;. In our example, the conditional expectation is the average height of all sons in England with fathers that are 72 inches. The statistical notation for the conditional expectation is&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}(Y \mid X = x)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; representing the fixed value that defines that subset, for example 72 inches. Similarly, we denote the standard deviation of the strata with&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{SD}(Y \mid X = x) = \sqrt{\mbox{Var}(Y \mid X = x)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Because the conditional expectation &lt;span class=&#34;math inline&#34;&gt;\(E(Y\mid X=x)\)&lt;/span&gt; is the best predictor for the random variable &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; for an individual in the strata defined by &lt;span class=&#34;math inline&#34;&gt;\(X=x\)&lt;/span&gt;, many data science challenges reduce to estimating this quantity. The conditional standard deviation quantifies the precision of the prediction.&lt;/p&gt;
&lt;p&gt;In the example we have been considering, we are interested in computing the average son height &lt;em&gt;conditioned&lt;/em&gt; on the father being 72 inches tall. We want to estimate &lt;span class=&#34;math inline&#34;&gt;\(E(Y|X=72)\)&lt;/span&gt; using the sample collected by Galton. We previously learned that the sample average is the preferred approach to estimating the population average. However, a challenge when using this approach to estimating conditional expectations is that for continuous data we don’t have many data points matching exactly one value in our sample. For example, we have only:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum(galton_heights$father == 72)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 8&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;fathers that are exactly 72-inches. If we change the number to 72.5, we get even fewer data points:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum(galton_heights$father == 72.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A practical way to improve these estimates of the conditional expectations, is to define strata of with similar values of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. In our example, we can round father heights to the nearest inch and assume that they are all 72 inches. If we do this, we end up with the following prediction for the son of a father that is 72 inches tall:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;conditional_avg &amp;lt;- galton_heights %&amp;gt;%
  filter(round(father) == 72) %&amp;gt;%
  summarize(avg = mean(son)) %&amp;gt;%
  pull(avg)
conditional_avg&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 70.5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that a 72-inch father is taller than average – specifically, 72 - 69.1/2.5 =
1.1 standard deviations taller than the average father. Our prediction 70.5 is also taller than average, but only 0.49 standard deviations larger than the average son. The sons of 72-inch fathers have &lt;em&gt;regressed&lt;/em&gt; some to the average height. We notice that the reduction in how many SDs taller is about 0.5, which happens to be the correlation. As we will see in a later lecture, this is not a coincidence.&lt;/p&gt;
&lt;p&gt;If we want to make a prediction of any height, not just 72, we could apply the same approach to each strata. Stratification followed by boxplots lets us see the distribution of each group:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;% mutate(father_strata = factor(round(father))) %&amp;gt;%
  ggplot(aes(father_strata, son)) +
  geom_boxplot() +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/boxplot-1-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Not surprisingly, the centers of the groups are increasing with height.
Furthermore, these centers appear to follow a linear relationship. Below we plot the averages of each group. If we take into account that these averages are random variables with standard errors, the data is consistent with these points following a straight line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/conditional-averages-follow-line-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The fact that these conditional averages follow a line is not a coincidence. In the next section, we explain that the line these averages follow is what we call the &lt;em&gt;regression line&lt;/em&gt;, which improves the precision of our estimates. However, it is not always appropriate to estimate conditional expectations with the regression line so we also describe Galton’s theoretical justification for using the regression line.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-regression-line&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The regression line&lt;/h2&gt;
&lt;p&gt;If we are predicting a random variable &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; knowing the value of another &lt;span class=&#34;math inline&#34;&gt;\(X=x\)&lt;/span&gt; using a regression line, then we predict that for every standard deviation, &lt;span class=&#34;math inline&#34;&gt;\(\sigma_X\)&lt;/span&gt;, that &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; increases above the average &lt;span class=&#34;math inline&#34;&gt;\(\mu_X\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; increase &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt; standard deviations &lt;span class=&#34;math inline&#34;&gt;\(\sigma_Y\)&lt;/span&gt; above the average &lt;span class=&#34;math inline&#34;&gt;\(\mu_Y\)&lt;/span&gt; with &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt; the correlation between &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt;. The formula for the regression is therefore:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\left( \frac{Y-\mu_Y}{\sigma_Y} \right) = \rho \left( \frac{x-\mu_X}{\sigma_X} \right)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can rewrite it like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Y = \mu_Y + \rho \left( \frac{x-\mu_X}{\sigma_X} \right) \sigma_Y
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If there is perfect correlation, the regression line predicts an increase that is the same number of SDs. If there is 0 correlation, then we don’t use &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; at all for the prediction and simply predict the average &lt;span class=&#34;math inline&#34;&gt;\(\mu_Y\)&lt;/span&gt;. For values between 0 and 1, the prediction is somewhere in between. If the correlation is negative, we predict a reduction instead of an increase.&lt;/p&gt;
&lt;p&gt;Note that if the correlation is positive and lower than 1, our prediction is closer, in standard units, to the average height than the value used to predict, &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, is to the average of the &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;s. This is why we call it &lt;em&gt;regression&lt;/em&gt;: the son regresses to the average height. In fact, the title of Galton’s paper was: &lt;em&gt;Regression toward mediocrity in hereditary stature&lt;/em&gt;. To add regression lines to plots, we will need the above formula in the form:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
y= b + mx \mbox{ with slope } m = \rho \frac{\sigma_y}{\sigma_x} \mbox{ and intercept } b=\mu_y - m \mu_x
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here we add the regression line to the original data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mu_x &amp;lt;- mean(galton_heights$father)
mu_y &amp;lt;- mean(galton_heights$son)
s_x &amp;lt;- sd(galton_heights$father)
s_y &amp;lt;- sd(galton_heights$son)
r &amp;lt;- cor(galton_heights$father, galton_heights$son)

galton_heights %&amp;gt;%
  ggplot(aes(father, son)) +
  geom_point(alpha = 0.5) +
  geom_abline(slope = r * s_y/s_x, intercept = mu_y - r * s_y/s_x * mu_x)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/regression-line-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The regression formula implies that if we first standardize the variables, that is subtract the average and divide by the standard deviation, then the regression line has intercept 0 and slope equal to the correlation &lt;span class=&#34;math inline&#34;&gt;\(\rho\)&lt;/span&gt;. You can make same plot, but using standard units like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;%
  ggplot(aes(scale(father), scale(son))) +
  geom_point(alpha = 0.5) +
  geom_abline(intercept = 0, slope = r)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;regression-improves-precision&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Regression improves precision&lt;/h3&gt;
&lt;p&gt;Let’s compare the two approaches to prediction that we have presented:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Round fathers’ heights to closest inch, stratify, and then take the average.&lt;/li&gt;
&lt;li&gt;Compute the regression line and use it to predict.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We use a Monte Carlo simulation sampling &lt;span class=&#34;math inline&#34;&gt;\(N=50\)&lt;/span&gt; families:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 1000
N &amp;lt;- 50

set.seed(1983)
conditional_avg &amp;lt;- replicate(B, {
  dat &amp;lt;- sample_n(galton_heights, N)
  dat %&amp;gt;% filter(round(father) == 72) %&amp;gt;%
    summarize(avg = mean(son)) %&amp;gt;%
    pull(avg)
  })

regression_prediction &amp;lt;- replicate(B, {
  dat &amp;lt;- sample_n(galton_heights, N)
  mu_x &amp;lt;- mean(dat$father)
  mu_y &amp;lt;- mean(dat$son)
  s_x &amp;lt;- sd(dat$father)
  s_y &amp;lt;- sd(dat$son)
  r &amp;lt;- cor(dat$father, dat$son)
  mu_y + r*(72 - mu_x)/s_x*s_y
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although the expected value of these two random variables is about the same:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(conditional_avg, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 70.49368&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(regression_prediction)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 70.50941&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The standard error for the regression prediction is substantially smaller:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(conditional_avg, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9635814&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(regression_prediction)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.4520833&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The regression line is therefore much more stable than the conditional mean. There is an intuitive reason for this. The conditional average is computed on a relatively small subset: the fathers that are about 72 inches tall. In fact, in some of the permutations we have no data, which is why we use &lt;code&gt;na.rm=TRUE&lt;/code&gt;. The regression always uses all the data.&lt;/p&gt;
&lt;p&gt;So why not always use the regression for prediction? Because it is not always appropriate. For example, Anscombe provided cases for which the data does not have a linear relationship. So are we justified in using the regression line to predict? Galton answered this in the positive for height data. The justification, which we include in the next section, is somewhat more advanced than the rest of the chapter.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;bivariate-normal-distribution-advanced&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Bivariate normal distribution (advanced)&lt;/h3&gt;
&lt;p&gt;Correlation and the regression slope are a widely used summary statistic, but they are often misused or misinterpreted. Anscombe’s examples provide over-simplified cases of dataset in which summarizing with correlation would be a mistake. But there are many more real-life examples.&lt;/p&gt;
&lt;p&gt;The main way we motivate the use of correlation involves what is called the &lt;em&gt;bivariate normal distribution&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;When a pair of random variables is approximated by the bivariate normal distribution, scatterplots look like ovals. These ovals can be thin (high correlation) or circle-shaped (no correlation).&lt;/p&gt;
&lt;!--
&lt;img src=&#34;/content/05-content_files/figure-html/bivariate-ovals-1.png&#34; width=&#34;672&#34; /&gt;
--&gt;
&lt;p&gt;A more technical way to define the bivariate normal distribution is the following: if &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is a normally distributed random variable, &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; is also a normally distributed random variable, and the conditional distribution of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; for any &lt;span class=&#34;math inline&#34;&gt;\(X=x\)&lt;/span&gt; is approximately normal, then the pair is approximately bivariate normal.&lt;/p&gt;
&lt;p&gt;If we think the height data is well approximated by the bivariate normal distribution, then we should see the normal approximation hold for each strata. Here we stratify the son heights by the standardized father heights and see that the assumption appears to hold:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;%
  mutate(z_father = round((father - mean(father)) / sd(father))) %&amp;gt;%
  filter(z_father %in% -2:2) %&amp;gt;%
  ggplot() +
  stat_qq(aes(sample = son)) +
  facet_wrap( ~ z_father)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/qqnorm-of-strata-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we come back to defining correlation. Galton used mathematical statistics to demonstrate that, when two variables follow a bivariate normal distribution, computing the regression line is equivalent to computing conditional expectations. We don’t show the derivation here, but we can show that under this assumption, for any given value of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, the expected value of the &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; in pairs for which &lt;span class=&#34;math inline&#34;&gt;\(X=x\)&lt;/span&gt; is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}(Y | X=x) = \mu_Y +  \rho \frac{X-\mu_X}{\sigma_X}\sigma_Y
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is the regression line, with slope &lt;span class=&#34;math display&#34;&gt;\[\rho \frac{\sigma_Y}{\sigma_X}\]&lt;/span&gt; and intercept &lt;span class=&#34;math inline&#34;&gt;\(\mu_y - m\mu_X\)&lt;/span&gt;. It is equivalent to the regression equation we showed earlier which can be written like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\frac{\mbox{E}(Y \mid X=x)  - \mu_Y}{\sigma_Y} = \rho \frac{x-\mu_X}{\sigma_X}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This implies that, if our data is approximately bivariate, the regression line gives the conditional probability. Therefore, we can obtain a much more stable estimate of the conditional expectation by finding the regression line and using it to predict.&lt;/p&gt;
&lt;p&gt;In summary, if our data is approximately bivariate, then the conditional expectation, the best prediction of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; given we know the value of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, is given by the regression line.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;variance-explained&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Variance explained&lt;/h3&gt;
&lt;p&gt;The bivariate normal theory also tells us that the standard deviation of the &lt;em&gt;conditional&lt;/em&gt; distribution described above is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{SD}(Y \mid X=x ) = \sigma_Y \sqrt{1-\rho^2}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To see why this is intuitive, notice that without conditioning, &lt;span class=&#34;math inline&#34;&gt;\(\mbox{SD}(Y) = \sigma_Y\)&lt;/span&gt;, we are looking at the variability of all the sons. But once we condition, we are only looking at the variability of the sons with a tall, 72-inch, father. This group will all tend to be somewhat tall so the standard deviation is reduced.&lt;/p&gt;
&lt;p&gt;Specifically, it is reduced to &lt;span class=&#34;math inline&#34;&gt;\(\sqrt{1-\rho^2} = \sqrt{1 - 0.25}\)&lt;/span&gt; = 0.87 of what it was originally. We could say that father heights “explain” 13% of the variability observed in son heights.&lt;/p&gt;
&lt;p&gt;The statement “&lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; explains such and such percent of the variability” is commonly used in academic papers. In this case, this percent actually refers to the variance (the SD squared). So if the data is bivariate normal, the variance is reduced by &lt;span class=&#34;math inline&#34;&gt;\(1-\rho^2\)&lt;/span&gt;, so we say that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; explains &lt;span class=&#34;math inline&#34;&gt;\(1- (1-\rho^2)=\rho^2\)&lt;/span&gt; (the correlation squared) of the variance.&lt;/p&gt;
&lt;p&gt;But it is important to remember that the “variance explained” statement only makes sense when the data is approximated by a bivariate normal distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;warning-there-are-two-regression-lines&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Warning: there are two regression lines&lt;/h3&gt;
&lt;p&gt;We computed a regression line to predict the son’s height from father’s height. We used these calculations:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mu_x &amp;lt;- mean(galton_heights$father)
mu_y &amp;lt;- mean(galton_heights$son)
s_x &amp;lt;- sd(galton_heights$father)
s_y &amp;lt;- sd(galton_heights$son)
r &amp;lt;- cor(galton_heights$father, galton_heights$son)
m_1 &amp;lt;-  r * s_y / s_x
b_1 &amp;lt;- mu_y - m_1*mu_x&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which gives us the function &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}(Y\mid X=x) =\)&lt;/span&gt; 37.3 + 0.46 &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;What if we want to predict the father’s height based on the son’s? It is important to know that this is not determined by computing the inverse function:
&lt;span class=&#34;math inline&#34;&gt;\(x = \{ \mbox{E}(Y\mid X=x) -\)&lt;/span&gt; 37.3 &lt;span class=&#34;math inline&#34;&gt;\(\} /\)&lt;/span&gt; 0.5.&lt;/p&gt;
&lt;p&gt;We need to compute &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}(X \mid Y=y)\)&lt;/span&gt;. Since the data is approximately bivariate normal, the theory described above tells us that this conditional expectation will follow a line with slope and intercept:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m_2 &amp;lt;-  r * s_x / s_y
b_2 &amp;lt;- mu_x - m_2 * mu_y&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So we get &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}(X \mid Y=y) =\)&lt;/span&gt; 40.9 + 0.41y. Again we see regression to the average: the prediction for the father is closer to the father average than the son heights &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt; is to the son average.&lt;/p&gt;
&lt;p&gt;Here is a plot showing the two regression lines, with blue for the predicting son heights with father heights and red for predicting father heights with son heights:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;galton_heights %&amp;gt;%
  ggplot(aes(father, son)) +
  geom_point(alpha = 0.5) +
  geom_abline(intercept = b_1, slope = m_1, col = &amp;quot;blue&amp;quot;) +
  geom_abline(intercept = -b_2/m_2, slope = 1/m_2, col = &amp;quot;red&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/05-content_files/figure-html/two-regression-lines-1.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Load the &lt;code&gt;GaltonFamilies&lt;/code&gt; data from the &lt;strong&gt;HistData&lt;/strong&gt;. The children in each family are listed by gender and then by height. Create a dataset called &lt;code&gt;galton_heights&lt;/code&gt; by picking a male and female at random.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make a scatterplot for heights between mothers and daughters, mothers and sons, fathers and daughters, and fathers and sons.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compute the correlation in heights between mothers and daughters, mothers and sons, fathers and daughters, and fathers and sons.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Francis_Galton&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Francis_Galton&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Probability and Statistics</title>
      <link>/content/04-content/</link>
      <pubDate>Tue, 29 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/content/04-content/</guid>
      <description>

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#supplemental-readings&#34;&gt;Supplemental Readings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#discrete-probability&#34;&gt;Discrete probability&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#relative-frequency&#34;&gt;Relative frequency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notation&#34;&gt;Notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#probability-distributions&#34;&gt;Probability distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#monte-carlo-simulations-for-categorical-data&#34;&gt;Monte Carlo simulations for categorical data&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#setting-the-random-seed&#34;&gt;Setting the random seed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#with-and-without-replacement&#34;&gt;With and without replacement&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#independence&#34;&gt;Independence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conditional-probabilities&#34;&gt;Conditional probabilities&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#addition-and-multiplication-rules&#34;&gt;Addition and multiplication rules&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#multiplication-rule&#34;&gt;Multiplication rule&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#multiplication-rule-under-independence&#34;&gt;Multiplication rule under independence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#addition-rule&#34;&gt;Addition rule&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#combinations-and-permutations&#34;&gt;Combinations and permutations&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#monte-carlo-example&#34;&gt;Monte Carlo example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#examples&#34;&gt;Examples&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#monty-hall-problem&#34;&gt;Monty Hall problem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#birthday-problem&#34;&gt;Birthday problem&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#infinity-in-practice&#34;&gt;Infinity in practice&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#theoretical-continuous-distributions&#34;&gt;Theoretical continuous distributions&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#theoretical-distributions-as-approximations&#34;&gt;Theoretical distributions as approximations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-probability-density&#34;&gt;The probability density&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#monte-carlo-simulations-for-continuous-variables&#34;&gt;Monte Carlo simulations for continuous variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#continuous-distributions&#34;&gt;Continuous distributions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#random-variables&#34;&gt;Random variables&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#definition-of-random-variables&#34;&gt;Definition of Random variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sampling-models&#34;&gt;Sampling models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-probability-distribution-of-a-random-variable&#34;&gt;The probability distribution of a random variable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#distributions-versus-probability-distributions&#34;&gt;Distributions versus probability distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notation-for-random-variables&#34;&gt;Notation for random variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-expected-value-and-standard-error&#34;&gt;The expected value and standard error&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#population-sd-versus-the-sample-sd&#34;&gt;Population SD versus the sample SD&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#central-limit-theorem&#34;&gt;Central Limit Theorem&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#how-large-is-large-in-the-central-limit-theorem&#34;&gt;How large is large in the Central Limit Theorem?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#statistical-properties-of-averages&#34;&gt;Statistical properties of averages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#law-of-large-numbers&#34;&gt;Law of large numbers&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#misinterpreting-law-of-averages&#34;&gt;Misinterpreting law of averages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;supplemental-readings&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Supplemental Readings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://hbr.org/2016/11/why-its-so-hard-for-us-to-visualize-uncertainty&#34;&gt;Why It’s So Hard for Us to Visualize Uncertainty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://www.youtube.com/watch?v=0L1tGo-DvD0&#34;&gt;Amanda Cox’s keynote address at the 2017 OpenVis Conf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://eagereyes.org/blog/2017/communicating-uncertainty-when-lives-are-on-the-line&#34;&gt;Communicating Uncertainty When Lives Are on the Line&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://flowingdata.com/2016/11/15/showing-uncertainty-during-the-live-election-forecast/&#34;&gt;Showing uncertainty during the live election forecast&lt;/a&gt; &amp;amp; &lt;a href=&#34;https://flowingdata.com/2017/06/27/trolling-the-uncertainty-dial/&#34;&gt;Trolling the uncertainty dial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Why is uncertainty inherently a major part of data analytics?&lt;/li&gt;
&lt;li&gt;How have past attempts to visualize uncertainty failed?&lt;/li&gt;
&lt;li&gt;What is the right way to visualize election uncertainty?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;p&gt;As with last week, today’s lecture will ask you to work with &lt;code&gt;R&lt;/code&gt; during the lecture.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;discrete-probability&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Discrete probability&lt;/h1&gt;
&lt;p&gt;We start by covering some basic principles related to categorical data. The subset of probability is referred to as &lt;em&gt;discrete probability&lt;/em&gt;. It will help us understand the probability theory we will later introduce for numeric and continuous data, which is much more common in data science applications. Discrete probability is more useful in card games and therefore we use these as examples.&lt;/p&gt;
&lt;div id=&#34;relative-frequency&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Relative frequency&lt;/h3&gt;
&lt;p&gt;The word probability is used in everyday language. Answering questions about probability is often hard, if not impossible. Here we discuss a mathematical definition of &lt;em&gt;probability&lt;/em&gt; that does permit us to give precise answers to certain questions.&lt;/p&gt;
&lt;p&gt;For example, if I have 2 red beads and 3 blue beads inside an urn&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; (most probability books use this archaic term, so we do too) and I pick one at random, what is the probability of picking a red one? Our intuition tells us that the answer is 2/5 or 40%. A precise definition can be given by noting that there are five possible outcomes of which two satisfy the condition necessary for the event “pick a red bead”. Since each of the five outcomes has the same chance of occurring, we conclude that the probability is .4 for red and .6 for blue.&lt;/p&gt;
&lt;p&gt;A more tangible way to think about the probability of an event is as the proportion of times the event occurs when we repeat the experiment an infinite number of times, independently, and under the same conditions.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;notation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Notation&lt;/h3&gt;
&lt;p&gt;We use the notation &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(A)\)&lt;/span&gt; to denote the probability of event &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; happening. We use the very general term &lt;em&gt;event&lt;/em&gt; to refer to things that can happen when something occurs by chance. In our previous example, the event was “picking a red bead”. In a political poll in which we call 100 likely voters at random, an example of an event is “calling 48 Democrats and 52 Republicans”.&lt;/p&gt;
&lt;p&gt;In data science applications, we will often deal with continuous variables. These events will often be things like “is this person taller than 6 feet”. In this case, we write events in a more mathematical form: &lt;span class=&#34;math inline&#34;&gt;\(X \geq 6\)&lt;/span&gt;. We will see more of these examples later. Here we focus on categorical data.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;probability-distributions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Probability distributions&lt;/h3&gt;
&lt;p&gt;If we know the relative frequency of the different categories, defining a distribution for categorical outcomes is relatively straightforward. We simply assign a probability to each category. In cases that can be thought of as beads in an urn, for each bead type, their proportion defines the distribution.&lt;/p&gt;
&lt;p&gt;If we are randomly calling likely voters from a population that is 44% Democrat, 44% Republican, 10% undecided, and 2% Green Party, these proportions define the probability for each group. The probability distribution is:&lt;/p&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;Pr(picking a Republican)&lt;/td&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;0.44&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;Pr(picking a Democrat)&lt;/td&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;0.44&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;Pr(picking an undecided)&lt;/td&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;0.10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;Pr(picking a Green)&lt;/td&gt;
&lt;td&gt;=&lt;/td&gt;
&lt;td&gt;0.02&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;monte-carlo-simulations-for-categorical-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Monte Carlo simulations for categorical data&lt;/h2&gt;
&lt;p&gt;Computers provide a way to actually perform the simple random experiment described above: pick a bead at random from a bag that contains three blue beads and two red ones. Random number generators permit us to mimic the process of picking at random.&lt;/p&gt;
&lt;p&gt;An example is the &lt;code&gt;sample&lt;/code&gt; function in R. We demonstrate its use in the code below. First, we use the function &lt;code&gt;rep&lt;/code&gt; to generate the urn:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;beads &amp;lt;- rep(c(&amp;quot;red&amp;quot;, &amp;quot;blue&amp;quot;), times = c(2,3))
beads&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;red&amp;quot;  &amp;quot;red&amp;quot;  &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then use &lt;code&gt;sample&lt;/code&gt; to pick a bead at random:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample(beads, 1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;blue&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This line of code produces one random outcome. We want to repeat this experiment an infinite number of times, but it is impossible to repeat forever. Instead, we repeat the experiment a large enough number of times to make the results practically equivalent to repeating forever. &lt;strong&gt;This is an example of a &lt;em&gt;Monte Carlo&lt;/em&gt; simulation&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Much of what mathematical and theoretical statisticians study, which we do not cover in this class, relates to providing rigorous definitions of “practically equivalent” as well as studying how close a large number of experiments gets us to what happens in the limit. Later in this lecture, we provide a practical approach to deciding what is “large enough”.&lt;/p&gt;
&lt;p&gt;To perform our first Monte Carlo simulation, we use the &lt;code&gt;replicate&lt;/code&gt; function, which permits us to repeat the same task any number of times. Here, we repeat the random event &lt;span class=&#34;math inline&#34;&gt;\(B =\)&lt;/span&gt; 10,000 times:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10000
events &amp;lt;- replicate(B, sample(beads, 1))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now see if our definition actually is in agreement with this Monte Carlo simulation approximation. We can use &lt;code&gt;table&lt;/code&gt; to see the distribution:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- table(events)
tab&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## events
## blue  red 
## 5952 4048&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and &lt;code&gt;prop.table&lt;/code&gt; gives us the proportions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prop.table(tab)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## events
##   blue    red 
## 0.5952 0.4048&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The numbers above are the estimated probabilities provided by this Monte Carlo simulation. Statistical theory, not covered here, tells us that as &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt; gets larger, the estimates get closer to 3/5=.6 and 2/5=.4.&lt;/p&gt;
&lt;p&gt;Although this is a simple and not very useful example, we will use Monte Carlo simulations to estimate probabilities in cases in which it is harder to compute the exact ones. Before delving into more complex examples, we use simple ones to demonstrate the computing tools available in R.&lt;/p&gt;
&lt;div id=&#34;setting-the-random-seed&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Setting the random seed&lt;/h3&gt;
&lt;p&gt;Before we continue, we will briefly explain the following important line of code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1986)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Throughout this class, we use random number generators. This implies that many of the results presented can actually change by chance, which then suggests that a frozen version of the class may show a different result than what you obtain when you try to code as shown in the class. This is actually fine since the results are random and change from time to time. However, if you want to ensure that results are exactly the same every time you run them, you can set R’s random number generation seed to a specific number. Above we set it to 1986. We want to avoid using the same seed everytime. A popular way to pick the seed is the year - month - day. For example, we picked 1986 on December 20, 2018: &lt;span class=&#34;math inline&#34;&gt;\(2018 - 12 - 20 = 1986\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;You can learn more about setting the seed by looking at the documentation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;?set.seed&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the exercises, we may ask you to set the seed to assure that the results you obtain are exactly what we expect them to be.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;with-and-without-replacement&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;With and without replacement&lt;/h3&gt;
&lt;p&gt;The function &lt;code&gt;sample&lt;/code&gt; has an argument that permits us to pick more than one element from the urn. However, by default, this selection occurs &lt;em&gt;without replacement&lt;/em&gt;: after a bead is selected, it is not put back in the bag. Notice what happens when we ask to randomly select five beads:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample(beads, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;red&amp;quot;  &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;red&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample(beads, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;red&amp;quot;  &amp;quot;red&amp;quot;  &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample(beads, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;blue&amp;quot; &amp;quot;red&amp;quot;  &amp;quot;blue&amp;quot; &amp;quot;red&amp;quot;  &amp;quot;blue&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This results in rearrangements that always have three blue and two red beads. If we ask that six beads be selected, we get an error:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample(beads, 6)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Error in sample.int(length(x), size, replace, prob) :   cannot take a sample larger than the population when &#39;replace = FALSE&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;However, the &lt;code&gt;sample&lt;/code&gt; function can be used directly, without the use of &lt;code&gt;replicate&lt;/code&gt;, to repeat the same experiment of picking 1 out of the 5 beads, continually, under the same conditions. To do this, we sample &lt;em&gt;with replacement&lt;/em&gt;: return the bead back to the urn after selecting it.
We can tell &lt;code&gt;sample&lt;/code&gt; to do this by changing the &lt;code&gt;replace&lt;/code&gt; argument, which defaults to &lt;code&gt;FALSE&lt;/code&gt;, to &lt;code&gt;replace = TRUE&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;events &amp;lt;- sample(beads, B, replace = TRUE)
prop.table(table(events))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## events
##   blue    red 
## 0.6017 0.3983&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Not surprisingly, we get results very similar to those previously obtained with &lt;code&gt;replicate&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;independence&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Independence&lt;/h2&gt;
&lt;p&gt;We say two events are independent if the outcome of one does not affect the other. The classic example is coin tosses. Every time we toss a fair coin, the probability of seeing heads is 1/2 regardless of what previous tosses have revealed. The same is true when we pick beads from an urn with replacement. In the example above, the probability of red is 0.40 regardless of previous draws.&lt;/p&gt;
&lt;p&gt;Many examples of events that are not independent come from card games. When we deal the first card, the probability of getting a King is 1/13 since there are thirteen possibilities: Ace, Deuce, Three, &lt;span class=&#34;math inline&#34;&gt;\(\dots\)&lt;/span&gt;, Ten, Jack, Queen, King, and Ace. Now if we deal a King for the first card, and don’t replace it into the deck, the probabilities of a second card being a King is less because there are only three Kings left: the probability is 3 out of 51. These events are therefore &lt;strong&gt;not independent&lt;/strong&gt;: the first outcome affected the next one.&lt;/p&gt;
&lt;p&gt;To see an extreme case of non-independent events, consider our example of drawing five beads at random &lt;strong&gt;without&lt;/strong&gt; replacement:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- sample(beads, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you have to guess the color of the first bead, you will predict blue since blue has a 60% chance. But if I show you the result of the last four outcomes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x[2:5]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;blue&amp;quot; &amp;quot;red&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;would you still guess blue? Of course not. Now you know that the probability of red is 1 since the only bead left is red. The events are not independent, so the probabilities change.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;conditional-probabilities&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conditional probabilities&lt;/h2&gt;
&lt;p&gt;When events are not independent, &lt;em&gt;conditional probabilities&lt;/em&gt; are useful. We already saw an example of a conditional probability: we computed the probability that a second dealt card is a King given that the first was a King. In probability, we use the following notation:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(\mbox{Card 2 is a king} \mid \mbox{Card 1 is a king}) = 3/51
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We use the &lt;span class=&#34;math inline&#34;&gt;\(\mid\)&lt;/span&gt; as shorthand for “given that” or “conditional on”.&lt;/p&gt;
&lt;p&gt;When two events, say &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt;, are independent, we have:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(A \mid B) = \mbox{Pr}(A)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is the mathematical way of saying: the fact that &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt; happened does not affect the probability of &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; happening. In fact, this can be considered the mathematical definition of independence.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;addition-and-multiplication-rules&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Addition and multiplication rules&lt;/h2&gt;
&lt;div id=&#34;multiplication-rule&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Multiplication rule&lt;/h3&gt;
&lt;p&gt;If we want to know the probability of two events, say &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt;, occurring, we can use the multiplication rule:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(A \mbox{ and } B) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)
\]&lt;/span&gt;
Let’s use Blackjack as an example. In Blackjack, you are assigned two random cards. After you see what you have, you can ask for more. The goal is to get closer to 21 than the dealer, without going over. Face cards are worth 10 points and Aces are worth 11 or 1 (you choose).&lt;/p&gt;
&lt;p&gt;So, in a Blackjack game, to calculate the chances of getting a 21 by drawing an Ace and then a face card, we compute the probability of the first being an Ace and multiply by the probability of drawing a face card or a 10 given that the first was an Ace: &lt;span class=&#34;math inline&#34;&gt;\(1/13 \times 16/51 \approx 0.025\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The multiplication rule also applies to more than two events. We can use induction to expand for more events:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)\mbox{Pr}(C \mid A \mbox{ and } B)
\]&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;multiplication-rule-under-independence&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Multiplication rule under independence&lt;/h3&gt;
&lt;p&gt;When we have independent events, then the multiplication rule becomes simpler:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B)\mbox{Pr}(C)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;But we have to be very careful before using this since assuming independence can result in very different and incorrect probability calculations when we don’t actually have independence.&lt;/p&gt;
&lt;p&gt;As an example, imagine a court case in which the suspect was described as having a mustache and a beard. The defendant has a mustache and a beard and the prosecution brings in an “expert” to testify that 1/10 men have beards and 1/5 have mustaches, so using the multiplication rule we conclude that only &lt;span class=&#34;math inline&#34;&gt;\(1/10 \times 1/5\)&lt;/span&gt; or 0.02 have both.&lt;/p&gt;
&lt;p&gt;But to multiply like this we need to assume independence! Say the conditional probability of a man having a mustache conditional on him having a beard is .95. So the correct calculation probability is much higher: &lt;span class=&#34;math inline&#34;&gt;\(1/10 \times 95/100 = 0.095\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The multiplication rule also gives us a general formula for computing conditional probabilities:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(B \mid A) = \frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To illustrate how we use these formulas and concepts in practice, we will use several examples related to card games.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;addition-rule&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Addition rule&lt;/h3&gt;
&lt;p&gt;The addition rule tells us that:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(A \mbox{ or } B) = \mbox{Pr}(A) + \mbox{Pr}(B) - \mbox{Pr}(A \mbox{ and } B)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This rule is intuitive: think of a Venn diagram. If we simply add the probabilities, we count the intersection twice so we need to substract one instance.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/venn-diagram-addition-rule-1.png&#34; width=&#34;35%&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;combinations-and-permutations&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Combinations and permutations&lt;/h2&gt;
&lt;p&gt;In our very first example, we imagined an urn with five beads. As a reminder, to compute the probability distribution of one draw, we simply listed out all the possibilities. There were 5 and so then, for each event, we counted how many of these possibilities were associated with the event. The resulting probability of choosing a blue bead is 3/5 because out of the five possible outcomes, three were blue.&lt;/p&gt;
&lt;p&gt;For more complicated cases, the computations are not as straightforward. For instance, what is the probability that if I draw five cards without replacement, I get all cards of the same suit, what is known as a “flush” in poker? In a discrete probability course you learn theory on how to make these computations. Here we focus on how to use R code to compute the answers.&lt;/p&gt;
&lt;p&gt;First, let’s construct a deck of cards. For this, we will use the &lt;code&gt;expand.grid&lt;/code&gt; and &lt;code&gt;paste&lt;/code&gt; functions. We use &lt;code&gt;paste&lt;/code&gt; to create strings by joining smaller strings. To do this, we take the number and suit of a card and create the card name like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;number &amp;lt;- &amp;quot;Three&amp;quot;
suit &amp;lt;- &amp;quot;Hearts&amp;quot;
paste(number, suit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Three Hearts&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;paste&lt;/code&gt; also works on pairs of vectors performing the operation element-wise:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;paste(letters[1:5], as.character(1:5))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a 1&amp;quot; &amp;quot;b 2&amp;quot; &amp;quot;c 3&amp;quot; &amp;quot;d 4&amp;quot; &amp;quot;e 5&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The function &lt;code&gt;expand.grid&lt;/code&gt; gives us all the combinations of entries of two vectors. For example, if you have blue and black pants and white, grey, and plaid shirts, all your combinations are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;expand.grid(pants = c(&amp;quot;blue&amp;quot;, &amp;quot;black&amp;quot;), shirt = c(&amp;quot;white&amp;quot;, &amp;quot;grey&amp;quot;, &amp;quot;plaid&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   pants shirt
## 1  blue white
## 2 black white
## 3  blue  grey
## 4 black  grey
## 5  blue plaid
## 6 black plaid&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is how we generate a deck of cards:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;suits &amp;lt;- c(&amp;quot;Diamonds&amp;quot;, &amp;quot;Clubs&amp;quot;, &amp;quot;Hearts&amp;quot;, &amp;quot;Spades&amp;quot;)
numbers &amp;lt;- c(&amp;quot;Ace&amp;quot;, &amp;quot;Deuce&amp;quot;, &amp;quot;Three&amp;quot;, &amp;quot;Four&amp;quot;, &amp;quot;Five&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Seven&amp;quot;,
             &amp;quot;Eight&amp;quot;, &amp;quot;Nine&amp;quot;, &amp;quot;Ten&amp;quot;, &amp;quot;Jack&amp;quot;, &amp;quot;Queen&amp;quot;, &amp;quot;King&amp;quot;)
deck &amp;lt;- expand.grid(number=numbers, suit=suits)
deck &amp;lt;- paste(deck$number, deck$suit)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With the deck constructed, we can double check that the probability of a King in the first card is 1/13 by computing the proportion of possible outcomes that satisfy our condition:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kings &amp;lt;- paste(&amp;quot;King&amp;quot;, suits)
mean(deck %in% kings)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.07692308&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, how about the conditional probability of the second card being a King given that the first was a King? Earlier, we deduced that if one King is already out of the deck and there are 51 left, then this probability is 3/51. Let’s confirm by listing out all possible outcomes.&lt;/p&gt;
&lt;p&gt;To do this, we can use the &lt;code&gt;permutations&lt;/code&gt; function from the &lt;strong&gt;gtools&lt;/strong&gt; package. For any list of size &lt;code&gt;n&lt;/code&gt;, this function computes all the different combinations we can get when we select &lt;code&gt;r&lt;/code&gt; items. Here are all the ways we can choose two numbers from a list consisting of &lt;code&gt;1,2,3&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(gtools)
permutations(3, 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    1
## [4,]    2    3
## [5,]    3    1
## [6,]    3    2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that the order matters here: 3,1 is different than 1,3. Also, note that (1,1), (2,2), and (3,3) do not appear because once we pick a number, it can’t appear again.&lt;/p&gt;
&lt;p&gt;Optionally, we can add a vector. If you want to see five random seven digit phone numbers out of all possible phone numbers (without repeats), you can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;all_phone_numbers &amp;lt;- permutations(10, 7, v = 0:9)
n &amp;lt;- nrow(all_phone_numbers)
index &amp;lt;- sample(n, 5)
all_phone_numbers[index,]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## [1,]    1    3    8    0    6    7    5
## [2,]    2    9    1    6    4    8    0
## [3,]    5    1    6    0    9    8    2
## [4,]    7    4    6    0    2    8    1
## [5,]    4    6    5    9    2    8    0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Instead of using the numbers 1 through 10, the default, it uses what we provided through &lt;code&gt;v&lt;/code&gt;: the digits 0 through 9.&lt;/p&gt;
&lt;p&gt;To compute all possible ways we can choose two cards when the order matters, we type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;hands &amp;lt;- permutations(52, 2, v = deck)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is a matrix with two columns and 2652 rows. With a matrix we can get the first and second cards like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;first_card &amp;lt;- hands[,1]
second_card &amp;lt;- hands[,2]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now the cases for which the first hand was a King can be computed like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kings &amp;lt;- paste(&amp;quot;King&amp;quot;, suits)
sum(first_card %in% kings)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 204&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To get the conditional probability, we compute what fraction of these have a King in the second card:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum(first_card%in%kings &amp;amp; second_card%in%kings) / sum(first_card%in%kings)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.05882353&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which is exactly 3/51, as we had already deduced. Notice that the code above is equivalent to:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(first_card%in%kings &amp;amp; second_card%in%kings) / mean(first_card%in%kings)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.05882353&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which uses &lt;code&gt;mean&lt;/code&gt; instead of &lt;code&gt;sum&lt;/code&gt; and is an R version of:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;How about if the order doesn’t matter? For example, in Blackjack if you get an Ace and a face card in the first draw, it is called a &lt;em&gt;Natural 21&lt;/em&gt; and you win automatically. If we wanted to compute the probability of this happening, we would enumerate the &lt;em&gt;combinations&lt;/em&gt;, not the permutations, since the order does not matter.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;combinations(3,2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the second line, the outcome does not include (2,1) because (1,2) already was enumerated. The same applies to (3,1) and (3,2).&lt;/p&gt;
&lt;p&gt;So to compute the probability of a &lt;em&gt;Natural 21&lt;/em&gt; in Blackjack, we can do this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;aces &amp;lt;- paste(&amp;quot;Ace&amp;quot;, suits)

facecard &amp;lt;- c(&amp;quot;King&amp;quot;, &amp;quot;Queen&amp;quot;, &amp;quot;Jack&amp;quot;, &amp;quot;Ten&amp;quot;)
facecard &amp;lt;- expand.grid(number = facecard, suit = suits)
facecard &amp;lt;- paste(facecard$number, facecard$suit)

hands &amp;lt;- combinations(52, 2, v = deck)
mean(hands[,1] %in% aces &amp;amp; hands[,2] %in% facecard)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.04826546&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the last line, we assume the Ace comes first. This is only because we know the way &lt;code&gt;combination&lt;/code&gt; enumerates possibilities and it will list this case first. But to be safe, we could have written this and produced the same answer:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean((hands[,1] %in% aces &amp;amp; hands[,2] %in% facecard) |
       (hands[,2] %in% aces &amp;amp; hands[,1] %in% facecard))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.04826546&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;monte-carlo-example&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Monte Carlo example&lt;/h3&gt;
&lt;p&gt;Instead of using &lt;code&gt;combinations&lt;/code&gt; to deduce the exact probability of a Natural 21, we can use a Monte Carlo to estimate this probability. In this case, we draw two cards over and over and keep track of how many 21s we get. We can use the function sample to draw two cards without replacements:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;hand &amp;lt;- sample(deck, 2)
hand&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Queen Clubs&amp;quot;  &amp;quot;Seven Spades&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then check if one card is an Ace and the other a face card or a 10. Going forward, we include 10 when we say &lt;em&gt;face card&lt;/em&gt;. Now we need to check both possibilities:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(hands[1] %in% aces &amp;amp; hands[2] %in% facecard) |
  (hands[2] %in% aces &amp;amp; hands[1] %in% facecard)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we repeat this 10,000 times, we get a very good approximation of the probability of a Natural 21.&lt;/p&gt;
&lt;p&gt;Let’s start by writing a function that draws a hand and returns TRUE if we get a 21. The function does not need any arguments because it uses objects defined in the global environment.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;blackjack &amp;lt;- function(){
   hand &amp;lt;- sample(deck, 2)
  (hand[1] %in% aces &amp;amp; hand[2] %in% facecard) |
    (hand[2] %in% aces &amp;amp; hand[1] %in% facecard)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we do have to check both possibilities: Ace first or Ace second because we are not using the &lt;code&gt;combinations&lt;/code&gt; function. The function returns &lt;code&gt;TRUE&lt;/code&gt; if we get a 21 and &lt;code&gt;FALSE&lt;/code&gt; otherwise:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;blackjack()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can play this game, say, 10,000 times:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10000
results &amp;lt;- replicate(B, blackjack())
mean(results)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0475&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;examples&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples&lt;/h2&gt;
&lt;p&gt;In this section, we describe two discrete probability popular examples: the Monty Hall problem and the birthday problem. We use R to help illustrate the mathematical concepts.&lt;/p&gt;
&lt;div id=&#34;monty-hall-problem&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Monty Hall problem&lt;/h3&gt;
&lt;p&gt;In the 1970s, there was a game show called “Let’s Make a Deal” and Monty Hall was the host. At some point in the game, contestants were asked to pick one of three doors. Behind one door there was a prize. The other doors had a goat behind them to show the contestant they had lost. After the contestant picked a door, before revealing whether the chosen door contained a prize, Monty Hall would open one of the two remaining doors and show the contestant there was no prize behind that door. Then he would ask “Do you want to switch doors?” What would you do?&lt;/p&gt;
&lt;p&gt;We can use probability to show that if you stick with the original door choice, your chances of winning a prize remain 1 in 3. However, if you switch to the other door, your chances of winning double to 2 in 3! This seems counterintuitive. Many people incorrectly think both chances are 1 in 2 since you are choosing between 2 options. You can watch a detailed mathematical explanation on Khan Academy&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; or read one on Wikipedia&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. Below we use a Monte Carlo simulation to see which strategy is better. Note that this code is written longer than it should be for pedagogical purposes.&lt;/p&gt;
&lt;p&gt;Let’s start with the stick strategy:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10000
monty_hall &amp;lt;- function(strategy){
  doors &amp;lt;- as.character(1:3)
  prize &amp;lt;- sample(c(&amp;quot;car&amp;quot;, &amp;quot;goat&amp;quot;, &amp;quot;goat&amp;quot;))
  prize_door &amp;lt;- doors[prize == &amp;quot;car&amp;quot;]
  my_pick  &amp;lt;- sample(doors, 1)
  show &amp;lt;- sample(doors[!doors %in% c(my_pick, prize_door)],1)
  stick &amp;lt;- my_pick
  stick == prize_door
  switch &amp;lt;- doors[!doors%in%c(my_pick, show)]
  choice &amp;lt;- ifelse(strategy == &amp;quot;stick&amp;quot;, stick, switch)
  choice == prize_door
}
stick &amp;lt;- replicate(B, monty_hall(&amp;quot;stick&amp;quot;))
mean(stick)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.3416&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;switch &amp;lt;- replicate(B, monty_hall(&amp;quot;switch&amp;quot;))
mean(switch)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.6682&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As we write the code, we note that the lines starting with &lt;code&gt;my_pick&lt;/code&gt; and &lt;code&gt;show&lt;/code&gt; have no influence on the last logical operation when we stick to our original choice anyway. From this we should realize that the chance is 1 in 3, what we began with. When we switch,
the Monte Carlo estimate confirms the 2/3 calculation. This helps us gain some insight by showing that we are removing a door, &lt;code&gt;show&lt;/code&gt;, that is definitely not a winner from our choices. We also see that unless we get it right when we first pick, you win: 1 - 1/3 = 2/3.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;birthday-problem&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Birthday problem&lt;/h3&gt;
&lt;p&gt;Suppose you are in a classroom with 50 people. If we assume this is a randomly selected group of 50 people, what is the chance that at least two people have the same birthday? Although it is somewhat advanced, we can deduce this mathematically. We will do this later. Here we use a Monte Carlo simulation. For simplicity, we assume nobody was born on February 29. This actually doesn’t change the answer much.&lt;/p&gt;
&lt;p&gt;First, note that birthdays can be represented as numbers between 1 and 365, so a sample of 50 birthdays can be obtained like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 50
bdays &amp;lt;- sample(1:365, n, replace = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To check if in this particular set of 50 people we have at least two with the same birthday, we can use the function &lt;code&gt;duplicated&lt;/code&gt;, which returns &lt;code&gt;TRUE&lt;/code&gt; whenever an element of a vector is a duplicate. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;duplicated(c(1,2,3,1,4,3,5))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The second time 1 and 3 appear, we get a &lt;code&gt;TRUE&lt;/code&gt;. So to check if two birthdays were the same, we simply use the &lt;code&gt;any&lt;/code&gt; and &lt;code&gt;duplicated&lt;/code&gt; functions like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;any(duplicated(bdays))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this case, we see that it did happen. At least two people had the same birthday.&lt;/p&gt;
&lt;p&gt;To estimate the probability of a shared birthday in the group, we repeat this experiment by sampling sets of 50 birthdays over and over:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10000
same_birthday &amp;lt;- function(n){
  bdays &amp;lt;- sample(1:365, n, replace=TRUE)
  any(duplicated(bdays))
}
results &amp;lt;- replicate(B, same_birthday(50))
mean(results)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9691&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Were you expecting the probability to be this high?&lt;/p&gt;
&lt;p&gt;People tend to underestimate these probabilities. To get an intuition as to why it is so high, think about what happens when the group size is close to 365. At this stage, we run out of days and the probability is one.&lt;/p&gt;
&lt;p&gt;Say we want to use this knowledge to bet with friends about two people having the same birthday in a group of people. When are the chances larger than 50%? Larger than 75%?&lt;/p&gt;
&lt;p&gt;Let’s create a look-up table. We can quickly create a function to compute this for any group size:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;compute_prob &amp;lt;- function(n, B=10000){
  results &amp;lt;- replicate(B, same_birthday(n))
  mean(results)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the function &lt;code&gt;sapply&lt;/code&gt;, we can perform element-wise operations on any function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- seq(1,60)
prob &amp;lt;- sapply(n, compute_prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now make a plot of the estimated probabilities of two people having the same birthday in a group of size &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
prob &amp;lt;- sapply(n, compute_prob)
qplot(n, prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/birthday-problem-mc-probabilities-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now let’s compute the exact probabilities rather than use Monte Carlo approximations. Not only do we get the exact answer using math, but the computations are much faster since we don’t have to generate experiments.&lt;/p&gt;
&lt;p&gt;To make the math simpler, instead of computing the probability of it happening, we will compute the probability of it not happening. For this, we use the multiplication rule.&lt;/p&gt;
&lt;p&gt;Let’s start with the first person. The probability that person 1 has a unique birthday is 1. The probability that person 2 has a unique birthday, given that person 1 already took one, is 364/365. Then, given that the first two people have unique birthdays, person 3 is left with 363 days to choose from. We continue this way and find the chances of all 50 people having a unique birthday is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
1 \times \frac{364}{365}\times\frac{363}{365} \dots \frac{365-n + 1}{365}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can write a function that does this for any number:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;exact_prob &amp;lt;- function(n){
  prob_unique &amp;lt;- seq(365,365-n+1)/365
  1 - prod( prob_unique)
}
eprob &amp;lt;- sapply(n, exact_prob)
qplot(n, prob) + geom_line(aes(n, eprob), col = &amp;quot;red&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/birthday-problem-exact-probabilities-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot shows that the Monte Carlo simulation provided a very good estimate of the exact probability. Had it not been possible to compute the exact probabilities, we would have still been able to accurately estimate the probabilities.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;infinity-in-practice&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Infinity in practice&lt;/h2&gt;
&lt;p&gt;The theory described here requires repeating experiments over and over forever. In practice we can’t do this.
In the examples above, we used &lt;span class=&#34;math inline&#34;&gt;\(B=10,000\)&lt;/span&gt; Monte Carlo experiments and it turned out that this provided accurate estimates. The larger this number, the more accurate the estimate becomes until the approximaton is so good that your computer can’t tell the difference. But in more complex calculations, 10,000 may not be nearly enough. Also, for some calculations, 10,000 experiments might not be computationally feasible. In practice, we won’t know what the answer is, so we won’t know if our Monte Carlo estimate is accurate. We know that the larger &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt;, the better the approximation. But how big do we need it to be? This is actually a challenging question and answering it often requires advanced theoretical statistics training.&lt;/p&gt;
&lt;p&gt;One practical approach we will describe here is to check for the stability of the estimate. The following is an example with the birthday problem for a group of 25 people.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10^seq(1, 5, len = 100)
compute_prob &amp;lt;- function(B, n=25){
  same_day &amp;lt;- replicate(B, same_birthday(n))
  mean(same_day)
}
prob &amp;lt;- sapply(B, compute_prob)
qplot(log10(B), prob, geom = &amp;quot;line&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/monte-carlo-convergence-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this plot, we can see that the values start to stabilize (that is, they vary less than .01) around 1000. Note that the exact probability, which we know in this case, is 0.5686997.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;One ball will be drawn at random from a box containing: 3 cyan balls, 5 magenta balls, and 7 yellow balls. What is the probability that the ball will be cyan?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is the probability that the ball will not be cyan?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Instead of taking just one draw, consider taking two draws. You take the second draw without returning the first draw to the box. We call this sampling &lt;strong&gt;without&lt;/strong&gt; replacement. What is the probability that the first draw is cyan and that the second draw is not cyan?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now repeat the experiment, but this time, after taking the first draw and recording the color, return it to the box and shake the box. We call this sampling &lt;strong&gt;with&lt;/strong&gt; replacement. What is the probability that the first draw is cyan and that the second draw is not cyan?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two events &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt; are independent if &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(A \mbox{ and } B) = \mbox{Pr}(A) P(B)\)&lt;/span&gt;. Under which situation are the draws independent?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;You don’t replace the draw.&lt;/li&gt;
&lt;li&gt;You replace the draw.&lt;/li&gt;
&lt;li&gt;Neither&lt;/li&gt;
&lt;li&gt;Both&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Say you’ve drawn 5 balls from the box, with replacement, and all have been yellow. What is the probability that the next one is yellow?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If you roll a 6-sided die six times, what is the probability of not seeing a 6?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two teams, say the Celtics and the Cavs, are playing a seven game series. The Cavs are a better team and have a 60% chance of winning each game. What is the probability that the Celtics win &lt;strong&gt;at least&lt;/strong&gt; one game?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a Monte Carlo simulation to confirm your answer to the previous problem. Use &lt;code&gt;B &amp;lt;- 10000&lt;/code&gt; simulations. Hint: use the following code to generate the results of the first four games:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;celtic_wins &amp;lt;- sample(c(0,1), 4, replace = TRUE, prob = c(0.6, 0.4))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The Celtics must win one of these 4 games.&lt;/p&gt;
&lt;ol start=&#34;10&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Two teams, say the Cavs and the Warriors, are playing a seven game championship series. The first to win four games, therefore, wins the series. The teams are equally good so they each have a 50-50 chance of winning each game. If the Cavs lose the first game, what is the probability that they win the series?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Confirm the results of the previous question with a Monte Carlo simulation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two teams, &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt;, are playing a seven game series. Team &lt;span class=&#34;math inline&#34;&gt;\(A\)&lt;/span&gt; is better than team &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt; and has a &lt;span class=&#34;math inline&#34;&gt;\(p&amp;gt;0.5\)&lt;/span&gt; chance of winning each game. Given a value &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;, the probability of winning the series for the underdog team &lt;span class=&#34;math inline&#34;&gt;\(B\)&lt;/span&gt; can be computed with the following function based on a Monte Carlo simulation:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prob_win &amp;lt;- function(p){
  B &amp;lt;- 10000
  result &amp;lt;- replicate(B, {
    b_win &amp;lt;- sample(c(1,0), 7, replace = TRUE, prob = c(1-p, p))
    sum(b_win)&amp;gt;=4
  })
  mean(result)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use the function &lt;code&gt;sapply&lt;/code&gt; to compute the probability, call it &lt;code&gt;Pr&lt;/code&gt;, of winning for &lt;code&gt;p &amp;lt;- seq(0.5, 0.95, 0.025)&lt;/code&gt;. Then plot the result.&lt;/p&gt;
&lt;ol start=&#34;13&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Repeat the exercise above, but now keep the probability fixed at &lt;code&gt;p &amp;lt;- 0.75&lt;/code&gt; and compute the probability for different series lengths: best of 1 game, 3 games, 5 games,… Specifically, &lt;code&gt;N &amp;lt;- seq(1, 25, 2)&lt;/code&gt;. Hint: use this function:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prob_win &amp;lt;- function(N, p=0.75){
  B &amp;lt;- 10000
  result &amp;lt;- replicate(B, {
    b_win &amp;lt;- sample(c(1,0), N, replace = TRUE, prob = c(1-p, p))
    sum(b_win)&amp;gt;=(N+1)/2
  })
  mean(result)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;In previous lectures, we explained why when summarizing a list of numeric values, such as heights, it is not useful to construct a distribution that defines a proportion to each possible outcome. For example, if we measure every single person in a very large population of size &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; with extremely high precision, since no two people are exactly the same height, we need to assign the proportion &lt;span class=&#34;math inline&#34;&gt;\(1/n\)&lt;/span&gt; to each observed value and attain no useful summary at all. Similarly, when defining probability distributions, it is not useful to assign a very small probability to every single height.&lt;/p&gt;
&lt;p&gt;Just as when using distributions to summarize numeric data, it is much more practical to define a function that operates on intervals rather than single values. The standard way of doing this is using the &lt;em&gt;cumulative distribution function&lt;/em&gt; (CDF).&lt;/p&gt;
&lt;p&gt;We described empirical cumulative distribution function (eCDF) as a basic summary of a list of numeric values. As an example, we earlier defined the height distribution for adult male students. Here, we define the vector &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; to contain these heights:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
data(heights)
x &amp;lt;- heights %&amp;gt;% filter(sex==&amp;quot;Male&amp;quot;) %&amp;gt;% pull(height)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We defined the empirical distribution function as:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;F &amp;lt;- function(a) mean(x&amp;lt;=a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which, for any value &lt;code&gt;a&lt;/code&gt;, gives the proportion of values in the list &lt;code&gt;x&lt;/code&gt; that are smaller or equal than &lt;code&gt;a&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Keep in mind that we have not yet introduced probability in the context of CDFs. Let’s do this by asking the following: if I pick one of the male students at random, what is the chance that he is taller than 70.5 inches? Because every student has the same chance of being picked, the answer to this is equivalent to the proportion of students that are taller than 70.5 inches. Using the CDF we obtain an answer by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1 - F(70)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.3768473&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once a CDF is defined, we can use this to compute the probability of any subset. For instance, the probability of a student being between height &lt;code&gt;a&lt;/code&gt; and height &lt;code&gt;b&lt;/code&gt; is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;F(b)-F(a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because we can compute the probability for any possible event this way, the cumulative probability function defines the probability distribution for picking a height at random from our vector of heights &lt;code&gt;x&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;theoretical-continuous-distributions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Theoretical continuous distributions&lt;/h2&gt;
&lt;p&gt;The normal distribution is a useful approximation to many naturally occurring distributions, including that of height. The cumulative distribution for the normal distribution is defined by a mathematical formula which in &lt;code&gt;R&lt;/code&gt; can be obtained with the function &lt;code&gt;pnorm&lt;/code&gt;. We say that a random quantity is normally distributed with average &lt;code&gt;m&lt;/code&gt; and standard deviation &lt;code&gt;s&lt;/code&gt; if its probability distribution is defined by:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;F(a) = pnorm(a, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is useful because if we are willing to use the normal approximation for, say, height, we don’t need the entire dataset to answer questions such as: what is the probability that a randomly selected student is taller then 70 inches? We just need the average height and standard deviation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m &amp;lt;- mean(x)
s &amp;lt;- sd(x)
1 - pnorm(70.5, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.371369&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;theoretical-distributions-as-approximations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Theoretical distributions as approximations&lt;/h3&gt;
&lt;p&gt;The normal distribution is derived mathematically: we do not need data to define it. For practicing data scientists, almost everything we do involves data. Data is always, technically speaking, discrete. For example, we could consider our height data categorical with each specific height a unique category. The probability distribution is defined by the proportion of students reporting each height. Here is a plot of that probability distribution:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/plot-of-height-frequencies-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;While most students rounded up their heights to the nearest inch, others reported values with more precision. One student reported his height to be 69.6850393700787, which is 177 centimeters. The probability assigned to this height is 0.0012315 or 1 in 812. The probability for 70 inches is much higher at 0.1059113, but does it really make sense to think of the probability of being exactly 70 inches as being different than 69.6850393700787? Clearly it is much more useful for data analytic purposes to treat this outcome as a continuous numeric variable, keeping in mind that very few people, or perhaps none, are exactly 70 inches, and that the reason we get more values at 70 is because people round to the nearest inch.&lt;/p&gt;
&lt;p&gt;With continuous distributions, the probability of a singular value is not even defined. For example, it does not make sense to ask what is the probability that a normally distributed value is 70. Instead, we define probabilities for intervals. We thus could ask what is the probability that someone is between 69.5 and 70.5.&lt;/p&gt;
&lt;p&gt;In cases like height, in which the data is rounded, the normal approximation is particularly useful if we deal with intervals that include exactly one round number. For example, the normal distribution is useful for approximating the proportion of students reporting values in intervals like the following three:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(x &amp;lt;= 68.5) - mean(x &amp;lt;= 67.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.114532&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(x &amp;lt;= 69.5) - mean(x &amp;lt;= 68.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1194581&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(x &amp;lt;= 70.5) - mean(x &amp;lt;= 69.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1219212&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note how close we get with the normal approximation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pnorm(68.5, m, s) - pnorm(67.5, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1031077&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pnorm(69.5, m, s) - pnorm(68.5, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1097121&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pnorm(70.5, m, s) - pnorm(69.5, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1081743&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, the approximation is not as useful for other intervals. For instance, notice how the approximation breaks down when we try to estimate:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(x &amp;lt;= 70.9) - mean(x&amp;lt;=70.1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.02216749&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pnorm(70.9, m, s) - pnorm(70.1, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.08359562&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In general, we call this situation &lt;em&gt;discretization&lt;/em&gt;. Although the true height distribution is continuous, the reported heights tend to be more common at discrete values, in this case, due to rounding. As long as we are aware of how to deal with this reality, the normal approximation can still be a very useful tool.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-probability-density&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The probability density&lt;/h3&gt;
&lt;p&gt;For categorical distributions, we can define the probability of a category. For example, a roll of a die, let’s call it &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, can be 1,2,3,4,5 or 6. The probability of 4 is defined as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(X=4) = 1/6
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The CDF can then easily be defined:
&lt;span class=&#34;math display&#34;&gt;\[
F(4) = \mbox{Pr}(X\leq 4) =  \mbox{Pr}(X = 4) +  \mbox{Pr}(X = 3) +  \mbox{Pr}(X = 2) +  \mbox{Pr}(X = 1)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Although for continuous distributions the probability of a single value &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(X=x)\)&lt;/span&gt; is not defined, there is a theoretical definition that has a similar interpretation. The probability density at &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is defined as the function &lt;span class=&#34;math inline&#34;&gt;\(f(a)\)&lt;/span&gt; such that:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
F(a) = \mbox{Pr}(X\leq a) = \int_{-\infty}^a f(x)\, dx
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For those that know calculus, remember that the integral is related to a sum: it is the sum of bars with widths approximating 0. If you don’t know calculus, you can think of &lt;span class=&#34;math inline&#34;&gt;\(f(x)\)&lt;/span&gt; as a curve for which the area under that curve up to the value &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;, gives you the probability &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(X\leq a)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;For example, to use the normal approximation to estimate the probability of someone being taller than 76 inches, we use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1 - pnorm(76, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.03206008&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which mathematically is the grey area below:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/intergrals-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The curve you see is the probability density for the normal distribution. In R, we get this using the function &lt;code&gt;dnorm&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Although it may not be immediately obvious why knowing about probability densities is useful, understanding this concept will be essential to those wanting to fit models to data for which predefined functions are not available.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;monte-carlo-simulations-for-continuous-variables&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Monte Carlo simulations for continuous variables&lt;/h2&gt;
&lt;p&gt;R provides functions to generate normally distributed outcomes. Specifically, the &lt;code&gt;rnorm&lt;/code&gt; function takes three arguments: size, average (defaults to 0), and standard deviation (defaults to 1) and produces random numbers. Here is an example of how we could generate data that looks like our reported heights:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- length(x)
m &amp;lt;- mean(x)
s &amp;lt;- sd(x)
simulated_heights &amp;lt;- rnorm(n, m, s)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Not surprisingly, the distribution looks normal:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/simulated-heights-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is one of the most useful functions in R as it will permit us to generate data that mimics natural events and answers questions related to what could happen by chance by running Monte Carlo simulations.&lt;/p&gt;
&lt;p&gt;If, for example, we pick 800 males at random, what is the distribution of the tallest person? How rare is a seven footer in a group of 800 males? The following Monte Carlo simulation helps us answer that question:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10000
tallest &amp;lt;- replicate(B, {
  simulated_data &amp;lt;- rnorm(800, m, s)
  max(simulated_data)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Having a seven footer is quite rare:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(tallest &amp;gt;= 7*12)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0172&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is the resulting distribution:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/simulated-tallest-height-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note that it does not look normal.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;continuous-distributions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Continuous distributions&lt;/h2&gt;
&lt;p&gt;The normal distribution is not the only useful theoretical distribution. Other continuous distributions that we may encounter are the student-t, Chi-square, exponential, gamma, beta, and beta-binomial. &lt;code&gt;R&lt;/code&gt; provides functions to compute the density, the quantiles, the cumulative distribution functions and to generate Monte Carlo simulations. &lt;code&gt;R&lt;/code&gt; uses a convention that lets us remember the names, namely using the letters &lt;code&gt;d&lt;/code&gt;, &lt;code&gt;q&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;, and &lt;code&gt;r&lt;/code&gt; in front of a shorthand for the distribution. We have already seen the functions &lt;code&gt;dnorm&lt;/code&gt;, &lt;code&gt;pnorm&lt;/code&gt;, and &lt;code&gt;rnorm&lt;/code&gt; for the normal distribution. The functions &lt;code&gt;qnorm&lt;/code&gt; gives us the quantiles. We can therefore draw a distribution like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- seq(-4, 4, length.out = 100)
qplot(x, f, geom = &amp;quot;line&amp;quot;, data = data.frame(x, f = dnorm(x)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the student-t, described later as we move toward hypothesis testing, the shorthand &lt;code&gt;t&lt;/code&gt; is used so the functions are &lt;code&gt;dt&lt;/code&gt; for the density, &lt;code&gt;qt&lt;/code&gt; for the quantiles, &lt;code&gt;pt&lt;/code&gt; for the cumulative distribution function, and &lt;code&gt;rt&lt;/code&gt; for Monte Carlo simulation.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is 5 feet or shorter?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is 6 feet or taller?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is between 61 and 67 inches?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat the exercise above, but convert everything to centimeters. That is, multiply every height, including the standard deviation, by 2.54. What is the answer now?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Notice that the answer to the question does not change when you change units. This makes sense since the answer to the question should not be affected by what units we use. In fact, if you look closely, you notice that 61 and 64 are both 1 SD away from the average. Compute the probability that a randomly picked, normally distributed random variable is within 1 SD from the average.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To see the math that explains why the answers to questions 3, 4, and 5 are the same, suppose we have a random variable with average &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt; and standard error &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;. Suppose we ask the probability of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; being smaller or equal to &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;. Remember that, by definition, &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; is &lt;span class=&#34;math inline&#34;&gt;\((a - m)/s\)&lt;/span&gt; standard deviations &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt; away from the average &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt;. The probability is:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}(X \leq a)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now we subtract &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; to both sides and then divide both sides by &lt;span class=&#34;math inline&#34;&gt;\(\sigma\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}\left(\frac{X-m}{s} \leq \frac{a-m}{s} \right)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The quantity on the left is a standard normal random variable. It has an average of 0 and a standard error of 1. We will call it &lt;span class=&#34;math inline&#34;&gt;\(Z\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{Pr}\left(Z \leq \frac{a-m}{s} \right)
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, no matter the units, the probability of &lt;span class=&#34;math inline&#34;&gt;\(X\leq a\)&lt;/span&gt; is the same as the probability of a standard normal variable being less than &lt;span class=&#34;math inline&#34;&gt;\((a - m)/s\)&lt;/span&gt;. If &lt;code&gt;mu&lt;/code&gt; is the average and &lt;code&gt;sigma&lt;/code&gt; the standard error, which of the following R code would give us the right answer in every situation:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;mean(X&amp;lt;=a)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pnorm((a - m)/s)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pnorm((a - m)/s, m, s)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pnorm(a)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;7&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Imagine the distribution of male adults is approximately normal with an expected value of 69 and a standard deviation of 3. How tall is the male in the 99th percentile? Hint: use &lt;code&gt;qnorm&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The distribution of IQ scores is approximately normally distributed. The average is 100 and the standard deviation is 15. Suppose you want to know the distribution of the highest IQ across all graduating classes if 10,000 people are born each in your school district. Run a Monte Carlo simulation with &lt;code&gt;B=1000&lt;/code&gt; generating 10,000 IQ scores and keeping the highest. Make a histogram.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;random-variables&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Random variables&lt;/h1&gt;
&lt;p&gt;In data science, we often deal with data that is affected by chance in some way: the data comes from a random sample, the data is affected by measurement error, or the data measures some outcome that is random in nature. Being able to quantify the uncertainty introduced by randomness is one of the most important jobs of a data analyst. Statistical inference offers a framework, as well as several practical tools, for doing this. The first step is to learn how to mathematically describe random variables.&lt;/p&gt;
&lt;p&gt;In this section, we introduce random variables and their properties starting with their application to games of chance. We then describe some of the events surrounding the financial crisis of 2007-2008&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt; using probability theory. This financial crisis was in part caused by underestimating the risk of certain securities&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt; sold by financial institutions. Specifically, the risks of mortgage-backed securities (MBS) and collateralized debt obligations (CDO) were grossly underestimated. These assets were sold at prices that assumed most homeowners would make their monthly payments, and the probability of this not occurring was calculated as being low. A combination of factors resulted in many more defaults than were expected, which led to a price crash of these securities. As a consequence, banks lost so much money that they needed government bailouts to avoid closing down completely.&lt;/p&gt;
&lt;div id=&#34;definition-of-random-variables&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Definition of Random variables&lt;/h2&gt;
&lt;p&gt;Random variables are numeric outcomes resulting from random processes. We can easily generate random variables using some of the simple examples we have shown. For example, define &lt;code&gt;X&lt;/code&gt; to be 1 if a bead is blue and red otherwise:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;beads &amp;lt;- rep( c(&amp;quot;red&amp;quot;, &amp;quot;blue&amp;quot;), times = c(2,3))
X &amp;lt;- ifelse(sample(beads, 1) == &amp;quot;blue&amp;quot;, 1, 0)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here &lt;code&gt;X&lt;/code&gt; is a random variable: every time we select a new bead the outcome changes randomly. See below:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ifelse(sample(beads, 1) == &amp;quot;blue&amp;quot;, 1, 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ifelse(sample(beads, 1) == &amp;quot;blue&amp;quot;, 1, 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ifelse(sample(beads, 1) == &amp;quot;blue&amp;quot;, 1, 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sometimes it’s 1 and sometimes it’s 0.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;sampling-models&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Sampling models&lt;/h2&gt;
&lt;p&gt;Many data generation procedures, those that produce the data we study, can be modeled quite well as draws from an urn. For instance, we can model the process of polling likely voters as drawing 0s (Republicans) and 1s (Democrats) from an urn containing the 0 and 1 code for all likely voters. In epidemiological studies, we often assume that the subjects in our study are a random sample from the population of interest. The data related to a specific outcome can be modeled as a random sample from an urn containing the outcome for the entire population of interest. Similarly, in experimental research, we often assume that the individual organisms we are studying, for example worms, flies, or mice, are a random sample from a larger population. Randomized experiments can also be modeled by draws from an urn given the way individuals are assigned into groups: when getting assigned, you draw your group at random. Sampling models are therefore ubiquitous in data science. Casino games offer a plethora of examples of real-world situations in which sampling models are used to answer specific questions. We will therefore start with such examples.&lt;/p&gt;
&lt;p&gt;Suppose a very small casino hires you to consult on whether they should set up roulette wheels. To keep the example simple, we will assume that 1,000 people will play and that the only game you can play on the roulette wheel is to bet on red or black. The casino wants you to predict how much money they will make or lose. They want a range of values and, in particular, they want to know what’s the chance of losing money. If this probability is too high, they will pass on installing roulette wheels.&lt;/p&gt;
&lt;p&gt;We are going to define a random variable &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; that will represent the casino’s total winnings. Let’s start by constructing the urn. A roulette wheel has 18 red pockets, 18 black pockets and 2 green ones. So playing a color in one game of roulette is equivalent to drawing from this urn:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;color &amp;lt;- rep(c(&amp;quot;Black&amp;quot;, &amp;quot;Red&amp;quot;, &amp;quot;Green&amp;quot;), c(18, 18, 2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The 1,000 outcomes from 1,000 people playing are independent draws from this urn. If red comes up, the gambler wins and the casino loses a dollar, so we draw a -1. Otherwise, the casino wins a dollar and we draw a 1. To construct our random variable &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt;, we can use this code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
X &amp;lt;- sample(ifelse(color == &amp;quot;Red&amp;quot;, -1, 1),  n, replace = TRUE)
X[1:10]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] -1  1  1 -1 -1 -1  1  1  1  1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because we know the proportions of 1s and -1s, we can generate the draws with one line of code, without defining &lt;code&gt;color&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;X &amp;lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We call this a &lt;strong&gt;sampling model&lt;/strong&gt; since we are modeling the random behavior of roulette with the sampling of draws from an urn. The total winnings &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; is simply the sum of these 1,000 independent draws:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;X &amp;lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
S &amp;lt;- sum(X)
S&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 22&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;the-probability-distribution-of-a-random-variable&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The probability distribution of a random variable&lt;/h2&gt;
&lt;p&gt;If you run the code above, you see that &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; changes every time. This is, of course, because &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; is a &lt;strong&gt;random variable&lt;/strong&gt;. The probability distribution of a random variable tells us the probability of the observed value falling at any given interval. So, for example, if we want to know the probability that we lose money, we are asking the probability that &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; is in the interval &lt;span class=&#34;math inline&#34;&gt;\(S&amp;lt;0\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Note that if we can define a cumulative distribution function &lt;span class=&#34;math inline&#34;&gt;\(F(a) = \mbox{Pr}(S\leq a)\)&lt;/span&gt;, then we will be able to answer any question related to the probability of events defined by our random variable &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt;, including the event &lt;span class=&#34;math inline&#34;&gt;\(S&amp;lt;0\)&lt;/span&gt;. We call this &lt;span class=&#34;math inline&#34;&gt;\(F\)&lt;/span&gt; the random variable’s &lt;em&gt;distribution function&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We can estimate the distribution function for the random variable &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; by using a Monte Carlo simulation to generate many realizations of the random variable. With this code, we run the experiment of having 1,000 people play roulette, over and over, specifically &lt;span class=&#34;math inline&#34;&gt;\(B = 10,000\)&lt;/span&gt; times:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
B &amp;lt;- 10000
roulette_winnings &amp;lt;- function(n){
  X &amp;lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
  sum(X)
}
S &amp;lt;- replicate(B, roulette_winnings(n))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can ask the following: in our simulations, how often did we get sums less than or equal to &lt;code&gt;a&lt;/code&gt;?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(S &amp;lt;= a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will be a very good approximation of &lt;span class=&#34;math inline&#34;&gt;\(F(a)\)&lt;/span&gt; and we can easily answer the casino’s question: how likely is it that we will lose money? We can see it is quite low:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(S&amp;lt;0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0456&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can visualize the distribution of &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; by creating a histogram showing the probability &lt;span class=&#34;math inline&#34;&gt;\(F(b)-F(a)\)&lt;/span&gt; for several intervals &lt;span class=&#34;math inline&#34;&gt;\((a,b]\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/04-content_files/figure-html/normal-approximates-distribution-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that the distribution appears to be approximately normal. A qq-plot will confirm that the normal approximation is close to a perfect approximation for this distribution. If, in fact, the distribution is normal, then all we need to define the distribution is the average and the standard deviation. Because we have the original values from which the distribution is created, we can easily compute these with &lt;code&gt;mean(S)&lt;/code&gt; and &lt;code&gt;sd(S)&lt;/code&gt;. The blue curve you see added to the histogram above is a normal density with this average and standard deviation.&lt;/p&gt;
&lt;p&gt;This average and this standard deviation have special names. They are referred to as the &lt;em&gt;expected value&lt;/em&gt; and &lt;em&gt;standard error&lt;/em&gt; of the random variable &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt;. We will say more about these in the next section.&lt;/p&gt;
&lt;p&gt;Statistical theory provides a way to derive the distribution of random variables defined as independent random draws from an urn. Specifically, in our example above, we can show that &lt;span class=&#34;math inline&#34;&gt;\((S+n)/2\)&lt;/span&gt; follows a binomial distribution. We therefore do not need to run for Monte Carlo simulations to know the probability distribution of &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt;. We did this for illustrative purposes.&lt;/p&gt;
&lt;p&gt;We can use the function &lt;code&gt;dbinom&lt;/code&gt; and &lt;code&gt;pbinom&lt;/code&gt; to compute the probabilities exactly. For example, to compute &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(S &amp;lt; 0)\)&lt;/span&gt; we note that:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mbox{Pr}(S &amp;lt; 0) = \mbox{Pr}((S+n)/2 &amp;lt; (0+n)/2)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and we can use the &lt;code&gt;pbinom&lt;/code&gt; to compute &lt;span class=&#34;math display&#34;&gt;\[\mbox{Pr}(S \leq 0)\]&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
pbinom(n/2, size = n, prob = 10/19)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.05109794&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because this is a discrete probability function, to get &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(S &amp;lt; 0)\)&lt;/span&gt; rather than &lt;span class=&#34;math inline&#34;&gt;\(\mbox{Pr}(S \leq 0)\)&lt;/span&gt;, we write:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pbinom(n/2-1, size = n, prob = 10/19)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.04479591&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the details of the binomial distribution, you can consult any basic probability book or even Wikipedia&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here we do not cover these details. Instead, we will discuss an incredibly useful approximation provided by mathematical theory that applies generally to sums and averages of draws from any urn: the Central Limit Theorem (CLT).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;distributions-versus-probability-distributions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Distributions versus probability distributions&lt;/h2&gt;
&lt;p&gt;Before we continue, let’s make an important distinction and connection between the distribution of a list of numbers and a probability distribution. In the visualization lectures, we described how any list of numbers &lt;span class=&#34;math inline&#34;&gt;\(x_1,\dots,x_n\)&lt;/span&gt; has a distribution. The definition is quite straightforward. We define &lt;span class=&#34;math inline&#34;&gt;\(F(a)\)&lt;/span&gt; as the function that tells us what proportion of the list is less than or equal to &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;. Because they are useful summaries when the distribution is approximately normal, we define the average and standard deviation. These are defined with a straightforward operation of the vector containing the list of numbers &lt;code&gt;x&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m &amp;lt;- sum(x)/length(x)
s &amp;lt;- sqrt(sum((x - m)^2) / length(x))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A random variable &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; has a distribution function. To define this, we do not need a list of numbers. It is a theoretical concept. In this case, we define the distribution as the &lt;span class=&#34;math inline&#34;&gt;\(F(a)\)&lt;/span&gt; that answers the question: what is the probability that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is less than or equal to &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;? There is no list of numbers.&lt;/p&gt;
&lt;p&gt;However, if &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is defined by drawing from an urn with numbers in it, then there is a list: the list of numbers inside the urn. In this case, the distribution of that list is the probability distribution of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; and the average and standard deviation of that list are the expected value and standard error of the random variable.&lt;/p&gt;
&lt;p&gt;Another way to think about it that does not involve an urn is to run a Monte Carlo simulation and generate a very large list of outcomes of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. These outcomes are a list of numbers. The distribution of this list will be a very good approximation of the probability distribution of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. The longer the list, the better the approximation. The average and standard deviation of this list will approximate the expected value and standard error of the random variable.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;notation-for-random-variables&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Notation for random variables&lt;/h2&gt;
&lt;p&gt;In statistical textbooks, upper case letters are used to denote random variables and we follow this convention here. Lower case letters are used for observed values. You will see some notation that includes both. For example, you will see events defined as &lt;span class=&#34;math inline&#34;&gt;\(X \leq x\)&lt;/span&gt;. Here &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is a random variable, making it a random event, and &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is an arbitrary value and not random. So, for example, &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; might represent the number on a die roll and &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; will represent an actual value we see 1, 2, 3, 4, 5, or 6. So in this case, the probability of &lt;span class=&#34;math inline&#34;&gt;\(X=x\)&lt;/span&gt; is 1/6 regardless of the observed value &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. This notation is a bit strange because, when we ask questions about probability, &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is not an observed quantity. Instead, it’s a random quantity that we will see in the future. We can talk about what we expect it to be, what values are probable, but not what it is. But once we have data, we do see a realization of &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. So data scientists talk of what could have been after we see what actually happened.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-expected-value-and-standard-error&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The expected value and standard error&lt;/h2&gt;
&lt;p&gt;We have described sampling models for draws. We will now go over the mathematical theory that lets us approximate the probability distributions for the sum of draws. Once we do this, we will be able to help the casino predict how much money they will make. The same approach we use for the sum of draws will be useful for describing the distribution of averages and proportion which we will need to understand how polls work.&lt;/p&gt;
&lt;p&gt;The first important concept to learn is the &lt;em&gt;expected value&lt;/em&gt;.
In statistics books, it is common to use letter &lt;span class=&#34;math inline&#34;&gt;\(\mbox{E}\)&lt;/span&gt; like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mbox{E}[X]\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;to denote the expected value of the random variable &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;A random variable will vary around its expected value in a way that if you take the average of many, many draws, the average of the draws will approximate the expected value, getting closer and closer the more draws you take.&lt;/p&gt;
&lt;p&gt;Theoretical statistics provides techniques that facilitate the calculation of expected values in different circumstances. For example, a useful formula tells us that the &lt;em&gt;expected value of a random variable defined by one draw is the average of the numbers in the urn&lt;/em&gt;. In the urn used to model betting on red in roulette, we have 20 one dollars and 18 negative one dollars. The expected value is thus:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[X] = (20 + -18)/38
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which is about 5 cents. It is a bit counterintuitive to say that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; varies around 0.05, when the only values it takes is 1 and -1. One way to make sense of the expected value in this context is by realizing that if we play the game over and over, the casino wins, on average, 5 cents per game. A Monte Carlo simulation confirms this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;B &amp;lt;- 10^6
x &amp;lt;- sample(c(-1,1), B, replace = TRUE, prob=c(9/19, 10/19))
mean(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.05169&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In general, if the urn has two possible outcomes, say &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;, with proportions &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(1-p\)&lt;/span&gt; respectively, the average is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mbox{E}[X] = ap + b(1-p)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To see this, notice that if there are &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; beads in the urn, then we have &lt;span class=&#34;math inline&#34;&gt;\(np\)&lt;/span&gt; &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;s and &lt;span class=&#34;math inline&#34;&gt;\(n(1-p)\)&lt;/span&gt; &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;s and because the average is the sum, &lt;span class=&#34;math inline&#34;&gt;\(n\times a \times p + n\times b \times (1-p)\)&lt;/span&gt;, divided by the total &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;, we get that the average is &lt;span class=&#34;math inline&#34;&gt;\(ap + b(1-p)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Now the reason we define the expected value is because this mathematical definition turns out to be useful for approximating the probability distributions of sum, which then is useful for describing the distribution of averages and proportions. The first useful fact is that the &lt;em&gt;expected value of the sum of the draws&lt;/em&gt; is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{}\mbox{number of draws } \times \mbox{ average of the numbers in the urn}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So if 1,000 people play roulette, the casino expects to win, on average, about 1,000 &lt;span class=&#34;math inline&#34;&gt;\(\times\)&lt;/span&gt; $0.05 = $50. But this is an expected value. How different can one observation be from the expected value? The casino really needs to know this. What is the range of possibilities? If negative numbers are too likely, they will not install roulette wheels. Statistical theory once again answers this question. The &lt;em&gt;standard error&lt;/em&gt; (SE) gives us an idea of the size of the variation around the expected value. In statistics books, it’s common to use:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mbox{SE}[X]\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;to denote the standard error of a random variable.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If our draws are independent&lt;/strong&gt;, then the &lt;em&gt;standard error of the sum&lt;/em&gt; is given by the equation:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\sqrt{\mbox{number of draws }} \times \mbox{ standard deviation of the numbers in the urn}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Using the definition of standard deviation, we can derive, with a bit of math, that if an urn contains two values &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt; with proportions &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\((1-p)\)&lt;/span&gt;, respectively, the standard deviation is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mid b - a \mid \sqrt{p(1-p)}.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So in our roulette example, the standard deviation of the values inside the urn is: &lt;span class=&#34;math inline&#34;&gt;\(\mid 1 - (-1) \mid \sqrt{10/19 \times 9/19}\)&lt;/span&gt; or:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;2 * sqrt(90)/19&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.998614&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The standard error tells us the typical difference between a random variable and its expectation. Since one draw is obviously the sum of just one draw, we can use the formula above to calculate that the random variable defined by one draw has an expected value of 0.05 and a standard error of about 1. This makes sense since we either get 1 or -1, with 1 slightly favored over -1.&lt;/p&gt;
&lt;p&gt;Using the formula above, the sum of 1,000 people playing has standard error of about $32:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
sqrt(n) * 2 * sqrt(90)/19&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 31.57895&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As a result, when 1,000 people bet on red, the casino is expected to win $50 with a standard error of $32. It therefore seems like a safe bet. But we still haven’t answered the question: how likely is it to lose money? Here the CLT will help.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Advanced note&lt;/strong&gt;: Before continuing we should point out that exact probability calculations for the casino winnings can be performed with the binomial distribution. However, here we focus on the CLT, which can be generally applied to sums of random variables in a way that the binomial distribution can’t.&lt;/p&gt;
&lt;div id=&#34;population-sd-versus-the-sample-sd&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Population SD versus the sample SD&lt;/h3&gt;
&lt;p&gt;The standard deviation of a list &lt;code&gt;x&lt;/code&gt; (below we use heights as an example) is defined as the square root of the average of the squared differences:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
x &amp;lt;- heights$height
m &amp;lt;- mean(x)
s &amp;lt;- sqrt(mean((x-m)^2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using mathematical notation we write:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu = \frac{1}{n} \sum_{i=1}^n x_i \\
\sigma =  \sqrt{\frac{1}{n} \sum_{i=1}^n (x_i - \mu)^2}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, be aware that the &lt;code&gt;sd&lt;/code&gt; function returns a slightly different result:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;identical(s, sd(x))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s-sd(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -0.001942661&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is because the &lt;code&gt;sd&lt;/code&gt; function R does not return the &lt;code&gt;sd&lt;/code&gt; of the list, but rather uses a formula that estimates standard deviations of a population from a random sample &lt;span class=&#34;math inline&#34;&gt;\(X_1, \dots, X_N\)&lt;/span&gt; which, for reasons not discussed here, divide the sum of squares by the &lt;span class=&#34;math inline&#34;&gt;\(N-1\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\bar{X} = \frac{1}{N} \sum_{i=1}^N X_i, \,\,\,\,
s =  \sqrt{\frac{1}{N-1} \sum_{i=1}^N (X_i - \bar{X})^2}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can see that this is the case by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- length(x)
s-sd(x)*sqrt((n-1) / n)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For all the theory discussed here, you need to compute the actual standard deviation as defined:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sqrt(mean((x-m)^2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So be careful when using the &lt;code&gt;sd&lt;/code&gt; function in R. However, keep in mind that throughout the book we sometimes use the &lt;code&gt;sd&lt;/code&gt; function when we really want the actual SD. This is because when the list size is big, these two are practically equivalent since &lt;span class=&#34;math inline&#34;&gt;\(\sqrt{(N-1)/N} \approx 1\)&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;central-limit-theorem&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Central Limit Theorem&lt;/h2&gt;
&lt;p&gt;The Central Limit Theorem (CLT) tells us that when the number of draws, also called the &lt;em&gt;sample size&lt;/em&gt;, is large, the probability distribution of the sum of the independent draws is approximately normal. Because sampling models are used for so many data generation processes, the CLT is considered one of the most important mathematical insights in history.&lt;/p&gt;
&lt;p&gt;Previously, we discussed that if we know that the distribution of a list of numbers is approximated by the normal distribution, all we need to describe the list are the average and standard deviation. We also know that the same applies to probability distributions. If a random variable has a probability distribution that is approximated with the normal distribution, then all we need to describe the probability distribution are the average and standard deviation, referred to as the expected value and standard error.&lt;/p&gt;
&lt;p&gt;We previously ran this Monte Carlo simulation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
B &amp;lt;- 10000
roulette_winnings &amp;lt;- function(n){
  X &amp;lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
  sum(X)
}
S &amp;lt;- replicate(B, roulette_winnings(n))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The Central Limit Theorem (CLT) tells us that the sum &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; is approximated by a normal distribution.
Using the formulas above, we know that the expected value and standard error are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n * (20-18)/38&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 52.63158&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sqrt(n) * 2 * sqrt(90)/19&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 31.57895&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The theoretical values above match those obtained with the Monte Carlo simulation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(S)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 52.2242&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(S)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 31.65508&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the CLT, we can skip the Monte Carlo simulation and instead compute the probability of the casino losing money using this approximation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mu &amp;lt;- n * (20-18)/38
se &amp;lt;-  sqrt(n) * 2 * sqrt(90)/19
pnorm(0, mu, se)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.04779035&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which is also in very good agreement with our Monte Carlo result:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(S &amp;lt; 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0458&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;how-large-is-large-in-the-central-limit-theorem&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;How large is large in the Central Limit Theorem?&lt;/h3&gt;
&lt;p&gt;The CLT works when the number of draws is large. But large is a relative term. In many circumstances as few as 30 draws is enough to make the CLT useful. In some specific instances, as few as 10 is enough. However, these should not be considered general rules. Note, for example, that when the probability of success is very small, we need much larger sample sizes.&lt;/p&gt;
&lt;p&gt;By way of illustration, let’s consider the lottery. In the lottery, the chances of winning are less than 1 in a million. Thousands of people play so the number of draws is very large. Yet the number of winners, the sum of the draws, range between 0 and 4. This sum is certainly not well approximated by a normal distribution, so the CLT does not apply, even with the very large sample size. This is generally true when the probability of a success is very low. In these cases, the Poisson distribution is more appropriate.&lt;/p&gt;
&lt;p&gt;You can examine the properties of the Poisson distribution using &lt;code&gt;dpois&lt;/code&gt; and &lt;code&gt;ppois&lt;/code&gt;. You can generate random variables following this distribution with &lt;code&gt;rpois&lt;/code&gt;. However, we do not cover the theory here. You can learn about the Poisson distribution in any probability textbook and even Wikipedia&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;statistical-properties-of-averages&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Statistical properties of averages&lt;/h2&gt;
&lt;p&gt;There are several useful mathematical results that we used above and often employ when working with data. We list them below.&lt;/p&gt;
&lt;p&gt;1. The expected value of the sum of random variables is the sum of each random variable’s expected value. We can write it like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[X_1+X_2+\dots+X_n] =  \mbox{E}[X_1] + \mbox{E}[X_2]+\dots+\mbox{E}[X_n]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If the &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; are independent draws from the urn, then they all have the same expected value. Let’s call it &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; and thus:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[X_1+X_2+\dots+X_n]=  n\mu
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which is another way of writing the result we show above for the sum of draws.&lt;/p&gt;
&lt;p&gt;2. The expected value of a non-random constant times a random variable is the non-random constant times the expected value of a random variable. This is easier to explain with symbols:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[aX] =  a\times\mbox{E}[X]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To see why this is intuitive, consider change of units. If we change the units of a random variable, say from dollars to cents, the expectation should change in the same way. A consequence of the above two facts is that the expected value of the average of independent draws from the same urn is the expected value of the urn, call it &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; again:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{E}[(X_1+X_2+\dots+X_n) / n]=   \mbox{E}[X_1+X_2+\dots+X_n] / n = n\mu/n = \mu
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;3. The square of the standard error of the sum of &lt;strong&gt;independent&lt;/strong&gt; random variables is the sum of the square of the standard error of each random variable. This one is easier to understand in math form:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mbox{SE}[X_1+X_2+\dots+X_n] = \sqrt{\mbox{SE}[X_1]^2 + \mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2  }
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The square of the standard error is referred to as the &lt;em&gt;variance&lt;/em&gt; in statistical textbooks. Note that this particular property is not as intuitive as the previous three and more in depth explanations can be found in statistics textbooks.&lt;/p&gt;
&lt;p&gt;4. The standard error of a non-random constant times a random variable is the non-random constant times the random variable’s standard error. As with the expectation:
&lt;span class=&#34;math display&#34;&gt;\[
\mbox{SE}[aX] =  a \times \mbox{SE}[X]
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To see why this is intuitive, again think of units.&lt;/p&gt;
&lt;p&gt;A consequence of 3 and 4 is that the standard error of the average of independent draws from the same urn is the standard deviation of the urn divided by the square root of &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; (the number of draws), call it &lt;span class=&#34;math inline&#34;&gt;\(\sigma\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{aligned}
\mbox{SE}[(X_1+X_2+\dots+X_n) / n] &amp;amp;=   \mbox{SE}[X_1+X_2+\dots+X_n]/n \\
&amp;amp;= \sqrt{\mbox{SE}[X_1]^2+\mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2}/n \\
&amp;amp;= \sqrt{\sigma^2+\sigma^2+\dots+\sigma^2}/n\\
&amp;amp;= \sqrt{n\sigma^2}/n\\
&amp;amp;= \sigma / \sqrt{n}
\end{aligned}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;5. If &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; is a normally distributed random variable, then if &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt; are non-random constants, &lt;span class=&#34;math inline&#34;&gt;\(aX + b\)&lt;/span&gt; is also a normally distributed random variable. All we are doing is changing the units of the random variable by multiplying by &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;, then shifting the center by &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Note that statistical textbooks use the Greek letters &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\sigma\)&lt;/span&gt; to denote the expected value and standard error, respectively. This is because &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; is the Greek letter for &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt;, the first letter of &lt;em&gt;mean&lt;/em&gt;, which is another term used for expected value. Similarly, &lt;span class=&#34;math inline&#34;&gt;\(\sigma\)&lt;/span&gt; is the Greek letter for &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;, the first letter of standard error.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;law-of-large-numbers&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Law of large numbers&lt;/h2&gt;
&lt;p&gt;An important implication of the final result is that the standard error of the average becomes smaller and smaller as &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; grows larger. When &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; is very large, then the standard error is practically 0 and the average of the draws converges to the average of the urn. This is known in statistical textbooks as the law of large numbers or the law of averages.&lt;/p&gt;
&lt;div id=&#34;misinterpreting-law-of-averages&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Misinterpreting law of averages&lt;/h3&gt;
&lt;p&gt;The law of averages is sometimes misinterpreted. For example, if you toss a coin 5 times and see a head each time, you might hear someone argue that the next toss is probably a tail because of the law of averages: on average we should see 50% heads and 50% tails. A similar argument would be to say that red “is due” on the roulette wheel after seeing black come up five times in a row. These events are independent so the chance of a coin landing heads is 50% regardless of the previous 5. This is also the case for the roulette outcome. The law of averages applies only when the number of draws is very large and not in small samples. After a million tosses, you will definitely see about 50% heads regardless of the outcome of the first five tosses.&lt;/p&gt;
&lt;p&gt;Another funny misuse of the law of averages is in sports when TV sportscasters predict a player is about to succeed because they have failed a few times in a row.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Urn_problem&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Urn_problem&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem&#34; class=&#34;uri&#34;&gt;https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Monty_Hall_problem&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Monty_Hall_problem&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/w/index.php?title=Financial_crisis_of_2007%E2%80%932008&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/w/index.php?title=Financial_crisis_of_2007%E2%80%932008&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/w/index.php?title=Security_(finance)&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/w/index.php?title=Security_(finance)&lt;/a&gt;&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/w/index.php?title=Binomial_distribution&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/w/index.php?title=Binomial_distribution&lt;/a&gt;&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/w/index.php?title=Poisson_distribution&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/w/index.php?title=Poisson_distribution&lt;/a&gt;&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Visualizations in Practice</title>
      <link>/content/03-content/</link>
      <pubDate>Tue, 22 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/content/03-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#required-reading&#34;&gt;Required Reading&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#supplemental-readings&#34;&gt;Supplemental Readings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#for-fun&#34;&gt;For “Fun”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#gapminder&#34;&gt;Data visualization in practice&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-new-insights-on-poverty&#34;&gt;Case study: new insights on poverty&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#exploring-the-data&#34;&gt;Exploring the Data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#scatterplots&#34;&gt;Scatterplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#faceting&#34;&gt;Faceting&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#facet_wrap&#34;&gt;&lt;code&gt;facet_wrap&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#fixed-scales-for-better-comparisons&#34;&gt;Fixed scales for better comparisons&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#time-series-plots&#34;&gt;Time series plots&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#labels-instead-of-legends&#34;&gt;Labels instead of legends&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-transformations&#34;&gt;Data transformations&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#log-transformation&#34;&gt;Log transformation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#which-base&#34;&gt;Which base?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#transform-the-values-or-the-scale&#34;&gt;Transform the values or the scale?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#visualizing-multimodal-distributions&#34;&gt;Visualizing multimodal distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#comparing-multiple-distributions-with-boxplots-and-ridge-plots&#34;&gt;Comparing multiple distributions with boxplots and ridge plots&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#boxplots&#34;&gt;Boxplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ridge-plots&#34;&gt;Ridge plots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#example-1970-versus-2010-income-distributions&#34;&gt;Example: 1970 versus 2010 income distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#accessing-computed-variables&#34;&gt;Accessing computed variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#weighted-densities&#34;&gt;Weighted densities&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-ecological-fallacy-and-importance-of-showing-the-data&#34;&gt;The ecological fallacy and importance of showing the data&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#logit&#34;&gt;Logistic transformation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#show-the-data&#34;&gt;Show the data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vaccines&#34;&gt;Case study: vaccines and infectious diseases&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;required-reading&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Required Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;supplemental-readings&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Supplemental Readings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://serialmentor.com/dataviz/visualizing-amounts.html&#34;&gt;Chapter 6&lt;/a&gt; in Claus Wilke, &lt;em&gt;Fundamentals of Data Visualization&lt;/em&gt; &lt;span class=&#34;citation&#34;&gt;[@Wilke:2018]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 6 in Alberto Cairo, &lt;em&gt;The Truthful Art&lt;/em&gt; &lt;span class=&#34;citation&#34;&gt;[@Cairo:2016]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://serialmentor.com/dataviz/visualizing-proportions.html&#34;&gt;Chapter 10&lt;/a&gt; in Claus Wilke, &lt;em&gt;Fundamentals of Data Visualization&lt;/em&gt; &lt;span class=&#34;citation&#34;&gt;[@Wilke:2018]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://eagereyes.org/blog/2008/engaging-readers-with-square-pie-waffle-charts&#34;&gt;Engaging Readers with Square Pie/Waffle Charts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://eagereyes.org/techniques/pie-charts&#34;&gt;Understanding Pie Charts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://flowingdata.com/2016/07/15/square-pie-chart-beats-out-the-rest-in-perception-study/&#34;&gt;Square pie chart beats out the rest in perception study&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-twitter&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://twitter.com/janinegibson/status/1244519429825802240&#34;&gt;Twitter thread&lt;/a&gt; from John Burn-Murdoch on why the &lt;em&gt;Financial Times&lt;/em&gt; uses log scales in their COVID-19 tracking charts&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-twitter&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://twitter.com/jburnmurdoch/status/1238914490772701185&#34;&gt;Tweet&lt;/a&gt; and &lt;a href=&#34;https://twitter.com/jburnmurdoch/status/1242904596856614912&#34;&gt;Twitter thread&lt;/a&gt; from John Burn-Murdoch on why the &lt;em&gt;Financial Times&lt;/em&gt; doesn’t use population-adjusted numbers in their COVID-19 tracking charts&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;for-fun&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;For “Fun”&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://robjhyndman.com/hyndsight/logratios-covid19/&#34;&gt;See how to create your own COVID-19 tracking chart with R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How do these types of visualizations help or hinder our search for truth in data?&lt;/li&gt;
&lt;li&gt;What is the appropriate visualization technique for the pandemic? Should we use population-adjusted numbers? Why or why not?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;p&gt;As with last week, today’s lecture will ask you to work with real data during the lecture. Moreover, we will again avoid slides entirely. To follow along, please have &lt;code&gt;R&lt;/code&gt; open throughout lecture and work through this reading on your own time to lock in some of the key concepts.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;gapminder&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Data visualization in practice&lt;/h1&gt;
&lt;p&gt;In this chapter, we will demonstrate how relatively simple &lt;strong&gt;ggplot2&lt;/strong&gt; code can create insightful and aesthetically pleasing plots. As motivation we will create plots that help us better understand trends in world health and economics. We will implement what we learned in previous sections of the class and learn how to augment the code to perfect the plots. As we go through our case study, we will describe relevant general data visualization principles and learn concepts such as &lt;em&gt;faceting&lt;/em&gt;, &lt;em&gt;time series plots&lt;/em&gt;, &lt;em&gt;transformations&lt;/em&gt;, and &lt;em&gt;ridge plots&lt;/em&gt;.&lt;/p&gt;
&lt;div id=&#34;case-study-new-insights-on-poverty&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: new insights on poverty&lt;/h2&gt;
&lt;p&gt;Hans Rosling&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; was the co-founder of the Gapminder Foundation&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;, an organization dedicated to educating the public by using data to dispel common myths about the so-called developing world. The organization uses data to show how actual trends in health and economics contradict the narratives that emanate from sensationalist media coverage of catastrophes, tragedies, and other unfortunate events. As stated in the Gapminder Foundation’s website:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Journalists and lobbyists tell dramatic stories. That’s their job. They tell stories about extraordinary events and unusual people. The piles of dramatic stories pile up in peoples’ minds into an over-dramatic worldview and strong negative stress feelings: “The world is getting worse!”, “It’s we vs. them!”, “Other people are strange!”, “The population just keeps growing!” and “Nobody cares!”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hans Rosling conveyed actual data-based trends in a dramatic way of his own, using effective data visualization. This section is based on two talks that exemplify this approach to education: [New Insights on Poverty]&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; and The Best Stats You’ve Ever Seen&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. Specifically, in this section, we use data to attempt to answer the following two questions:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Is it a fair characterization of today’s world to say it is divided into western rich nations and the developing world in Africa, Asia, and Latin America?&lt;/li&gt;
&lt;li&gt;Has income inequality across countries worsened during the last 40 years?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To answer these questions, we will be using the &lt;code&gt;gapminder&lt;/code&gt; dataset provided in &lt;strong&gt;dslabs&lt;/strong&gt;. This dataset was created using a number of spreadsheets available from the Gapminder Foundation. You can access the table like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
library(ggrepel)
data(gapminder)
gapminder %&amp;gt;% as_tibble()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10,545 x 9
##    country  year infant_mortality life_expectancy fertility population      gdp
##    &amp;lt;fct&amp;gt;   &amp;lt;int&amp;gt;            &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
##  1 Albania  1960            115.             62.9      6.19    1636054 NA      
##  2 Algeria  1960            148.             47.5      7.65   11124892  1.38e10
##  3 Angola   1960            208              36.0      7.32    5270844 NA      
##  4 Antigu…  1960             NA              63.0      4.43      54681 NA      
##  5 Argent…  1960             59.9            65.4      3.11   20619075  1.08e11
##  6 Armenia  1960             NA              66.9      4.55    1867396 NA      
##  7 Aruba    1960             NA              65.7      4.82      54208 NA      
##  8 Austra…  1960             20.3            70.9      3.45   10292328  9.67e10
##  9 Austria  1960             37.3            68.8      2.7     7065525  5.24e10
## 10 Azerba…  1960             NA              61.3      5.57    3897889 NA      
## # … with 10,535 more rows, and 2 more variables: continent &amp;lt;fct&amp;gt;, region &amp;lt;fct&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exploring-the-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Exploring the Data&lt;/h3&gt;
&lt;p&gt;Taking an exercise from the &lt;em&gt;New Insights on Poverty&lt;/em&gt; video, we start by testing our knowledge regarding differences in child mortality across different countries. For each of the six pairs of countries below, which country do you think had the highest child mortality rates in 2015? Which pairs do you think are most similar?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Sri Lanka or Turkey&lt;/li&gt;
&lt;li&gt;Poland or South Korea&lt;/li&gt;
&lt;li&gt;Malaysia or Russia&lt;/li&gt;
&lt;li&gt;Pakistan or Vietnam&lt;/li&gt;
&lt;li&gt;Thailand or South Africa&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When answering these questions without data, the non-European countries are typically picked as having higher child mortality rates: Sri Lanka over Turkey, South Korea over Poland, and Malaysia over Russia. It is also common to assume that countries considered to be part of the developing world: Pakistan, Vietnam, Thailand, and South Africa, have similarly high mortality rates.&lt;/p&gt;
&lt;p&gt;To answer these questions &lt;strong&gt;with data&lt;/strong&gt;, we can use &lt;strong&gt;dplyr&lt;/strong&gt;. For example, for the first comparison we see that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == 2015 &amp;amp; country %in% c(&amp;quot;Sri Lanka&amp;quot;,&amp;quot;Turkey&amp;quot;)) %&amp;gt;%
  select(country, infant_mortality)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     country infant_mortality
## 1 Sri Lanka              8.4
## 2    Turkey             11.6&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Turkey has the higher infant mortality rate.&lt;/p&gt;
&lt;p&gt;We can use this code on all comparisons and find the following:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## New names:
## * country -&amp;gt; country...1
## * infant_mortality -&amp;gt; infant_mortality...2
## * country -&amp;gt; country...3
## * infant_mortality -&amp;gt; infant_mortality...4&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
country
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
infant mortality
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
country
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
infant mortality
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Sri Lanka
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
8.4
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Turkey
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.6
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Poland
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4.5
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
South Korea
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.9
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Malaysia
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6.0
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Russia
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
8.2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Pakistan
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
65.8
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Vietnam
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
17.3
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Thailand
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
10.5
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
South Africa
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
33.6
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;We see that the European countries on this list have higher child mortality rates: Poland has a higher rate than South Korea, and Russia has a higher rate than Malaysia. We also see that Pakistan has a much higher rate than Vietnam, and South Africa has a much higher rate than Thailand. It turns out that when Hans Rosling gave this quiz to educated groups of people, the average score was less than 2.5 out of 5, worse than what they would have obtained had they guessed randomly. This implies that more than ignorant, we are misinformed. In this chapter we see how data visualization helps inform us.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;scatterplots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Scatterplots&lt;/h2&gt;
&lt;p&gt;The reason for this stems from the preconceived notion that the world is divided into two groups: the western world (Western Europe and North America), characterized by long life spans and small families, versus the developing world (Africa, Asia, and Latin America) characterized by short life spans and large families. But do the data support this dichotomous view?&lt;/p&gt;
&lt;p&gt;The necessary data to answer this question is also available in our &lt;code&gt;gapminder&lt;/code&gt; table. Using our newly learned data visualization skills, we will be able to tackle this challenge.&lt;/p&gt;
&lt;p&gt;In order to analyze this world view, our first plot is a scatterplot of life expectancy versus fertility rates (average number of children per woman). We start by looking at data from about 50 years ago, when perhaps this view was first cemented in our minds.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year == 1962) %&amp;gt;%
  ggplot(aes(fertility, life_expectancy)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-versus-life-expectancy-1962-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Most points fall into two distinct categories:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Life expectancy around 70 years and 3 or fewer children per family.&lt;/li&gt;
&lt;li&gt;Life expectancy lower than 65 years and more than 5 children per family.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To confirm that indeed these countries are from the regions we expect, we can use color to represent continent.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year == 1962) %&amp;gt;%
  ggplot( aes(fertility, life_expectancy, color = continent)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-versus-life-expectancy-1962-with-color-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In 1962, the notion of “the West versus developing world” view was grounded in some reality. Is this still the case 50 years later? How might visualizations help us learn something? Before continuing, make a note of your prior beliefs.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;faceting&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Faceting&lt;/h2&gt;
&lt;p&gt;We could easily plot the 2012 data in the same way we did for 1962. To make comparisons, however, side by side plots are preferable. In &lt;strong&gt;ggplot2&lt;/strong&gt;, we can achieve this by &lt;em&gt;faceting&lt;/em&gt; variables: we stratify the data by some variable and make the same plot for each strata.&lt;/p&gt;
&lt;p&gt;To achieve faceting, we add a layer with the function &lt;code&gt;facet_grid&lt;/code&gt;, which automatically separates the plots. This function lets you facet by up to two variables using columns to represent one variable and rows to represent the other. The function expects the row and column variables to be separated by a &lt;code&gt;~&lt;/code&gt;. Here is an example of a scatterplot with &lt;code&gt;facet_grid&lt;/code&gt; added as the last layer:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year%in%c(1962, 2012)) %&amp;gt;%
  ggplot(aes(fertility, life_expectancy, col = continent)) +
  geom_point() +
  facet_grid(continent~year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-versus-life-expectancy-facet-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see a plot for each continent/year pair. However, this is just an example and more than what we want, which is simply to compare 1962 and 2012. In this case, there is just one variable and we use &lt;code&gt;.&lt;/code&gt; to let facet know that we are not using one of the variables:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year%in%c(1962, 2012)) %&amp;gt;%
  ggplot(aes(fertility, life_expectancy, col = continent)) +
  geom_point() +
  facet_grid(. ~ year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-versus-life-expectancy-two-years-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot clearly shows that the majority of countries have moved from the &lt;em&gt;developing world&lt;/em&gt; cluster to the &lt;em&gt;western world&lt;/em&gt; one. In 2012, the western versus developing world view no longer makes sense. This is particularly clear when comparing Europe to Asia, the latter of which includes several countries that have made great improvements.&lt;/p&gt;
&lt;div id=&#34;facet_wrap&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;facet_wrap&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;To explore how this transformation happened through the years, we can make the plot for several years. For example, we can add 1970, 1980, 1990, and 2000. If we do this, we will not want all the plots on the same row, the default behavior of &lt;code&gt;facet_grid&lt;/code&gt;, since they will become too thin to show the data. Instead, we will want to use multiple rows and columns. The function &lt;code&gt;facet_wrap&lt;/code&gt; permits us to do this by automatically wrapping the series of plots so that each display has viewable dimensions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;years &amp;lt;- c(1962, 1980, 1990, 2000, 2012)
continents &amp;lt;- c(&amp;quot;Europe&amp;quot;, &amp;quot;Asia&amp;quot;)
gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; continent %in% continents) %&amp;gt;%
  ggplot( aes(fertility, life_expectancy, col = continent)) +
  geom_point() +
  facet_wrap(~year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-versus-life-expectancy-five-years-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot clearly shows how most Asian countries have improved at a much faster rate than European ones.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;fixed-scales-for-better-comparisons&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Fixed scales for better comparisons&lt;/h3&gt;
&lt;p&gt;The default choice of the range of the axes is important. When not using &lt;code&gt;facet&lt;/code&gt;, this range is determined by the data shown in the plot. When using &lt;code&gt;facet&lt;/code&gt;, this range is determined by the data shown in all plots and therefore kept fixed across plots. This makes comparisons across plots much easier. For example, in the above plot, we can see that life expectancy has increased and the fertility has decreased across most countries. We see this because the cloud of points moves. This is not the case if we adjust the scales:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year%in%c(1962, 2012)) %&amp;gt;%
  ggplot(aes(fertility, life_expectancy, col = continent)) +
  geom_point() +
  facet_wrap(. ~ year, scales = &amp;quot;free&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/facet-without-fixed-scales-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the plot above, we have to pay special attention to the range to notice that the plot on the right has a larger life expectancy.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;time-series-plots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Time series plots&lt;/h2&gt;
&lt;p&gt;The visualizations above effectively illustrate that data no longer supports the western versus developing world view. Once we see these plots, new questions emerge. For example, which countries are improving more and which ones less? Was the improvement constant during the last 50 years or was it more accelerated during certain periods? For a closer look that may help answer these questions, we introduce &lt;em&gt;time series plots&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Time series plots have time in the x-axis and an outcome or measurement of interest on the y-axis. For example, here is a trend plot of United States fertility rates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(country == &amp;quot;United States&amp;quot;) %&amp;gt;%
  ggplot(aes(year, fertility)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-time-series-plot-points-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that the trend is not linear at all. Instead there is sharp drop during the 1960s and 1970s to below 2. Then the trend comes back to 2 and stabilizes during the 1990s.&lt;/p&gt;
&lt;p&gt;When the points are regularly and densely spaced, as they are here, we create curves by joining the points with lines, to convey that these data are from a single series, here a country. To do this, we use the &lt;code&gt;geom_line&lt;/code&gt; function instead of &lt;code&gt;geom_point&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(country == &amp;quot;United States&amp;quot;) %&amp;gt;%
  ggplot(aes(year, fertility)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-time-series-plot-curve-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is particularly helpful when we look at two countries. If we subset the data to include two countries, one from Europe and one from Asia, then adapt the code above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;countries &amp;lt;- c(&amp;quot;South Korea&amp;quot;,&amp;quot;Germany&amp;quot;)

gapminder %&amp;gt;% filter(country %in% countries) %&amp;gt;%
  ggplot(aes(year,fertility)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/wrong-time-series-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Unfortunately, this is &lt;strong&gt;not&lt;/strong&gt; the plot that we want. Rather than a line for each country, the points for both countries are joined. This is actually expected since we have not told &lt;code&gt;ggplot&lt;/code&gt; anything about wanting two separate lines. To let &lt;code&gt;ggplot&lt;/code&gt; know that there are two curves that need to be made separately, we assign each point to a &lt;code&gt;group&lt;/code&gt;, one for each country:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;countries &amp;lt;- c(&amp;quot;South Korea&amp;quot;,&amp;quot;Germany&amp;quot;)

gapminder %&amp;gt;% filter(country %in% countries &amp;amp; !is.na(fertility)) %&amp;gt;%
  ggplot(aes(year, fertility, group = country)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/time-series-two-curves-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But which line goes with which country? We can assign colors to make this distinction.
A useful side-effect of using the &lt;code&gt;color&lt;/code&gt; argument to assign different colors to the different countries is that the data is automatically grouped:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;countries &amp;lt;- c(&amp;quot;South Korea&amp;quot;,&amp;quot;Germany&amp;quot;)

gapminder %&amp;gt;% filter(country %in% countries &amp;amp; !is.na(fertility)) %&amp;gt;%
  ggplot(aes(year,fertility, col = country)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/fertility-time-series-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot clearly shows how South Korea’s fertility rate dropped drastically during the 1960s and 1970s, and by 1990 had a similar rate to that of Germany.&lt;/p&gt;
&lt;div id=&#34;labels-instead-of-legends&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Labels instead of legends&lt;/h3&gt;
&lt;p&gt;For trend plots we recommend labeling the lines rather than using legends since the viewer can quickly see which line is which country. This suggestion actually applies to most plots: labeling is usually preferred over legends.&lt;/p&gt;
&lt;p&gt;We demonstrate how we can do this using the life expectancy data. We define a data table with the label locations and then use a second mapping just for these labels:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;labels &amp;lt;- data.frame(country = countries, x = c(1975,1965), y = c(60,72))

gapminder %&amp;gt;%
  filter(country %in% countries) %&amp;gt;%
  ggplot(aes(year, life_expectancy, col = country)) +
  geom_line() +
  geom_text(data = labels, aes(x, y, label = country), size = 5) +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/labels-better-than-legends-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot clearly shows how an improvement in life expectancy followed the drops in fertility rates. In 1960, Germans lived 15 years longer than South Koreans, although by 2010 the gap is completely closed. It exemplifies the improvement that many non-western countries have achieved in the last 40 years.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;data-transformations&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Data transformations&lt;/h2&gt;
&lt;p&gt;We now shift our attention to the second question related to the commonly held notion that wealth distribution across the world has become worse during the last decades. When general audiences are asked if poor countries have become poorer and rich countries become richer, the majority answers yes. By using stratification, histograms, smooth densities, and boxplots, we will be able to understand if this is in fact the case. First we learn how transformations can sometimes help provide more informative summaries and plots.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;gapminder&lt;/code&gt; data table includes a column with the countries’ gross domestic product (GDP). GDP measures the market value of goods and services produced by a country in a year. The GDP per person is often used as a rough summary of a country’s wealth. Here we divide this quantity by 365 to obtain the more interpretable measure &lt;em&gt;dollars per day&lt;/em&gt;. Using current US dollars as a unit, a person surviving on an income of less than $2 a day is defined to be living in &lt;em&gt;absolute poverty&lt;/em&gt;. We add this variable to the data table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder &amp;lt;- gapminder %&amp;gt;%  mutate(dollars_per_day = gdp/population/365)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The GDP values are adjusted for inflation and represent current US dollars, so these values are meant to be comparable across the years. Of course, these are country averages and within each country there is much variability. All the graphs and insights described below relate to country averages and not to individuals.&lt;/p&gt;
&lt;div id=&#34;log-transformation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Log transformation&lt;/h3&gt;
&lt;p&gt;Here is a histogram of per day incomes from 1970:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;past_year &amp;lt;- 1970
gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(gdp)) %&amp;gt;%
  ggplot(aes(dollars_per_day)) +
  geom_histogram(binwidth = 1, color = &amp;quot;black&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/dollars-per-day-distribution-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We use the &lt;code&gt;color = &#34;black&#34;&lt;/code&gt; argument to draw a boundary and clearly distinguish the bins.&lt;/p&gt;
&lt;p&gt;In this plot, we see that for the majority of countries, averages are below $10 a day.&lt;/p&gt;
&lt;p&gt;However, the majority of the x-axis is dedicated to the &lt;code&gt;35&lt;/code&gt; countries with averages above $10. So the plot is not very informative about countries with values below $10 a day.&lt;/p&gt;
&lt;p&gt;It might be more informative to quickly be able to see how many countries have average daily incomes of about $1 (extremely poor), $2 (very poor), $4 (poor), $8 (middle), $16 (well off), $32 (rich), $64 (very rich) per day. These changes are multiplicative and log transformations convert multiplicative changes into additive ones: when using base 2, a doubling of a value turns into an increase by 1.&lt;/p&gt;
&lt;p&gt;Here is the distribution if we apply a log base 2 transform:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(gdp)) %&amp;gt;%
  ggplot(aes(log2(dollars_per_day))) +
  geom_histogram(binwidth = 1, color = &amp;quot;black&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/dollars-per-day-distribution-log-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In a way this provides a &lt;em&gt;close-up&lt;/em&gt; of the mid to lower income countries.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;which-base&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Which base?&lt;/h3&gt;
&lt;p&gt;In the case above, we used base 2 in the log transformations. Other common choices are base &lt;span class=&#34;math inline&#34;&gt;\(\mathrm{e}\)&lt;/span&gt; (the natural log) and base 10.&lt;/p&gt;
&lt;p&gt;In general, we do not recommend using the natural log for data exploration and visualization. This is because while &lt;span class=&#34;math inline&#34;&gt;\(2^2, 2^3, 2^4, \dots\)&lt;/span&gt; or &lt;span class=&#34;math inline&#34;&gt;\(10^2, 10^3, \dots\)&lt;/span&gt; are easy to compute in our heads, the same is not true for &lt;span class=&#34;math inline&#34;&gt;\(\mathrm{e}^2, \mathrm{e}^3, \dots\)&lt;/span&gt;, so the scale is not intuitive or easy to interpret.&lt;/p&gt;
&lt;p&gt;In the dollars per day example, we used base 2 instead of base 10 because the resulting range is easier to interpret. The range of the values being plotted is 0.3269426, 48.8852142.&lt;/p&gt;
&lt;p&gt;In base 10, this turns into a range that includes very few integers: just 0 and 1.
With base two, our range includes -2, -1, 0, 1, 2, 3, 4, and 5. It is easier to compute &lt;span class=&#34;math inline&#34;&gt;\(2^x\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(10^x\)&lt;/span&gt; when &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is an integer and between -10 and 10, so we prefer to have smaller integers in the scale. Another consequence of a limited range is that choosing the binwidth is more challenging. With log base 2, we know that a binwidth of 1 will translate to a bin with range &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; to &lt;span class=&#34;math inline&#34;&gt;\(2x\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;For an example in which base 10 makes more sense, consider population sizes. A log base 10 is preferable since the range for these is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(gapminder, year == past_year) %&amp;gt;%
  summarize(min = min(population), max = max(population))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     min       max
## 1 46075 808510713&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is the histogram of the transformed values:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == past_year) %&amp;gt;%
  ggplot(aes(log10(population))) +
  geom_histogram(binwidth = 0.5, color = &amp;quot;black&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/population-histogram-log10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the above, we quickly see that country populations range between ten thousand and ten billion.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;transform-the-values-or-the-scale&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Transform the values or the scale?&lt;/h3&gt;
&lt;p&gt;There are two ways we can use log transformations in plots. We can log the values before plotting them or use log scales in the axes. Both approaches are useful and have different strengths. If we log the data, we can more easily interpret intermediate values in the scale. For example, if we see:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;----1----x----2--------3----&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;for log transformed data, we know that the value of &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; is about 1.5. If the scales are logged:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;----1----x----10------100---&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;then, to determine &lt;code&gt;x&lt;/code&gt;, we need to compute &lt;span class=&#34;math inline&#34;&gt;\(10^{1.5}\)&lt;/span&gt;, which is not easy to do in our heads. The advantage of using logged scales is that we see the original values on the axes. However, the advantage of showing logged scales is that the original values are displayed in the plot, which are easier to interpret. For example, we would see “32 dollars a day” instead of “5 log base 2 dollars a day”.&lt;/p&gt;
&lt;p&gt;As we learned earlier, if we want to scale the axis with logs, we can use the &lt;code&gt;scale_x_continuous&lt;/code&gt; function. Instead of logging the values first, we apply this layer:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(gdp)) %&amp;gt;%
  ggplot(aes(dollars_per_day)) +
  geom_histogram(binwidth = 1, color = &amp;quot;black&amp;quot;) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/dollars-per-day-log-scale-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note that the log base 10 transformation has its own function: &lt;code&gt;scale_x_log10()&lt;/code&gt;, but currently base 2 does not, although we could easily define our own.&lt;/p&gt;
&lt;p&gt;There are other transformations available through the &lt;code&gt;trans&lt;/code&gt; argument. As we learn later on, the square root (&lt;code&gt;sqrt&lt;/code&gt;) transformation is useful when considering counts. The logistic transformation (&lt;code&gt;logit&lt;/code&gt;) is useful when plotting proportions between 0 and 1. The &lt;code&gt;reverse&lt;/code&gt; transformation is useful when we want smaller values to be on the right or on top.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;visualizing-multimodal-distributions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Visualizing multimodal distributions&lt;/h2&gt;
&lt;p&gt;In the histogram above we see two &lt;em&gt;bumps&lt;/em&gt;: one at about 4 and another at about 32. In statistics these bumps are sometimes referred to as &lt;em&gt;modes&lt;/em&gt;. The mode of a distribution is the value with the highest frequency. The mode of the normal distribution is the average. When a distribution, like the one above, doesn’t monotonically decrease from the mode, we call the locations where it goes up and down again &lt;em&gt;local modes&lt;/em&gt; and say that the distribution has &lt;em&gt;multiple modes&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The histogram above suggests that the 1970 country income distribution has two modes: one at about 2 dollars per day (1 in the log 2 scale) and another at about 32 dollars per day (5 in the log 2 scale). This &lt;em&gt;bimodality&lt;/em&gt; is consistent with a dichotomous world made up of countries with average incomes less than $8 (3 in the log 2 scale) a day and countries above that.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;comparing-multiple-distributions-with-boxplots-and-ridge-plots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Comparing multiple distributions with boxplots and ridge plots&lt;/h2&gt;
&lt;p&gt;A histogram showed us that the 1970 income distribution values show a dichotomy. However, the histogram does not show us if the two groups of countries are &lt;em&gt;west&lt;/em&gt; versus the &lt;em&gt;developing&lt;/em&gt; world.&lt;/p&gt;
&lt;p&gt;Let’s start by quickly examining the data by region. We reorder the regions by the median value and use a log scale.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(gdp)) %&amp;gt;%
  mutate(region = reorder(region, dollars_per_day, FUN = median)) %&amp;gt;%
  ggplot(aes(dollars_per_day, region)) +
  geom_point() +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can already see that there is indeed a “west versus the rest” dichotomy: we see two clear groups, with the rich group composed of North America, Northern and Western Europe, New Zealand and Australia. We define groups based on this observation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder &amp;lt;- gapminder %&amp;gt;%
  mutate(group = case_when(
    region %in% c(&amp;quot;Western Europe&amp;quot;, &amp;quot;Northern Europe&amp;quot;,&amp;quot;Southern Europe&amp;quot;,
                    &amp;quot;Northern America&amp;quot;,
                  &amp;quot;Australia and New Zealand&amp;quot;) ~ &amp;quot;West&amp;quot;,
    region %in% c(&amp;quot;Eastern Asia&amp;quot;, &amp;quot;South-Eastern Asia&amp;quot;) ~ &amp;quot;East Asia&amp;quot;,
    region %in% c(&amp;quot;Caribbean&amp;quot;, &amp;quot;Central America&amp;quot;,
                  &amp;quot;South America&amp;quot;) ~ &amp;quot;Latin America&amp;quot;,
    continent == &amp;quot;Africa&amp;quot; &amp;amp;
      region != &amp;quot;Northern Africa&amp;quot; ~ &amp;quot;Sub-Saharan&amp;quot;,
    TRUE ~ &amp;quot;Others&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We turn this &lt;code&gt;group&lt;/code&gt; variable into a factor to control the order of the levels:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder &amp;lt;- gapminder %&amp;gt;%
  mutate(group = factor(group, levels = c(&amp;quot;Others&amp;quot;, &amp;quot;Latin America&amp;quot;,
                                          &amp;quot;East Asia&amp;quot;, &amp;quot;Sub-Saharan&amp;quot;,
                                          &amp;quot;West&amp;quot;)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the next section we demonstrate how to visualize and compare distributions across groups.&lt;/p&gt;
&lt;div id=&#34;boxplots&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Boxplots&lt;/h3&gt;
&lt;p&gt;The exploratory data analysis above has revealed two characteristics about average income distribution in 1970. Using a histogram, we found a bimodal distribution with the modes relating to poor and rich countries. We now want to compare the distribution across these five groups to confirm the “west versus the rest” dichotomy. The number of points in each category is large enough that a summary plot may be useful. We could generate five histograms or five density plots, but it may be more practical to have all the visual summaries in one plot. We therefore start by stacking boxplots next to each other. Note that we add the layer &lt;code&gt;theme(axis.text.x = element_text(angle = 90, hjust = 1))&lt;/code&gt; to turn the group labels vertical, since they do not fit if we show them horizontally, and remove the axis label to make space.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p &amp;lt;- gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(gdp)) %&amp;gt;%
  ggplot(aes(group, dollars_per_day)) +
  geom_boxplot() +
  scale_y_continuous(trans = &amp;quot;log2&amp;quot;) +
  xlab(&amp;quot;&amp;quot;) +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/dollars-per-day-boxplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Boxplots have the limitation that by summarizing the data into five numbers, we might miss important characteristics of the data. One way to avoid this is by showing the data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p + geom_point(alpha = 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/dollars-per-day-boxplot-with-data-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ridge-plots&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Ridge plots&lt;/h3&gt;
&lt;p&gt;Showing each individual point does not always reveal important characteristics of the distribution. Although not the case here, when the number of data points is so large that there is over-plotting, showing the data can be counterproductive. Boxplots help with this by providing a five-number summary, but this has limitations too. For example, boxplots will not permit us to discover bimodal distributions. To see this, note that the two plots below are summarizing the same dataset:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/boxplot-dont-show-bimodal-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In cases in which we are concerned that the boxplot summary is too simplistic, we can show stacked smooth densities or histograms. We refer to these as &lt;em&gt;ridge plots&lt;/em&gt;. Because we are used to visualizing densities with values in the x-axis, we stack them vertically. Also, because more space is needed in this approach, it is convenient to overlay them. The package &lt;strong&gt;ggridges&lt;/strong&gt; provides a convenient function for doing this. Here is the income data shown above with boxplots but with a &lt;em&gt;ridge plot&lt;/em&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggridges)
p &amp;lt;- gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(dollars_per_day)) %&amp;gt;%
  ggplot(aes(dollars_per_day, group)) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;)
p  + geom_density_ridges()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ridge-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note that we have to invert the &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; used for the boxplot. A useful &lt;code&gt;geom_density_ridges&lt;/code&gt; parameter is &lt;code&gt;scale&lt;/code&gt;, which lets you determine the amount of overlap, with &lt;code&gt;scale = 1&lt;/code&gt; meaning no overlap and larger values resulting in more overlap.&lt;/p&gt;
&lt;p&gt;If the number of data points is small enough, we can add them to the ridge plot using the following code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p + geom_density_ridges(jittered_points = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ridge-plot-with-points-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default, the height of the points is jittered and should not be interpreted in any way. To show data points, but without using jitter we can use the following code to add what is referred to as a &lt;em&gt;rug representation&lt;/em&gt; of the data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p + geom_density_ridges(jittered_points = TRUE,
                        position = position_points_jitter(height = 0),
                        point_shape = &amp;#39;|&amp;#39;, point_size = 3,
                        point_alpha = 1, alpha = 0.7)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ridge-plot-with-rug-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;example-1970-versus-2010-income-distributions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Example: 1970 versus 2010 income distributions&lt;/h3&gt;
&lt;p&gt;Data exploration clearly shows that in 1970 there was a “west versus the rest” dichotomy. But does this dichotomy persist? Let’s use &lt;code&gt;facet_grid&lt;/code&gt; see how the distributions have changed. To start, we will focus on two groups: the west and the rest. We make four histograms.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;past_year &amp;lt;- 1970
present_year &amp;lt;- 2010
years &amp;lt;- c(past_year, present_year)
gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; !is.na(gdp)) %&amp;gt;%
  mutate(west = ifelse(group == &amp;quot;West&amp;quot;, &amp;quot;West&amp;quot;, &amp;quot;Developing&amp;quot;)) %&amp;gt;%
  ggplot(aes(dollars_per_day)) +
  geom_histogram(binwidth = 1, color = &amp;quot;black&amp;quot;) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;) +
  facet_grid(year ~ west)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-hist-west-v-developing-two-years-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Before we interpret the findings of this plot, we notice that there are more countries represented in the 2010 histograms than in 1970: the total counts are larger. One reason for this is that several countries were founded after 1970. For example, the Soviet Union divided into several countries during the 1990s. Another reason is that data was available for more countries in 2010.&lt;/p&gt;
&lt;p&gt;We remake the plots using only countries with data available for both years. In the data wrangling part of this class (after Thanksgiving), we will learn &lt;strong&gt;tidyverse&lt;/strong&gt; tools that permit us to write efficient code for this, but here we can use simple code using the &lt;code&gt;intersect&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country_list_1 &amp;lt;- gapminder %&amp;gt;%
  filter(year == past_year &amp;amp; !is.na(dollars_per_day)) %&amp;gt;%
  pull(country)

country_list_2 &amp;lt;- gapminder %&amp;gt;%
  filter(year == present_year &amp;amp; !is.na(dollars_per_day)) %&amp;gt;%
  pull(country)

country_list &amp;lt;- intersect(country_list_1, country_list_2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These 108 account for
86% of the world population, so this subset should be representative.&lt;/p&gt;
&lt;p&gt;Let’s remake the plot, but only for this subset by simply adding &lt;code&gt;country %in% country_list&lt;/code&gt; to the &lt;code&gt;filter&lt;/code&gt; function:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-histogram-west-v-devel-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We now see that the rich countries have become a bit richer, but percentage-wise, the poor countries appear to have improved more. In particular, we see that the proportion of &lt;em&gt;developing&lt;/em&gt; countries earning more than $16 a day increased substantially.&lt;/p&gt;
&lt;p&gt;To see which specific regions improved the most, we can remake the boxplots we made above, but now adding the year 2010 and then using facet to compare the two years.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  ggplot(aes(group, dollars_per_day)) +
  geom_boxplot() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  scale_y_continuous(trans = &amp;quot;log2&amp;quot;) +
  xlab(&amp;quot;&amp;quot;) +
  facet_grid(. ~ year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-histogram-by-region-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here, we pause to introduce another powerful &lt;strong&gt;ggplot2&lt;/strong&gt; feature. Because we want to compare each region before and after, it would be convenient to have the 1970 boxplot next to the 2010 boxplot for each region. In general, comparisons are easier when data are plotted next to each other.&lt;/p&gt;
&lt;p&gt;So instead of faceting, we keep the data from each year together and ask to color (or fill) them depending on the year. Note that groups are automatically separated by year and each pair of boxplots drawn next to each other. Because year is a number, we turn it into a factor since &lt;strong&gt;ggplot2&lt;/strong&gt; automatically assigns a color to each category of a factor. Note that we have to convert the year columns from numeric to factor.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  mutate(year = factor(year)) %&amp;gt;%
  ggplot(aes(group, dollars_per_day, fill = year)) +
  geom_boxplot() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  scale_y_continuous(trans = &amp;quot;log2&amp;quot;) +
  xlab(&amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-histogram-west-v-devel-by-year-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Finally, we point out that if what we are most interested in is comparing before and after values, it might make more sense to plot the percentage increases. We are still not ready to learn to code this, but here is what the plot would look like:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-west-v-devel-before-after-ratio-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The previous data exploration suggested that the income gap between rich and poor countries has narrowed considerably during the last 40 years.
We used a series of histograms and boxplots to see this. We suggest a succinct way to convey this message with just one plot.&lt;/p&gt;
&lt;p&gt;Let’s start by noting that density plots for income distribution in 1970 and 2010 deliver the message that the gap is closing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  ggplot(aes(dollars_per_day)) +
  geom_density(fill = &amp;quot;grey&amp;quot;) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;) +
  facet_grid(. ~ year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-by-year-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the 1970 plot, we see two clear modes: poor and rich countries. In 2010, it appears that some of the poor countries have shifted towards the right, closing the gap.&lt;/p&gt;
&lt;p&gt;The next message we need to convey is that the reason for this change in distribution is that several poor countries became richer, rather than some rich countries becoming poorer. To do this, we can assign a color to the groups we identified during data exploration.&lt;/p&gt;
&lt;p&gt;However, we first need to learn how to make these smooth densities in a way that preserves information on the number of countries in each group. To understand why we need this, note the discrepancy in the size of each group:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Developing
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
West
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;But when we overlay two densities, the default is to have the area represented by each distribution add up to 1, regardless of the size of each group:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  mutate(group = ifelse(group == &amp;quot;West&amp;quot;, &amp;quot;West&amp;quot;, &amp;quot;Developing&amp;quot;)) %&amp;gt;%
  ggplot(aes(dollars_per_day, fill = group)) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;) +
  geom_density(alpha = 0.2) +
  facet_grid(year ~ .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-by-year-west-v-developing-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This makes it appear as if there are the same number of countries in each group. To change this, we will need to learn to access computed variables with &lt;code&gt;geom_density&lt;/code&gt; function.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;accessing-computed-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Accessing computed variables&lt;/h3&gt;
&lt;p&gt;To have the areas of these densities be proportional to the size of the groups, we can simply multiply the y-axis values by the size of the group. From the &lt;code&gt;geom_density&lt;/code&gt; help file, we see that the functions compute a variable called &lt;code&gt;count&lt;/code&gt; that does exactly this. We want this variable to be on the y-axis rather than the density.&lt;/p&gt;
&lt;p&gt;In &lt;strong&gt;ggplot2&lt;/strong&gt;, we access these variables by surrounding the name with two dots. We will therefore use the following mapping:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;aes(x = dollars_per_day, y = ..count..)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now create the desired plot by simply changing the mapping in the previous code chunk. We will also expand the limits of the x-axis.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p &amp;lt;- gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  mutate(group = ifelse(group == &amp;quot;West&amp;quot;, &amp;quot;West&amp;quot;, &amp;quot;Developing&amp;quot;)) %&amp;gt;%
  ggplot(aes(dollars_per_day, y = ..count.., fill = group)) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;, limit = c(0.125, 300))

p + geom_density(alpha = 0.2) +
  facet_grid(year ~ .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-counts-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If we want the densities to be smoother, we use the &lt;code&gt;bw&lt;/code&gt; argument so that the same bandwidth is used in each density. We selected 0.75 after trying out several values.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p + geom_density(alpha = 0.2, bw = 0.75) + facet_grid(year ~ .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-counts-by-year-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot now shows what is happening very clearly. The developing world distribution is changing. A third mode appears consisting of the countries that most narrowed the gap.&lt;/p&gt;
&lt;p&gt;To visualize if any of the groups defined above are driving this we can quickly make a ridge plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year %in% years &amp;amp; !is.na(dollars_per_day)) %&amp;gt;%
  ggplot(aes(dollars_per_day, group)) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;) +
  geom_density_ridges(adjust = 1.5) +
  facet_grid(. ~ year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ridge-plot-income-five-regions-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Another way to achieve this is by stacking the densities on top of each other:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
    filter(year %in% years &amp;amp; country %in% country_list) %&amp;gt;%
  group_by(year) %&amp;gt;%
  mutate(weight = population/sum(population)*2) %&amp;gt;%
  ungroup() %&amp;gt;%
  ggplot(aes(dollars_per_day, fill = group)) +
  scale_x_continuous(trans = &amp;quot;log2&amp;quot;, limit = c(0.125, 300)) +
  geom_density(alpha = 0.2, bw = 0.75, position = &amp;quot;stack&amp;quot;) +
  facet_grid(year ~ .)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-counts-by-region-and-year-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here we can clearly see how the distributions for East Asia, Latin America, and others shift markedly to the right. While Sub-Saharan Africa remains stagnant.&lt;/p&gt;
&lt;p&gt;Notice that we order the levels of the group so that the West’s density is plotted first, then Sub-Saharan Africa. Having the two extremes plotted first allows us to see the remaining bimodality better.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;weighted-densities&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Weighted densities&lt;/h3&gt;
&lt;p&gt;As a final point, we note that these distributions weigh every country the same. So if most of the population is improving, but living in a very large country, such as China, we might not appreciate this. We can actually weight the smooth densities using the &lt;code&gt;weight&lt;/code&gt; mapping argument. The plot then looks like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/income-smooth-density-counts-by-region-year-weighted-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This particular figure shows very clearly how the income distribution gap is closing with most of the poor remaining in Sub-Saharan Africa.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-ecological-fallacy-and-importance-of-showing-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The ecological fallacy and importance of showing the data&lt;/h2&gt;
&lt;p&gt;Throughout this section, we have been comparing regions of the world. We have seen that, on average, some regions do better than others. In this section, we focus on describing the importance of variability within the groups when examining the relationship between a country’s infant mortality rates and average income.&lt;/p&gt;
&lt;p&gt;We define a few more regions and compare the averages across regions:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ecological-fallacy-averages-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The relationship between these two variables is almost perfectly linear and the graph shows a dramatic difference. While in the West less than 0.5% of infants die, in Sub-Saharan Africa the rate is higher than 6%!&lt;/p&gt;
&lt;p&gt;Note that the plot uses a new transformation, the logistic transformation.&lt;/p&gt;
&lt;div id=&#34;logit&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Logistic transformation&lt;/h3&gt;
&lt;p&gt;The logistic or logit transformation for a proportion or rate &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; is defined as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[f(p) = \log \left( \frac{p}{1-p} \right)\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; is a proportion or probability, the quantity that is being logged, &lt;span class=&#34;math inline&#34;&gt;\(p/(1-p)\)&lt;/span&gt;, is called the &lt;em&gt;odds&lt;/em&gt;. In this case &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; is the proportion of infants that survived. The odds tell us how many more infants are expected to survive than to die. The log transformation makes this symmetric. If the rates are the same, then the log odds is 0. Fold increases or decreases turn into positive and negative increments, respectively.&lt;/p&gt;
&lt;p&gt;This scale is useful when we want to highlight differences near 0 or 1. For survival rates this is important because a survival rate of 90% is unacceptable, while a survival of 99% is relatively good. We would much prefer a survival rate closer to 99.9%. We want our scale to highlight these difference and the logit does this. Note that 99.9/0.1 is about 10 times bigger than 99/1 which is about 10 times larger than 90/10. By using the log, these fold changes turn into constant increases.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;show-the-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Show the data&lt;/h3&gt;
&lt;p&gt;Now, back to our plot. Based on the plot above, do we conclude that a country with a low income is destined to have low survival rate? Do we conclude that survival rates in Sub-Saharan Africa are all lower than in Southern Asia, which in turn are lower than in the Pacific Islands, and so on?&lt;/p&gt;
&lt;p&gt;Jumping to this conclusion based on a plot showing averages is referred to as the &lt;em&gt;ecological fallacy&lt;/em&gt;. The almost perfect relationship between survival rates and income is only observed for the averages at the region level. Once we show all the data, we see a somewhat more complicated story:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/ecological-fallacy-all-data-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Specifically, we see that there is a large amount of variability. We see that countries from the same regions can be quite different and that countries with the same income can have different survival rates. For example, while on average Sub-Saharan Africa had the worse health and economic outcomes, there is wide variability within that group. Mauritius and Botswana are doing better than Angola and Sierra Leone, with Mauritius comparable to Western countries.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;vaccines&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: vaccines and infectious diseases&lt;/h2&gt;
&lt;p&gt;Vaccines have helped save millions of lives. In the 19th century, before herd immunization was achieved through vaccination programs, deaths from infectious diseases, such as smallpox and polio, were common. However, today vaccination programs have become somewhat controversial despite all the scientific evidence for their importance.&lt;/p&gt;
&lt;p&gt;The controversy started with a paper&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt; published in 1988 and led by Andrew Wakefield claiming
there was a link between the administration of the measles, mumps, and rubella (MMR) vaccine and the appearance of autism and bowel disease.
Despite much scientific evidence contradicting this finding, sensationalist media reports and fear-mongering from conspiracy theorists led parts of the public into believing that vaccines were harmful. As a result, many parents ceased to vaccinate their children. This dangerous practice can be potentially disastrous given that the Centers for Disease Control (CDC) estimates that vaccinations will prevent more than 21 million hospitalizations and 732,000 deaths among children born in the last 20 years (see Benefits from Immunization during the Vaccines for Children Program Era — United States, 1994-2013, MMWR&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;).
The 1988 paper has since been retracted and Andrew Wakefield was eventually “struck off the UK medical register, with a statement identifying deliberate falsification in the research published in The Lancet, and was thereby barred from practicing medicine in the UK.” (source: Wikipedia&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;). Yet misconceptions persist, in part due to self-proclaimed activists who continue to disseminate misinformation about vaccines.&lt;/p&gt;
&lt;p&gt;Effective communication of data is a strong antidote to misinformation and fear-mongering. Earlier we used an example provided by a Wall Street Journal article&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt; showing data related to the impact of vaccines on battling infectious diseases. Here we reconstruct that example.&lt;/p&gt;
&lt;p&gt;The data used for these plots were collected, organized, and distributed by the Tycho Project&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt;. They include weekly reported counts for seven diseases from 1928 to 2011, from all fifty states. The yearly totals are helpfully included in the &lt;strong&gt;dslabs&lt;/strong&gt; package:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(RColorBrewer)
library(dslabs)
data(us_contagious_diseases)
names(us_contagious_diseases)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;disease&amp;quot;         &amp;quot;state&amp;quot;           &amp;quot;year&amp;quot;            &amp;quot;weeks_reporting&amp;quot;
## [5] &amp;quot;count&amp;quot;           &amp;quot;population&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We create a temporary object &lt;code&gt;dat&lt;/code&gt; that stores only the measles data, includes a per 100,000 rate, orders states by average value of disease and removes Alaska and Hawaii since they only became states in the late 1950s. Note that there is a &lt;code&gt;weeks_reporting&lt;/code&gt; column that tells us for how many weeks of the year data was reported. We have to adjust for that value when computing the rate.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;the_disease &amp;lt;- &amp;quot;Measles&amp;quot;
dat &amp;lt;- us_contagious_diseases %&amp;gt;%
  filter(!state%in%c(&amp;quot;Hawaii&amp;quot;,&amp;quot;Alaska&amp;quot;) &amp;amp; disease == the_disease) %&amp;gt;%
  mutate(rate = count / population * 10000 * 52 / weeks_reporting) %&amp;gt;%
  mutate(state = reorder(state, rate))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now easily plot disease rates per year. Here are the measles data from California:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% filter(state == &amp;quot;California&amp;quot; &amp;amp; !is.na(rate)) %&amp;gt;%
  ggplot(aes(year, rate)) +
  geom_line() +
  ylab(&amp;quot;Cases per 10,000&amp;quot;)  +
  geom_vline(xintercept=1963, col = &amp;quot;blue&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/california-measles-time-series-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We add a vertical line at 1963 since this is when the vaccine was introduced [Control, Centers for Disease; Prevention (2014). CDC health information for international travel 2014 (the yellow book). p. 250. ISBN 9780199948505].&lt;/p&gt;
&lt;p&gt;Now can we show data for all states in one plot? We have three variables to show: year, state, and rate. In the WSJ figure, they use the x-axis for year, the y-axis for state, and color hue to represent rates. However, the color scale they use, which goes from yellow to blue to green to orange to red, can be improved.&lt;/p&gt;
&lt;p&gt;In our example, we want to use a sequential palette since there is no meaningful center, just low and high rates.&lt;/p&gt;
&lt;p&gt;We use the geometry &lt;code&gt;geom_tile&lt;/code&gt; to tile the region with colors representing disease rates. We use a square root transformation to avoid having the really high counts dominate the plot. Notice that missing values are shown in grey. Note that once a disease was pretty much eradicated, some states stopped reporting cases all together. This is why we see so much grey after 1980.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% ggplot(aes(year, state, fill = rate)) +
  geom_tile(color = &amp;quot;grey50&amp;quot;) +
  scale_x_continuous(expand=c(0,0)) +
  scale_fill_gradientn(colors = brewer.pal(9, &amp;quot;Reds&amp;quot;), trans = &amp;quot;sqrt&amp;quot;) +
  geom_vline(xintercept=1963, col = &amp;quot;blue&amp;quot;) +
  theme_minimal() +
  theme(panel.grid = element_blank(),
        legend.position=&amp;quot;bottom&amp;quot;,
        text = element_text(size = 8)) +
  ggtitle(the_disease) +
  ylab(&amp;quot;&amp;quot;) + xlab(&amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/vaccines-plot-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot makes a very striking argument for the contribution of vaccines. However, one limitation of this plot is that it uses color to represent quantity, which we earlier explained makes it harder to know exactly how high values are going. Position and lengths are better cues. If we are willing to lose state information, we can make a version of the plot that shows the values with position. We can also show the average for the US, which we compute like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;avg &amp;lt;- us_contagious_diseases %&amp;gt;%
  filter(disease==the_disease) %&amp;gt;% group_by(year) %&amp;gt;%
  summarize(us_rate = sum(count, na.rm = TRUE) /
              sum(population, na.rm = TRUE) * 10000)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now to make the plot we simply use the &lt;code&gt;geom_line&lt;/code&gt; geometry:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  filter(!is.na(rate)) %&amp;gt;%
    ggplot() +
  geom_line(aes(year, rate, group = state),  color = &amp;quot;grey50&amp;quot;,
            show.legend = FALSE, alpha = 0.2, size = 1) +
  geom_line(mapping = aes(year, us_rate),  data = avg, size = 1) +
  scale_y_continuous(trans = &amp;quot;sqrt&amp;quot;, breaks = c(5, 25, 125, 300)) +
  ggtitle(&amp;quot;Cases per 10,000 by state&amp;quot;) +
  xlab(&amp;quot;&amp;quot;) + ylab(&amp;quot;&amp;quot;) +
  geom_text(data = data.frame(x = 1955, y = 50),
            mapping = aes(x, y, label=&amp;quot;US average&amp;quot;),
            color=&amp;quot;black&amp;quot;) +
  geom_vline(xintercept=1963, col = &amp;quot;blue&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/03-content_files/figure-html/time-series-vaccines-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In theory, we could use color to represent the categorical value state, but it is hard to pick 50 distinct colors.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Reproduce the image plot we previously made but for smallpox. For this plot, do not include years in which cases were not reported in 10 or more weeks.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now reproduce the time series plot we previously made, but this time following the instructions of the previous question for smallpox.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For the state of California, make a time series plot showing rates for all diseases. Include only years with 10 or more weeks reporting. Use a different color for each disease.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now do the same for the rates for the US. Hint: compute the US rate by using summarize: the total divided by total population.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Hans_Rosling&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Hans_Rosling&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.gapminder.org/&#34; class=&#34;uri&#34;&gt;http://www.gapminder.org/&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.ted.com/talks/hans_rosling_reveals_new_insights_on_poverty?language=en&#34; class=&#34;uri&#34;&gt;https://www.ted.com/talks/hans_rosling_reveals_new_insights_on_poverty?language=en&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen&#34; class=&#34;uri&#34;&gt;https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(97)11096-0/abstract&#34; class=&#34;uri&#34;&gt;http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(97)11096-0/abstract&lt;/a&gt;&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm&#34; class=&#34;uri&#34;&gt;https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm&lt;/a&gt;&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Andrew_Wakefield&#34; class=&#34;uri&#34;&gt;https://en.wikipedia.org/wiki/Andrew_Wakefield&lt;/a&gt;&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://graphics.wsj.com/infectious-diseases-and-vaccines/&#34; class=&#34;uri&#34;&gt;http://graphics.wsj.com/infectious-diseases-and-vaccines/&lt;/a&gt;&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://www.tycho.pitt.edu/&#34; class=&#34;uri&#34;&gt;http://www.tycho.pitt.edu/&lt;/a&gt;&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Effective Visualizations</title>
      <link>/content/02-content/</link>
      <pubDate>Tue, 15 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/content/02-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#readings&#34;&gt;Readings&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-questions&#34;&gt;Guiding Questions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#distributions&#34;&gt;Visualizing data distributions&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#variable-types&#34;&gt;Variable types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-describing-student-heights&#34;&gt;Case study: describing student heights&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#distribution-function&#34;&gt;Distribution function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cdf-intro&#34;&gt;Cumulative distribution functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#histograms&#34;&gt;Histograms&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#smoothed-density&#34;&gt;Smoothed density&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#interpreting-the-y-axis&#34;&gt;Interpreting the y-axis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#densities-permit-stratification&#34;&gt;Densities permit stratification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#normal-distribution&#34;&gt;The normal distribution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#standard-units&#34;&gt;Standard units&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#quantile-quantile-plots&#34;&gt;Quantile-quantile plots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#percentiles&#34;&gt;Percentiles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#boxplots&#34;&gt;Boxplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#stratification&#34;&gt;Stratification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#student-height-cont&#34;&gt;Case study: describing student heights (continued)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#other-geometries&#34;&gt;ggplot2 geometries&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#barplots&#34;&gt;Barplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#histograms-1&#34;&gt;Histograms&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#density-plots&#34;&gt;Density plots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#boxplots-1&#34;&gt;Boxplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#qq-plots&#34;&gt;QQ-plots&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-visualization-principles&#34;&gt;Data visualization principles&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#encoding-data-using-visual-cues&#34;&gt;Encoding data using visual cues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#know-when-to-include-0&#34;&gt;Know when to include 0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#do-not-distort-quantities&#34;&gt;Do not distort quantities&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#order-categories-by-a-meaningful-value&#34;&gt;Order categories by a meaningful value&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#show-the-data&#34;&gt;Show the data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ease-comparisons&#34;&gt;Ease comparisons&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#use-common-axes&#34;&gt;Use common axes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#align-plots-vertically-to-see-horizontal-changes-and-horizontally-to-see-vertical-changes&#34;&gt;Align plots vertically to see horizontal changes and horizontally to see vertical changes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#consider-transformations&#34;&gt;Consider transformations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#visual-cues-to-be-compared-should-be-adjacent&#34;&gt;Visual cues to be compared should be adjacent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#use-color&#34;&gt;Use color&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#think-of-the-color-blind&#34;&gt;Think of the color blind&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plots-for-two-variables&#34;&gt;Plots for two variables&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#slope-charts&#34;&gt;Slope charts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bland-altman-plot&#34;&gt;Bland-Altman plot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#encoding-a-third-variable&#34;&gt;Encoding a third variable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#avoid-pseudo-three-dimensional-plots&#34;&gt;Avoid pseudo-three-dimensional plots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#avoid-too-many-significant-digits&#34;&gt;Avoid too many significant digits&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#know-your-audience&#34;&gt;Know your audience&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;readings&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-questions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Why do we create visualizations? What types of data are best suited for visuals?&lt;/li&gt;
&lt;li&gt;How do we best visualize the variability in our data?&lt;/li&gt;
&lt;li&gt;What makes a visual compelling?&lt;/li&gt;
&lt;li&gt;What are the worst visuals? Which of these are most frequently used? Why?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slides&lt;/h3&gt;
&lt;p&gt;As with last week’s content, the technical aspects of this lecture will be explored in greater detail in the Thursday practical lecture. Today, we will focus on some principles. We will also avoid slides entirely.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“The greatest value of a picture is when it forces us to notice what we never expected to see.” – John Tukey&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Today’s lecture will ask you to touch real data during the lecture. Please download the following dataset and load it into &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/data/ames.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;Ames.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This dataset is from houses in Ames, Iowa. (Thrilling!) We will use this dataset during the lecture to illustrate some of the points discussed below.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;distributions&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Visualizing data distributions&lt;/h1&gt;
&lt;p&gt;Throughout your education, you may have noticed that numerical data is often summarized with the &lt;em&gt;average&lt;/em&gt; value. For example, the quality of a high school is sometimes summarized with one number: the average score on a standardized test. Occasionally, a second number is reported: the &lt;em&gt;standard deviation&lt;/em&gt;. For example, you might read a report stating that scores were 680 plus or minus 50 (the standard deviation). The report has summarized an entire vector of scores with just two numbers. Is this appropriate? Is there any important piece of information that we are missing by only looking at this summary rather than the entire list?&lt;/p&gt;
&lt;p&gt;Our first data visualization building block is learning to summarize lists of factors or numeric vectors—the two primary data types that we encounter in data analytics. More often than not, the best way to share or explore this summary is through data visualization. The most basic statistical summary of a list of objects or numbers is its distribution. Once a vector has been summarized as a distribution, there are several data visualization techniques to effectively relay this information.&lt;/p&gt;
&lt;p&gt;In this section, we first discuss properties of a variety of distributions and how to visualize distributions using a motivating example of student heights. We then discuss some principles of data visualizations more broadly.&lt;/p&gt;
&lt;div id=&#34;variable-types&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Variable types&lt;/h2&gt;
&lt;p&gt;We will be working with two types of variables: categorical and numeric. Each can be divided into two other groups: categorical can be ordinal or not, whereas numerical variables can be discrete or continuous.&lt;/p&gt;
&lt;p&gt;When each entry in a vector comes from one of a small number of groups, we refer to the data as &lt;em&gt;categorical data&lt;/em&gt;. Two simple examples are sex (male or female) and regions (Northeast, South, North Central, West). Some categorical data can be ordered even if they are not numbers per se, such as spiciness (mild, medium, hot). In statistics textbooks, ordered categorical data are referred to as &lt;em&gt;ordinal&lt;/em&gt; data. In psychology, a number of different terms are used for this same idea.&lt;/p&gt;
&lt;p&gt;Examples of numerical data are population sizes, murder rates, and heights. Some numerical data can be treated as ordered categorical. We can further divide numerical data into continuous and discrete. Continuous variables are those that can take any value, such as heights, if measured with enough precision. For example, a pair of twins may be 68.12 and 68.11 inches, respectively. Counts, such as population sizes, are discrete because they have to be integers—that’s how we count.&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;case-study-describing-student-heights&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: describing student heights&lt;/h2&gt;
&lt;p&gt;Here we consider an artificial problem to help us illustrate the underlying concepts.&lt;/p&gt;
&lt;p&gt;Pretend that we have to describe the heights of our classmates to ET, an extraterrestrial that has never seen humans. As a first step, we need to collect data. To do this, we ask students to report their heights in inches. We ask them to provide sex information because we know there are two different distributions by sex. We collect the data and save it in the &lt;code&gt;heights&lt;/code&gt; data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
data(heights)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;One way to convey the heights to ET is to simply send him this list of 1050 heights. But there are much more effective ways to convey this information, and understanding the concept of a distribution will help. To simplify the explanation, we first focus on male heights.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;distribution-function&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Distribution function&lt;/h2&gt;
&lt;p&gt;It turns out that, in some cases, the average and the standard deviation are pretty much all we need to understand the data. We will learn data visualization techniques that will help us determine when this two number summary is appropriate. These same techniques will serve as an alternative for when two numbers are not enough.&lt;/p&gt;
&lt;p&gt;The most basic statistical summary of a list of objects or numbers is its distribution. The simplest way to think of a distribution is as a compact description of a list with many entries. This concept should not be new for readers of this book. For example, with categorical data, the distribution simply describes the proportion of each unique category. The sex represented in the heights dataset is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 
##    Female      Male 
## 0.2266667 0.7733333&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This two-category &lt;em&gt;frequency table&lt;/em&gt; is the simplest form of a distribution. We don’t really need to visualize it since one number describes everything we need to know: 23% are females and the rest are males. When there are more categories, then a simple barplot describes the distribution. Here is an example with US state regions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% group_by(region) %&amp;gt;%
  summarize(n = n()) %&amp;gt;%
  mutate(Proportion = n/sum(n),
         region = reorder(region, Proportion)) %&amp;gt;%
  ggplot(aes(x=region, y=Proportion, fill=region)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, show.legend = FALSE) +
  xlab(&amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/state-region-distribution-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This particular plot simply shows us four numbers, one for each category. We usually use barplots to display a few numbers. Although this particular plot does not provide much more insight than a frequency table itself, it is a first example of how we convert a vector into a plot that succinctly summarizes all the information in the vector. When the data is numerical, the task of displaying distributions is more challenging.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;cdf-intro&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Cumulative distribution functions&lt;/h2&gt;
&lt;p&gt;Numerical data that are not categorical also have distributions. In general, when data is not categorical, reporting the frequency of each entry is not an effective summary since most entries are unique. In our case study, while several students reported a height of 68 inches, only one student reported a height of &lt;code&gt;68.503937007874&lt;/code&gt; inches and only one student reported a height &lt;code&gt;68.8976377952756&lt;/code&gt; inches. We assume that they converted from 174 and 175 centimeters, respectively.&lt;/p&gt;
&lt;p&gt;Statistics textbooks teach us that a more useful way to define a distribution for numeric data is to define a function that reports the proportion of the data below &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; for all possible values of &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;. This function is called the cumulative distribution function (CDF). In statistics, the following notation is used:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ F(a) = \mbox{Pr}(x \leq a) \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Here is a plot of &lt;span class=&#34;math inline&#34;&gt;\(F\)&lt;/span&gt; for the male height data:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/ecdf-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Similar to what the frequency table does for categorical data, the CDF
defines the distribution for numerical data. From the plot, we can see that 16% of the values are below 65, since &lt;span class=&#34;math inline&#34;&gt;\(F(66)=\)&lt;/span&gt; 0.1637931, or that 84% of the values are below 72, since &lt;span class=&#34;math inline&#34;&gt;\(F(72)=\)&lt;/span&gt; 0.841133,
and so on. In fact, we can report the proportion of values between any two heights, say &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;, by computing &lt;span class=&#34;math inline&#34;&gt;\(F(b) - F(a)\)&lt;/span&gt;. This means that if we send this plot above to ET, he will have all the information needed to reconstruct the entire list. Paraphrasing the expression “a picture is worth a thousand words”, in this case, a picture is as informative as 812 numbers.&lt;/p&gt;
&lt;p&gt;A final note: because CDFs can be defined mathematically—and absent any data—the word &lt;em&gt;empirical&lt;/em&gt; is added to make the distinction when data is used. We therefore use the term empirical CDF (eCDF).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;histograms&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Histograms&lt;/h2&gt;
&lt;p&gt;Although the CDF concept is widely discussed in statistics textbooks, the plot is actually not very popular in practice. The main reason is that it does not easily convey characteristics of interest such as: at what value is the distribution centered? Is the distribution symmetric? What ranges contain 95% of the values? I doubt you can figure these out from glancing at the plot above. Histograms are much preferred because they greatly facilitate answering such questions. Histograms sacrifice just a bit of information to produce plots that are much easier to interpret.&lt;/p&gt;
&lt;p&gt;The simplest way to make a histogram is to divide the span of our data into non-overlapping bins of the same size. Then, for each bin, we count the number of values that fall in that interval. The histogram plots these counts as bars with the base of the bar defined by the intervals. Here is the histogram for the height data splitting the range of values into one inch intervals: &lt;span class=&#34;math inline&#34;&gt;\((49.5, 50.5],(50.5, 51.5],(51.5,52.5],(52.5,53.5],...,(82.5,83.5]\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/height-histogram-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If we send this plot to some uninformed reader, she will immediately learn some important properties about our data. First, the range of the data is from 50 to 84 with the majority (more than 95%) between 63 and 75 inches. Second, the heights are close to symmetric around 69 inches. Also, by adding up counts, this reader could obtain a very good approximation of the proportion of the data in any interval. Therefore, the histogram above is not only easy to interpret, but also provides almost all the information contained in the raw list of 812 heights with about 30 bin counts.&lt;/p&gt;
&lt;p&gt;What information do we lose? Note that all values in each interval are treated the same when computing bin heights. So, for example, the histogram does not distinguish between 64, 64.1, and 64.2 inches. Given that these differences are almost unnoticeable to the eye, the practical implications are negligible and we were able to summarize the data to just 23 numbers.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;smoothed-density&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Smoothed density&lt;/h2&gt;
&lt;p&gt;Smooth density plots are aesthetically more appealing than histograms. Here is what a smooth density plot looks like for our heights data:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/example-of-smoothed-density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this plot, we no longer have sharp edges at the interval boundaries and many of the local peaks have been removed. Also, the scale of the y-axis changed from counts to &lt;em&gt;density&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;To understand the smooth densities, we have to understand &lt;em&gt;estimates&lt;/em&gt;, a topic we don’t cover until later. However, we provide a heuristic explanation to help you understand the basics so you can use this useful data visualization tool.&lt;/p&gt;
&lt;p&gt;The main new concept you must understand is that we assume that our list of observed values is a subset of a much larger list of unobserved values. In the case of heights, you can imagine that our list of 812 male students comes from a hypothetical list containing all the heights of all the male students in all the world measured very precisely. Let’s say there are 1,000,000 of these measurements. This list of values has a distribution, like any list of values, and this larger distribution is really what we want to report to ET since it is much more general. Unfortunately, we don’t get to see it.&lt;/p&gt;
&lt;p&gt;However, we make an assumption that helps us perhaps approximate it. If we had 1,000,000 values, measured very precisely, we could make a histogram with very, very small bins. The assumption is that if we show this, the height of consecutive bins will be similar. This is what we mean by smooth: we don’t have big jumps in the heights of consecutive bins. Below we have a hypothetical histogram with bins of size 1:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/simulated-data-histogram-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The smaller we make the bins, the smoother the histogram gets. Here are the histograms with bin width of 1, 0.5, and 0.1:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/simulated-data-histogram-2-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The smooth density is basically the curve that goes through the top of the histogram bars when the bins are very, very small. To make the curve not depend on the hypothetical size of the hypothetical list, we compute the curve on frequencies rather than counts:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/simulated-density-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now, back to reality. We don’t have millions of measurements. In this concrete example, we have 812 and we can’t make a histogram with very small bins.&lt;/p&gt;
&lt;p&gt;We therefore make a histogram, using bin sizes appropriate for our data and computing frequencies rather than counts, and we draw a smooth curve that goes through the tops of the histogram bars. The following plots (loosely) demonstrate the steps that the computer goes through to ultimately create a smooth density:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/smooth-density-2-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, remember that &lt;em&gt;smooth&lt;/em&gt; is a relative term. We can actually control the &lt;em&gt;smoothness&lt;/em&gt; of the curve that defines the smooth density through an option in the function that computes the smooth density curve. Here are two examples using different degrees of smoothness on the same histogram:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/densities-different-smoothness-1.png&#34; width=&#34;100%&#34; /&gt;
We need to make this choice with care as the resulting visualizations can change our interpretation of the data. We should select a degree of smoothness that we can defend as being representative of the underlying data. In the case of height, we really do have reason to believe that the proportion of people with similar heights should be the same. For example, the proportion that is 72 inches should be more similar to the proportion that is 71 than to the proportion that is 78 or 65. This implies that the curve should be pretty smooth; that is, the curve should look more like the example on the right than on the left.&lt;/p&gt;
&lt;p&gt;While the histogram is an assumption-free summary, the smoothed density is based on some assumptions.&lt;/p&gt;
&lt;div id=&#34;interpreting-the-y-axis&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Interpreting the y-axis&lt;/h3&gt;
&lt;p&gt;Note that interpreting the y-axis of a smooth density plot is not straightforward. It is scaled so that the area under the density curve adds up to 1. If you imagine we form a bin with a base 1 unit in length, the y-axis value tells us the proportion of values in that bin. However, this is only true for bins of size 1. For other size intervals, the best way to determine the proportion of data in that interval is by computing the proportion of the total area contained in that interval. For example, here are the proportion of values between 65 and 68:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/area-under-curve-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The proportion of this area is about
0.3,
meaning that about
30%
of male heights are between 65 and 68 inches.&lt;/p&gt;
&lt;p&gt;By understanding this, we are ready to use the smooth density as a summary. For this dataset, we would feel quite comfortable with the smoothness assumption, and therefore with sharing this aesthetically pleasing figure with ET, which he could use to understand our male heights data:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/example-of-smoothed-density-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;densities-permit-stratification&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Densities permit stratification&lt;/h3&gt;
&lt;p&gt;As a final note, we point out that an advantage of smooth densities over histograms for visualization purposes is that densities make it easier to compare two distributions. This is in large part because the jagged edges of the histogram add clutter. Here is an example comparing male and female heights:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/two-densities-one-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;With the right argument, &lt;code&gt;ggplot&lt;/code&gt; automatically shades the intersecting region with a different color. We will show examples of &lt;strong&gt;ggplot2&lt;/strong&gt; code in the coming Example later this week.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;normal-distribution&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The normal distribution&lt;/h2&gt;
&lt;p&gt;Histograms and density plots provide excellent summaries of a distribution. But can we summarize even further? We often see the average and standard deviation used as summary statistics: a two-number summary! To understand what these summaries are and why they are so widely used, we need to understand the normal distribution.&lt;/p&gt;
&lt;p&gt;The normal distribution, also known as the bell curve and as the Gaussian distribution, is one of the most famous mathematical concepts in history. A reason for this is that approximately normal distributions occur in many situations, including gambling winnings, heights, weights, blood pressure, standardized test scores, and experimental measurement errors. There are explanations for this, but we describe these later. Here we focus on how the normal distribution helps us summarize data.&lt;/p&gt;
&lt;p&gt;Rather than using data, the normal distribution is defined with a mathematical formula. For any interval &lt;span class=&#34;math inline&#34;&gt;\((a,b)\)&lt;/span&gt;, the proportion of values in that interval can be computed using this formula:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\mbox{Pr}(a &amp;lt; x &amp;lt; b) = \int_a^b \frac{1}{\sqrt{2\pi}s} e^{-\frac{1}{2}\left( \frac{x-m}{s} \right)^2} \, dx\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You don’t need to memorize or understand the details of the formula. But note that it is completely defined by just two parameters: &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;. The rest of the symbols in the formula represent the interval ends that we determine, &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;, and known mathematical constants &lt;span class=&#34;math inline&#34;&gt;\(\pi\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(e\)&lt;/span&gt;. These two parameters, &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;, are referred to as the &lt;em&gt;average&lt;/em&gt; (also called the &lt;em&gt;mean&lt;/em&gt;) and the &lt;em&gt;standard deviation&lt;/em&gt; (SD) of the distribution, respectively.&lt;/p&gt;
&lt;p&gt;The distribution is symmetric, centered at the average, and most values (about 95%) are within 2 SDs from the average. Here is what the normal distribution looks like when the average is 0 and the SD is 1:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/normal-distribution-density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The fact that the distribution is defined by just two parameters implies that if a dataset is approximated by a normal distribution, all the information needed to describe the distribution can be encoded in just two numbers: the average and the standard deviation. We now define these values for an arbitrary list of numbers.&lt;/p&gt;
&lt;p&gt;For a list of numbers contained in a vector &lt;code&gt;x&lt;/code&gt;, the average is defined as:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m &amp;lt;- sum(x) / length(x)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the SD is defined as:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- sqrt(sum((x-mu)^2) / length(x))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which can be interpreted as the average distance between values and their average.&lt;/p&gt;
&lt;p&gt;Let’s compute the values for the height for males which we will store in the object &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;index &amp;lt;- heights$sex == &amp;quot;Male&amp;quot;
x &amp;lt;- heights$height[index]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The pre-built functions &lt;code&gt;mean&lt;/code&gt; and &lt;code&gt;sd&lt;/code&gt; (note that for reasons explained in Section &lt;a href=&#34;#data-driven-model&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;, &lt;code&gt;sd&lt;/code&gt; divides by &lt;code&gt;length(x)-1&lt;/code&gt; rather than &lt;code&gt;length(x)&lt;/code&gt;) can be used here:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m &amp;lt;- mean(x)
s &amp;lt;- sd(x)
c(average = m, sd = s)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   average        sd 
## 69.314755  3.611024&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is a plot of the smooth density and the normal distribution with mean = 69.3 and SD = 3.6 plotted as a black line with our student height smooth density in blue:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/data-and-normal-densities-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The normal distribution does appear to be quite a good approximation here. We now will see how well this approximation works at predicting the proportion of values within intervals.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;standard-units&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Standard units&lt;/h2&gt;
&lt;p&gt;For data that is approximately normally distributed, it is convenient to think in terms of &lt;em&gt;standard units&lt;/em&gt;. The standard unit of a value tells us how many standard deviations away from the average it is. Specifically, for a value &lt;code&gt;x&lt;/code&gt; from a vector &lt;code&gt;X&lt;/code&gt;, we define the value of &lt;code&gt;x&lt;/code&gt; in standard units as &lt;code&gt;z = (x - m)/s&lt;/code&gt; with &lt;code&gt;m&lt;/code&gt; and &lt;code&gt;s&lt;/code&gt; the average and standard deviation of &lt;code&gt;X&lt;/code&gt;, respectively. Why is this convenient?&lt;/p&gt;
&lt;p&gt;First look back at the formula for the normal distribution and note that what is being exponentiated is &lt;span class=&#34;math inline&#34;&gt;\(-z^2/2\)&lt;/span&gt; with &lt;span class=&#34;math inline&#34;&gt;\(z\)&lt;/span&gt; equivalent to &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; in standard units. Because the maximum of &lt;span class=&#34;math inline&#34;&gt;\(e^{-z^2/2}\)&lt;/span&gt; is when &lt;span class=&#34;math inline&#34;&gt;\(z=0\)&lt;/span&gt;, this explains why the maximum of the distribution occurs at the average. It also explains the symmetry since &lt;span class=&#34;math inline&#34;&gt;\(- z^2/2\)&lt;/span&gt; is symmetric around 0. Second, note that if we convert the normally distributed data to standard units, we can quickly know if, for example, a person is about average (&lt;span class=&#34;math inline&#34;&gt;\(z=0\)&lt;/span&gt;), one of the largest (&lt;span class=&#34;math inline&#34;&gt;\(z \approx 2\)&lt;/span&gt;), one of the smallest (&lt;span class=&#34;math inline&#34;&gt;\(z \approx -2\)&lt;/span&gt;), or an extremely rare occurrence (&lt;span class=&#34;math inline&#34;&gt;\(z &amp;gt; 3\)&lt;/span&gt; or &lt;span class=&#34;math inline&#34;&gt;\(z &amp;lt; -3\)&lt;/span&gt;). Remember that it does not matter what the original units are, these rules apply to any data that is approximately normal.&lt;/p&gt;
&lt;p&gt;In R, we can obtain standard units using the function &lt;code&gt;scale&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;z &amp;lt;- scale(x)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now to see how many men are within 2 SDs from the average, we simply type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(abs(z) &amp;lt; 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9495074&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The proportion is about 95%, which is what the normal distribution predicts! To further confirm that, in fact, the approximation is a good one, we can use quantile-quantile plots.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;quantile-quantile-plots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Quantile-quantile plots&lt;/h2&gt;
&lt;p&gt;A systematic way to assess how well the normal distribution fits the data is to check if the observed and predicted proportions match. In general, this is the approach of the quantile-quantile plot (QQ-plot).&lt;/p&gt;
&lt;p&gt;First let’s define the theoretical quantiles for the normal distribution. In statistics books we use the symbol &lt;span class=&#34;math inline&#34;&gt;\(\Phi(x)\)&lt;/span&gt; to define the function that gives us the probability of a standard normal distribution being smaller than &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;. So, for example, &lt;span class=&#34;math inline&#34;&gt;\(\Phi(-1.96) = 0.025\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\Phi(1.96) = 0.975\)&lt;/span&gt;. In R, we can evaluate &lt;span class=&#34;math inline&#34;&gt;\(\Phi\)&lt;/span&gt; using the &lt;code&gt;pnorm&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pnorm(-1.96)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.0249979&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The inverse function &lt;span class=&#34;math inline&#34;&gt;\(\Phi^{-1}(x)\)&lt;/span&gt; gives us the &lt;em&gt;theoretical quantiles&lt;/em&gt; for the normal distribution. So, for example, &lt;span class=&#34;math inline&#34;&gt;\(\Phi^{-1}(0.975) = 1.96\)&lt;/span&gt;. In R, we can evaluate the inverse of &lt;span class=&#34;math inline&#34;&gt;\(\Phi\)&lt;/span&gt; using the &lt;code&gt;qnorm&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qnorm(0.975)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1.959964&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that these calculations are for the standard normal distribution by default (mean = 0, standard deviation = 1), but we can also define these for any normal distribution. We can do this using the &lt;code&gt;mean&lt;/code&gt; and &lt;code&gt;sd&lt;/code&gt; arguments in the &lt;code&gt;pnorm&lt;/code&gt; and &lt;code&gt;qnorm&lt;/code&gt; function. For example, we can use &lt;code&gt;qnorm&lt;/code&gt; to determine quantiles of a distribution with a specific average and standard deviation&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qnorm(0.975, mean = 5, sd = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 8.919928&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the normal distribution, all the calculations related to quantiles are done without data, thus the name &lt;em&gt;theoretical quantiles&lt;/em&gt;. But quantiles can be defined for any distribution, including an empirical one. So if we have data in a vector &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;, we can define the quantile associated with any proportion &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; as the &lt;span class=&#34;math inline&#34;&gt;\(q\)&lt;/span&gt; for which the proportion of values below &lt;span class=&#34;math inline&#34;&gt;\(q\)&lt;/span&gt; is &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;. Using R code, we can define &lt;code&gt;q&lt;/code&gt; as the value for which &lt;code&gt;mean(x &amp;lt;= q) = p&lt;/code&gt;. Notice that not all &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; have a &lt;span class=&#34;math inline&#34;&gt;\(q\)&lt;/span&gt; for which the proportion is exactly &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;. There are several ways of defining the best &lt;span class=&#34;math inline&#34;&gt;\(q\)&lt;/span&gt; as discussed in the help for the &lt;code&gt;quantile&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;To give a quick example, for the male heights data, we have that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(x &amp;lt;= 69.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.5147783&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So about 50% are shorter or equal to 69 inches. This implies that if &lt;span class=&#34;math inline&#34;&gt;\(p=0.50\)&lt;/span&gt; then &lt;span class=&#34;math inline&#34;&gt;\(q=69.5\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The idea of a QQ-plot is that if your data is well approximated by normal distribution then the quantiles of your data should be similar to the quantiles of a normal distribution. To construct a QQ-plot, we do the following:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Define a vector of &lt;span class=&#34;math inline&#34;&gt;\(m\)&lt;/span&gt; proportions &lt;span class=&#34;math inline&#34;&gt;\(p_1, p_2, \dots, p_m\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Define a vector of quantiles &lt;span class=&#34;math inline&#34;&gt;\(q_1, \dots, q_m\)&lt;/span&gt; for your data for the proportions &lt;span class=&#34;math inline&#34;&gt;\(p_1, \dots, p_m\)&lt;/span&gt;. We refer to these as the &lt;em&gt;sample quantiles&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Define a vector of theoretical quantiles for the proportions &lt;span class=&#34;math inline&#34;&gt;\(p_1, \dots, p_m\)&lt;/span&gt; for a normal distribution with the same average and standard deviation as the data.&lt;/li&gt;
&lt;li&gt;Plot the sample quantiles versus the theoretical quantiles.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let’s construct a QQ-plot using R code. Start by defining the vector of proportions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p &amp;lt;- seq(0.05, 0.95, 0.05)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To obtain the quantiles from the data, we can use the &lt;code&gt;quantile&lt;/code&gt; function like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample_quantiles &amp;lt;- quantile(x, p)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To obtain the theoretical normal distribution quantiles with the corresponding average and SD, we use the &lt;code&gt;qnorm&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;theoretical_quantiles &amp;lt;- qnorm(p, mean = mean(x), sd = sd(x))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see if they match or not, we plot them against each other and draw the identity line:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;qplot(theoretical_quantiles, sample_quantiles) + geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/qqplot-original-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice that this code becomes much cleaner if we use standard units:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sample_quantiles &amp;lt;- quantile(z, p)
theoretical_quantiles &amp;lt;- qnorm(p)
qplot(theoretical_quantiles, sample_quantiles) + geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above code is included to help describe QQ-plots. However, in practice it is easier to use the &lt;strong&gt;ggplot2&lt;/strong&gt; code described in Section &lt;a href=&#34;#other-geometries&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;% filter(sex == &amp;quot;Male&amp;quot;) %&amp;gt;%
  ggplot(aes(sample = scale(height))) +
  geom_qq() +
  geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;While for the illustration above we used 20 quantiles, the default from the &lt;code&gt;geom_qq&lt;/code&gt; function is to use as many quantiles as data points.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;percentiles&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Percentiles&lt;/h2&gt;
&lt;p&gt;Before we move on, let’s define some terms that are commonly used in exploratory data analysis.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Percentiles&lt;/em&gt; are special cases of &lt;em&gt;quantiles&lt;/em&gt; that are commonly used. The percentiles are the quantiles you obtain when setting the &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; at &lt;span class=&#34;math inline&#34;&gt;\(0.01, 0.02, ..., 0.99\)&lt;/span&gt;. We call, for example, the case of &lt;span class=&#34;math inline&#34;&gt;\(p=0.25\)&lt;/span&gt; the 25th percentile, which gives us a number for which 25% of the data is below. The most famous percentile is the 50th, also known as the &lt;em&gt;median&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;For the normal distribution the &lt;em&gt;median&lt;/em&gt; and average are the same, but this is generally not the case.&lt;/p&gt;
&lt;p&gt;Another special case that receives a name are the &lt;em&gt;quartiles&lt;/em&gt;, which are obtained when setting &lt;span class=&#34;math inline&#34;&gt;\(p=0.25,0.50\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(0.75\)&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;boxplots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Boxplots&lt;/h2&gt;
&lt;p&gt;To introduce boxplots we will go back to the US murder data.
Suppose we want to summarize the murder rate distribution. Using the data visualization technique we have learned, we can quickly see that the normal approximation does not apply here:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/hist-qqplot-non-normal-data-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, the histogram above or a smooth density plot would serve as a relatively succinct summary.&lt;/p&gt;
&lt;p&gt;Now suppose those used to receiving just two numbers as summaries ask us for a more compact numerical summary.&lt;/p&gt;
&lt;p&gt;Here, some of our wise predecessors have offered their advice. In short, the standard methodology is to provide a five-number summary composed of the range along with the quartiles (the 25th, 50th, and 75th percentiles). Further, ignore &lt;em&gt;outliers&lt;/em&gt; when computing the range and instead plot these as independent points.&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; Finally, plot these numbers as a “box” with “whiskers” like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/first-boxplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;with the box defined by the 25% and 75% percentile and the whiskers showing the range. The distance between these two is called the &lt;em&gt;interquartile&lt;/em&gt; range. The median is shown with a horizontal line. Today, we call these &lt;em&gt;boxplots&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;From just this simple plot, we know that the median is about 2.5, that the distribution is not symmetric, and that the range is 0 to 5 for the great majority of states with two exceptions.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;stratification&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Stratification&lt;/h2&gt;
&lt;p&gt;In data analysis we often divide observations into groups based on the values of one or more variables associated with those observations. For example in the next section we divide the height values into groups based on a sex variable: females and males. We call this procedure &lt;em&gt;stratification&lt;/em&gt; and refer to the resulting groups as &lt;em&gt;strata&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Stratification is common in data visualization because we are often interested in how the distribution of variables differs across different subgroups. We will see several examples throughout this part of the book. We will revisit the concept of stratification when we learn regression in Chapter &lt;a href=&#34;#regression&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; and in the Machine Learning part of the book.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;student-height-cont&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: describing student heights (continued)&lt;/h2&gt;
&lt;p&gt;Using the histogram, density plots, and QQ-plots, we have become convinced that the male height data is well approximated with a normal distribution. In this case, we report back to ET a very succinct summary: male heights follow a normal distribution with an average of 69.3 inches and a SD of 3.6 inches. With this information, ET will have a good idea of what to expect when he meets our male students.
However, to provide a complete picture we need to also provide a summary of the female heights.&lt;/p&gt;
&lt;p&gt;We learned that boxplots are useful when we want to quickly compare two or more distributions. Here are the heights for men and women:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/female-male-boxplots-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot immediately reveals that males are, on average, taller than females. The standard deviations appear to be similar. But does the normal approximation also work for the female height data collected by the survey? We expect that they will follow a normal distribution, just like males. However, exploratory plots reveal that the approximation is not as useful:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/histogram-qqplot-female-heights-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see something we did not see for the males: the density plot has a second “bump”. Also, the QQ-plot shows that the highest points tend to be taller than expected by the normal distribution. Finally, we also see five points in the QQ-plot that suggest shorter than expected heights for a normal distribution. When reporting back to ET, we might need to provide a histogram rather than just the average and standard deviation for the female heights.&lt;/p&gt;
&lt;p&gt;However, go back and read Tukey’s quote. We have noticed what we didn’t expect to see. If we look at other female height distributions, we do find that they are well approximated with a normal distribution. So why are our female students different? Is our class a requirement for the female basketball team? Are small proportions of females claiming to be taller than they are? Another, perhaps more likely, explanation is that in the form students used to enter their heights, &lt;code&gt;FEMALE&lt;/code&gt; was the default sex and some males entered their heights, but forgot to change the sex variable. In any case, data visualization has helped discover a potential flaw in our data.&lt;/p&gt;
&lt;p&gt;Regarding the five smallest values, note that these values are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;% filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  top_n(5, desc(height)) %&amp;gt;%
  pull(height)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 51 53 55 52 52&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Because these are reported heights, a possibility is that the student meant to enter &lt;code&gt;5&#39;1&#34;&lt;/code&gt;, &lt;code&gt;5&#39;2&#34;&lt;/code&gt;, &lt;code&gt;5&#39;3&#34;&lt;/code&gt; or &lt;code&gt;5&#39;5&#34;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Define variables containing the heights of males and females like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(heights)
male &amp;lt;- heights$height[heights$sex == &amp;quot;Male&amp;quot;]
female &amp;lt;- heights$height[heights$sex == &amp;quot;Female&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How many measurements do we have for each?&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Suppose we can’t make a plot and want to compare the distributions side by side. We can’t just list all the numbers. Instead, we will look at the percentiles. Create a five row table showing &lt;code&gt;female_percentiles&lt;/code&gt; and &lt;code&gt;male_percentiles&lt;/code&gt; with the 10th, 30th, 50th, 70th, &amp;amp; 90th percentiles for each sex. Then create a data frame with these two as columns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Study the following boxplots showing population sizes by country:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/boxplot-exercise-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Which continent has the country with the biggest population size?&lt;/p&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;What continent has the largest median population size?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is median population size for Africa to the nearest million?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What proportion of countries in Europe have populations below 14 million?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If we use a log transformation, which continent shown above has the largest interquartile range?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Load the height data set and create a vector &lt;code&gt;x&lt;/code&gt; with just the male heights:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(heights)
x &amp;lt;- heights$height[heights$sex==&amp;quot;Male&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What proportion of the data is between 69 and 72 inches (taller than 69, but shorter or equal to 72)? Hint: use a logical operator and &lt;code&gt;mean&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;9&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Suppose all you know about the data is the average and the standard deviation. Use the normal approximation to estimate the proportion you just calculated. Hint: start by computing the average and standard deviation. Then use the &lt;code&gt;pnorm&lt;/code&gt; function to predict the proportions.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Notice that the approximation calculated in question nine is very close to the exact calculation in the first question. Now perform the same task for more extreme values. Compare the exact calculation and the normal approximation for the interval (79,81]. How many times bigger is the actual proportion than the approximation?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Approximate the distribution of adult men in the world as normally distributed with an average of 69 inches and a standard deviation of 3 inches. Using this approximation, estimate the proportion of adult men that are 7 feet tall or taller, referred to as &lt;em&gt;seven footers&lt;/em&gt;. Hint: use the &lt;code&gt;pnorm&lt;/code&gt; function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are about 1 billion men between the ages of 18 and 40 in the world. Use your answer to the previous question to estimate how many of these men (18-40 year olds) are seven feet tall or taller in the world?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are about 10 National Basketball Association (NBA) players that are 7 feet tall or higher. Using the answer to the previous two questions, what proportion of the world’s 18-to-40-year-old &lt;em&gt;seven footers&lt;/em&gt; are in the NBA?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat the calculations performed in the previous question for Lebron James’ height: 6 feet 8 inches. There are about 150 players that are at least that tall.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In answering the previous questions, we found that it is not at all rare for a seven footer to become an NBA player. What would be a fair critique of our calculations:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;Practice and talent are what make a great basketball player, not height.&lt;/li&gt;
&lt;li&gt;The normal approximation is not appropriate for heights.&lt;/li&gt;
&lt;li&gt;As seen in question 10, the normal approximation tends to underestimate the extreme values. It’s possible that there are more seven footers than we predicted.&lt;/li&gt;
&lt;li&gt;As seen in question 10, the normal approximation tends to overestimate the extreme values. It’s possible that there are fewer seven footers than we predicted.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;other-geometries&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;ggplot2 geometries&lt;/h2&gt;
&lt;p&gt;Alhough we haven’t gone into detain about the &lt;strong&gt;ggplot2&lt;/strong&gt; package for data visualization, we now will briefly discuss some of the geometries involved in the plots above. We will discuss &lt;strong&gt;ggplot2&lt;/strong&gt; in (excruciating) detail later this week. For now, we will briefly demonstrate how to generate plots related to distributions.&lt;/p&gt;
&lt;div id=&#34;barplots&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Barplots&lt;/h3&gt;
&lt;p&gt;To generate a barplot we can use the &lt;code&gt;geom_bar&lt;/code&gt; geometry. The default is to count the number of each category and draw a bar. Here is the plot for the regions of the US.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% ggplot(aes(region)) + geom_bar()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-geom-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We often already have a table with a distribution that we want to present as a barplot. Here is an example of such a table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(murders)
tab &amp;lt;- murders %&amp;gt;%
  count(region) %&amp;gt;%
  mutate(proportion = n/sum(n))
tab&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##          region  n proportion
## 1     Northeast  9  0.1764706
## 2         South 17  0.3333333
## 3 North Central 12  0.2352941
## 4          West 13  0.2549020&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We no longer want &lt;code&gt;geom_bar&lt;/code&gt; to count, but rather just plot a bar to the height provided by the &lt;code&gt;proportion&lt;/code&gt; variable. For this we need to provide &lt;code&gt;x&lt;/code&gt; (the categories) and &lt;code&gt;y&lt;/code&gt; (the values) and use the &lt;code&gt;stat=&#34;identity&#34;&lt;/code&gt; option.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab %&amp;gt;% ggplot(aes(region, proportion)) + geom_bar(stat = &amp;quot;identity&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/region-freq-barplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;histograms-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Histograms&lt;/h3&gt;
&lt;p&gt;To generate histograms we use &lt;code&gt;geom_histogram&lt;/code&gt;. By looking at the help file for this function, we learn that the only required argument is &lt;code&gt;x&lt;/code&gt;, the variable for which we will construct a histogram. We dropped the &lt;code&gt;x&lt;/code&gt; because we know it is the first argument.
The code looks like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  ggplot(aes(height)) +
  geom_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we run the code above, it gives us a message:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;stat_bin()&lt;/code&gt; using &lt;code&gt;bins = 30&lt;/code&gt;. Pick better value with
&lt;code&gt;binwidth&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We previously used a bin size of 1 inch, so the code looks like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  ggplot(aes(height)) +
  geom_histogram(binwidth = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, if for aesthetic reasons we want to add color, we use the arguments described in the help file. We also add labels and a title:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  ggplot(aes(height)) +
  geom_histogram(binwidth = 1, fill = &amp;quot;blue&amp;quot;, col = &amp;quot;black&amp;quot;) +
  xlab(&amp;quot;Male heights in inches&amp;quot;) +
  ggtitle(&amp;quot;Histogram&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/height-histogram-geom-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;density-plots&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Density plots&lt;/h3&gt;
&lt;p&gt;To create a smooth density, we use the &lt;code&gt;geom_density&lt;/code&gt;. To make a smooth density plot with the data previously shown as a histogram we can use this code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  ggplot(aes(height)) +
  geom_density()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To fill in with color, we can use the &lt;code&gt;fill&lt;/code&gt; argument.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  ggplot(aes(height)) +
  geom_density(fill=&amp;quot;blue&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/ggplot-density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To change the smoothness of the density, we use the &lt;code&gt;adjust&lt;/code&gt; argument to multiply the default value by that &lt;code&gt;adjust&lt;/code&gt;. For example, if we want the bandwidth to be twice as big we use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) +
  geom_density(fill=&amp;quot;blue&amp;quot;, adjust = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;boxplots-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Boxplots&lt;/h3&gt;
&lt;p&gt;The geometry for boxplot is &lt;code&gt;geom_boxplot&lt;/code&gt;. As discussed, boxplots are useful for comparing distributions. For example, below are the previously shown heights for women, but compared to men. For this geometry, we need arguments &lt;code&gt;x&lt;/code&gt; as the categories, and &lt;code&gt;y&lt;/code&gt; as the values.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/female-male-boxplots-geom-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;qq-plots&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;QQ-plots&lt;/h3&gt;
&lt;p&gt;For qq-plots we use the &lt;code&gt;geom_qq&lt;/code&gt; geometry. From the help file, we learn that we need to specify the &lt;code&gt;sample&lt;/code&gt; (we will learn about samples in a later bit of the course). Here is the qqplot for men heights.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;% filter(sex==&amp;quot;Male&amp;quot;) %&amp;gt;%
  ggplot(aes(sample = height)) +
  geom_qq()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/ggplot-qq-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default, the sample variable is compared to a normal distribution with average 0 and standard deviation 1. To change this, we use the &lt;code&gt;dparams&lt;/code&gt; arguments based on the help file. Adding an identity line is as simple as assigning another layer. For straight lines, we use the &lt;code&gt;geom_abline&lt;/code&gt; function. The default line is the identity line (slope = 1, intercept = 0).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;params &amp;lt;- heights %&amp;gt;% filter(sex==&amp;quot;Male&amp;quot;) %&amp;gt;%
  summarize(mean = mean(height), sd = sd(height))

heights %&amp;gt;% filter(sex==&amp;quot;Male&amp;quot;) %&amp;gt;%
  ggplot(aes(sample = height)) +
  geom_qq(dparams = params) +
  geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another option here is to scale the data first and then make a qqplot against the standard normal.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex==&amp;quot;Male&amp;quot;) %&amp;gt;%
  ggplot(aes(sample = scale(height))) +
  geom_qq() +
  geom_abline()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;data-visualization-principles&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Data visualization principles&lt;/h1&gt;
&lt;p&gt;We have already provided some rules to follow as we created plots for our examples. Here, we aim to provide some general principles we can use as a guide for effective data visualization. Much of this section is based on a talk by Karl Broman&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; titled “Creating Effective Figures and Tables”&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt; and includes some of the figures which were made with code that Karl makes available on his GitHub repository&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;, as well as class notes from Peter Aldhous’ Introduction to Data Visualization course&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;. Following Karl’s approach, we show some examples of plot styles we should avoid, explain how to improve them, and use these as motivation for a list of principles. We compare and contrast plots that follow these principles to those that don’t.&lt;/p&gt;
&lt;p&gt;The principles are mostly based on research related to how humans detect patterns and make visual comparisons. The preferred approaches are those that best fit the way our brains process visual information. When deciding on a visualization approach, it is also important to keep our goal in mind. We may be comparing a viewable number of quantities, describing distributions for categories or numeric values, comparing the data from two groups, or describing the relationship between two variables. As a final note, we want to emphasize that for a data scientist it is important to adapt and optimize graphs to the audience. For example, an exploratory plot made for ourselves will be different than a chart intended to communicate a finding to a general audience.&lt;/p&gt;
&lt;p&gt;As with the discussion above, we will be using these libraries—note the addition of &lt;strong&gt;gridExtra&lt;/strong&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(dslabs)
library(gridExtra)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;encoding-data-using-visual-cues&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Encoding data using visual cues&lt;/h2&gt;
&lt;p&gt;We start by describing some principles for encoding data. There are several approaches at our disposal including position, aligned lengths, angles, area, brightness, and color hue.&lt;/p&gt;
&lt;p&gt;To illustrate how some of these strategies compare, let’s suppose we want to report the results from two hypothetical polls regarding browser preference taken in 2000 and then 2015. For each year, we are simply comparing five quantities – the five percentages. A widely used graphical representation of percentages, popularized by Microsoft Excel, is the pie chart:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/piechart-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here we are representing quantities with both areas and angles, since both the angle and area of each pie slice are proportional to the quantity the slice represents. This turns out to be a sub-optimal choice since, as demonstrated by perception studies, humans are not good at precisely quantifying angles and are even worse when area is the only available visual cue. The donut chart is an example of a plot that uses only area:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/donutchart-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To see how hard it is to quantify angles and area, note that the rankings and all the percentages in the plots above changed from 2000 to 2015. Can you determine the actual percentages and rank the browsers’ popularity? Can you see how the percentages changed from 2000 to 2015? It is not easy to tell from the plot. In fact, the &lt;code&gt;pie&lt;/code&gt; R function help file states that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Pie charts are a very bad way of displaying information. The eye is good at judging linear measures and bad at judging relative areas. A bar chart or dot chart is a preferable way of displaying this type of data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this case, simply showing the numbers is not only clearer, but would also save on printing costs if printing a paper copy:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Browser
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2000
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
2015
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Opera
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Safari
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
22
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Firefox
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Chrome
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
IE
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
27
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The preferred way to plot these quantities is to use length and position as visual cues, since humans are much better at judging linear measures. The barplot uses this approach by using bars of length proportional to the quantities of interest. By adding horizontal lines at strategically chosen values, in this case at every multiple of 10, we ease the visual burden of quantifying through the position of the top of the bars. Compare and contrast the information we can extract from the two figures.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/two-barplots-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice how much easier it is to see the differences in the barplot. In fact, we can now determine the actual percentages by following a horizontal line to the x-axis.&lt;/p&gt;
&lt;p&gt;If for some reason you need to make a pie chart, label each pie slice with its respective percentage so viewers do not have to infer them from the angles or area:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/excel-barplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In general, when displaying quantities, position and length are preferred over angles and/or area. Brightness and color are even harder to quantify than angles. But, as we will see later, they are sometimes useful when more than two dimensions must be displayed at once.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;know-when-to-include-0&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Know when to include 0&lt;/h2&gt;
&lt;p&gt;When using barplots, it is misinformative not to start the bars at 0. This is because, by using a barplot, we are implying the length is proportional to the quantities being displayed. By avoiding 0, relatively small differences can be made to look much bigger than they actually are. This approach is often used by politicians or media organizations trying to exaggerate a difference. Below is an illustrative example used by Peter Aldhous in this lecture: &lt;a href=&#34;http://paldhous.github.io/ucb/2016/dataviz/week2.html&#34;&gt;http://paldhous.github.io/ucb/2016/dataviz/week2.html&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/class2_8.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Source: Fox News, via Media Matters&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;From the plot above, it appears that apprehensions have almost tripled when, in fact, they have only increased by about 16%. Starting the graph at 0 illustrates this clearly:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-from-zero-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here is another example, described in detail in a Flowing Data blog post:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/Bush-cuts.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Source: Fox News, via Flowing Data&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;This plot makes a 13% increase look like a five fold change. Here is the appropriate plot:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-from-zero-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Finally, here is an extreme example that makes a very small difference of under 2% look like a 10-100 fold change:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/venezuela-election.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Source:
Venezolana de Televisión via Pakistan Today&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt; and Diego Mariano.)&lt;/p&gt;
&lt;p&gt;Here is the appropriate plot:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-from-zero-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;When using position rather than length, it is then not necessary to include 0. This is particularly the case when we want to compare differences between groups relative to the within-group variability. Here is an illustrative example showing country average life expectancy stratified across continents in 2012:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/points-plot-not-from-zero-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note that in the plot on the left, which includes 0, the space between 0 and 43 adds no information and makes it harder to compare the between and within group variability.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;do-not-distort-quantities&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Do not distort quantities&lt;/h2&gt;
&lt;p&gt;During President Barack Obama’s 2011 State of the Union Address, the following chart was used to compare the US GDP to the GDP of four competing nations:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/state-of-the-union.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Source: The 2011 State of the Union Address&lt;a href=&#34;#fn10&#34; class=&#34;footnote-ref&#34; id=&#34;fnref10&#34;&gt;&lt;sup&gt;10&lt;/sup&gt;&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Judging by the area of the circles, the US appears to have an economy over five times larger than China’s and over 30 times larger than France’s. However, if we look at the actual numbers, we see that this is not the case. The actual ratios are 2.6 and 5.8 times bigger than China and France, respectively. The reason for this distortion is that the radius, rather than the area, was made to be proportional to the quantity, which implies that the proportion between the areas is squared: 2.6 turns into 6.5 and 5.8 turns into 34.1. Here is a comparison of the circles we get if we make the value proportional to the radius and to the area:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gdp &amp;lt;- c(14.6, 5.7, 5.3, 3.3, 2.5)
gdp_data &amp;lt;- data.frame(Country = rep(c(&amp;quot;United States&amp;quot;, &amp;quot;China&amp;quot;, &amp;quot;Japan&amp;quot;, &amp;quot;Germany&amp;quot;, &amp;quot;France&amp;quot;),2),
           y = factor(rep(c(&amp;quot;Radius&amp;quot;,&amp;quot;Area&amp;quot;),each=5), levels = c(&amp;quot;Radius&amp;quot;, &amp;quot;Area&amp;quot;)),
           GDP= c(gdp^2/min(gdp^2), gdp/min(gdp))) %&amp;gt;%
   mutate(Country = reorder(Country, GDP))
gdp_data %&amp;gt;%
  ggplot(aes(Country, y, size = GDP)) +
  geom_point(show.legend = FALSE, color = &amp;quot;blue&amp;quot;) +
  scale_size(range = c(2,25)) +
  coord_flip() + ylab(&amp;quot;&amp;quot;) + xlab(&amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/area-not-radius-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Not surprisingly, &lt;strong&gt;ggplot2&lt;/strong&gt; defaults to using area rather than
radius. Of course, in this case, we really should not be using area at all since we can use position and length:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gdp_data %&amp;gt;%
  filter(y == &amp;quot;Area&amp;quot;) %&amp;gt;%
  ggplot(aes(Country, GDP)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, width = 0.5) +
  ylab(&amp;quot;GDP in trillions of US dollars&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-better-than-area-1.png&#34; width=&#34;50%&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;order-categories-by-a-meaningful-value&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Order categories by a meaningful value&lt;/h2&gt;
&lt;p&gt;When one of the axes is used to show categories, as is done in barplots, the default &lt;strong&gt;ggplot2&lt;/strong&gt; behavior is to order the categories alphabetically when they are defined by character strings. If they are defined by factors, they are ordered by the factor levels. We rarely want to use alphabetical order. Instead, we should order by a meaningful quantity. In all the cases above, the barplots were ordered by the values being displayed. The exception was the graph showing barplots comparing browsers. In this case, we kept the order the same across the barplots to ease the comparison. Specifically, instead of ordering the browsers separately in the two years, we ordered both years by the average value of 2000 and 2015.&lt;/p&gt;
&lt;p&gt;We previously learned how to use the &lt;code&gt;reorder&lt;/code&gt; function, which helps us achieve this goal.
To appreciate how the right order can help convey a message, suppose we want to create a plot to compare the murder rate across states. We are particularly interested in the most dangerous and safest states. Note the difference when we order alphabetically (the default) versus when we order by the actual rate:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(murders)
p1 &amp;lt;- murders %&amp;gt;% mutate(murder_rate = total / population * 100000) %&amp;gt;%
  ggplot(aes(state, murder_rate)) +
  geom_bar(stat=&amp;quot;identity&amp;quot;) +
  coord_flip() +
  theme(axis.text.y = element_text(size = 8))  +
  xlab(&amp;quot;&amp;quot;)

p2 &amp;lt;- murders %&amp;gt;% mutate(murder_rate = total / population * 100000) %&amp;gt;%
  mutate(state = reorder(state, murder_rate)) %&amp;gt;%
  ggplot(aes(state, murder_rate)) +
  geom_bar(stat=&amp;quot;identity&amp;quot;) +
  coord_flip() +
  theme(axis.text.y = element_text(size = 8))  +
  xlab(&amp;quot;&amp;quot;)

grid.arrange(p1, p2, ncol = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/do-not-order-alphabetically-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can make the second plot like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(murders)
murders %&amp;gt;% mutate(murder_rate = total / population * 100000) %&amp;gt;%
  mutate(state = reorder(state, murder_rate)) %&amp;gt;%
  ggplot(aes(state, murder_rate)) +
  geom_bar(stat=&amp;quot;identity&amp;quot;) +
  coord_flip() +
  theme(axis.text.y = element_text(size = 6)) +
  xlab(&amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;reorder&lt;/code&gt; function lets us reorder groups as well. Earlier we saw an example related to income distributions across regions. Here are the two versions plotted against each other:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/reorder-boxplot-example-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The first orders the regions alphabetically, while the second orders them by the group’s median.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;show-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Show the data&lt;/h2&gt;
&lt;p&gt;We have focused on displaying single quantities across categories. We now shift our attention to displaying data, with a focus on comparing groups.&lt;/p&gt;
&lt;p&gt;To motivate our first principle, “show the data”, we go back to our artificial example of describing heights to a person who is unaware of some basic facts about the population of interest (and is otherwise unsophisticated). This time let’s assume that this person is interested in the difference in heights between males and females. A commonly seen plot used for comparisons between groups, popularized by software such as Microsoft Excel, is the dynamite plot, which shows the average and standard errors.&lt;a href=&#34;#fn11&#34; class=&#34;footnote-ref&#34; id=&#34;fnref11&#34;&gt;&lt;sup&gt;11&lt;/sup&gt;&lt;/a&gt; The plot looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/show-data-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The average of each group is represented by the top of each bar and the antennae extend out from the average to the average plus two standard errors. If all ET receives is this plot, he will have little information on what to expect if he meets a group of human males and females. The bars go to 0: does this mean there are tiny humans measuring less than one foot? Are all males taller than the tallest females? Is there a range of heights? ET can’t answer these questions since we have provided almost no information on the height distribution.&lt;/p&gt;
&lt;p&gt;This brings us to our first principle: show the data. This simple &lt;strong&gt;ggplot2&lt;/strong&gt; code already generates a more informative plot than the barplot by simply showing all the data points:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  ggplot(aes(sex, height)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/show-data-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For example, this plot gives us an idea of the range of the data. However, this plot has limitations as well, since we can’t really see all the 238 and 812 points plotted for females and males, respectively, and many points are plotted on top of each other. As we have previously described, visualizing the distribution is much more informative. But before doing this, we point out two ways we can improve a plot showing all the points.&lt;/p&gt;
&lt;p&gt;The first is to add &lt;em&gt;jitter&lt;/em&gt;, which adds a small random shift to each point. In this case, adding horizontal jitter does not alter the interpretation, since the point heights do not change, but we minimize the number of points that fall on top of each other and, therefore, get a better visual sense of how the data is distributed. A second improvement comes from using &lt;em&gt;alpha blending&lt;/em&gt;: making the points somewhat transparent. The more points fall on top of each other, the darker the plot, which also helps us get a sense of how the points are distributed. Here is the same plot with jitter and alpha blending:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  ggplot(aes(sex, height)) +
  geom_jitter(width = 0.1, alpha = 0.2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/show-points-with-jitter-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we start getting a sense that, on average, males are taller than females. We also note dark horizontal bands of points, demonstrating that many report values that are rounded to the nearest integer.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ease-comparisons&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Ease comparisons&lt;/h2&gt;
&lt;div id=&#34;use-common-axes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Use common axes&lt;/h3&gt;
&lt;p&gt;Since there are so many points, it is more effective to show distributions rather than individual points. We therefore show histograms for each group:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/common-axes-histograms-wrong-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, from this plot it is not immediately obvious that males are, on average, taller than females. We have to look carefully to notice that the x-axis has a higher range of values in the male histogram. An important principle here is to &lt;strong&gt;keep the axes the same&lt;/strong&gt; when comparing data across two plots. Below we see how the comparison becomes easier:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/common-axes-histograms-right-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;align-plots-vertically-to-see-horizontal-changes-and-horizontally-to-see-vertical-changes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Align plots vertically to see horizontal changes and horizontally to see vertical changes&lt;/h3&gt;
&lt;p&gt;In these histograms, the visual cue related to decreases or increases in height are shifts to the left or right, respectively: horizontal changes. Aligning the plots vertically helps us see this change when the axes are fixed:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/common-axes-histograms-right-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  ggplot(aes(height, ..density..)) +
  geom_histogram(binwidth = 1, color=&amp;quot;black&amp;quot;) +
  facet_grid(sex~.)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This plot makes it much easier to notice that men are, on average, taller.&lt;/p&gt;
&lt;p&gt;If , we want the more compact summary provided by boxplots, we then align them horizontally since, by default, boxplots move up and down with changes in height. Following our &lt;em&gt;show the data&lt;/em&gt; principle, we then overlay all the data points:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/boxplot-with-points-with-jitter-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt; heights %&amp;gt;%
  ggplot(aes(sex, height)) +
  geom_boxplot(coef=3) +
  geom_jitter(width = 0.1, alpha = 0.2) +
  ylab(&amp;quot;Height in inches&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now contrast and compare these three plots, based on exactly the same data:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/show-the-data-comparison-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice how much more we learn from the two plots on the right. Barplots are useful for showing one number, but not very useful when we want to describe distributions.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;consider-transformations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Consider transformations&lt;/h3&gt;
&lt;p&gt;We have motivated the use of the log transformation in cases where the changes are multiplicative. Population size was an example in which we found a log transformation to yield a more informative transformation.&lt;/p&gt;
&lt;p&gt;The combination of an incorrectly chosen barplot and a failure to use a log transformation when one is merited can be particularly distorting. As an example, consider this barplot showing the average population sizes for each continent in 2015:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/no-transformations-wrong-use-of-barplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;From this plot, one would conclude that countries in Asia are much more populous than in other continents. Following the &lt;em&gt;show the data&lt;/em&gt; principle, we quickly notice that this is due to two very large countries, which we assume are India and China:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/no-transformation-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Using a log transformation here provides a much more informative plot. We compare the original barplot to a boxplot using the log scale transformation for the y-axis:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/correct-transformation-1.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;With the new plot, we realize that countries in Africa actually have a larger median population size than those in Asia.&lt;/p&gt;
&lt;p&gt;Other transformations you should consider are the logistic transformation (&lt;code&gt;logit&lt;/code&gt;), useful to better see fold changes in odds, and the square root transformation (&lt;code&gt;sqrt&lt;/code&gt;), useful for count data.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;visual-cues-to-be-compared-should-be-adjacent&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Visual cues to be compared should be adjacent&lt;/h3&gt;
&lt;p&gt;For each continent, let’s compare income in 1970 versus 2010. When comparing income data across regions between 1970 and 2010, we made a figure similar to the one below, but this time we investigate continents rather than regions.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/boxplots-not-adjacent-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The default in &lt;strong&gt;ggplot2&lt;/strong&gt; is to order labels alphabetically so the labels with 1970 come before the labels with 2010, making the comparisons challenging because a continent’s distribution in 1970 is visually far from its distribution in 2010. It is much easier to make the comparison between 1970 and 2010 for each continent when the boxplots for that continent are next to each other:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/boxplot-adjacent-comps-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;use-color&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Use color&lt;/h3&gt;
&lt;p&gt;The comparison becomes even easier to make if we use color to denote the two things we want to compare:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/boxplot-adjacent-comps-with-color-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;think-of-the-color-blind&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Think of the color blind&lt;/h2&gt;
&lt;p&gt;About 10% of the population is color blind. Unfortunately, the default colors used in &lt;strong&gt;ggplot2&lt;/strong&gt; are not optimal for this group. However, &lt;strong&gt;ggplot2&lt;/strong&gt; does make it easy to change the color palette used in the plots. An example of how we can use a color blind friendly palette is described here: &lt;a href=&#34;http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette&#34;&gt;http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;color_blind_friendly_cols &amp;lt;-
  c(&amp;quot;#999999&amp;quot;, &amp;quot;#E69F00&amp;quot;, &amp;quot;#56B4E9&amp;quot;, &amp;quot;#009E73&amp;quot;,
    &amp;quot;#F0E442&amp;quot;, &amp;quot;#0072B2&amp;quot;, &amp;quot;#D55E00&amp;quot;, &amp;quot;#CC79A7&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here are the colors
&lt;img src=&#34;/content/02-content_files/figure-html/color-blind-friendly-colors-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There are several resources that can help you select colors, for example this one: &lt;a href=&#34;http://bconnelly.net/2013/10/creating-colorblind-friendly-figures/&#34;&gt;http://bconnelly.net/2013/10/creating-colorblind-friendly-figures/&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plots-for-two-variables&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Plots for two variables&lt;/h2&gt;
&lt;p&gt;In general, you should use scatterplots to visualize the relationship between two variables.
In every single instance in which we have examined the relationship between two variables, including total murders versus population size, life expectancy versus fertility rates, and infant mortality versus income, we have used scatterplots. This is the plot we generally recommend. However, there are some exceptions and we describe two alternative plots here: the &lt;em&gt;slope chart&lt;/em&gt; and the &lt;em&gt;Bland-Altman plot&lt;/em&gt;.&lt;/p&gt;
&lt;div id=&#34;slope-charts&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Slope charts&lt;/h3&gt;
&lt;p&gt;One exception where another type of plot may be more informative is when you are comparing variables of the same type, but at different time points and for a relatively small number of comparisons. For example, comparing life expectancy between 2010 and 2015. In this case, we might recommend a &lt;em&gt;slope chart&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;There is no geometry for slope charts in &lt;strong&gt;ggplot2&lt;/strong&gt;, but we can construct one using &lt;code&gt;geom_line&lt;/code&gt;. We need to do some tinkering to add labels. Below is an example comparing 2010 to 2015 for large western countries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;west &amp;lt;- c(&amp;quot;Western Europe&amp;quot;,&amp;quot;Northern Europe&amp;quot;,&amp;quot;Southern Europe&amp;quot;,
          &amp;quot;Northern America&amp;quot;,&amp;quot;Australia and New Zealand&amp;quot;)

dat &amp;lt;- gapminder %&amp;gt;%
  filter(year%in% c(2010, 2015) &amp;amp; region %in% west &amp;amp;
           !is.na(life_expectancy) &amp;amp; population &amp;gt; 10^7)

dat %&amp;gt;%
  mutate(location = ifelse(year == 2010, 1, 2),
         location = ifelse(year == 2015 &amp;amp;
                             country %in% c(&amp;quot;United Kingdom&amp;quot;, &amp;quot;Portugal&amp;quot;),
                           location+0.22, location),
         hjust = ifelse(year == 2010, 1, 0)) %&amp;gt;%
  mutate(year = as.factor(year)) %&amp;gt;%
  ggplot(aes(year, life_expectancy, group = country)) +
  geom_line(aes(color = country), show.legend = FALSE) +
  geom_text(aes(x = location, label = country, hjust = hjust),
            show.legend = FALSE) +
  xlab(&amp;quot;&amp;quot;) + ylab(&amp;quot;Life Expectancy&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/slope-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;An advantage of the slope chart is that it permits us to quickly get an idea of changes based on the slope of the lines. Although we are using angle as the visual cue, we also have position to determine the exact values. Comparing the improvements is a bit harder with a scatterplot:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/scatter-plot-instead-of-slope-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In the scatterplot, we have followed the principle &lt;em&gt;use common axes&lt;/em&gt; since we are comparing these before and after. However, if we have many points, slope charts stop being useful as it becomes hard to see all the lines.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;bland-altman-plot&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Bland-Altman plot&lt;/h3&gt;
&lt;p&gt;Since we are primarily interested in the difference, it makes sense to dedicate one of our axes to it. The Bland-Altman plot, also known as the Tukey mean-difference plot and the MA-plot, shows the difference versus the average:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggrepel)
dat %&amp;gt;%
  mutate(year = paste0(&amp;quot;life_expectancy_&amp;quot;, year)) %&amp;gt;%
  select(country, year, life_expectancy) %&amp;gt;%
  spread(year, life_expectancy) %&amp;gt;%
  mutate(average = (life_expectancy_2015 + life_expectancy_2010)/2,
         difference = life_expectancy_2015 - life_expectancy_2010) %&amp;gt;%
  ggplot(aes(average, difference, label = country)) +
  geom_point() +
  geom_text_repel() +
  geom_abline(lty = 2) +
  xlab(&amp;quot;Average of 2010 and 2015&amp;quot;) +
  ylab(&amp;quot;Difference between 2015 and 2010&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/bland-altman-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Here, by simply looking at the y-axis, we quickly see which countries have shown the most improvement. We also get an idea of the overall value from the x-axis.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;encoding-a-third-variable&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Encoding a third variable&lt;/h2&gt;
&lt;p&gt;An earlier scatterplot showed the relationship between infant survival and average income. Below is a version of this plot that encodes three variables: OPEC membership, region, and population.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/encoding-third-variable-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We encode categorical variables with color and shape. These shapes can be controlled with &lt;code&gt;shape&lt;/code&gt; argument. Below are the shapes available for use in R. For the last five, the color goes inside.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/available-shapes-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For continuous variables, we can use color, intensity, or size. We now show an example of how we do this with a case study.&lt;/p&gt;
&lt;p&gt;When selecting colors to quantify a numeric variable, we choose between two options: sequential and diverging. Sequential colors are suited for data that goes from high to low. High values are clearly distinguished from low values. Here are some examples offered by the package &lt;code&gt;RColorBrewer&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(RColorBrewer)
display.brewer.all(type=&amp;quot;seq&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/r-color-brewer-seq-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Diverging colors are used to represent values that diverge from a center. We put equal emphasis on both ends of the data range: higher than the center and lower than the center. An example of when we would use a divergent pattern would be if we were to show height in standard deviations away from the average. Here are some examples of divergent patterns:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(RColorBrewer)
display.brewer.all(type=&amp;quot;div&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/r-color-brewer-div-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;avoid-pseudo-three-dimensional-plots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Avoid pseudo-three-dimensional plots&lt;/h2&gt;
&lt;p&gt;The figure below, taken from the scientific literature&lt;a href=&#34;#fn12&#34; class=&#34;footnote-ref&#34; id=&#34;fnref12&#34;&gt;&lt;sup&gt;12&lt;/sup&gt;&lt;/a&gt;,
shows three variables: dose, drug type and survival. Although your screen/book page is flat and two-dimensional, the plot tries to imitate three dimensions and assigned a dimension to each variable.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/fig8b.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Image courtesy of Karl Broman)&lt;/p&gt;
&lt;p&gt;Humans are not good at seeing in three dimensions (which explains why it is hard to parallel park) and our limitation is even worse with regard to pseudo-three-dimensions. To see this, try to determine the values of the survival variable in the plot above. Can you tell when the purple ribbon intersects the red one? This is an example in which we can easily use color to represent the categorical variable instead of using a pseudo-3D:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##First read data
url &amp;lt;- &amp;quot;https://github.com/kbroman/Talk_Graphs/raw/master/R/fig8dat.csv&amp;quot;
dat &amp;lt;- read.csv(url)

##Now make alternative plot
dat %&amp;gt;% gather(drug, survival, -log.dose) %&amp;gt;%
  mutate(drug = gsub(&amp;quot;Drug.&amp;quot;,&amp;quot;&amp;quot;,drug)) %&amp;gt;%
  ggplot(aes(log.dose, survival, color = drug)) +
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/colors-for-different-lines-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice how much easier it is to determine the survival values.&lt;/p&gt;
&lt;p&gt;Pseudo-3D is sometimes used completely gratuitously: plots are made to look 3D even when the 3rd dimension does not represent a quantity. This only adds confusion and makes it harder to relay your message. Here are two examples:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/./02-content_files/fig1e.png&#34; /&gt;
&lt;img src=&#34;/./02-content_files/fig2d.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(Images courtesy of Karl Broman)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;avoid-too-many-significant-digits&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Avoid too many significant digits&lt;/h2&gt;
&lt;p&gt;By default, statistical software like R returns many significant digits. The default behavior in R is to show 7 significant digits. That many digits often adds no information and the added visual clutter can make it hard for the viewer to understand the message. As an example, here are the per 10,000 disease rates, computed from totals and population in R, for California across the five decades:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
state
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
year
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Measles
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Pertussis
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Polio
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1940
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
37.8826320
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18.3397861
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8266512
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1950
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.9124205
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4.7467350
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.9742639
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1960
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.1386471
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2640419
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1970
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9767889
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1980
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3743467
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.0515466
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;We are reporting precision up to 0.00001 cases per 10,000, a very small value in the context of the changes that are occurring across the dates. In this case, two significant figures is more than enough and clearly makes the point that rates are decreasing:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
state
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
year
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Measles
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Pertussis
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Polio
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1940
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
37.9
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1950
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.9
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4.7
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1960
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1970
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1980
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Useful ways to change the number of significant digits or to round numbers are &lt;code&gt;signif&lt;/code&gt; and &lt;code&gt;round&lt;/code&gt;. You can define the number of significant digits globally by setting options like this: &lt;code&gt;options(digits = 3)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Another principle related to displaying tables is to place values being compared on columns rather than rows. Note that our table above is easier to read than this one:&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
state
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
disease
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
1940
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
1950
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
1960
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
1970
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
1980
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Measles
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
37.9
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.9
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Pertussis
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
18.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4.7
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
California
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Polio
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2.0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;know-your-audience&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Know your audience&lt;/h2&gt;
&lt;p&gt;Graphs can be used for 1) our own exploratory data analysis, 2) to convey a message to experts, or 3) to help tell a story to a general audience. Make sure that the intended audience understands each element of the plot.&lt;/p&gt;
&lt;p&gt;As a simple example, consider that for your own exploration it may be more useful to log-transform data and then plot it. However, for a general audience that is unfamiliar with converting logged values back to the original measurements, using a log-scale for the axis instead of log-transformed values will be much easier to digest.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For these exercises, we will be using the vaccines data in the &lt;strong&gt;dslabs&lt;/strong&gt; package:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(us_contagious_diseases)&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Pie charts are appropriate:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;When we want to display percentages.&lt;/li&gt;
&lt;li&gt;When &lt;strong&gt;ggplot2&lt;/strong&gt; is not available.&lt;/li&gt;
&lt;li&gt;When I am in a bakery.&lt;/li&gt;
&lt;li&gt;Never. Barplots and tables are always better.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;What is the problem with the plot below:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/baplot-not-from-zero-exercises-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;The values are wrong. The final vote was 306 to 232.&lt;/li&gt;
&lt;li&gt;The axis does not start at 0. Judging by the length, it appears Trump received 3 times as many votes when, in fact, it was about 30% more.&lt;/li&gt;
&lt;li&gt;The colors should be the same.&lt;/li&gt;
&lt;li&gt;Percentages should be shown as a pie chart.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Take a look at the following two plots. They show the same information: 1928 rates of measles across the 50 states.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/measels-exercise-1.png&#34; width=&#34;672&#34; /&gt;
Which plot is easier to read if you are interested in determining which are the best and worst states in terms of rates, and why?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;They provide the same information, so they are both equally as good.&lt;/li&gt;
&lt;li&gt;The plot on the right is better because it orders the states alphabetically.&lt;/li&gt;
&lt;li&gt;The plot on the right is better because alphabetical order has nothing to do with the disease and by ordering according to actual rate, we quickly see the states with most and least rates.&lt;/li&gt;
&lt;li&gt;Both plots should be a pie chart.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;To make the plot on the left, we have to reorder the levels of the states’ variables.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat &amp;lt;- us_contagious_diseases %&amp;gt;%
  filter(year == 1967 &amp;amp; disease==&amp;quot;Measles&amp;quot; &amp;amp; !is.na(population)) %&amp;gt;%
  mutate(rate = count / population * 10000 * 52 / weeks_reporting)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note what happens when we make a barplot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;% ggplot(aes(state, rate)) +
  geom_bar(stat=&amp;quot;identity&amp;quot;) +
  coord_flip()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/barplot-plot-exercise-example-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Define these objects:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;state &amp;lt;- dat$state
rate &amp;lt;- dat$count/dat$population*10000*52/dat$weeks_reporting&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Redefine the &lt;code&gt;state&lt;/code&gt; object so that the levels are re-ordered. Print the new object &lt;code&gt;state&lt;/code&gt; and its levels so you can see that the vector is not re-ordered by the levels.&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Now with one line of code, define the &lt;code&gt;dat&lt;/code&gt; table as done above, but change the use mutate to create a rate variable and re-order the state variable so that the levels are re-ordered by this variable. Then make a barplot using the code above, but for this new &lt;code&gt;dat&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Say we are interested in comparing gun homicide rates across regions of the US. We see this plot:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;murders&amp;quot;)
murders %&amp;gt;% mutate(rate = total/population*100000) %&amp;gt;%
group_by(region) %&amp;gt;%
summarize(avg = mean(rate)) %&amp;gt;%
mutate(region = factor(region)) %&amp;gt;%
ggplot(aes(region, avg)) +
geom_bar(stat=&amp;quot;identity&amp;quot;) +
ylab(&amp;quot;Murder Rate Average&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/us-murders-barplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;and decide to move to a state in the western region. What is the main problem with this interpretation?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;The categories are ordered alphabetically.&lt;/li&gt;
&lt;li&gt;The graph does not show standarad errors.&lt;/li&gt;
&lt;li&gt;It does not show all the data. We do not see the variability within a region and it’s possible that the safest states are not in the West.&lt;/li&gt;
&lt;li&gt;The Northeast has the lowest average.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;7&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Make a boxplot of the murder rates defined as&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;murders&amp;quot;)
murders %&amp;gt;% mutate(rate = total/population*100000)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;by region, showing all the points and ordering the regions by their median rate.&lt;/p&gt;
&lt;ol start=&#34;8&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;The plots below show three continuous variables.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/pseudo-3d-exercise-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The line &lt;span class=&#34;math inline&#34;&gt;\(x=2\)&lt;/span&gt; appears to separate the points. But it is actually not the case, which we can see by plotting the data in a couple of two-dimensional points.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/02-content_files/figure-html/pseud-3d-exercise-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Why is this happening?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;Humans are not good at reading pseudo-3D plots.&lt;/li&gt;
&lt;li&gt;There must be an error in the code.&lt;/li&gt;
&lt;li&gt;The colors confuse us.&lt;/li&gt;
&lt;li&gt;Scatterplots should not be used to compare two variables when we have access to 3.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Keep in mind that discrete numeric data can be considered ordinal. Although this is technically true, we usually reserve the term ordinal data for variables belonging to a small number of different groups, with each group having many members. In contrast, when we have many groups with few cases in each group, we typically refer to them as discrete numerical variables. So, for example, the number of packs of cigarettes a person smokes a day, rounded to the closest pack, would be considered ordinal, while the actual number of cigarettes would be considered a numerical variable. But, indeed, there are examples that can be considered both numerical and ordinal when it comes to visualizing data.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;We provide a detailed explanation of outliers later.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://kbroman.org/&#34; class=&#34;uri&#34;&gt;http://kbroman.org/&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/graphs2017.pdf&#34; class=&#34;uri&#34;&gt;https://www.biostat.wisc.edu/~kbroman/presentations/graphs2017.pdf&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/kbroman/Talk_Graphs&#34; class=&#34;uri&#34;&gt;https://github.com/kbroman/Talk_Graphs&lt;/a&gt;&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://paldhous.github.io/ucb/2016/dataviz/index.html&#34; class=&#34;uri&#34;&gt;http://paldhous.github.io/ucb/2016/dataviz/index.html&lt;/a&gt;&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://mediamatters.org/blog/2013/04/05/fox-news-newest-dishonest-chart-immigration-enf/193507&#34; class=&#34;uri&#34;&gt;http://mediamatters.org/blog/2013/04/05/fox-news-newest-dishonest-chart-immigration-enf/193507&lt;/a&gt;&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://flowingdata.com/2012/08/06/fox-news-continues-charting-excellence/&#34; class=&#34;uri&#34;&gt;http://flowingdata.com/2012/08/06/fox-news-continues-charting-excellence/&lt;/a&gt;&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.pakistantoday.com.pk/2018/05/18/whats-at-stake-in-venezuelan-presidential-vote&#34; class=&#34;uri&#34;&gt;https://www.pakistantoday.com.pk/2018/05/18/whats-at-stake-in-venezuelan-presidential-vote&lt;/a&gt;&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn10&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=kl2g40GoRxg&#34; class=&#34;uri&#34;&gt;https://www.youtube.com/watch?v=kl2g40GoRxg&lt;/a&gt;&lt;a href=&#34;#fnref10&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn11&#34;&gt;&lt;p&gt;If you’re unfamiliar, standard errors are defined later in the course—do not confuse them with the standard deviation of the data.&lt;a href=&#34;#fnref11&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn12&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://projecteuclid.org/download/pdf_1/euclid.ss/1177010488&#34; class=&#34;uri&#34;&gt;https://projecteuclid.org/download/pdf_1/euclid.ss/1177010488&lt;/a&gt;&lt;a href=&#34;#fnref12&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Introduction to the tidyverse</title>
      <link>/content/01-content/</link>
      <pubDate>Tue, 08 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/content/01-content/</guid>
      <description>

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#readings&#34;&gt;Readings&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-question&#34;&gt;Guiding Question&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tidyverse&#34;&gt;The tidyverse&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#tidy-data&#34;&gt;Tidy data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#manipulating-data-frames&#34;&gt;Manipulating data frames&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#adding-a-column-with-mutate&#34;&gt;Adding a column with &lt;code&gt;mutate&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#subsetting-with-filter&#34;&gt;Subsetting with &lt;code&gt;filter&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#selecting-columns-with-select&#34;&gt;Selecting columns with &lt;code&gt;select&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-pipe&#34;&gt;The pipe: &lt;code&gt;%&amp;gt;%&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#summarizing-data&#34;&gt;Summarizing data&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#summarize&#34;&gt;&lt;code&gt;summarize&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pull&#34;&gt;&lt;code&gt;pull&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#group-by&#34;&gt;Group then summarize with &lt;code&gt;group_by&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sorting-data-frames&#34;&gt;Sorting data frames&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#nested-sorting&#34;&gt;Nested sorting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-top-n&#34;&gt;The top &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tibbles&#34;&gt;Tibbles&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#tibbles-display-better&#34;&gt;Tibbles display better&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#subsets-of-tibbles-are-tibbles&#34;&gt;Subsets of tibbles are tibbles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tibbles-can-have-complex-entries&#34;&gt;Tibbles can have complex entries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tibbles-can-be-grouped&#34;&gt;Tibbles can be grouped&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#create-a-tibble-using-tibble-instead-of-data.frame&#34;&gt;Create a tibble using &lt;code&gt;tibble&lt;/code&gt; instead of &lt;code&gt;data.frame&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-dot-operator&#34;&gt;The dot operator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#do&#34;&gt;&lt;code&gt;do&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-purrr-package&#34;&gt;The &lt;strong&gt;purrr&lt;/strong&gt; package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tidyverse-conditionals&#34;&gt;Tidyverse conditionals&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case_when&#34;&gt;&lt;code&gt;case_when&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#between&#34;&gt;&lt;code&gt;between&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#videos&#34;&gt;Videos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;readings&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;This page.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://forms.gle/SCgNC9N3PLw6rMea9&#34;&gt;Link to survey about teams.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Chapter 1 of Introduction to Statistical Learning, available &lt;a href=&#34;http://faculty.marshall.usc.edu/gareth-james/ISL/ISLR%20Seventh%20Printing.pdf&#34;&gt;here.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-question&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Question&lt;/h3&gt;
&lt;p&gt;For future lectures, the guiding questions will be more pointed and at a higher level to help steer your thinking. Here, we want to ensure you remember some basics and accordingly the questions are straightforward.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why do we want tidy data?&lt;/li&gt;
&lt;li&gt;What are the challenges associated with shaping things into a tidy format?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides below are a much broader overview about goals for the class and thinking about relationships that we might explore with data. The technical aspects of this lecture will be explored in greater detail in the Thursday practical lecture.&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;overview-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#overview&#34; role=&#34;tab&#34; aria-controls=&#34;overview&#34; aria-selected=&#34;true&#34;&gt;Overview&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;overview&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;overview-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#Overview&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This week’s content is split into two “halves”: the critical data manipulation information contained below and a more-entertaining discussion of visualization included in the Exercises.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tidyverse&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;The tidyverse&lt;/h1&gt;
&lt;p&gt;In the first weeks’ content, we demonstrated how to manipulate vectors by reordering and subsetting them through indexing. However, once we start more advanced analyses, the preferred unit for data storage is not the vector but the data frame. In this lecture, we learn to work directly with data frames, which greatly facilitate the organization of information. We will be using data frames for the majority of this class and you will use them for the majority of your data science life (however long that might be). We will focus on a specific data format referred to as &lt;em&gt;tidy&lt;/em&gt; and on specific collection of packages that are particularly helpful for working with &lt;em&gt;tidy&lt;/em&gt; data referred to as the &lt;em&gt;tidyverse&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We can load all the tidyverse packages at once by installing and loading the &lt;strong&gt;tidyverse&lt;/strong&gt; package:&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will learn how to implement the tidyverse approach throughout the book, but before delving into the details, in this chapter we introduce some of the most widely used tidyverse functionality, starting with the &lt;strong&gt;dplyr&lt;/strong&gt; package for manipulating data frames and the &lt;strong&gt;purrr&lt;/strong&gt; package for working with functions. Note that the tidyverse also includes a graphing package, &lt;strong&gt;ggplot2&lt;/strong&gt;, which we introduce later in Chapter &lt;a href=&#34;#ggplot2&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; in the Data Visualization part of the book; the &lt;strong&gt;readr&lt;/strong&gt; package discussed in Chapter &lt;a href=&#34;#importing-data&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;; and many others. In this chapter, we first introduce the concept of &lt;em&gt;tidy data&lt;/em&gt; and then demonstrate how we use the tidyverse to work with data frames in this format.&lt;/p&gt;
&lt;div id=&#34;tidy-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tidy data&lt;/h2&gt;
&lt;p&gt;We say that a data table is in &lt;em&gt;tidy&lt;/em&gt; format if each row represents one observation and columns represent the different variables available for each of these observations. The &lt;code&gt;murders&lt;/code&gt; dataset is an example of a tidy data frame.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)
head(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total
## 1    Alabama  AL  South    4779736   135
## 2     Alaska  AK   West     710231    19
## 3    Arizona  AZ   West    6392017   232
## 4   Arkansas  AR  South    2915918    93
## 5 California  CA   West   37253956  1257
## 6   Colorado  CO   West    5029196    65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each row represent a state with each of the five columns providing a different variable related to these states: name, abbreviation, region, population, and total murders.&lt;/p&gt;
&lt;p&gt;To see how the same information can be provided in different formats, consider the following example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;gapminder&amp;quot;)
tidy_data &amp;lt;- gapminder %&amp;gt;%
  filter(country %in% c(&amp;quot;South Korea&amp;quot;, &amp;quot;Germany&amp;quot;) &amp;amp; !is.na(fertility)) %&amp;gt;%
  select(country, year, fertility)
head(tidy_data, 6)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       country year fertility
## 1     Germany 1960      2.41
## 2 South Korea 1960      6.16
## 3     Germany 1961      2.44
## 4 South Korea 1961      5.99
## 5     Germany 1962      2.47
## 6 South Korea 1962      5.79&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This tidy dataset provides fertility rates for two countries across the years. This is a tidy dataset because each row presents one observation with the three variables being country, year, and fertility rate. However, this dataset originally came in another format and was reshaped for the &lt;strong&gt;dslabs&lt;/strong&gt; package. Originally, the data was in the following format:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##       country 1960 1961 1962
## 1     Germany 2.41 2.44 2.47
## 2 South Korea 6.16 5.99 5.79&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The same information is provided, but there are two important differences in the format: 1) each row includes several observations and 2) one of the variables, year, is stored in the header. For the tidyverse packages to be optimally used, data need to be reshaped into &lt;code&gt;tidy&lt;/code&gt; format, which you will learn to do throughout this course. For starters, though, we will use example datasets that are already in tidy format.&lt;/p&gt;
&lt;p&gt;Although not immediately obvious, as you go through the book you will start to appreciate the advantages of working in a framework in which functions use tidy formats for both inputs and outputs. You will see how this permits the data analyst to focus on more important aspects of the analysis rather than the format of the data.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Examine the built-in dataset &lt;code&gt;co2&lt;/code&gt;. Which of the following is true:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;co2&lt;/code&gt; is tidy data: it has one year for each row.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;co2&lt;/code&gt; is not tidy: we need at least one column with a character vector.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;co2&lt;/code&gt; is not tidy: it is a matrix instead of a data frame.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;co2&lt;/code&gt; is not tidy: to be tidy we would have to wrangle it to have three columns (year, month and value), then each co2 observation would have a row.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Examine the built-in dataset &lt;code&gt;ChickWeight&lt;/code&gt;. Which of the following is true:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;ChickWeight&lt;/code&gt; is not tidy: each chick has more than one row.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChickWeight&lt;/code&gt; is tidy: each observation (a weight) is represented by one row. The chick from which this measurement came is one of the variables.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChickWeight&lt;/code&gt; is not tidy: we are missing the year column.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ChickWeight&lt;/code&gt; is tidy: it is stored in a data frame.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Examine the built-in dataset &lt;code&gt;BOD&lt;/code&gt;. Which of the following is true:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;BOD&lt;/code&gt; is not tidy: it only has six rows.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BOD&lt;/code&gt; is not tidy: the first column is just an index.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BOD&lt;/code&gt; is tidy: each row is an observation with two values (time and demand)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BOD&lt;/code&gt; is tidy: all small datasets are tidy by definition.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Which of the following built-in datasets is tidy (you can pick more than one):&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;BJsales&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;EuStockMarkets&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DNase&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Formaldehyde&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Orange&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UCBAdmissions&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;manipulating-data-frames&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Manipulating data frames&lt;/h2&gt;
&lt;p&gt;The &lt;strong&gt;dplyr&lt;/strong&gt; package from the &lt;strong&gt;tidyverse&lt;/strong&gt; introduces functions that perform some of the most common operations when working with data frames and uses names for these functions that are relatively easy to remember. For instance, to change the data table by adding a new column, we use &lt;code&gt;mutate&lt;/code&gt;. To filter the data table to a subset of rows, we use &lt;code&gt;filter&lt;/code&gt;. Finally, to subset the data by selecting specific columns, we use &lt;code&gt;select&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;adding-a-column-with-mutate&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Adding a column with &lt;code&gt;mutate&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;We want all the necessary information for our analysis to be included in the data table. So the first task is to add the murder rates to our murders data frame. The function &lt;code&gt;mutate&lt;/code&gt; takes the data frame as a first argument and the name and values of the variable as a second argument using the convention &lt;code&gt;name = values&lt;/code&gt;. So, to add murder rates, we use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;murders&amp;quot;)
murders &amp;lt;- mutate(murders, rate = total / population * 100000)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that here we used &lt;code&gt;total&lt;/code&gt; and &lt;code&gt;population&lt;/code&gt; inside the function, which are objects that are &lt;strong&gt;not&lt;/strong&gt; defined in our workspace. But why don’t we get an error?&lt;/p&gt;
&lt;p&gt;This is one of &lt;strong&gt;dplyr&lt;/strong&gt;’s main features. Functions in this package, such as &lt;code&gt;mutate&lt;/code&gt;, know to look for variables in the data frame provided in the first argument. In the call to mutate above, &lt;code&gt;total&lt;/code&gt; will have the values in &lt;code&gt;murders$total&lt;/code&gt;. This approach makes the code much more readable.&lt;/p&gt;
&lt;p&gt;We can see that the new column is added:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total     rate
## 1    Alabama  AL  South    4779736   135 2.824424
## 2     Alaska  AK   West     710231    19 2.675186
## 3    Arizona  AZ   West    6392017   232 3.629527
## 4   Arkansas  AR  South    2915918    93 3.189390
## 5 California  CA   West   37253956  1257 3.374138
## 6   Colorado  CO   West    5029196    65 1.292453&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although we have overwritten the original &lt;code&gt;murders&lt;/code&gt; object, this does not change the object that loaded with &lt;code&gt;data(murders)&lt;/code&gt;. If we load the &lt;code&gt;murders&lt;/code&gt; data again, the original will overwrite our mutated version.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;subsetting-with-filter&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Subsetting with &lt;code&gt;filter&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Now suppose that we want to filter the data table to only show the entries for which the murder rate is lower than 0.71. To do this we use the &lt;code&gt;filter&lt;/code&gt; function, which takes the data table as the first argument and then the conditional statement as the second. Like &lt;code&gt;mutate&lt;/code&gt;, we can use the unquoted variable names from &lt;code&gt;murders&lt;/code&gt; inside the function and it will know we mean the columns and not objects in the workspace.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(murders, rate &amp;lt;= 0.71)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           state abb        region population total      rate
## 1        Hawaii  HI          West    1360301     7 0.5145920
## 2          Iowa  IA North Central    3046355    21 0.6893484
## 3 New Hampshire  NH     Northeast    1316470     5 0.3798036
## 4  North Dakota  ND North Central     672591     4 0.5947151
## 5       Vermont  VT     Northeast     625741     2 0.3196211&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;selecting-columns-with-select&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Selecting columns with &lt;code&gt;select&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Although our data table only has six columns, some data tables include hundreds. If we want to view just a few, we can use the &lt;strong&gt;dplyr&lt;/strong&gt; &lt;code&gt;select&lt;/code&gt; function. In the code below we select three columns, assign this to a new object and then filter the new object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;new_table &amp;lt;- select(murders, state, region, rate)
filter(new_table, rate &amp;lt;= 0.71)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           state        region      rate
## 1        Hawaii          West 0.5145920
## 2          Iowa North Central 0.6893484
## 3 New Hampshire     Northeast 0.3798036
## 4  North Dakota North Central 0.5947151
## 5       Vermont     Northeast 0.3196211&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the call to &lt;code&gt;select&lt;/code&gt;, the first argument &lt;code&gt;murders&lt;/code&gt; is an object, but &lt;code&gt;state&lt;/code&gt;, &lt;code&gt;region&lt;/code&gt;, and &lt;code&gt;rate&lt;/code&gt; are variable names.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Load the &lt;strong&gt;dplyr&lt;/strong&gt; package and the murders dataset.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
library(dslabs)
data(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can add columns using the &lt;strong&gt;dplyr&lt;/strong&gt; function &lt;code&gt;mutate&lt;/code&gt;. This function is aware of the column names and inside the function you can call them unquoted:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders &amp;lt;- mutate(murders, population_in_millions = population / 10^6)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can write &lt;code&gt;population&lt;/code&gt; rather than &lt;code&gt;murders$population&lt;/code&gt;. The function &lt;code&gt;mutate&lt;/code&gt; knows we are grabbing columns from &lt;code&gt;murders&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Use the function &lt;code&gt;mutate&lt;/code&gt; to add a murders column named &lt;code&gt;rate&lt;/code&gt; with the per 100,000 murder rate as in the example code above. Make sure you redefine &lt;code&gt;murders&lt;/code&gt; as done in the example code above ( murders &amp;lt;- [your code]) so we can keep using this variable.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;If &lt;code&gt;rank(x)&lt;/code&gt; gives you the ranks of &lt;code&gt;x&lt;/code&gt; from lowest to highest, &lt;code&gt;rank(-x)&lt;/code&gt; gives you the ranks from highest to lowest. Use the function &lt;code&gt;mutate&lt;/code&gt; to add a column &lt;code&gt;rank&lt;/code&gt; containing the rank, from highest to lowest murder rate. Make sure you redefine &lt;code&gt;murders&lt;/code&gt; so we can keep using this variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;With &lt;strong&gt;dplyr&lt;/strong&gt;, we can use &lt;code&gt;select&lt;/code&gt; to show only certain columns. For example, with this code we would only show the states and population sizes:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(murders, state, population) %&amp;gt;% head()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use &lt;code&gt;select&lt;/code&gt; to show the state names and abbreviations in &lt;code&gt;murders&lt;/code&gt;. Do not redefine &lt;code&gt;murders&lt;/code&gt;, just show the results.&lt;/p&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;The &lt;strong&gt;dplyr&lt;/strong&gt; function &lt;code&gt;filter&lt;/code&gt; is used to choose specific rows of the data frame to keep. Unlike &lt;code&gt;select&lt;/code&gt; which is for columns, &lt;code&gt;filter&lt;/code&gt; is for rows. For example, you can show just the New York row like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(murders, state == &amp;quot;New York&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can use other logical vectors to filter rows.&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;filter&lt;/code&gt; to show the top 5 states with the highest murder rates. After we add murder rate and rank, do not change the murders dataset, just show the result. Remember that you can filter based on the &lt;code&gt;rank&lt;/code&gt; column.&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;We can remove rows using the &lt;code&gt;!=&lt;/code&gt; operator. For example, to remove Florida, we would do this:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;no_florida &amp;lt;- filter(murders, state != &amp;quot;Florida&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a new data frame called &lt;code&gt;no_south&lt;/code&gt; that removes states from the South region. How many states are in this category? You can use the function &lt;code&gt;nrow&lt;/code&gt; for this.&lt;/p&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;We can also use &lt;code&gt;%in%&lt;/code&gt; to filter with &lt;strong&gt;dplyr&lt;/strong&gt;. You can therefore see the data from New York and Texas like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(murders, state %in% c(&amp;quot;New York&amp;quot;, &amp;quot;Texas&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a new data frame called &lt;code&gt;murders_nw&lt;/code&gt; with only the states from the Northeast and the West. How many states are in this category?&lt;/p&gt;
&lt;ol start=&#34;7&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Suppose you want to live in the Northeast or West &lt;strong&gt;and&lt;/strong&gt; want the murder rate to be less than 1. We want to see the data for the states satisfying these options. Note that you can use logical operators with &lt;code&gt;filter&lt;/code&gt;. Here is an example in which we filter to keep only small states in the Northeast region.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(murders, population &amp;lt; 5000000 &amp;amp; region == &amp;quot;Northeast&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Make sure &lt;code&gt;murders&lt;/code&gt; has been defined with &lt;code&gt;rate&lt;/code&gt; and &lt;code&gt;rank&lt;/code&gt; and still has all states. Create a table called &lt;code&gt;my_states&lt;/code&gt; that contains rows for states satisfying both the conditions: it is in the Northeast or West and the murder rate is less than 1. Use &lt;code&gt;select&lt;/code&gt; to show only the state name, the rate, and the rank.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-pipe&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The pipe: &lt;code&gt;%&amp;gt;%&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;With &lt;strong&gt;dplyr&lt;/strong&gt; we can perform a series of operations, for example &lt;code&gt;select&lt;/code&gt; and then &lt;code&gt;filter&lt;/code&gt;, by sending the results of one function to another using what is called the &lt;em&gt;pipe operator&lt;/em&gt;: &lt;code&gt;%&amp;gt;%&lt;/code&gt;. Some details are included below.&lt;/p&gt;
&lt;p&gt;We wrote code above to show three variables (state, region, rate) for states that have murder rates below 0.71. To do this, we defined the intermediate object &lt;code&gt;new_table&lt;/code&gt;. In &lt;strong&gt;dplyr&lt;/strong&gt; we can write code that looks more like a description of what we want to do without intermediate objects:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ \mbox{original data }
\rightarrow \mbox{ select }
\rightarrow \mbox{ filter } \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For such an operation, we can use the pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt;. The code looks like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% select(state, region, rate) %&amp;gt;% filter(rate &amp;lt;= 0.71)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           state        region      rate
## 1        Hawaii          West 0.5145920
## 2          Iowa North Central 0.6893484
## 3 New Hampshire     Northeast 0.3798036
## 4  North Dakota North Central 0.5947151
## 5       Vermont     Northeast 0.3196211&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This line of code is equivalent to the two lines of code above. What is going on here?&lt;/p&gt;
&lt;p&gt;In general, the pipe &lt;em&gt;sends&lt;/em&gt; the result of the left side of the pipe to be the first argument of the function on the right side of the pipe. Here is a very simple example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;16 %&amp;gt;% sqrt()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can continue to pipe values along:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;16 %&amp;gt;% sqrt() %&amp;gt;% log2()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above statement is equivalent to &lt;code&gt;log2(sqrt(16))&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Remember that the pipe sends values to the first argument, so we can define other arguments as if the first argument is already defined:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;16 %&amp;gt;% sqrt() %&amp;gt;% log(base = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Therefore, when using the pipe with data frames and &lt;strong&gt;dplyr&lt;/strong&gt;, we no longer need to specify the required first argument since the &lt;strong&gt;dplyr&lt;/strong&gt; functions we have described all take the data as the first argument. In the code we wrote:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% select(state, region, rate) %&amp;gt;% filter(rate &amp;lt;= 0.71)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;murders&lt;/code&gt; is the first argument of the &lt;code&gt;select&lt;/code&gt; function, and the new data frame (formerly &lt;code&gt;new_table&lt;/code&gt;) is the first argument of the &lt;code&gt;filter&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Note that the pipe works well with functions where the first argument is the input data. Functions in &lt;strong&gt;tidyverse&lt;/strong&gt; packages like &lt;strong&gt;dplyr&lt;/strong&gt; have this format and can be used easily with the pipe.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;The pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; can be used to perform operations sequentially without having to define intermediate objects. Start by redefining murder to include rate and rank.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders &amp;lt;- mutate(murders, rate =  total / population * 100000,
                  rank = rank(-rate))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the solution to the previous exercise, we did the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;my_states &amp;lt;- filter(murders, region %in% c(&amp;quot;Northeast&amp;quot;, &amp;quot;West&amp;quot;) &amp;amp;
                      rate &amp;lt; 1)

select(my_states, state, rate, rank)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; permits us to perform both operations sequentially without having to define an intermediate variable &lt;code&gt;my_states&lt;/code&gt;. We therefore could have mutated and selected in the same line like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mutate(murders, rate =  total / population * 100000,
       rank = rank(-rate)) %&amp;gt;%
  select(state, rate, rank)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that &lt;code&gt;select&lt;/code&gt; no longer has a data frame as the first argument. The first argument is assumed to be the result of the operation conducted right before the &lt;code&gt;%&amp;gt;%&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Repeat the previous exercise, but now instead of creating a new object, show the result and only include the state, rate, and rank columns. Use a pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; to do this in just one line.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Reset &lt;code&gt;murders&lt;/code&gt; to the original table by using &lt;code&gt;data(murders)&lt;/code&gt;. Use a pipe to create a new data frame called &lt;code&gt;my_states&lt;/code&gt; that considers only states in the Northeast or West which have a murder rate lower than 1, and contains only the state, rate and rank columns. The pipe should also have four components separated by three &lt;code&gt;%&amp;gt;%&lt;/code&gt;. The code should look something like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;my_states &amp;lt;- murders %&amp;gt;%
  mutate SOMETHING %&amp;gt;%
  filter SOMETHING %&amp;gt;%
  select SOMETHING&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;summarizing-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Summarizing data&lt;/h2&gt;
&lt;p&gt;An important part of exploratory data analysis is summarizing data. The average and standard deviation are two examples of widely used summary statistics. More informative summaries can often be achieved by first splitting data into groups. In this section, we cover two new &lt;strong&gt;dplyr&lt;/strong&gt; verbs that make these computations easier: &lt;code&gt;summarize&lt;/code&gt; and &lt;code&gt;group_by&lt;/code&gt;. We learn to access resulting values using the &lt;code&gt;pull&lt;/code&gt; function.&lt;/p&gt;
&lt;div id=&#34;summarize&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;summarize&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;summarize&lt;/code&gt; function in &lt;strong&gt;dplyr&lt;/strong&gt; provides a way to compute summary statistics with intuitive and readable code. We start with a simple example based on heights. The &lt;code&gt;heights&lt;/code&gt; dataset includes heights and sex reported by students in an in-class survey.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
library(dslabs)
data(heights)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The following code computes the average and standard deviation for females:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s &amp;lt;- heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  summarize(average = mean(height), standard_deviation = sd(height))
s&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    average standard_deviation
## 1 64.93942           3.760656&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This takes our original data table as input, filters it to keep only females, and then produces a new summarized table with just the average and the standard deviation of heights. We get to choose the names of the columns of the resulting table. For example, above we decided to use &lt;code&gt;average&lt;/code&gt; and &lt;code&gt;standard_deviation&lt;/code&gt;, but we could have used other names just the same.&lt;/p&gt;
&lt;p&gt;Because the resulting table stored in &lt;code&gt;s&lt;/code&gt; is a data frame, we can access the components with the accessor &lt;code&gt;$&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s$average&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 64.93942&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s$standard_deviation&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.760656&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As with most other &lt;strong&gt;dplyr&lt;/strong&gt; functions, &lt;code&gt;summarize&lt;/code&gt; is aware of the variable names and we can use them directly. So when inside the call to the &lt;code&gt;summarize&lt;/code&gt; function we write &lt;code&gt;mean(height)&lt;/code&gt;, the function is accessing the column with the name “height” and then computing the average of the resulting numeric vector. We can compute any other summary that operates on vectors and returns a single value. For example, we can add the median, minimum, and maximum heights like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  summarize(median = median(height), minimum = min(height),
            maximum = max(height))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     median minimum maximum
## 1 64.98031      51      79&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can obtain these three values with just one line using the &lt;code&gt;quantile&lt;/code&gt; function: for example, &lt;code&gt;quantile(x, c(0,0.5,1))&lt;/code&gt; returns the min (0th percentile), median (50th percentile), and max (100th percentile) of the vector &lt;code&gt;x&lt;/code&gt;. However, if we attempt to use a function like this that returns two or more values inside &lt;code&gt;summarize&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  summarize(range = quantile(height, c(0, 0.5, 1)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we will receive an error: &lt;code&gt;Error: expecting result of length one, got : 2&lt;/code&gt;. With the function &lt;code&gt;summarize&lt;/code&gt;, we can only call functions that return a single value. In Section &lt;a href=&#34;#do&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;, we will learn how to deal with functions that return more than one value.&lt;/p&gt;
&lt;p&gt;For another example of how we can use the &lt;code&gt;summarize&lt;/code&gt; function, let’s compute the average murder rate for the United States. Remember our data table includes total murders and population size for each state and we have already used &lt;strong&gt;dplyr&lt;/strong&gt; to add a murder rate column:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders &amp;lt;- murders %&amp;gt;% mutate(rate = total/population*100000)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember that the US murder rate is &lt;strong&gt;not&lt;/strong&gt; the average of the state murder rates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarize(murders, mean(rate))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   mean(rate)
## 1   2.779125&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is because in the computation above the small states are given the same weight as the large ones. The US murder rate is the total number of murders in the US divided by the total US population. So the correct computation is:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;us_murder_rate &amp;lt;- murders %&amp;gt;%
  summarize(rate = sum(total) / sum(population) * 100000)
us_murder_rate&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       rate
## 1 3.034555&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This computation counts larger states proportionally to their size which results in a larger value.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pull&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;pull&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;us_murder_rate&lt;/code&gt; object defined above represents just one number. Yet we are storing it in a data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(us_murder_rate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;since, as most &lt;strong&gt;dplyr&lt;/strong&gt; functions, &lt;code&gt;summarize&lt;/code&gt; always returns a data frame.&lt;/p&gt;
&lt;p&gt;This might be problematic if we want to use this result with functions that require a numeric value. Here we show a useful trick for accessing values stored in data when using pipes: when a data object is piped that object and its columns can be accessed using the &lt;code&gt;pull&lt;/code&gt; function. To understand what we mean take a look at this line of code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;us_murder_rate %&amp;gt;% pull(rate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.034555&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This returns the value in the &lt;code&gt;rate&lt;/code&gt; column of &lt;code&gt;us_murder_rate&lt;/code&gt; making it equivalent to &lt;code&gt;us_murder_rate$rate&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To get a number from the original data table with one line of code we can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;us_murder_rate &amp;lt;- murders %&amp;gt;%
  summarize(rate = sum(total) / sum(population) * 100000) %&amp;gt;%
  pull(rate)

us_murder_rate&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.034555&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which is now a numeric:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(us_murder_rate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;group-by&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Group then summarize with &lt;code&gt;group_by&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;A common operation in data exploration is to first split data into groups and then compute summaries for each group. For example, we may want to compute the average and standard deviation for men’s and women’s heights separately. The &lt;code&gt;group_by&lt;/code&gt; function helps us do this.&lt;/p&gt;
&lt;p&gt;If we type this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;% group_by(sex)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,050 x 2
## # Groups:   sex [2]
##    sex    height
##    &amp;lt;fct&amp;gt;   &amp;lt;dbl&amp;gt;
##  1 Male       75
##  2 Male       70
##  3 Male       68
##  4 Male       74
##  5 Male       61
##  6 Female     65
##  7 Female     66
##  8 Female     62
##  9 Female     66
## 10 Male       67
## # … with 1,040 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The result does not look very different from &lt;code&gt;heights&lt;/code&gt;, except we see &lt;code&gt;Groups: sex [2]&lt;/code&gt; when we print the object. Although not immediately obvious from its appearance, this is now a special data frame called a &lt;em&gt;grouped data frame&lt;/em&gt;, and &lt;strong&gt;dplyr&lt;/strong&gt; functions, in particular &lt;code&gt;summarize&lt;/code&gt;, will behave differently when acting on this object. Conceptually, you can think of this table as many tables, with the same columns but not necessarily the same number of rows, stacked together in one object. When we summarize the data after grouping, this is what happens:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  summarize(average = mean(height), standard_deviation = sd(height))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 3
##   sex    average standard_deviation
##   &amp;lt;fct&amp;gt;    &amp;lt;dbl&amp;gt;              &amp;lt;dbl&amp;gt;
## 1 Female    64.9               3.76
## 2 Male      69.3               3.61&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;summarize&lt;/code&gt; function applies the summarization to each group separately.&lt;/p&gt;
&lt;p&gt;For another example, let’s compute the median murder rate in the four regions of the country:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  group_by(region) %&amp;gt;%
  summarize(median_rate = median(rate))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 2
##   region        median_rate
##   &amp;lt;fct&amp;gt;               &amp;lt;dbl&amp;gt;
## 1 Northeast            1.80
## 2 South                3.40
## 3 North Central        1.97
## 4 West                 1.29&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;sorting-data-frames&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Sorting data frames&lt;/h2&gt;
&lt;p&gt;When examining a dataset, it is often convenient to sort the table by the different columns. We know about the &lt;code&gt;order&lt;/code&gt; and &lt;code&gt;sort&lt;/code&gt; function, but for ordering entire tables, the &lt;strong&gt;dplyr&lt;/strong&gt; function &lt;code&gt;arrange&lt;/code&gt; is useful. For example, here we order the states by population size:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  arrange(population) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                  state abb        region population total       rate
## 1              Wyoming  WY          West     563626     5  0.8871131
## 2 District of Columbia  DC         South     601723    99 16.4527532
## 3              Vermont  VT     Northeast     625741     2  0.3196211
## 4         North Dakota  ND North Central     672591     4  0.5947151
## 5               Alaska  AK          West     710231    19  2.6751860
## 6         South Dakota  SD North Central     814180     8  0.9825837&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With &lt;code&gt;arrange&lt;/code&gt; we get to decide which column to sort by. To see the states by murder rate, from lowest to highest, we arrange by &lt;code&gt;rate&lt;/code&gt; instead:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  arrange(rate) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           state abb        region population total      rate
## 1       Vermont  VT     Northeast     625741     2 0.3196211
## 2 New Hampshire  NH     Northeast    1316470     5 0.3798036
## 3        Hawaii  HI          West    1360301     7 0.5145920
## 4  North Dakota  ND North Central     672591     4 0.5947151
## 5          Iowa  IA North Central    3046355    21 0.6893484
## 6         Idaho  ID          West    1567582    12 0.7655102&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the default behavior is to order in ascending order. In &lt;strong&gt;dplyr&lt;/strong&gt;, the function &lt;code&gt;desc&lt;/code&gt; transforms a vector so that it is in descending order. To sort the table in descending order, we can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  arrange(desc(rate))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;nested-sorting&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Nested sorting&lt;/h3&gt;
&lt;p&gt;If we are ordering by a column with ties, we can use a second column to break the tie. Similarly, a third column can be used to break ties between first and second and so on. Here we order by &lt;code&gt;region&lt;/code&gt;, then within region we order by murder rate:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  arrange(region, rate) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           state abb    region population total      rate
## 1       Vermont  VT Northeast     625741     2 0.3196211
## 2 New Hampshire  NH Northeast    1316470     5 0.3798036
## 3         Maine  ME Northeast    1328361    11 0.8280881
## 4  Rhode Island  RI Northeast    1052567    16 1.5200933
## 5 Massachusetts  MA Northeast    6547629   118 1.8021791
## 6      New York  NY Northeast   19378102   517 2.6679599&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;the-top-n&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The top &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;In the code above, we have used the function &lt;code&gt;head&lt;/code&gt; to avoid having the page fill up with the entire dataset. If we want to see a larger proportion, we can use the &lt;code&gt;top_n&lt;/code&gt; function. This function takes a data frame as it’s first argument, the number of rows to show in the second, and the variable to filter by in the third. Here is an example of how to see the top 5 rows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% top_n(5, rate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##                  state abb        region population total      rate
## 1 District of Columbia  DC         South     601723    99 16.452753
## 2            Louisiana  LA         South    4533372   351  7.742581
## 3             Maryland  MD         South    5773552   293  5.074866
## 4             Missouri  MO North Central    5988927   321  5.359892
## 5       South Carolina  SC         South    4625364   207  4.475323&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that rows are not sorted by &lt;code&gt;rate&lt;/code&gt;, only filtered. If we want to sort, we need to use &lt;code&gt;arrange&lt;/code&gt;.
Note that if the third argument is left blank, &lt;code&gt;top_n&lt;/code&gt; filters by the last column.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For these exercises, we will be using the data from the survey collected by the United States National Center for Health Statistics (NCHS). This center has conducted a series of health and nutrition surveys since the 1960’s. Starting in 1999, about 5,000 individuals of all ages have been interviewed every year and they complete the health examination component of the survey. Part of the data is made available via the &lt;strong&gt;NHANES&lt;/strong&gt; package. Once you install the &lt;strong&gt;NHANES&lt;/strong&gt; package, you can load the data like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(NHANES)
data(NHANES)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;NHANES&lt;/strong&gt; data has many missing values. The &lt;code&gt;mean&lt;/code&gt; and &lt;code&gt;sd&lt;/code&gt; functions in R will return &lt;code&gt;NA&lt;/code&gt; if any of the entries of the input vector is an &lt;code&gt;NA&lt;/code&gt;. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(na_example)
mean(na_example)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] NA&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(na_example)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To ignore the &lt;code&gt;NA&lt;/code&gt;s we can use the &lt;code&gt;na.rm&lt;/code&gt; argument:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(na_example, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2.301754&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sd(na_example, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1.22338&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s now explore the NHANES data.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;We will provide some basic facts about blood pressure. First let’s select a group to set the standard. We will use 20-to-29-year-old females. &lt;code&gt;AgeDecade&lt;/code&gt; is a categorical variable with these ages. Note that the category is coded like &#34; 20-29&#34;, with a space in front! What is the average and standard deviation of systolic blood pressure as saved in the &lt;code&gt;BPSysAve&lt;/code&gt; variable? Save it to a variable called &lt;code&gt;ref&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Hint: Use &lt;code&gt;filter&lt;/code&gt; and &lt;code&gt;summarize&lt;/code&gt; and use the &lt;code&gt;na.rm = TRUE&lt;/code&gt; argument when computing the average and standard deviation. You can also filter the NA values using &lt;code&gt;filter&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Using a pipe, assign the average to a numeric variable &lt;code&gt;ref_avg&lt;/code&gt;. Hint: Use the code similar to above and then &lt;code&gt;pull&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now report the min and max values for the same group.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compute the average and standard deviation for females, but for each age group separately rather than a selected decade as in question 1. Note that the age groups are defined by &lt;code&gt;AgeDecade&lt;/code&gt;. Hint: rather than filtering by age and gender, filter by &lt;code&gt;Gender&lt;/code&gt; and then use &lt;code&gt;group_by&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat exercise 4 for males.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can actually combine both summaries for exercises 4 and 5 into one line of code. This is because &lt;code&gt;group_by&lt;/code&gt; permits us to group by more than one variable. Obtain one big summary table using &lt;code&gt;group_by(AgeDecade, Gender)&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For males between the ages of 40-49, compare systolic blood pressure across race as reported in the &lt;code&gt;Race1&lt;/code&gt; variable. Order the resulting table from lowest to highest average systolic blood pressure.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tibbles&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tibbles&lt;/h2&gt;
&lt;p&gt;Tidy data must be stored in data frames. We introduced the data frame in Section &lt;a href=&#34;#data-frames&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; and have been using the &lt;code&gt;murders&lt;/code&gt; data frame throughout the book. In Section &lt;a href=&#34;#group-by&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we introduced the &lt;code&gt;group_by&lt;/code&gt; function, which permits stratifying data before computing summary statistics. But where is the group information stored in the data frame?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% group_by(region)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 51 x 6
## # Groups:   region [4]
##    state                abb   region    population total  rate
##    &amp;lt;chr&amp;gt;                &amp;lt;chr&amp;gt; &amp;lt;fct&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 Alabama              AL    South        4779736   135  2.82
##  2 Alaska               AK    West          710231    19  2.68
##  3 Arizona              AZ    West         6392017   232  3.63
##  4 Arkansas             AR    South        2915918    93  3.19
##  5 California           CA    West        37253956  1257  3.37
##  6 Colorado             CO    West         5029196    65  1.29
##  7 Connecticut          CT    Northeast    3574097    97  2.71
##  8 Delaware             DE    South         897934    38  4.23
##  9 District of Columbia DC    South         601723    99 16.5 
## 10 Florida              FL    South       19687653   669  3.40
## # … with 41 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that there are no columns with this information. But, if you look closely at the output above, you see the line &lt;code&gt;A tibble&lt;/code&gt; followd by dimensions. We can learn the class of the returned object using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;% group_by(region) %&amp;gt;% class()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;grouped_df&amp;quot; &amp;quot;tbl_df&amp;quot;     &amp;quot;tbl&amp;quot;        &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;tbl&lt;/code&gt;, pronounced tibble, is a special kind of data frame. The functions &lt;code&gt;group_by&lt;/code&gt; and &lt;code&gt;summarize&lt;/code&gt; always return this type of data frame. The &lt;code&gt;group_by&lt;/code&gt; function returns a special kind of &lt;code&gt;tbl&lt;/code&gt;, the &lt;code&gt;grouped_df&lt;/code&gt;. We will say more about these later. For consistency, the &lt;strong&gt;dplyr&lt;/strong&gt; manipulation verbs (&lt;code&gt;select&lt;/code&gt;, &lt;code&gt;filter&lt;/code&gt;, &lt;code&gt;mutate&lt;/code&gt;, and &lt;code&gt;arrange&lt;/code&gt;) preserve the class of the input: if they receive a regular data frame they return a regular data frame, while if they receive a tibble they return a tibble. But tibbles are the preferred format in the tidyverse and as a result tidyverse functions that produce a data frame from scratch return a tibble. For example, in Chapter &lt;a href=&#34;#importing-data&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we will see that tidyverse functions used to import data create tibbles.&lt;/p&gt;
&lt;p&gt;Tibbles are very similar to data frames. In fact, you can think of them as a modern version of data frames. Nonetheless there are three important differences which we describe next.&lt;/p&gt;
&lt;div id=&#34;tibbles-display-better&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Tibbles display better&lt;/h3&gt;
&lt;p&gt;The print method for tibbles is more readable than that of a data frame. To see this, compare the outputs of typing &lt;code&gt;murders&lt;/code&gt; and the output of murders if we convert it to a tibble. We can do this using &lt;code&gt;as_tibble(murders)&lt;/code&gt;. If using RStudio, output for a tibble adjusts to your window size. To see this, change the width of your R console and notice how more/less columns are shown.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;subsets-of-tibbles-are-tibbles&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Subsets of tibbles are tibbles&lt;/h3&gt;
&lt;p&gt;If you subset the columns of a data frame, you may get back an object that is not a data frame, such as a vector or scalar. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(murders[,4])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;is not a data frame. With tibbles this does not happen:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(as_tibble(murders)[,4])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;tbl_df&amp;quot;     &amp;quot;tbl&amp;quot;        &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is useful in the tidyverse since functions require data frames as input.&lt;/p&gt;
&lt;p&gt;With tibbles, if you want to access the vector that defines a column, and not get back a data frame, you need to use the accessor &lt;code&gt;$&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(as_tibble(murders)$population)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A related feature is that tibbles will give you a warning if you try to access a column that does not exist. If we accidentally write &lt;code&gt;Population&lt;/code&gt; instead of &lt;code&gt;population&lt;/code&gt; this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$Population&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## NULL&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;returns a &lt;code&gt;NULL&lt;/code&gt; with no warning, which can make it harder to debug. In contrast, if we try this with a tibble we get an informative warning:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as_tibble(murders)$Population&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Unknown or uninitialised column: `Population`.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## NULL&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;tibbles-can-have-complex-entries&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Tibbles can have complex entries&lt;/h3&gt;
&lt;p&gt;While data frame columns need to be vectors of numbers, strings, or logical values, tibbles can have more complex objects, such as lists or functions. Also, we can create tibbles with functions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tibble(id = c(1, 2, 3), func = c(mean, median, sd))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 2
##      id func  
##   &amp;lt;dbl&amp;gt; &amp;lt;list&amp;gt;
## 1     1 &amp;lt;fn&amp;gt;  
## 2     2 &amp;lt;fn&amp;gt;  
## 3     3 &amp;lt;fn&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;tibbles-can-be-grouped&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Tibbles can be grouped&lt;/h3&gt;
&lt;p&gt;The function &lt;code&gt;group_by&lt;/code&gt; returns a special kind of tibble: a grouped tibble. This class stores information that lets you know which rows are in which groups. The tidyverse functions, in particular the &lt;code&gt;summarize&lt;/code&gt; function, are aware of the group information.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;create-a-tibble-using-tibble-instead-of-data.frame&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Create a tibble using &lt;code&gt;tibble&lt;/code&gt; instead of &lt;code&gt;data.frame&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;It is sometimes useful for us to create our own data frames. To create a data frame in the tibble format, you can do this by using the &lt;code&gt;tibble&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;grades &amp;lt;- tibble(names = c(&amp;quot;John&amp;quot;, &amp;quot;Juan&amp;quot;, &amp;quot;Jean&amp;quot;, &amp;quot;Yao&amp;quot;),
                     exam_1 = c(95, 80, 90, 85),
                     exam_2 = c(90, 85, 85, 90))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that base R (without packages loaded) has a function with a very similar name, &lt;code&gt;data.frame&lt;/code&gt;, that can be used to create a regular data frame rather than a tibble. One other important difference is that by default &lt;code&gt;data.frame&lt;/code&gt; coerces characters into factors without providing a warning or message:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;grades &amp;lt;- data.frame(names = c(&amp;quot;John&amp;quot;, &amp;quot;Juan&amp;quot;, &amp;quot;Jean&amp;quot;, &amp;quot;Yao&amp;quot;),
                     exam_1 = c(95, 80, 90, 85),
                     exam_2 = c(90, 85, 85, 90))
class(grades$names)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;factor&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To avoid this, we use the rather cumbersome argument &lt;code&gt;stringsAsFactors&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;grades &amp;lt;- data.frame(names = c(&amp;quot;John&amp;quot;, &amp;quot;Juan&amp;quot;, &amp;quot;Jean&amp;quot;, &amp;quot;Yao&amp;quot;),
                     exam_1 = c(95, 80, 90, 85),
                     exam_2 = c(90, 85, 85, 90),
                     stringsAsFactors = FALSE)
class(grades$names)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;character&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To convert a regular data frame to a tibble, you can use the &lt;code&gt;as_tibble&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as_tibble(grades) %&amp;gt;% class()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;tbl_df&amp;quot;     &amp;quot;tbl&amp;quot;        &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-dot-operator&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The dot operator&lt;/h2&gt;
&lt;p&gt;One of the advantages of using the pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; is that we do not have to keep naming new objects as we manipulate the data frame. As a quick reminder, if we want to compute the median murder rate for states in the southern states, instead of typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_1 &amp;lt;- filter(murders, region == &amp;quot;South&amp;quot;)
tab_2 &amp;lt;- mutate(tab_1, rate = total / population * 10^5)
rates &amp;lt;- tab_2$rate
median(rates)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.398069&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can avoid defining any new intermediate objects by instead typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(murders, region == &amp;quot;South&amp;quot;) %&amp;gt;%
  mutate(rate = total / population * 10^5) %&amp;gt;%
  summarize(median = median(rate)) %&amp;gt;%
  pull(median)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.398069&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can do this because each of these functions takes a data frame as the first argument. But what if we want to access a component of the data frame. For example, what if the &lt;code&gt;pull&lt;/code&gt; function was not available and we wanted to access &lt;code&gt;tab_2$rate&lt;/code&gt;? What data frame name would we use? The answer is the dot operator.&lt;/p&gt;
&lt;p&gt;For example to access the rate vector without the &lt;code&gt;pull&lt;/code&gt; function we could use&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rates &amp;lt;-   filter(murders, region == &amp;quot;South&amp;quot;) %&amp;gt;%
  mutate(rate = total / population * 10^5) %&amp;gt;%
  .$rate
median(rates)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.398069&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the next section, we will see other instances in which using the &lt;code&gt;.&lt;/code&gt; is useful.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;do&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;do&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The tidyverse functions know how to interpret grouped tibbles. Furthermore, to facilitate stringing commands through the pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt;, tidyverse functions consistently return data frames, since this assures that the output of a function is accepted as the input of another. But most R functions do not recognize grouped tibbles nor do they return data frames. The &lt;code&gt;quantile&lt;/code&gt; function is an example we described in Section &lt;a href=&#34;#summarize&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;. The &lt;code&gt;do&lt;/code&gt; function serves as a bridge between R functions such as &lt;code&gt;quantile&lt;/code&gt; and the tidyverse. The &lt;code&gt;do&lt;/code&gt; function understands grouped tibbles and always returns a data frame.&lt;/p&gt;
&lt;p&gt;In Section &lt;a href=&#34;#summarize&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt;, we noted that if we attempt to use &lt;code&gt;quantile&lt;/code&gt; to obtain the min, median and max in one call, we will receive an error: &lt;code&gt;Error: expecting result of length one, got : 2&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(heights)
heights %&amp;gt;%
  filter(sex == &amp;quot;Female&amp;quot;) %&amp;gt;%
  summarize(range = quantile(height, c(0, 0.5, 1)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can use the &lt;code&gt;do&lt;/code&gt; function to fix this.&lt;/p&gt;
&lt;p&gt;First we have to write a function that fits into the tidyverse approach: that is, it receives a data frame and returns a data frame.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;my_summary &amp;lt;- function(dat){
  x &amp;lt;- quantile(dat$height, c(0, 0.5, 1))
  tibble(min = x[1], median = x[2], max = x[3])
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now apply the function to the heights dataset to obtain the summaries:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  my_summary&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 3
##     min median   max
##   &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1    50   68.5  82.7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But this is not what we want. We want a summary for each sex and the code returned just one summary. This is because &lt;code&gt;my_summary&lt;/code&gt; is not part of the tidyverse and does not know how to handled grouped tibbles. &lt;code&gt;do&lt;/code&gt; makes this connection:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  do(my_summary(.))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 4
## # Groups:   sex [2]
##   sex      min median   max
##   &amp;lt;fct&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 Female    51   65.0  79  
## 2 Male      50   69    82.7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that here we need to use the dot operator. The tibble created by &lt;code&gt;group_by&lt;/code&gt; is piped to &lt;code&gt;do&lt;/code&gt;. Within the call to &lt;code&gt;do&lt;/code&gt;, the name of this tibble is &lt;code&gt;.&lt;/code&gt; and we want to send it to &lt;code&gt;my_summary&lt;/code&gt;. If you do not use the dot, then &lt;code&gt;my_summary&lt;/code&gt; has &lt;em&gt;no argument&lt;/em&gt; and returns an error telling us that &lt;code&gt;argument &#34;dat&#34;&lt;/code&gt; is missing. You can see the error by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  do(my_summary())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you do not use the parenthesis, then the function is not executed and instead &lt;code&gt;do&lt;/code&gt; tries to return the function. This gives an error because &lt;code&gt;do&lt;/code&gt; must always return a data frame. You can see the error by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  do(my_summary)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;the-purrr-package&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The &lt;strong&gt;purrr&lt;/strong&gt; package&lt;/h2&gt;
&lt;p&gt;In Section &lt;a href=&#34;#vectorization&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we learned about the &lt;code&gt;sapply&lt;/code&gt; function, which permitted us to apply the same function to each element of a vector. We constructed a function and used &lt;code&gt;sapply&lt;/code&gt; to compute the sum of the first &lt;code&gt;n&lt;/code&gt; integers for several values of &lt;code&gt;n&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;compute_s_n &amp;lt;- function(n){
  x &amp;lt;- 1:n
  sum(x)
}
n &amp;lt;- 1:25
s_n &amp;lt;- sapply(n, compute_s_n)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This type of operation, applying the same function or procedure to elements of an object, is quite common in data analysis. The &lt;strong&gt;purrr&lt;/strong&gt; package includes functions similar to &lt;code&gt;sapply&lt;/code&gt; but that better interact with other tidyverse functions. The main advantage is that we can better control the output type of functions. In contrast, &lt;code&gt;sapply&lt;/code&gt; can return several different object types; for example, we might expect a numeric result from a line of code, but &lt;code&gt;sapply&lt;/code&gt; might convert our result to character under some circumstances. &lt;strong&gt;purrr&lt;/strong&gt; functions will never do this: they will return objects of a specified type or return an error if this is not possible.&lt;/p&gt;
&lt;p&gt;The first &lt;strong&gt;purrr&lt;/strong&gt; function we will learn is &lt;code&gt;map&lt;/code&gt;, which works very similar to &lt;code&gt;sapply&lt;/code&gt; but always, without exception, returns a list:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(purrr)
s_n &amp;lt;- map(n, compute_s_n)
class(s_n)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;list&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we want a numeric vector, we can instead use &lt;code&gt;map_dbl&lt;/code&gt; which always returns a vector of numeric values.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s_n &amp;lt;- map_dbl(n, compute_s_n)
class(s_n)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This produces the same results as the &lt;code&gt;sapply&lt;/code&gt; call shown above.&lt;/p&gt;
&lt;p&gt;A particularly useful &lt;strong&gt;purrr&lt;/strong&gt; function for interacting with the rest of the tidyverse is &lt;code&gt;map_df&lt;/code&gt;, which always returns a tibble data frame. However, the function being called needs to return a vector or a list with names. For this reason, the following code would result in a &lt;code&gt;Argument 1 must have names&lt;/code&gt; error:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;s_n &amp;lt;- map_df(n, compute_s_n)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We need to change the function to make this work:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;compute_s_n &amp;lt;- function(n){
  x &amp;lt;- 1:n
  tibble(sum = sum(x))
}
s_n &amp;lt;- map_df(n, compute_s_n)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;purrr&lt;/strong&gt; package provides much more functionality not covered here. For more details you can consult &lt;a href=&#34;https://jennybc.github.io/purrr-tutorial/&#34;&gt;this online resource&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;tidyverse-conditionals&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tidyverse conditionals&lt;/h2&gt;
&lt;p&gt;A typical data analysis will often involve one or more conditional operations. In Section &lt;a href=&#34;#conditionals&#34;&gt;&lt;strong&gt;??&lt;/strong&gt;&lt;/a&gt; we described the &lt;code&gt;ifelse&lt;/code&gt; function, which we will use extensively in this book. In this section we present two &lt;strong&gt;dplyr&lt;/strong&gt; functions that provide further functionality for performing conditional operations.&lt;/p&gt;
&lt;div id=&#34;case_when&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;case_when&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;case_when&lt;/code&gt; function is useful for vectorizing conditional statements. It is similar to &lt;code&gt;ifelse&lt;/code&gt; but can output any number of values, as opposed to just &lt;code&gt;TRUE&lt;/code&gt; or &lt;code&gt;FALSE&lt;/code&gt;. Here is an example splitting numbers into negative, positive, and 0:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(-2, -1, 0, 1, 2)
case_when(x &amp;lt; 0 ~ &amp;quot;Negative&amp;quot;,
          x &amp;gt; 0 ~ &amp;quot;Positive&amp;quot;,
          TRUE  ~ &amp;quot;Zero&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Negative&amp;quot; &amp;quot;Negative&amp;quot; &amp;quot;Zero&amp;quot;     &amp;quot;Positive&amp;quot; &amp;quot;Positive&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A common use for this function is to define categorical variables based on existing variables. For example, suppose we want to compare the murder rates in four groups of states: &lt;em&gt;New England&lt;/em&gt;, &lt;em&gt;West Coast&lt;/em&gt;, &lt;em&gt;South&lt;/em&gt;, and &lt;em&gt;other&lt;/em&gt;. For each state, we need to ask if it is in New England, if it is not we ask if it is in the West Coast, if not we ask if it is in the South, and if not we assign &lt;em&gt;other&lt;/em&gt;. Here is how we use &lt;code&gt;case_when&lt;/code&gt; to do this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders %&amp;gt;%
  mutate(group = case_when(
    abb %in% c(&amp;quot;ME&amp;quot;, &amp;quot;NH&amp;quot;, &amp;quot;VT&amp;quot;, &amp;quot;MA&amp;quot;, &amp;quot;RI&amp;quot;, &amp;quot;CT&amp;quot;) ~ &amp;quot;New England&amp;quot;,
    abb %in% c(&amp;quot;WA&amp;quot;, &amp;quot;OR&amp;quot;, &amp;quot;CA&amp;quot;) ~ &amp;quot;West Coast&amp;quot;,
    region == &amp;quot;South&amp;quot; ~ &amp;quot;South&amp;quot;,
    TRUE ~ &amp;quot;Other&amp;quot;)) %&amp;gt;%
  group_by(group) %&amp;gt;%
  summarize(rate = sum(total) / sum(population) * 10^5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 2
##   group        rate
##   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt;
## 1 New England  1.72
## 2 Other        2.71
## 3 South        3.63
## 4 West Coast   2.90&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;between&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;between&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;A common operation in data analysis is to determine if a value falls inside an interval. We can check this using conditionals. For example, to check if the elements of a vector &lt;code&gt;x&lt;/code&gt; are between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; we can type&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;gt;= a &amp;amp; x &amp;lt;= b&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, this can become cumbersome, especially within the tidyverse approach. The &lt;code&gt;between&lt;/code&gt; function performs the same operation.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;between(x, a, b)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Load the &lt;code&gt;murders&lt;/code&gt; dataset. Which of the following is true?&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;murders&lt;/code&gt; is in tidy format and is stored in a tibble.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;murders&lt;/code&gt; is in tidy format and is stored in a data frame.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;murders&lt;/code&gt; is not in tidy format and is stored in a tibble.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;murders&lt;/code&gt; is not in tidy format and is stored in a data frame.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Use &lt;code&gt;as_tibble&lt;/code&gt; to convert the &lt;code&gt;murders&lt;/code&gt; data table into a tibble and save it in an object called &lt;code&gt;murders_tibble&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the &lt;code&gt;group_by&lt;/code&gt; function to convert &lt;code&gt;murders&lt;/code&gt; into a tibble that is grouped by region.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write tidyverse code that is equivalent to this code:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;exp(mean(log(murders$population)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Write it using the pipe so that each function is called without arguments. Use the dot operator to access the population. Hint: The code should start with &lt;code&gt;murders %&amp;gt;%&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Use the &lt;code&gt;map_df&lt;/code&gt; to create a data frame with three columns named &lt;code&gt;n&lt;/code&gt;, &lt;code&gt;s_n&lt;/code&gt;, and &lt;code&gt;s_n_2&lt;/code&gt;. The first column should contain the numbers 1 through 100. The second and third columns should each contain the sum of 1 through &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; with &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; the row number.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;videos&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Videos&lt;/h1&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/D6WqHA8TDWQ&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;If you have not installed this package already, you must use &lt;code&gt;install.packages(&#34;tidyverse&#34;)&lt;/code&gt; prior to the &lt;code&gt;library()&lt;/code&gt; call you see below.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Welcome Back to R</title>
      <link>/content/00-content/</link>
      <pubDate>Thu, 03 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/content/00-content/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#readings&#34;&gt;Readings&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#guiding-question&#34;&gt;Guiding Question&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slides&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#r-basics&#34;&gt;&lt;code&gt;R&lt;/code&gt; basics&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#case-study-us-homicides-by-firearm&#34;&gt;Case study: US homicides by firearm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-very-basics&#34;&gt;The (very) basics&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#objects&#34;&gt;Objects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-workspace&#34;&gt;The workspace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#functions&#34;&gt;Functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#other-prebuilt-objects&#34;&gt;Other prebuilt objects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#variable-names&#34;&gt;Variable names&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#saving-your-workspace&#34;&gt;Saving your workspace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#motivating-scripts&#34;&gt;Motivating scripts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#commenting-your-code&#34;&gt;Commenting your code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-types&#34;&gt;Data types&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#data-frames&#34;&gt;Data frames&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#examining-an-object&#34;&gt;Examining an object&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-accessor&#34;&gt;The accessor: &lt;code&gt;$&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vectors-numerics-characters-and-logical&#34;&gt;Vectors: numerics, characters, and logical&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#factors&#34;&gt;Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lists&#34;&gt;Lists&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#matrices&#34;&gt;Matrices&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vectors&#34;&gt;Vectors&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#creating-vectors&#34;&gt;Creating vectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#names&#34;&gt;Names&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sequences&#34;&gt;Sequences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#subsetting&#34;&gt;Subsetting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#coercion&#34;&gt;Coercion&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#not-availables-na&#34;&gt;Not availables (NA)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sorting&#34;&gt;Sorting&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#sort&#34;&gt;&lt;code&gt;sort&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#order&#34;&gt;&lt;code&gt;order&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#max-and-which.max&#34;&gt;&lt;code&gt;max&lt;/code&gt; and &lt;code&gt;which.max&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rank&#34;&gt;&lt;code&gt;rank&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#beware-of-recycling&#34;&gt;Beware of recycling&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vector-arithmetics&#34;&gt;Vector arithmetics&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#rescaling-a-vector&#34;&gt;Rescaling a vector&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#two-vectors&#34;&gt;Two vectors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#indexing&#34;&gt;Indexing&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#subsetting-with-logicals&#34;&gt;Subsetting with logicals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#logical-operators&#34;&gt;Logical operators&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#which&#34;&gt;&lt;code&gt;which&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#match&#34;&gt;&lt;code&gt;match&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#in&#34;&gt;&lt;code&gt;%in%&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#videos&#34;&gt;Videos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;readings&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Readings&lt;/h2&gt;
&lt;p&gt;As noted in the syllabus, your readings will be assigned each week in this area. For this initial week, please read the course content. &lt;strong&gt;Read closely&lt;/strong&gt; the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/syllabus/&#34;&gt;syllabus&lt;/a&gt;, &lt;a href=&#34;/content/&#34;&gt;content&lt;/a&gt;, &lt;a href=&#34;/example/&#34;&gt;examples&lt;/a&gt;, and &lt;a href=&#34;/lab/&#34;&gt;labs&lt;/a&gt; pages for this class.&lt;/li&gt;
&lt;li&gt;This page. Yes, the whole thing.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;guiding-question&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Guiding Question&lt;/h3&gt;
&lt;p&gt;For future lectures, the guiding questions will be more pointed and at a higher level to help steer your thinking. Here, we want to ensure you remember some basics and accordingly the questions are straightforward.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do you remember anything about &lt;code&gt;R&lt;/code&gt;?&lt;/li&gt;
&lt;li&gt;What are the different data types in &lt;code&gt;R&lt;/code&gt;?&lt;/li&gt;
&lt;li&gt;How do you index specific elements of a vector? Why might you want to do that?&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;slides&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Slides&lt;/h2&gt;
&lt;p&gt;There are no direct slides for this lesson; the content below is intended to serve as a refresher for those who may have forgotten some of the basics of &lt;code&gt;R&lt;/code&gt;. This content will form the first week of the course and will include the Example 0. The slides below cover introductory material from the first lecture; some kinks to be worked out.&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/00-slides.html#Introduction&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;ALERT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The course content below should be considered a prerequisite for success. For those concerned about basics of &lt;code&gt;R&lt;/code&gt;, you absolutely must read this content and attempt the coding exercises. If you struggle to follow the content, please contact the professor or TA.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;r-basics&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;code&gt;R&lt;/code&gt; basics&lt;/h1&gt;
&lt;p&gt;In this class, we will be using &lt;code&gt;R&lt;/code&gt; software environment for all our analyses. You will learn &lt;code&gt;R&lt;/code&gt; and data analysis techniques simultaneously. To follow along you will therefore need access to &lt;code&gt;R&lt;/code&gt;. We also recommend the use of an &lt;em&gt;integrated development environment&lt;/em&gt; (IDE), such as RStudio, to save your work.
Note that it is common for a course or workshop to offer access to an &lt;code&gt;R&lt;/code&gt; environment and an IDE through your web browser, as done by RStudio cloud&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;. If you have access to such a resource, you don’t need to install &lt;code&gt;R&lt;/code&gt; and RStudio. However, if you intend on becoming a practicing data analyst, we highly recommend installing these tools on your computer&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. This is not hard.&lt;/p&gt;
&lt;p&gt;Both &lt;code&gt;R&lt;/code&gt; and RStudio are free and available online.&lt;/p&gt;
&lt;div id=&#34;case-study-us-homicides-by-firearm&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Case study: US homicides by firearm&lt;/h2&gt;
&lt;p&gt;Imagine you live in Europe (if only!) and are offered a job in a US company with many locations in every state. It is a great job, but headlines such as &lt;strong&gt;US Gun Homicide Rate Higher Than Other Developed Countries&lt;/strong&gt;&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; have you worried. Fox News runs a scary looking graphic, and charts like the one below only add to that concern:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/00-content_files/figure-html/murder-rate-example-1-1.png&#34; width=&#34;70%&#34; /&gt;&lt;/p&gt;
&lt;!--(Source:
[Ma’ayan Rosenzweigh/ABC News](https://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/), Data from UNODC Homicide Statistics) --&gt;
&lt;p&gt;Or even worse, this version from &lt;a href=&#34;https://everytownresearch.org&#34;&gt;everytown.org&lt;/a&gt;:
&lt;img src=&#34;/content/00-content_files/figure-html/murder-rate-example-2-1.png&#34; width=&#34;70%&#34; /&gt;
&lt;!--(Source  [everytown.org](https://everytownresearch.org))--&gt;&lt;/p&gt;
&lt;p&gt;But then you remember that (1) this is a hypothetical exercise; (2) you’ll take literally any job at this point; and (3) Geographic diversity matters – the United States is a large and diverse country with 50 very different states (plus the District of Columbia and some lovely territories).&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/00-content_files/figure-html/us-murders-by-state-map-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;California, for example, has a larger population than Canada, and 20 US states have populations larger than that of Norway. In some respects, the variability across states in the US is akin to the variability across countries in Europe. Furthermore, although not included in the charts above, the murder rates in Lithuania, Ukraine, and Russia are higher than 4 per 100,000. So perhaps the news reports that worried you are too superficial.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/content/00-content_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is a relatively simple and straightforward problem in social science: you have options of where to live, and want to determine the safety of the various states. Your “research” is clearly policy-relevant: you will eventually have to live somewhere. We will begin to tackle the problem by examining data related to gun homicides in the US during 2010 using &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Before we get started with our example, we need to cover logistics as well as some of the very basic building blocks that are required to gain more advanced &lt;code&gt;R&lt;/code&gt; skills. Ideally, this is a refresher. However, we are aware that your preparation in previously courses varies greatly from student to student. Moreover, we want you to be aware that the usefulness of some of these early building blocks may not be immediately obvious. Later in the class you will appreciate having these skills. Mastery will be rewarded both in this class and (of course) in life.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-very-basics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The (very) basics&lt;/h2&gt;
&lt;p&gt;Before we get started with the motivating dataset, we need to cover the very basics of &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;objects&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Objects&lt;/h3&gt;
&lt;p&gt;Suppose a relatively math unsavvy student asks us for help solving several quadratic equations of the form &lt;span class=&#34;math inline&#34;&gt;\(ax^2+bx+c = 0\)&lt;/span&gt;. You—a savvy student—recall that the quadratic formula gives us the solutions:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\frac{-b - \sqrt{b^2 - 4ac}}{2a}\,\, \mbox{ and } \frac{-b + \sqrt{b^2 - 4ac}}{2a}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which of course depend on the values of &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(c\)&lt;/span&gt;. That is, the quadratic equation represents a &lt;em&gt;function&lt;/em&gt; with three &lt;em&gt;arguments&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;One advantage of programming languages is that we can define variables and write expressions with these variables, similar to how we do so in math, but obtain a numeric solution. We will write out general code for the quadratic equation below, but if we are asked to solve &lt;span class=&#34;math inline&#34;&gt;\(x^2 + x -1 = 0\)&lt;/span&gt;, then we define:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;a &amp;lt;- 1
b &amp;lt;- 1
c &amp;lt;- -1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which stores the values for later use. We use &lt;code&gt;&amp;lt;-&lt;/code&gt; to assign values to the variables.&lt;/p&gt;
&lt;p&gt;We can also assign values using &lt;code&gt;=&lt;/code&gt; instead of &lt;code&gt;&amp;lt;-&lt;/code&gt;, but we recommend against using &lt;code&gt;=&lt;/code&gt; to avoid confusion.&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Copy and paste the code above into your console to define the three variables. Note that &lt;code&gt;R&lt;/code&gt; does not print anything when we make this assignment. This means the objects were defined successfully. Had you made a mistake, you would have received an error message. Throughout these written notes, you’ll have the most success if you continue to copy code into your own console.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;To see the value stored in a variable, we simply ask &lt;code&gt;R&lt;/code&gt; to evaluate &lt;code&gt;a&lt;/code&gt; and it shows the stored value:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;a&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A more explicit way to ask &lt;code&gt;R&lt;/code&gt; to show us the value stored in &lt;code&gt;a&lt;/code&gt; is using &lt;code&gt;print&lt;/code&gt; like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;print(a)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We use the term &lt;em&gt;object&lt;/em&gt; to describe stuff that is stored in &lt;code&gt;R&lt;/code&gt;. Variables are examples, but objects can also be more complicated entities such as functions, which are described later.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-workspace&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The workspace&lt;/h3&gt;
&lt;p&gt;As we define objects in the console, we are actually changing the &lt;em&gt;workspace&lt;/em&gt;. You can see all the variables saved in your workspace by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ls()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a&amp;quot;          &amp;quot;b&amp;quot;          &amp;quot;c&amp;quot;          &amp;quot;dat&amp;quot;        &amp;quot;murders&amp;quot;   
## [6] &amp;quot;sections&amp;quot;   &amp;quot;slide_tabs&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(Note that one of &lt;em&gt;my&lt;/em&gt; variables listed above comes from generating the graphs above). In RStudio, the &lt;em&gt;Environment&lt;/em&gt; tab shows the values:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/rstudio-environment.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We should see &lt;code&gt;a&lt;/code&gt;, &lt;code&gt;b&lt;/code&gt;, and &lt;code&gt;c&lt;/code&gt;. If you try to recover the value of a variable that is not in your workspace, you receive an error. For example, if you type &lt;code&gt;x&lt;/code&gt; you will receive the following message: &lt;code&gt;Error: object &#39;x&#39; not found&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now since these values are saved in variables, to obtain a solution to our equation, we use the quadratic formula:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(-b + sqrt(b^2 - 4*a*c) ) / ( 2*a )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.618034&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(-b - sqrt(b^2 - 4*a*c) ) / ( 2*a )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -1.618034&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;functions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Functions&lt;/h3&gt;
&lt;p&gt;Once you define variables, the data analysis process can usually be described as a series of &lt;em&gt;functions&lt;/em&gt; applied to the data. &lt;code&gt;R&lt;/code&gt; includes several zillion predefined functions and most of the analysis pipelines we construct make extensive use of the built-in functions. But &lt;code&gt;R&lt;/code&gt;’s power comes from its scalability. We have access to (nearly) infinite functions via &lt;code&gt;install.packages&lt;/code&gt; and &lt;code&gt;library&lt;/code&gt;. As we go through the course, we will carefully note new functions we bring to each problem. For now, though, we will stick to the basics.&lt;/p&gt;
&lt;p&gt;Note that you’ve used a function already: you used the function &lt;code&gt;sqrt&lt;/code&gt; to solve the quadratic equation above. These functions do not appear in the workspace because you did not define them, but they are available for immediate use.&lt;/p&gt;
&lt;p&gt;In general, we need to use parentheses to evaluate a function. If you type &lt;code&gt;ls&lt;/code&gt;, the function is not evaluated and instead &lt;code&gt;R&lt;/code&gt; shows you the code that defines the function. If you type &lt;code&gt;ls()&lt;/code&gt; the function is evaluated and, as seen above, we see objects in the workspace.&lt;/p&gt;
&lt;p&gt;Unlike &lt;code&gt;ls&lt;/code&gt;, most functions require one or more &lt;em&gt;arguments&lt;/em&gt;. Below is an example of how we assign an object to the argument of the function &lt;code&gt;log&lt;/code&gt;. Remember that we earlier defined &lt;code&gt;a&lt;/code&gt; to be 1:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(8)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2.079442&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(a)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can find out what the function expects and what it does by reviewing the very useful manuals included in &lt;code&gt;R&lt;/code&gt;. You can get help by using the &lt;code&gt;help&lt;/code&gt; function like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;help(&amp;quot;log&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For most functions, we can also use this shorthand:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;?log&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The help page will show you what arguments the function is expecting. For example, &lt;code&gt;log&lt;/code&gt; needs &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;base&lt;/code&gt; to run. However, some arguments are required and others are optional. You can determine which arguments are optional by noting in the help document that a default value is assigned with &lt;code&gt;=&lt;/code&gt;. Defining these is optional.&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt; For example, the base of the function &lt;code&gt;log&lt;/code&gt; defaults to &lt;code&gt;base = exp(1)&lt;/code&gt;—that is, &lt;code&gt;log&lt;/code&gt; evaluates the natural log by default.&lt;/p&gt;
&lt;p&gt;If you want a quick look at the arguments without opening the help system, you can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;args(log)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## function (x, base = exp(1)) 
## NULL&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can change the default values by simply assigning another object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(8, base = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we have not been specifying the argument &lt;code&gt;x&lt;/code&gt; as such:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(x = 8, base = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above code works, but we can save ourselves some typing: if no argument name is used, &lt;code&gt;R&lt;/code&gt; assumes you are entering arguments in the order shown in the help file or by &lt;code&gt;args&lt;/code&gt;. So by not using the names, it assumes the arguments are &lt;code&gt;x&lt;/code&gt; followed by &lt;code&gt;base&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(8,2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If using the arguments’ names, then we can include them in whatever order we want:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;log(base = 2, x = 8)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To specify arguments, we must use &lt;code&gt;=&lt;/code&gt;, and cannot use &lt;code&gt;&amp;lt;-&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are some exceptions to the rule that functions need the parentheses to be evaluated. Among these, the most commonly used are the arithmetic and relational operators. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;2 ^ 3&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 8&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see the arithmetic operators by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;help(&amp;quot;+&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;?&amp;quot;+&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the relational operators by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;help(&amp;quot;&amp;gt;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;?&amp;quot;&amp;gt;&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;other-prebuilt-objects&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Other prebuilt objects&lt;/h3&gt;
&lt;p&gt;There are several datasets that are included for users to practice and test out functions. You can see all the available datasets by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This shows you the object name for these datasets. These datasets are objects that can be used by simply typing the name. For example, if you type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;co2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;R&lt;/code&gt; will show you Mauna Loa atmospheric &lt;span class=&#34;math inline&#34;&gt;\(CO^2\)&lt;/span&gt; concentration data.&lt;/p&gt;
&lt;p&gt;Other prebuilt objects are mathematical quantities, such as the constant &lt;span class=&#34;math inline&#34;&gt;\(\pi\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\infty\)&lt;/span&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pi&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.141593&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Inf+1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] Inf&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;variable-names&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Variable names&lt;/h3&gt;
&lt;p&gt;We have used the letters &lt;code&gt;a&lt;/code&gt;, &lt;code&gt;b&lt;/code&gt;, and &lt;code&gt;c&lt;/code&gt; as variable names, but variable names can be almost anything. Some basic rules in &lt;code&gt;R&lt;/code&gt; are that variable names have to start with a letter, can’t contain spaces, and should not be variables that are predefined in &lt;code&gt;R&lt;/code&gt;. For example, don’t name one of your variables &lt;code&gt;install.packages&lt;/code&gt; by typing something like &lt;code&gt;install.packages &amp;lt;- 2&lt;/code&gt;. Usually, &lt;code&gt;R&lt;/code&gt; is smart enough to prevent you from doing such nonsense, but it’s important to develop good habits.&lt;/p&gt;
&lt;p&gt;A nice convention to follow is to use meaningful words that describe what is stored, use only lower case, and use underscores as a substitute for spaces. For the quadratic equations, we could use something like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;solution_1 &amp;lt;- (-b + sqrt(b^2 - 4*a*c)) / (2*a)
solution_2 &amp;lt;- (-b - sqrt(b^2 - 4*a*c)) / (2*a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For more advice, we highly recommend studying (Hadley Wickham’s style guide)[&lt;a href=&#34;http://adv-r.had.co.nz/Style.html&#34; class=&#34;uri&#34;&gt;http://adv-r.had.co.nz/Style.html&lt;/a&gt;].&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;saving-your-workspace&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Saving your workspace&lt;/h3&gt;
&lt;p&gt;Values remain in the workspace until you end your session or erase them with the function &lt;code&gt;rm&lt;/code&gt;. But workspaces also can be saved for later use. In fact, when you quit R, the program asks you if you want to save your workspace. If you do save it, the next time you start R, the program will restore the workspace.&lt;/p&gt;
&lt;p&gt;We actually recommend against saving the workspace this way because, as you start working on different projects, it will become harder to keep track of what is saved. Instead, we recommend you assign the workspace a specific name. You can do this by using the function &lt;code&gt;save&lt;/code&gt; or &lt;code&gt;save.image&lt;/code&gt;. To load, use the function &lt;code&gt;load&lt;/code&gt;. When saving a workspace, we recommend the suffix &lt;code&gt;rda&lt;/code&gt; or &lt;code&gt;RData&lt;/code&gt;. In RStudio, you can also do this by navigating to the &lt;em&gt;Session&lt;/em&gt; tab and choosing &lt;em&gt;Save Workspace as&lt;/em&gt;. You can later load it using the &lt;em&gt;Load Workspace&lt;/em&gt; options in the same tab.
You can read the help pages on &lt;code&gt;save&lt;/code&gt;, &lt;code&gt;save.image&lt;/code&gt;, and &lt;code&gt;load&lt;/code&gt; to learn more.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;motivating-scripts&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Motivating scripts&lt;/h3&gt;
&lt;p&gt;To solve another equation such as &lt;span class=&#34;math inline&#34;&gt;\(3x^2 + 2x -1\)&lt;/span&gt;, we can copy and paste the code above and then redefine the variables and recompute the solution:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;a &amp;lt;- 3
b &amp;lt;- 2
c &amp;lt;- -1
(-b + sqrt(b^2 - 4*a*c)) / (2*a)
(-b - sqrt(b^2 - 4*a*c)) / (2*a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By creating and saving a script with the code above, we would not need to retype everything each time and, instead, simply change the variable names. Try writing the script above into an editor and notice how easy it is to change the variables and receive an answer.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;commenting-your-code&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Commenting your code&lt;/h3&gt;
&lt;p&gt;If a line of &lt;code&gt;R&lt;/code&gt; code starts with the symbol &lt;code&gt;#&lt;/code&gt;, it is not evaluated. We can use this to write reminders of why we wrote particular code. For example, in the script above we could add:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## Code to compute solution to quadratic equation of the form ax^2 + bx + c
## define the variables
a &amp;lt;- 3
b &amp;lt;- 2
c &amp;lt;- -1

## now compute the solution
(-b + sqrt(b^2 - 4*a*c)) / (2*a)
(-b - sqrt(b^2 - 4*a*c)) / (2*a)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;What is the sum of the first 100 positive integers? The formula for the sum of integers &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; through &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; is &lt;span class=&#34;math inline&#34;&gt;\(n(n+1)/2\)&lt;/span&gt;. Define &lt;span class=&#34;math inline&#34;&gt;\(n=100\)&lt;/span&gt; and then use &lt;code&gt;R&lt;/code&gt; to compute the sum of &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; through &lt;span class=&#34;math inline&#34;&gt;\(100\)&lt;/span&gt; using the formula. What is the sum?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the same formula to compute the sum of the integers from 1 through 1,000.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Look at the result of typing the following code into R:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n &amp;lt;- 1000
x &amp;lt;- seq(1, n)
sum(x)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Based on the result, what do you think the functions &lt;code&gt;seq&lt;/code&gt; and &lt;code&gt;sum&lt;/code&gt; do? You can use &lt;code&gt;help&lt;/code&gt;.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;sum&lt;/code&gt; creates a list of numbers and &lt;code&gt;seq&lt;/code&gt; adds them up.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;seq&lt;/code&gt; creates a list of numbers and &lt;code&gt;sum&lt;/code&gt; adds them up.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;seq&lt;/code&gt; creates a random list and &lt;code&gt;sum&lt;/code&gt; computes the sum of 1 through 1,000.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sum&lt;/code&gt; always returns the same number.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;In math and programming, we say that we evaluate a function when we replace the argument with a given number. So if we type &lt;code&gt;sqrt(4)&lt;/code&gt;, we evaluate the &lt;code&gt;sqrt&lt;/code&gt; function. In R, you can evaluate a function inside another function. The evaluations happen from the inside out. Use one line of code to compute the log, in base 10, of the square root of 100.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which of the following will always return the numeric value stored in &lt;code&gt;x&lt;/code&gt;? You can try out examples and use the help system if you want.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;&lt;code&gt;log(10^x)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;log10(x^10)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;log(exp(x))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exp(log(x, base = 2))&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;data-types&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Data types&lt;/h2&gt;
&lt;p&gt;Variables in &lt;code&gt;R&lt;/code&gt; can be of different types. For example, we need to distinguish numbers from character strings and tables from simple lists of numbers. The function &lt;code&gt;class&lt;/code&gt; helps us determine what type of object we have:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;a &amp;lt;- 2
class(a)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To work efficiently in R, it is important to learn the different types of variables and what we can do with these.&lt;/p&gt;
&lt;div id=&#34;data-frames&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Data frames&lt;/h3&gt;
&lt;p&gt;Up to now, the variables we have defined are just one number. This is not very useful for storing data. The most common way of storing a dataset in &lt;code&gt;R&lt;/code&gt; is in a &lt;em&gt;data frame&lt;/em&gt;. Conceptually, we can think of a data frame as a table with rows representing observations and the different variables reported for each observation defining the columns. Data frames are particularly useful for datasets because we can combine different data types into one object.&lt;/p&gt;
&lt;p&gt;A large proportion of data analysis challenges start with data stored in a data frame. For example, we stored the data for our motivating example in a data frame. You can access this dataset by loading the &lt;strong&gt;dslabs&lt;/strong&gt; library and loading the &lt;code&gt;murders&lt;/code&gt; dataset using the &lt;code&gt;data&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see that this is in fact a data frame, we type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;data.frame&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;examining-an-object&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examining an object&lt;/h3&gt;
&lt;p&gt;The function &lt;code&gt;str&lt;/code&gt; is useful for finding out more about the structure of an object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;#39;data.frame&amp;#39;:    51 obs. of  5 variables:
## $ state : chr &amp;quot;Alabama&amp;quot; &amp;quot;Alaska&amp;quot; &amp;quot;Arizona&amp;quot; &amp;quot;Arkansas&amp;quot; ...
## $ abb : chr &amp;quot;AL&amp;quot; &amp;quot;AK&amp;quot; &amp;quot;AZ&amp;quot; &amp;quot;AR&amp;quot; ...
## $ region : Factor w/ 4 levels &amp;quot;Northeast&amp;quot;,&amp;quot;South&amp;quot;,..: 2 4 4 2 4 4 1 2 2 2 ...
## $ population: num 4779736 710231 6392017 2915918 37253956 ...
## $ total : num 135 19 232 93 1257 ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This tells us much more about the object. We see that the table has 51 rows (50 states plus DC) and five variables. We can show the first six lines using the function &lt;code&gt;head&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        state abb region population total
## 1    Alabama  AL  South    4779736   135
## 2     Alaska  AK   West     710231    19
## 3    Arizona  AZ   West    6392017   232
## 4   Arkansas  AR  South    2915918    93
## 5 California  CA   West   37253956  1257
## 6   Colorado  CO   West    5029196    65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this dataset, each state is considered an observation and five variables are reported for each state.&lt;/p&gt;
&lt;p&gt;Before we go any further in answering our original question about different states, let’s learn more about the components of this object.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-accessor&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The accessor: &lt;code&gt;$&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;For our analysis, we will need to access the different variables represented by columns included in this data frame. To do this, we use the accessor operator &lt;code&gt;$&lt;/code&gt; in the following way:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$population&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097   897934
##  [9]   601723 19687653  9920000  1360301  1567582 12830632  6483802  3046355
## [17]  2853118  4339367  4533372  1328361  5773552  6547629  9883640  5303925
## [25]  2967297  5988927   989415  1826341  2700551  1316470  8791894  2059179
## [33] 19378102  9535483   672591 11536504  3751351  3831074 12702379  1052567
## [41]  4625364   814180  6346105 25145561  2763885   625741  8001024  6724540
## [49]  1852994  5686986   563626&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But how did we know to use &lt;code&gt;population&lt;/code&gt;? Previously, by applying the function &lt;code&gt;str&lt;/code&gt; to the object &lt;code&gt;murders&lt;/code&gt;, we revealed the names for each of the five variables stored in this table. We can quickly access the variable names using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;names(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;state&amp;quot;      &amp;quot;abb&amp;quot;        &amp;quot;region&amp;quot;     &amp;quot;population&amp;quot; &amp;quot;total&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is important to know that the order of the entries in &lt;code&gt;murders$population&lt;/code&gt; preserves the order of the rows in our data table. This will later permit us to manipulate one variable based on the results of another. For example, we will be able to order the state names by the number of murders.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;: &lt;code&gt;R&lt;/code&gt; comes with a very nice auto-complete functionality that saves us the trouble of typing out all the names. Try typing &lt;code&gt;murders$p&lt;/code&gt; then hitting the &lt;kbd&gt;tab&lt;/kbd&gt; key on your keyboard. This functionality and many other useful auto-complete features are available when working in RStudio.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;vectors-numerics-characters-and-logical&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Vectors: numerics, characters, and logical&lt;/h3&gt;
&lt;p&gt;The object &lt;code&gt;murders$population&lt;/code&gt; is not one number but several. We call these types of objects &lt;em&gt;vectors&lt;/em&gt;. A single number is technically a vector of length 1, but in general we use the term vectors to refer to objects with several entries. The function &lt;code&gt;length&lt;/code&gt; tells you how many entries are in the vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;pop &amp;lt;- murders$population
length(pop)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 51&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This particular vector is &lt;em&gt;numeric&lt;/em&gt; since population sizes are numbers:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(pop)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In a numeric vector, every entry must be a number.&lt;/p&gt;
&lt;p&gt;To store character strings, vectors can also be of class &lt;em&gt;character&lt;/em&gt;. For example, the state names are characters:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(murders$state)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;character&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As with numeric vectors, all entries in a character vector need to be a character.&lt;/p&gt;
&lt;p&gt;Another important type of vectors are &lt;em&gt;logical vectors&lt;/em&gt;. These must be either &lt;code&gt;TRUE&lt;/code&gt; or &lt;code&gt;FALSE&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;z &amp;lt;- 3 == 2
z&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(z)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;logical&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here the &lt;code&gt;==&lt;/code&gt; is a relational operator asking if 3 is equal to 2. In &lt;code&gt;R&lt;/code&gt;, if you just use one &lt;code&gt;=&lt;/code&gt;, you actually assign a variable, but if you use two &lt;code&gt;==&lt;/code&gt; you test for equality. Yet another reason to avoid assigning via &lt;code&gt;=&lt;/code&gt;… it can get confusing and typos can really mess things up.&lt;/p&gt;
&lt;p&gt;You can see the other &lt;em&gt;relational operators&lt;/em&gt; by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;?Comparison&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In future sections, you will see how useful relational operators can be.&lt;/p&gt;
&lt;p&gt;We discuss more important features of vectors after the next set of exercises.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Advanced&lt;/strong&gt;: Mathematically, the values in &lt;code&gt;pop&lt;/code&gt; are integers and there is an integer class in &lt;code&gt;R&lt;/code&gt;. However, by default, numbers are assigned class numeric even when they are round integers. For example, &lt;code&gt;class(1)&lt;/code&gt; returns numeric. You can turn them into class integer with the &lt;code&gt;as.integer()&lt;/code&gt; function or by adding an &lt;code&gt;L&lt;/code&gt; like this: &lt;code&gt;1L&lt;/code&gt;. Note the class by typing: &lt;code&gt;class(1L)&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;factors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Factors&lt;/h3&gt;
&lt;p&gt;In the &lt;code&gt;murders&lt;/code&gt; dataset, we might expect the region to also be a character vector. However, it is not:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(murders$region)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;factor&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is a &lt;em&gt;factor&lt;/em&gt;. Factors are useful for storing categorical data. We can see that there are only 4 regions by using the &lt;code&gt;levels&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;levels(murders$region)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Northeast&amp;quot;     &amp;quot;South&amp;quot;         &amp;quot;North Central&amp;quot; &amp;quot;West&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the background, &lt;code&gt;R&lt;/code&gt; stores these &lt;em&gt;levels&lt;/em&gt; as integers and keeps a map to keep track of the labels. This is more memory efficient than storing all the characters. It is also useful for computational reasons we’ll explore later.&lt;/p&gt;
&lt;p&gt;Note that the levels have an order that is different from the order of appearance in the factor object. The default in &lt;code&gt;R&lt;/code&gt; is for the levels to follow alphabetical order. However, often we want the levels to follow a different order. You can specify an order through the &lt;code&gt;levels&lt;/code&gt; argument when creating the factor with the &lt;code&gt;factor&lt;/code&gt; function. For example, in the murders dataset regions are ordered from east to west. The function &lt;code&gt;reorder&lt;/code&gt; lets us change the order of the levels of a factor variable based on a summary computed on a numeric vector. We will demonstrate this with a simple example, and will see more advanced ones in the Data Visualization part of the book.&lt;/p&gt;
&lt;p&gt;Suppose we want the levels of the region by the total number of murders rather than alphabetical order. If there are values associated with each level, we can use the &lt;code&gt;reorder&lt;/code&gt; and specify a data summary to determine the order. The following code takes the sum of the total murders in each region, and reorders the factor following these sums.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;region &amp;lt;- murders$region
value &amp;lt;- murders$total
region &amp;lt;- reorder(region, value, FUN = sum)
levels(region)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Northeast&amp;quot;     &amp;quot;North Central&amp;quot; &amp;quot;West&amp;quot;          &amp;quot;South&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The new order is in agreement with the fact that the Northeast has the least murders and the South has the most.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;: Factors can be a source of confusion since sometimes they behave like characters and sometimes they do not. As a result, confusing factors and characters are a common source of bugs.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;lists&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Lists&lt;/h3&gt;
&lt;p&gt;Data frames are a special case of &lt;em&gt;lists&lt;/em&gt;. We will cover lists in more detail later, but know that they are useful because you can store any combination of different types. Below is an example of a list we created for you:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;record&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $name
## [1] &amp;quot;John Doe&amp;quot;
## 
## $student_id
## [1] 1234
## 
## $grades
## [1] 95 82 91 97 93
## 
## $final_grade
## [1] &amp;quot;A&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(record)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;list&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As with data frames, you can extract the components of a list with the accessor &lt;code&gt;$&lt;/code&gt;. In fact, data frames are a type of list.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;record$student_id&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1234&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also use double square brackets (&lt;code&gt;[[&lt;/code&gt;) like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;record[[&amp;quot;student_id&amp;quot;]]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1234&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You should get used to the fact that in &lt;code&gt;R&lt;/code&gt; there are often several ways to do the same thing. such as accessing entries.&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You might also encounter lists without variable names.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;record2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
## [1] &amp;quot;John Doe&amp;quot;
## 
## [[2]]
## [1] 1234&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If a list does not have names, you cannot extract the elements with &lt;code&gt;$&lt;/code&gt;, but you can still use the brackets method and instead of providing the variable name, you provide the list index, like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;record2[[1]]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;John Doe&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We won’t be using lists until later, but you might encounter one in your own exploration of &lt;code&gt;R&lt;/code&gt;. For this reason, we show you some basics here.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;matrices&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Matrices&lt;/h3&gt;
&lt;p&gt;Matrices are another type of object that are common in &lt;code&gt;R&lt;/code&gt;. Matrices are similar to data frames in that they are two-dimensional: they have rows and columns. However, like numeric, character and logical vectors, entries in matrices have to be all the same type. For this reason data frames are much more useful for storing data, since we can have characters, factors, and numbers in them.&lt;/p&gt;
&lt;p&gt;Yet matrices have a major advantage over data frames: we can perform matrix algebra operations, a powerful type of mathematical technique. We do not describe these operations in this class, but much of what happens in the background when you perform a data analysis involves matrices. We describe them briefly here since some of the functions we will learn return matrices.&lt;/p&gt;
&lt;p&gt;We can define a matrix using the &lt;code&gt;matrix&lt;/code&gt; function. We need to specify the number of rows and columns.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat &amp;lt;- matrix(1:12, 4, 3)
mat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can access specific entries in a matrix using square brackets (&lt;code&gt;[&lt;/code&gt;). If you want the second row, third column, you use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat[2, 3]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want the entire second row, you leave the column spot empty:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat[2, ]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  2  6 10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that this returns a vector, not a matrix.&lt;/p&gt;
&lt;p&gt;Similarly, if you want the entire third column, you leave the row spot empty:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat[, 3]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  9 10 11 12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is also a vector, not a matrix.&lt;/p&gt;
&lt;p&gt;You can access more than one column or more than one row if you like. This will give you a new matrix.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat[, 2:3]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2]
## [1,]    5    9
## [2,]    6   10
## [3,]    7   11
## [4,]    8   12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can subset both rows and columns:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mat[1:2, 2:3]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1] [,2]
## [1,]    5    9
## [2,]    6   10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can convert matrices into data frames using the function &lt;code&gt;as.data.frame&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.data.frame(mat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   V1 V2 V3
## 1  1  5  9
## 2  2  6 10
## 3  3  7 11
## 4  4  8 12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also use single square brackets (&lt;code&gt;[&lt;/code&gt;) to access rows and columns of a data frame:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;murders&amp;quot;)
murders[25, 1]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Mississippi&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders[2:3, ]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     state abb region population total
## 2  Alaska  AK   West     710231    19
## 3 Arizona  AZ   West    6392017   232&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Load the US murders dataset.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use the function &lt;code&gt;str&lt;/code&gt; to examine the structure of the &lt;code&gt;murders&lt;/code&gt; object. Which of the following best describes the variables represented in this data frame?&lt;/p&gt;
&lt;ol style=&#34;list-style-type: lower-alpha&#34;&gt;
&lt;li&gt;The 51 states.&lt;/li&gt;
&lt;li&gt;The murder rates for all 50 states and DC.&lt;/li&gt;
&lt;li&gt;The state name, the abbreviation of the state name, the state’s region, and the state’s population and total number of murders for 2010.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;str&lt;/code&gt; shows no relevant information.&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;What are the column names used by the data frame for these five variables?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the accessor &lt;code&gt;$&lt;/code&gt; to extract the state abbreviations and assign them to the object &lt;code&gt;a&lt;/code&gt;. What is the class of this object?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the square brackets to extract the state abbreviations and assign them to the object &lt;code&gt;b&lt;/code&gt;. Use the &lt;code&gt;identical&lt;/code&gt; function to determine if &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are the same.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We saw that the &lt;code&gt;region&lt;/code&gt; column stores a factor. You can corroborate this by typing:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(murders$region)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With one line of code, use the function &lt;code&gt;levels&lt;/code&gt; and &lt;code&gt;length&lt;/code&gt; to determine the number of regions defined by this dataset.&lt;/p&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;The function &lt;code&gt;table&lt;/code&gt; takes a vector and returns the frequency of each element. You can quickly see how many states are in each region by applying this function. Use this function in one line of code to create a table of states per region.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;vectors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Vectors&lt;/h2&gt;
&lt;p&gt;In R, the most basic objects available to store data are &lt;em&gt;vectors&lt;/em&gt;. As we have seen, complex datasets can usually be broken down into components that are vectors. For example, in a data frame, each column is a vector. Here we learn more about this important class.&lt;/p&gt;
&lt;div id=&#34;creating-vectors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Creating vectors&lt;/h3&gt;
&lt;p&gt;We can create vectors using the function &lt;code&gt;c&lt;/code&gt;, which stands for &lt;em&gt;concatenate&lt;/em&gt;. We use &lt;code&gt;c&lt;/code&gt; to concatenate entries in the following way:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes &amp;lt;- c(380, 124, 818)
codes&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 380 124 818&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also create character vectors. We use the quotes to denote that the entries are characters rather than variable names.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country &amp;lt;- c(&amp;quot;italy&amp;quot;, &amp;quot;canada&amp;quot;, &amp;quot;egypt&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In &lt;code&gt;R&lt;/code&gt; you can also use single quotes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country &amp;lt;- c(&amp;#39;italy&amp;#39;, &amp;#39;canada&amp;#39;, &amp;#39;egypt&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But be careful not to confuse the single quote ’ with the &lt;em&gt;back quote&lt;/em&gt;, which shares a keyboard key with &lt;kbd&gt;~&lt;/kbd&gt;.&lt;/p&gt;
&lt;p&gt;By now you should know that if you type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country &amp;lt;- c(italy, canada, egypt)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;you receive an error because the variables &lt;code&gt;italy&lt;/code&gt;, &lt;code&gt;canada&lt;/code&gt;, and &lt;code&gt;egypt&lt;/code&gt; are not defined. If we do not use the quotes, &lt;code&gt;R&lt;/code&gt; looks for variables with those names and returns an error.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;names&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Names&lt;/h3&gt;
&lt;p&gt;Sometimes it is useful to name the entries of a vector. For example, when defining a vector of country codes, we can use the names to connect the two:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes &amp;lt;- c(italy = 380, canada = 124, egypt = 818)
codes&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  italy canada  egypt 
##    380    124    818&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The object &lt;code&gt;codes&lt;/code&gt; continues to be a numeric vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(codes)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but with names:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;names(codes)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;italy&amp;quot;  &amp;quot;canada&amp;quot; &amp;quot;egypt&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the use of strings without quotes looks confusing, know that you can use the quotes as well:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes &amp;lt;- c(&amp;quot;italy&amp;quot; = 380, &amp;quot;canada&amp;quot; = 124, &amp;quot;egypt&amp;quot; = 818)
codes&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  italy canada  egypt 
##    380    124    818&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is no difference between this function call and the previous one. This is one of the many ways in which &lt;code&gt;R&lt;/code&gt; is quirky compared to other languages.&lt;/p&gt;
&lt;p&gt;We can also assign names using the &lt;code&gt;names&lt;/code&gt; functions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes &amp;lt;- c(380, 124, 818)
country &amp;lt;- c(&amp;quot;italy&amp;quot;,&amp;quot;canada&amp;quot;,&amp;quot;egypt&amp;quot;)
names(codes) &amp;lt;- country
codes&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  italy canada  egypt 
##    380    124    818&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;sequences&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Sequences&lt;/h3&gt;
&lt;p&gt;Another useful function for creating vectors generates sequences:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;seq(1, 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  1  2  3  4  5  6  7  8  9 10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first argument defines the start, and the second defines the end which is included. The default is to go up in increments of 1, but a third argument lets us tell it how much to jump by:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;seq(1, 10, 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1 3 5 7 9&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we want consecutive integers, we can use the following shorthand:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1:10&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  1  2  3  4  5  6  7  8  9 10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When we use these functions, &lt;code&gt;R&lt;/code&gt; produces integers, not numerics, because they are typically used to index something:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(1:10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;integer&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, if we create a sequence including non-integers, the class changes:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(seq(1, 10, 0.5))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;numeric&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;subsetting&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Subsetting&lt;/h3&gt;
&lt;p&gt;We use square brackets to access specific elements of a vector. For the vector &lt;code&gt;codes&lt;/code&gt; we defined above, we can access the second element using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes[2]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## canada 
##    124&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can get more than one entry by using a multi-entry vector as an index:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes[c(1,3)]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## italy egypt 
##   380   818&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The sequences defined above are particularly useful if we want to access, say, the first two elements:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes[1:2]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  italy canada 
##    380    124&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the elements have names, we can also access the entries using these names. Below are two examples.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes[&amp;quot;canada&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## canada 
##    124&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;codes[c(&amp;quot;egypt&amp;quot;,&amp;quot;italy&amp;quot;)]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## egypt italy 
##   818   380&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;coercion&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Coercion&lt;/h2&gt;
&lt;p&gt;In general, &lt;em&gt;coercion&lt;/em&gt; is an attempt by &lt;code&gt;R&lt;/code&gt; to be flexible with data types. When an entry does not match the expected, some of the prebuilt &lt;code&gt;R&lt;/code&gt; functions try to guess what was meant before throwing an error. This can also lead to confusion. Failing to understand &lt;em&gt;coercion&lt;/em&gt; can drive programmers crazy when attempting to code in &lt;code&gt;R&lt;/code&gt; since it behaves quite differently from most other languages in this regard. Let’s learn about it with some examples.&lt;/p&gt;
&lt;p&gt;We said that vectors must be all of the same type. So if we try to combine, say, numbers and characters, you might expect an error:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(1, &amp;quot;canada&amp;quot;, 3)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But we don’t get one, not even a warning! What happened? Look at &lt;code&gt;x&lt;/code&gt; and its class:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1&amp;quot;      &amp;quot;canada&amp;quot; &amp;quot;3&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;class(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;character&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;R &lt;em&gt;coerced&lt;/em&gt; the data into characters. It guessed that because you put a character string in the vector, you meant the 1 and 3 to actually be character strings &lt;code&gt;&#34;1&#34;&lt;/code&gt; and “&lt;code&gt;3&lt;/code&gt;”. The fact that not even a warning is issued is an example of how coercion can cause many unnoticed errors in &lt;code&gt;R&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;R also offers functions to change from one type to another. For example, you can turn numbers into characters with:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- 1:5
y &amp;lt;- as.character(x)
y&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1&amp;quot; &amp;quot;2&amp;quot; &amp;quot;3&amp;quot; &amp;quot;4&amp;quot; &amp;quot;5&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can turn it back with &lt;code&gt;as.numeric&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.numeric(y)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1 2 3 4 5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function is actually quite useful since datasets that include numbers as character strings are common.&lt;/p&gt;
&lt;div id=&#34;not-availables-na&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Not availables (NA)&lt;/h3&gt;
&lt;p&gt;This “topic” seems to be wholly unappreciated and it has been our experience that students often panic when encountering an &lt;code&gt;NA&lt;/code&gt;. This often happens when a function tries to coerce one type to another and encounters an impossible case. In such circumstances, &lt;code&gt;R&lt;/code&gt; usually gives us a warning and turns the entry into a special value called an &lt;code&gt;NA&lt;/code&gt; (for “not available”). For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(&amp;quot;1&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;3&amp;quot;)
as.numeric(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: NAs introduced by coercion&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  1 NA  3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;R does not have any guesses for what number you want when you type &lt;code&gt;b&lt;/code&gt;, so it does not try.&lt;/p&gt;
&lt;p&gt;While coercion is a common case leading to &lt;code&gt;NA&lt;/code&gt;s, you’ll see them in nearly every real-world dataset. Most often, you will encounter the &lt;code&gt;NA&lt;/code&gt;s as a stand-in for missing data. Again, this a common problem in real-world datasets and you need to be aware that it will come up.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;sorting&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Sorting&lt;/h2&gt;
&lt;p&gt;Now that we have mastered some basic &lt;code&gt;R&lt;/code&gt; knowledge (ha!), let’s try to gain some insights into the safety of different states in the context of gun murders.&lt;/p&gt;
&lt;div id=&#34;sort&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;sort&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Say we want to rank the states from least to most gun murders. The function &lt;code&gt;sort&lt;/code&gt; sorts a vector in increasing order. We can therefore see the largest number of gun murders by typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)
sort(murders$total)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]    2    4    5    5    7    8   11   12   12   16   19   21   22   27   32
## [16]   36   38   53   63   65   67   84   93   93   97   97   99  111  116  118
## [31]  120  135  142  207  219  232  246  250  286  293  310  321  351  364  376
## [46]  413  457  517  669  805 1257&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, this does not give us information about which states have which murder totals. For example, we don’t know which state had 1257.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;order&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;order&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The function &lt;code&gt;order&lt;/code&gt; is closer to what we want. It takes a vector as input and returns the vector of indexes that sorts the input vector. This may sound confusing so let’s look at a simple example. We can create a vector and sort it:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(31, 4, 15, 92, 65)
sort(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  4 15 31 65 92&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Rather than sort the input vector, the function &lt;code&gt;order&lt;/code&gt; returns the index that sorts input vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;index &amp;lt;- order(x)
x[index]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  4 15 31 65 92&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is the same output as that returned by &lt;code&gt;sort(x)&lt;/code&gt;. If we look at this index, we see why it works:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 31  4 15 92 65&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;order(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2 3 1 5 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The second entry of &lt;code&gt;x&lt;/code&gt; is the smallest, so &lt;code&gt;order(x)&lt;/code&gt; starts with &lt;code&gt;2&lt;/code&gt;. The next smallest is the third entry, so the second entry is &lt;code&gt;3&lt;/code&gt; and so on.&lt;/p&gt;
&lt;p&gt;How does this help us order the states by murders? First, remember that the entries of vectors you access with &lt;code&gt;$&lt;/code&gt; follow the same order as the rows in the table. For example, these two vectors containing state names and abbreviations, respectively, are matched by their order:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$state[1:6]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Alabama&amp;quot;    &amp;quot;Alaska&amp;quot;     &amp;quot;Arizona&amp;quot;    &amp;quot;Arkansas&amp;quot;   &amp;quot;California&amp;quot;
## [6] &amp;quot;Colorado&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$abb[1:6]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;AL&amp;quot; &amp;quot;AK&amp;quot; &amp;quot;AZ&amp;quot; &amp;quot;AR&amp;quot; &amp;quot;CA&amp;quot; &amp;quot;CO&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This means we can order the state names by their total murders. We first obtain the index that orders the vectors according to murder totals and then index the state names vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- order(murders$total)
murders$abb[ind]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;VT&amp;quot; &amp;quot;ND&amp;quot; &amp;quot;NH&amp;quot; &amp;quot;WY&amp;quot; &amp;quot;HI&amp;quot; &amp;quot;SD&amp;quot; &amp;quot;ME&amp;quot; &amp;quot;ID&amp;quot; &amp;quot;MT&amp;quot; &amp;quot;RI&amp;quot; &amp;quot;AK&amp;quot; &amp;quot;IA&amp;quot; &amp;quot;UT&amp;quot; &amp;quot;WV&amp;quot; &amp;quot;NE&amp;quot;
## [16] &amp;quot;OR&amp;quot; &amp;quot;DE&amp;quot; &amp;quot;MN&amp;quot; &amp;quot;KS&amp;quot; &amp;quot;CO&amp;quot; &amp;quot;NM&amp;quot; &amp;quot;NV&amp;quot; &amp;quot;AR&amp;quot; &amp;quot;WA&amp;quot; &amp;quot;CT&amp;quot; &amp;quot;WI&amp;quot; &amp;quot;DC&amp;quot; &amp;quot;OK&amp;quot; &amp;quot;KY&amp;quot; &amp;quot;MA&amp;quot;
## [31] &amp;quot;MS&amp;quot; &amp;quot;AL&amp;quot; &amp;quot;IN&amp;quot; &amp;quot;SC&amp;quot; &amp;quot;TN&amp;quot; &amp;quot;AZ&amp;quot; &amp;quot;NJ&amp;quot; &amp;quot;VA&amp;quot; &amp;quot;NC&amp;quot; &amp;quot;MD&amp;quot; &amp;quot;OH&amp;quot; &amp;quot;MO&amp;quot; &amp;quot;LA&amp;quot; &amp;quot;IL&amp;quot; &amp;quot;GA&amp;quot;
## [46] &amp;quot;MI&amp;quot; &amp;quot;PA&amp;quot; &amp;quot;NY&amp;quot; &amp;quot;FL&amp;quot; &amp;quot;TX&amp;quot; &amp;quot;CA&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;According to the above, California had the most murders.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;max-and-which.max&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;max&lt;/code&gt; and &lt;code&gt;which.max&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If we are only interested in the entry with the largest value, we can use &lt;code&gt;max&lt;/code&gt; for the value:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;max(murders$total)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1257&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and &lt;code&gt;which.max&lt;/code&gt; for the index of the largest value:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;i_max &amp;lt;- which.max(murders$total)
murders$state[i_max]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;California&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the minimum, we can use &lt;code&gt;min&lt;/code&gt; and &lt;code&gt;which.min&lt;/code&gt; in the same way.&lt;/p&gt;
&lt;p&gt;Does this mean California is the most dangerous state? In an upcoming section, we argue that we should be considering rates instead of totals. Before doing that, we introduce one last order-related function: &lt;code&gt;rank&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;rank&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;rank&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Although not as frequently used as &lt;code&gt;order&lt;/code&gt; and &lt;code&gt;sort&lt;/code&gt;, the function &lt;code&gt;rank&lt;/code&gt; is also related to order and can be useful.
For any given vector it returns a vector with the rank of the first entry, second entry, etc., of the input vector. Here is a simple example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(31, 4, 15, 92, 65)
rank(x)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3 1 2 5 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To summarize, let’s look at the results of the three functions we have introduced:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Registered S3 method overwritten by &amp;#39;webshot&amp;#39;:
##   method        from    
##   print.webshot webshot2&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
original
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sort
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
order
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
rank
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
92
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
65
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
65
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
92
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
4
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;beware-of-recycling&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Beware of recycling&lt;/h3&gt;
&lt;p&gt;Another common source of unnoticed errors in &lt;code&gt;R&lt;/code&gt; is the use of &lt;em&gt;recycling&lt;/em&gt;. We saw that vectors are added elementwise. So if the vectors don’t match in length, it is natural to assume that we should get an error. But we don’t. Notice what happens:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(1,2,3)
y &amp;lt;- c(10, 20, 30, 40, 50, 60, 70)
x+y&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in x + y: longer object length is not a multiple of shorter object
## length&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 11 22 33 41 52 63 71&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We do get a warning, but no error. For the output, &lt;code&gt;R&lt;/code&gt; has recycled the numbers in &lt;code&gt;x&lt;/code&gt;. Notice the last digit of numbers in the output.&lt;/p&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For these exercises we will use the US murders dataset. Make sure you load it prior to starting.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;murders&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Use the &lt;code&gt;$&lt;/code&gt; operator to access the population size data and store it as the object &lt;code&gt;pop&lt;/code&gt;. Then use the &lt;code&gt;sort&lt;/code&gt; function to redefine &lt;code&gt;pop&lt;/code&gt; so that it is sorted. Finally, use the &lt;code&gt;[&lt;/code&gt; operator to report the smallest population size.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now instead of the smallest population size, find the index of the entry with the smallest population size. Hint: use &lt;code&gt;order&lt;/code&gt; instead of &lt;code&gt;sort&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can actually perform the same operation as in the previous exercise using the function &lt;code&gt;which.min&lt;/code&gt;. Write one line of code that does this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now we know how small the smallest state is and we know which row represents it. Which state is it? Define a variable &lt;code&gt;states&lt;/code&gt; to be the state names from the &lt;code&gt;murders&lt;/code&gt; data frame. Report the name of the state with the smallest population.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;You can create a data frame using the &lt;code&gt;data.frame&lt;/code&gt; function. Here is a quick example:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;temp &amp;lt;- c(35, 88, 42, 84, 81, 30)
city &amp;lt;- c(&amp;quot;Beijing&amp;quot;, &amp;quot;Lagos&amp;quot;, &amp;quot;Paris&amp;quot;, &amp;quot;Rio de Janeiro&amp;quot;,
          &amp;quot;San Juan&amp;quot;, &amp;quot;Toronto&amp;quot;)
city_temps &amp;lt;- data.frame(name = city, temperature = temp)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use the &lt;code&gt;rank&lt;/code&gt; function to determine the population rank of each state from smallest population size to biggest. Save these ranks in an object called &lt;code&gt;ranks&lt;/code&gt;, then create a data frame with the state name and its rank. Call the data frame &lt;code&gt;my_df&lt;/code&gt;.&lt;/p&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Repeat the previous exercise, but this time order &lt;code&gt;my_df&lt;/code&gt; so that the states are ordered from least populous to most populous. Hint: create an object &lt;code&gt;ind&lt;/code&gt; that stores the indexes needed to order the population values. Then use the bracket operator &lt;code&gt;[&lt;/code&gt; to re-order each column in the data frame.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;code&gt;na_example&lt;/code&gt; vector represents a series of counts. You can quickly examine the object using:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(&amp;quot;na_example&amp;quot;)
str(na_example)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  int [1:1000] 2 1 3 2 1 3 1 4 3 2 ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, when we compute the average with the function &lt;code&gt;mean&lt;/code&gt;, we obtain an &lt;code&gt;NA&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(na_example)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;is.na&lt;/code&gt; function returns a logical vector that tells us which entries are &lt;code&gt;NA&lt;/code&gt;. Assign this logical vector to an object called &lt;code&gt;ind&lt;/code&gt; and determine how many &lt;code&gt;NA&lt;/code&gt;s does &lt;code&gt;na_example&lt;/code&gt; have.&lt;/p&gt;
&lt;ol start=&#34;8&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Now compute the average again, but only for the entries that are not &lt;code&gt;NA&lt;/code&gt;. Hint: remember the &lt;code&gt;!&lt;/code&gt; operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;vector-arithmetics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Vector arithmetics&lt;/h2&gt;
&lt;p&gt;California had the most murders, but does this mean it is the most dangerous state? What if it just has many more people than any other state? We can quickly confirm that California indeed has the largest population:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;murders&amp;quot;)
murders$state[which.max(murders$population)]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;California&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with over 37 million inhabitants. It is therefore unfair to compare the totals if we are interested in learning how safe the state is. What we really should be computing is the murders per capita. The reports we describe in the motivating section used murders per 100,000 as the unit. To compute this quantity, the powerful vector arithmetic capabilities of &lt;code&gt;R&lt;/code&gt; come in handy.&lt;/p&gt;
&lt;div id=&#34;rescaling-a-vector&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Rescaling a vector&lt;/h3&gt;
&lt;p&gt;In R, arithmetic operations on vectors occur &lt;em&gt;element-wise&lt;/em&gt;. For a quick example, suppose we have height in inches:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;inches &amp;lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and want to convert to centimeters. Notice what happens when we multiply &lt;code&gt;inches&lt;/code&gt; by 2.54:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;inches * 2.54&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] 175.26 157.48 167.64 177.80 177.80 185.42 170.18 185.42 170.18 177.80&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the line above, we multiplied each element by 2.54. Similarly, if for each entry we want to compute how many inches taller or shorter than 69 inches, the average height for males, we can subtract it from every entry like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;inches - 69&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  0 -7 -3  1  1  4 -2  4 -2  1&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;two-vectors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two vectors&lt;/h3&gt;
&lt;p&gt;If we have two vectors of the same length, and we sum them in R, they will be added entry by entry as follows:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{pmatrix}
a\\
b\\
c\\
d
\end{pmatrix}
+
\begin{pmatrix}
e\\
f\\
g\\
h
\end{pmatrix}
=
\begin{pmatrix}
a +e\\
b + f\\
c + g\\
d + h
\end{pmatrix}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The same holds for other mathematical operations, such as &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;*&lt;/code&gt; and &lt;code&gt;/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This implies that to compute the murder rates we can simply type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murder_rate &amp;lt;- murders$total / murders$population * 100000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once we do this, we notice that California is no longer near the top of the list. In fact, we can use what we have learned to order the states by murder rate:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$abb[order(murder_rate)]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;VT&amp;quot; &amp;quot;NH&amp;quot; &amp;quot;HI&amp;quot; &amp;quot;ND&amp;quot; &amp;quot;IA&amp;quot; &amp;quot;ID&amp;quot; &amp;quot;UT&amp;quot; &amp;quot;ME&amp;quot; &amp;quot;WY&amp;quot; &amp;quot;OR&amp;quot; &amp;quot;SD&amp;quot; &amp;quot;MN&amp;quot; &amp;quot;MT&amp;quot; &amp;quot;CO&amp;quot; &amp;quot;WA&amp;quot;
## [16] &amp;quot;WV&amp;quot; &amp;quot;RI&amp;quot; &amp;quot;WI&amp;quot; &amp;quot;NE&amp;quot; &amp;quot;MA&amp;quot; &amp;quot;IN&amp;quot; &amp;quot;KS&amp;quot; &amp;quot;NY&amp;quot; &amp;quot;KY&amp;quot; &amp;quot;AK&amp;quot; &amp;quot;OH&amp;quot; &amp;quot;CT&amp;quot; &amp;quot;NJ&amp;quot; &amp;quot;AL&amp;quot; &amp;quot;IL&amp;quot;
## [31] &amp;quot;OK&amp;quot; &amp;quot;NC&amp;quot; &amp;quot;NV&amp;quot; &amp;quot;VA&amp;quot; &amp;quot;AR&amp;quot; &amp;quot;TX&amp;quot; &amp;quot;NM&amp;quot; &amp;quot;CA&amp;quot; &amp;quot;FL&amp;quot; &amp;quot;TN&amp;quot; &amp;quot;PA&amp;quot; &amp;quot;AZ&amp;quot; &amp;quot;GA&amp;quot; &amp;quot;MS&amp;quot; &amp;quot;MI&amp;quot;
## [46] &amp;quot;DE&amp;quot; &amp;quot;SC&amp;quot; &amp;quot;MD&amp;quot; &amp;quot;MO&amp;quot; &amp;quot;LA&amp;quot; &amp;quot;DC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;TRY IT&lt;/strong&gt;&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Previously we created this data frame:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;temp &amp;lt;- c(35, 88, 42, 84, 81, 30)
city &amp;lt;- c(&amp;quot;Beijing&amp;quot;, &amp;quot;Lagos&amp;quot;, &amp;quot;Paris&amp;quot;, &amp;quot;Rio de Janeiro&amp;quot;,
          &amp;quot;San Juan&amp;quot;, &amp;quot;Toronto&amp;quot;)
city_temps &amp;lt;- data.frame(name = city, temperature = temp)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remake the data frame using the code above, but add a line that converts the temperature from Fahrenheit to Celsius. The conversion is &lt;span class=&#34;math inline&#34;&gt;\(C = \frac{5}{9} \times (F - 32)\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Write code to compute the following sum &lt;span class=&#34;math inline&#34;&gt;\(1+1/2^2 + 1/3^2 + \dots 1/100^2\)&lt;/span&gt;? &lt;em&gt;Hint:&lt;/em&gt; thanks to Euler, we know it should be close to &lt;span class=&#34;math inline&#34;&gt;\(\pi^2/6\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compute the per 100,000 murder rate for each state and store it in the object &lt;code&gt;murder_rate&lt;/code&gt;. Then compute the average murder rate for the US using the function &lt;code&gt;mean&lt;/code&gt;. What is the average?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;indexing&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Indexing&lt;/h2&gt;
&lt;p&gt;Indexing is a boring name for an important tool. &lt;code&gt;R&lt;/code&gt; provides a powerful and convenient way of referencing specific elements of vectors. We can, for example, subset a vector based on properties of another vector. In this section, we continue working with our US murders example, which we can load like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(&amp;quot;murders&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;subsetting-with-logicals&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Subsetting with logicals&lt;/h3&gt;
&lt;p&gt;We have now calculated the murder rate using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murder_rate &amp;lt;- murders$total / murders$population * 100000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Imagine you are moving from Italy where, according to an ABC news report, the murder rate is only 0.71 per 100,000. You would prefer to move to a state with a similar murder rate. Another powerful feature of &lt;code&gt;R&lt;/code&gt; is that we can use logicals to index vectors. If we compare a vector to a single number, it actually performs the test for each entry. The following is an example related to the question above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- murder_rate &amp;lt; 0.71&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we instead want to know if a value is less or equal, we can use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- murder_rate &amp;lt;= 0.71&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we get back a logical vector with &lt;code&gt;TRUE&lt;/code&gt; for each entry smaller than or equal to 0.71. To see which states these are, we can leverage the fact that vectors can be indexed with logicals.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murders$state[ind]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Hawaii&amp;quot;        &amp;quot;Iowa&amp;quot;          &amp;quot;New Hampshire&amp;quot; &amp;quot;North Dakota&amp;quot; 
## [5] &amp;quot;Vermont&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In order to count how many are TRUE, the function &lt;code&gt;sum&lt;/code&gt; returns the sum of the entries of a vector and logical vectors get &lt;em&gt;coerced&lt;/em&gt; to numeric with &lt;code&gt;TRUE&lt;/code&gt; coded as 1 and &lt;code&gt;FALSE&lt;/code&gt; as 0. Thus we can count the states using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum(ind)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 5&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;logical-operators&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Logical operators&lt;/h3&gt;
&lt;p&gt;Suppose we like the mountains and we want to move to a safe state in the western region of the country. We want the murder rate to be at most 1. In this case, we want two different things to be true. Here we can use the logical operator &lt;em&gt;and&lt;/em&gt;, which in &lt;code&gt;R&lt;/code&gt; is represented with &lt;code&gt;&amp;amp;&lt;/code&gt;. This operation results in &lt;code&gt;TRUE&lt;/code&gt; only when both logicals are &lt;code&gt;TRUE&lt;/code&gt;. To see this, consider this example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;TRUE &amp;amp; TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;TRUE &amp;amp; FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;FALSE &amp;amp; FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For our example, we can form two logicals:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;west &amp;lt;- murders$region == &amp;quot;West&amp;quot;
safe &amp;lt;- murder_rate &amp;lt;= 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we can use the &lt;code&gt;&amp;amp;&lt;/code&gt; to get a vector of logicals that tells us which states satisfy both conditions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- safe &amp;amp; west
murders$state[ind]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Hawaii&amp;quot;  &amp;quot;Idaho&amp;quot;   &amp;quot;Oregon&amp;quot;  &amp;quot;Utah&amp;quot;    &amp;quot;Wyoming&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;which&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;which&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Suppose we want to look up California’s murder rate. For this type of operation, it is convenient to convert vectors of logicals into indexes instead of keeping long vectors of logicals. The function &lt;code&gt;which&lt;/code&gt; tells us which entries of a logical vector are TRUE. So we can type:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- which(murders$state == &amp;quot;California&amp;quot;)
murder_rate[ind]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3.374138&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;match&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;match&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If instead of just one state we want to find out the murder rates for several states, say New York, Florida, and Texas, we can use the function &lt;code&gt;match&lt;/code&gt;. This function tells us which indexes of a second vector match each of the entries of a first vector:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ind &amp;lt;- match(c(&amp;quot;New York&amp;quot;, &amp;quot;Florida&amp;quot;, &amp;quot;Texas&amp;quot;), murders$state)
ind&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 33 10 44&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can look at the murder rates:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;murder_rate[ind]&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2.667960 3.398069 3.201360&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;in&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;%in%&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If rather than an index we want a logical that tells us whether or not each element of a first vector is in a second, we can use the function &lt;code&gt;%in%&lt;/code&gt;. Let’s imagine you are not sure if Boston, Dakota, and Washington are states. You can find out like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;c(&amp;quot;Boston&amp;quot;, &amp;quot;Dakota&amp;quot;, &amp;quot;Washington&amp;quot;) %in% murders$state&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] FALSE FALSE  TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we will be using &lt;code&gt;%in%&lt;/code&gt; often throughout the book.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Advanced&lt;/strong&gt;: There is a connection between &lt;code&gt;match&lt;/code&gt; and &lt;code&gt;%in%&lt;/code&gt; through &lt;code&gt;which&lt;/code&gt;. To see this, notice that the following two lines produce the same index (although in different order):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;match(c(&amp;quot;New York&amp;quot;, &amp;quot;Florida&amp;quot;, &amp;quot;Texas&amp;quot;), murders$state)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 33 10 44&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;which(murders$state%in%c(&amp;quot;New York&amp;quot;, &amp;quot;Florida&amp;quot;, &amp;quot;Texas&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 10 33 44&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;&lt;strong&gt;EXERCISES&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Start by loading the library and data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dslabs)
data(murders)&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Compute the per 100,000 murder rate for each state and store it in an object called &lt;code&gt;murder_rate&lt;/code&gt;. Then use logical operators to create a logical vector named &lt;code&gt;low&lt;/code&gt; that tells us which entries of &lt;code&gt;murder_rate&lt;/code&gt; are lower than 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now use the results from the previous exercise and the function &lt;code&gt;which&lt;/code&gt; to determine the indices of &lt;code&gt;murder_rate&lt;/code&gt; associated with values lower than 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the results from the previous exercise to report the names of the states with murder rates lower than 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now extend the code from exercises 2 and 3 to report the states in the Northeast with murder rates lower than 1. Hint: use the previously defined logical vector &lt;code&gt;low&lt;/code&gt; and the logical operator &lt;code&gt;&amp;amp;&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In a previous exercise we computed the murder rate for each state and the average of these numbers. How many states are below the average?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the match function to identify the states with abbreviations AK, MI, and IA. Hint: start by defining an index of the entries of &lt;code&gt;murders$abb&lt;/code&gt; that match the three abbreviations, then use the &lt;code&gt;[&lt;/code&gt; operator to extract the states.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use the &lt;code&gt;%in%&lt;/code&gt; operator to create a logical vector that answers the question: which of the following are actual abbreviations: MA, ME, MI, MO, MU?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extend the code you used in exercise 7 to report the one entry that is &lt;strong&gt;not&lt;/strong&gt; an actual abbreviation. Hint: use the &lt;code&gt;!&lt;/code&gt; operator, which turns &lt;code&gt;FALSE&lt;/code&gt; into &lt;code&gt;TRUE&lt;/code&gt; and vice versa, then &lt;code&gt;which&lt;/code&gt; to obtain an index.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;videos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Videos&lt;/h2&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/AIbvhxZKOl4&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://rstudio.cloud&#34; class=&#34;uri&#34;&gt;https://rstudio.cloud&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://rafalab.github.io/dsbook/installing-r-rstudio.html&#34; class=&#34;uri&#34;&gt;https://rafalab.github.io/dsbook/installing-r-rstudio.html&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/&#34; class=&#34;uri&#34;&gt;http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;I’m especially partial to Puerto Rico.&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;This is, without a doubt, my least favorite aspect of &lt;code&gt;R&lt;/code&gt;. I’d even venture to call it stupid. The logic behind this pesky &lt;code&gt;&amp;lt;-&lt;/code&gt; is a total mystery to me, but there &lt;em&gt;is&lt;/em&gt; logic to avoiding &lt;code&gt;=&lt;/code&gt;. But, you do you.&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;This equals sign is the reasons we assign values with &lt;code&gt;&amp;lt;-&lt;/code&gt;; then when arguments of a function are assigned values, we don’t end up with multiple equals signs. But… who cares.&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;Whether you view this as a feature or a bug is a good indicator whether you’ll enjoy working with &lt;code&gt;R&lt;/code&gt;.&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
